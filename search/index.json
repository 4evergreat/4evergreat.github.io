[{"content":"æœ¬åœ°æ­å»ºhugoç½‘ç«™ 1.åˆå§‹åŒ–hugo 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 hugo new site åšå®¢è·¯å¾„ // cd åšå®¢è·¯å¾„ //åšå®¢è·¯å¾„æ–‡ä»¶å¤¹çš„ç»“æ„å¦‚ä¸‹ myblog/ â”œâ”€â”€ archetypes/ â”‚ â””â”€â”€ default.md â”œâ”€â”€ assets/ â”œâ”€â”€ public/ \u0026lt;-- æ­¥éª¤3åç”Ÿæˆçš„æ–‡ä»¶å¤¹ï¼Œé‡Œé¢å­˜æ”¾å¯¹å¤–å±•ç¤ºçš„é™æ€åšå®¢ç½‘é¡µ â”œâ”€â”€ content/ â”œâ”€â”€ data/ â”œâ”€â”€ i18n/ â”œâ”€â”€ layouts/ â”œâ”€â”€ static/ â”œâ”€â”€ themes/ \u0026lt;-- ä¸»é¢˜ â””â”€â”€ hugo.toml \u0026lt;-- ç½‘ç«™å‚æ•° 2. é…ç½®ä¸»é¢˜themes æ–¹å¼ä¸€ï¼š git\n1 2 cd themes/ git clone https://github.com/author/theme-name.git themes/theme-name æ–¹å¼äºŒï¼š ä¸‹è½½åŒ…æ‰‹åŠ¨è§£å‹\næŠŠä¸»é¢˜çš„åŒ…å‹åˆ°themes/æ–‡ä»¶å¤¹ä¸‹ï¼Œä¹‹åå¯¹hugo.tomlæ–‡ä»¶è¿›è¡Œä¸€ç‚¹è¿‡çš„ä¿®æ”¹ã€‚ä¸ªäººæ¨èstackä¸»é¢˜ã€‚\nä¿®æ”¹ hugo.tomlæ–‡ä»¶\n1 2 theme = \u0026#34;my-theme\u0026#34; // my-themeæ˜¯ä½ ä¸‹è½½çš„themeçš„ä¸»é¢˜åï¼Œè¦å’Œä½ è§£å‹çš„æ–‡ä»¶åä¸€è‡´ 3.ç”Ÿæˆç½‘ç«™å’Œç¬¬ä¸€ç¯‡åšå®¢ 1 2 3 4 5 6 cd myblog/ --\u0026gt;åšå®¢è·¯å¾„ # æ‰“å¼€cmdè¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼š hugo #ä¹‹ååšå®¢æ–‡ä»¶è·¯å¾„ä¼šäº§ç”Ÿä¸€ä¸ªpublic/æ–‡ä»¶å¤¹ï¼Œé‡Œé¢ä¿å­˜ç”Ÿæˆçš„é™æ€é¡µé¢ã€‚ # ç”Ÿæˆä¸€ç¯‡ .md åšå®¢ hugo new content_type/content_name.md ä¸Šè¿°æ­¥éª¤åä¼šåœ¨\\myblog\\content\\content_type\\ æ–‡ä»¶å¤¹ä¸­ç”Ÿæˆ æˆ‘ä»¬çš„ç¬¬ä¸€ç¯‡åšå®¢ content_name.mdï¼Œ åšå®¢å†…å®¹åœ¨æ–‡ä»¶ content_name.md ä¸­ç¼–è¾‘å³å¯ã€‚\n4.æœ¬åœ°æµè§ˆå™¨é¢„è§ˆç½‘é¡µ 1 2 3 hugo server # æ‰“å¼€ä»¥ä¸‹ç½‘é¡µé¢„è§ˆ http://localhost:1313 5.æ”¾åœ¨æœ€åï¼ 5.1é…ç½®hugo.toml ä¸‹è½½å¥½ä¸»é¢˜åï¼Œä¸»é¢˜çš„ exampleSite ç›®å½•ä¸€èˆ¬ä¼šæœ‰ä¸€ä¸ª config.toml é…ç½®æ–‡ä»¶ï¼Œæ ¹æ®æ³¨é‡Šåšä¸€äº›åŸºæœ¬çš„ä¿®æ”¹ï¼Œå†å¤åˆ¶åˆ°ä½ çš„æ ¹ç›®å½•ä¸‹çš„ config.tmol æ–‡ä»¶ã€‚åšå®¢åŸæ–‡è¿™ä¸ªåšå®¢ç›´æ¥ç»™å‡ºä¿®æ”¹åçš„ config æ–‡ä»¶ï¼Œå¯ä»¥æ‹¿æ¥å­¦ä¹ é…ç½®çš„æ³¨é‡Šã€‚æ³¨æ„åˆ°è¿™ä¸ªåšå®¢ç”¨çš„æ˜¯LoveItä¸»é¢˜ï¼Œè€Œæˆ‘å»ºç«™ä½¿ç”¨çš„æ˜¯stackä¸»é¢˜ï¼Œæ‰€ä»¥åç»­ä¸ªæ€§åŒ–æˆ‘çš„åšå®¢åï¼Œæˆ‘ä¼šåœ¨åé¢è´´å‡ºæˆ‘çš„é…ç½®ä»¥ä¾›å‚è€ƒã€‚æŒç»­æ›´æ–°ä¸­\u0026hellip;\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 170 171 172 173 174 175 176 177 178 179 180 181 182 183 184 185 186 187 188 189 190 191 192 193 194 195 196 197 198 199 200 201 202 203 204 205 206 207 208 209 210 211 212 213 214 215 216 217 218 219 220 221 222 223 224 225 226 227 228 229 230 231 232 233 234 235 236 237 238 239 240 241 242 243 244 245 246 247 248 249 250 251 252 253 254 255 256 257 258 259 260 261 262 263 264 265 266 267 268 269 270 271 272 273 274 275 276 277 278 279 280 281 282 283 284 285 286 287 288 289 290 291 292 293 294 295 296 297 298 299 300 301 302 303 304 305 306 307 308 309 310 311 312 313 314 315 316 317 318 319 320 321 322 323 324 325 326 327 328 329 330 331 332 333 334 335 336 337 338 339 340 341 342 343 344 345 346 347 348 349 350 351 352 353 354 355 356 357 358 359 360 361 362 363 364 365 366 367 368 369 370 371 372 373 374 375 376 377 378 379 380 381 382 383 384 385 386 387 388 389 390 391 392 393 394 395 396 397 398 399 400 401 402 403 404 405 406 407 408 409 410 411 412 413 414 415 416 417 418 419 420 421 422 423 424 425 426 427 428 429 430 431 432 433 434 435 436 437 438 439 440 441 442 443 444 445 446 447 448 449 450 451 452 453 454 455 456 457 458 459 460 461 462 463 464 465 466 467 468 469 470 471 472 473 474 475 476 477 478 479 480 481 482 483 484 485 486 487 488 489 490 491 492 493 494 495 496 497 498 499 500 501 502 503 504 505 506 507 508 509 510 511 512 513 514 515 516 517 518 519 520 521 522 523 524 525 526 527 528 529 530 531 532 533 534 535 536 537 538 539 540 541 542 543 544 545 546 547 548 549 550 551 552 553 554 555 556 557 558 559 560 561 562 563 564 565 566 567 568 569 570 571 572 573 574 575 576 577 578 579 580 581 582 583 584 585 586 587 588 589 590 591 592 593 594 595 596 597 598 599 600 601 602 603 604 605 606 607 608 609 610 611 612 613 baseURL = \u0026#34;https://your-domain.org\u0026#34; # æ›´æ”¹ä½¿ç”¨ Hugo æ„å»ºç½‘ç«™æ—¶ä½¿ç”¨çš„é»˜è®¤ä¸»é¢˜ theme = \u0026#34;LoveIt\u0026#34; # ç½‘ç«™æ ‡é¢˜ title = \u0026#34;Stilig\u0026#34; defaultContentLanguage = \u0026#34;zh-cn\u0026#34; # ç½‘ç«™è¯­è¨€, ä»…åœ¨è¿™é‡Œ CN å¤§å†™ [\u0026#34;en\u0026#34;, \u0026#34;zh-CN\u0026#34;, \u0026#34;fr\u0026#34;, \u0026#34;pl\u0026#34;, ...] languageCode = \u0026#34;zh-CN\u0026#34; # è¯­è¨€åç§° [\u0026#34;English\u0026#34;, \u0026#34;ç®€ä½“ä¸­æ–‡\u0026#34;, \u0026#34;FranÃ§ais\u0026#34;, \u0026#34;Polski\u0026#34;, ...] languageName = \u0026#34;ç®€ä½“ä¸­æ–‡\u0026#34; # æ˜¯å¦åŒ…æ‹¬ä¸­æ—¥éŸ©æ–‡å­— hasCJKLanguage = true # é»˜è®¤æ¯é¡µåˆ—è¡¨æ˜¾ç¤ºçš„æ–‡ç« æ•°ç›® paginate = 12 # è°·æ­Œåˆ†æä»£å· [UA-XXXXXXXX-X] googleAnalytics = \u0026#34;\u0026#34; # ç‰ˆæƒæè¿°ï¼Œä»…ä»…ç”¨äº SEO copyright = \u0026#34;\u0026#34; # æ˜¯å¦ä½¿ç”¨ robots.txt enableRobotsTXT = true # æ˜¯å¦ä½¿ç”¨ git ä¿¡æ¯ #enableGitInfo = true # æ˜¯å¦ä½¿ç”¨ emoji ä»£ç  enableEmoji = true # å¿½ç•¥ä¸€äº›æ„å»ºé”™è¯¯ ignoreErrors = [\u0026#34;error-remote-getjson\u0026#34;, \u0026#34;error-missing-instagram-accesstoken\u0026#34;] # ä½œè€…é…ç½® [author] name = \u0026#34;Stilig\u0026#34; email = \u0026#34;your_email\u0026#34; # èœå•é…ç½® [menu] [[menu.main]] weight = 1 identifier = \u0026#34;posts\u0026#34; # ä½ å¯ä»¥åœ¨åç§° (å…è®¸ HTML æ ¼å¼) ä¹‹å‰æ·»åŠ å…¶ä»–ä¿¡æ¯, ä¾‹å¦‚å›¾æ ‡ pre = \u0026#34;\u0026#34; # ä½ å¯ä»¥åœ¨åç§° (å…è®¸ HTML æ ¼å¼) ä¹‹åæ·»åŠ å…¶ä»–ä¿¡æ¯, ä¾‹å¦‚å›¾æ ‡ post = \u0026#34;\u0026#34; name = \u0026#34;æ–‡ç« \u0026#34; url = \u0026#34;/posts/\u0026#34; # å½“ä½ å°†é¼ æ ‡æ‚¬åœåœ¨æ­¤èœå•é“¾æ¥ä¸Šæ—¶, å°†æ˜¾ç¤ºçš„æ ‡é¢˜ title = \u0026#34;\u0026#34; [[menu.main]] weight = 2 identifier = \u0026#34;tags\u0026#34; pre = \u0026#34;\u0026#34; post = \u0026#34;\u0026#34; name = \u0026#34;æ ‡ç­¾\u0026#34; url = \u0026#34;/tags/\u0026#34; title = \u0026#34;\u0026#34; [[menu.main]] weight = 3 identifier = \u0026#34;categories\u0026#34; pre = \u0026#34;\u0026#34; post = \u0026#34;\u0026#34; name = \u0026#34;åˆ†ç±»\u0026#34; url = \u0026#34;/categories/\u0026#34; title = \u0026#34;\u0026#34; # Hugo è§£ææ–‡æ¡£çš„é…ç½® [markup] # è¯­æ³•é«˜äº®è®¾ç½® (https://gohugo.io/content-management/syntax-highlighting) [markup.highlight] # false æ˜¯å¿…è¦çš„è®¾ç½® (https://github.com/dillonzq/LoveIt/issues/158) codeFences = true guessSyntax = true lineNos = true lineNumbersInTable = true # false æ˜¯å¿…è¦çš„è®¾ç½® # (https://github.com/dillonzq/LoveIt/issues/158) # Goldmark æ˜¯ Hugo 0.60 ä»¥æ¥çš„é»˜è®¤ Markdown è§£æåº“ noClasses = false # Goldmark æ˜¯ Hugo 0.60 ä»¥æ¥çš„é»˜è®¤ Markdown è§£æåº“ [markup.goldmark] [markup.goldmark.extensions] definitionList = true footnote = true linkify = true strikethrough = true table = true taskList = true typographer = true [markup.goldmark.renderer] # æ˜¯å¦åœ¨æ–‡æ¡£ä¸­ç›´æ¥ä½¿ç”¨ HTML æ ‡ç­¾ unsafe = true # ç›®å½•è®¾ç½® [markup.tableOfContents] startLevel = 2 endLevel = 6 [params] # ç½‘ç«™é»˜è®¤ä¸»é¢˜æ ·å¼ [\u0026#34;auto\u0026#34;, \u0026#34;light\u0026#34;, \u0026#34;dark\u0026#34;] defaultTheme = \u0026#34;light\u0026#34; # å…¬å…± git ä»“åº“è·¯å¾„ï¼Œä»…åœ¨ enableGitInfo è®¾ä¸º true æ—¶æœ‰æ•ˆ #gitRepo = \u0026#34;\u0026#34; # LoveIt æ–°å¢ | 0.1.1 å“ªç§å“ˆå¸Œå‡½æ•°ç”¨æ¥ SRI, ä¸ºç©ºæ—¶è¡¨ç¤ºä¸ä½¿ç”¨ SRI # [\u0026#34;sha256\u0026#34;, \u0026#34;sha384\u0026#34;, \u0026#34;sha512\u0026#34;, \u0026#34;md5\u0026#34;] fingerprint = \u0026#34;sha256\u0026#34; # LoveIt æ–°å¢ | 0.2.0 æ—¥æœŸæ ¼å¼ dateFormat = \u0026#34;2006-01-02\u0026#34; # ç½‘ç«™æ ‡é¢˜, ç”¨äº Open Graph å’Œ Twitter Cards title = \u0026#34;Stiligçš„åšå®¢\u0026#34; # ç½‘ç«™æè¿°, ç”¨äº RSS, SEO, Open Graph å’Œ Twitter Cards description = \u0026#34;Stiligçš„åšå®¢\u0026#34; # ç½‘ç«™å›¾ç‰‡, ç”¨äº Open Graph å’Œ Twitter Cards images = [\u0026#34;é¦–é¡µä¸­é—´çš„å›¾ç‰‡\u0026#34;] # é¡µé¢å¤´éƒ¨å¯¼èˆªæ é…ç½® [params.header] # æ¡Œé¢ç«¯å¯¼èˆªæ æ¨¡å¼ [\u0026#34;fixed\u0026#34;, \u0026#34;normal\u0026#34;, \u0026#34;auto\u0026#34;] desktopMode = \u0026#34;normal\u0026#34; # ç§»åŠ¨ç«¯å¯¼èˆªæ æ¨¡å¼ [\u0026#34;fixed\u0026#34;, \u0026#34;normal\u0026#34;, \u0026#34;auto\u0026#34;] mobileMode = \u0026#34;normal\u0026#34; # LoveIt æ–°å¢ | 0.2.0 é¡µé¢å¤´éƒ¨å¯¼èˆªæ æ ‡é¢˜é…ç½® [params.header.title] # LOGO çš„ URL logo = \u0026#34;\u0026#34; # æ ‡é¢˜åç§° name = \u0026#34;Stilig\u0026#34; # ä½ å¯ä»¥åœ¨åç§° (å…è®¸ HTML æ ¼å¼) ä¹‹å‰æ·»åŠ å…¶ä»–ä¿¡æ¯, ä¾‹å¦‚å›¾æ ‡ pre = \u0026#34;\u0026#34; # ä½ å¯ä»¥åœ¨åç§° (å…è®¸ HTML æ ¼å¼) ä¹‹åæ·»åŠ å…¶ä»–ä¿¡æ¯, ä¾‹å¦‚å›¾æ ‡ post = \u0026#34;\u0026#34; # LoveIt æ–°å¢ | 0.2.5 æ˜¯å¦ä¸ºæ ‡é¢˜æ˜¾ç¤ºæ‰“å­—æœºåŠ¨ç”» typeit = false # é¡µé¢åº•éƒ¨ä¿¡æ¯é…ç½® [params.footer] enable = true # LoveIt æ–°å¢ | 0.2.0 è‡ªå®šä¹‰å†…å®¹ (æ”¯æŒ HTML æ ¼å¼) custom = \u0026#39;\u0026#39; # LoveIt æ–°å¢ | 0.2.0 æ˜¯å¦æ˜¾ç¤º Hugo å’Œä¸»é¢˜ä¿¡æ¯ hugo = false # LoveIt æ–°å¢ | 0.2.0 æ˜¯å¦æ˜¾ç¤ºç‰ˆæƒä¿¡æ¯ copyright = true # LoveIt æ–°å¢ | 0.2.0 æ˜¯å¦æ˜¾ç¤ºä½œè€… author = true # ç½‘ç«™åˆ›ç«‹å¹´ä»½ since = 2022 # ICP å¤‡æ¡ˆä¿¡æ¯ï¼Œä»…åœ¨ä¸­å›½ä½¿ç”¨ (æ”¯æŒ HTML æ ¼å¼) icp = \u0026#39;\u0026#39; # è®¸å¯åè®®ä¿¡æ¯ (æ”¯æŒ HTML æ ¼å¼) license = \u0026#39;\u0026lt;a rel=\u0026#34;license external nofollow noopener noreffer\u0026#34; href=\u0026#34;https://creativecommons.org/licenses/by-nc/4.0/\u0026#34; target=\u0026#34;_blank\u0026#34;\u0026gt;CC BY-NC 4.0\u0026lt;/a\u0026gt;\u0026#39; # LoveIt æ–°å¢ | 0.2.0 Section (æ‰€æœ‰æ–‡ç« ) é¡µé¢é…ç½® [params.section] # section é¡µé¢æ¯é¡µæ˜¾ç¤ºæ–‡ç« æ•°é‡ paginate = 20 # æ—¥æœŸæ ¼å¼ (æœˆå’Œæ—¥) dateFormat = \u0026#34;01-02\u0026#34; # RSS æ–‡ç« æ•°ç›® rss = 10 # LoveIt æ–°å¢ | 0.2.0 List (ç›®å½•æˆ–æ ‡ç­¾) é¡µé¢é…ç½® [params.list] # list é¡µé¢æ¯é¡µæ˜¾ç¤ºæ–‡ç« æ•°é‡ paginate = 20 # æ—¥æœŸæ ¼å¼ (æœˆå’Œæ—¥) dateFormat = \u0026#34;01-02\u0026#34; # RSS æ–‡ç« æ•°ç›® rss = 10 # LoveIt æ–°å¢ | 0.2.0 åº”ç”¨å›¾æ ‡é…ç½® [params.app] # å½“æ·»åŠ åˆ° iOS ä¸»å±å¹•æˆ–è€… Android å¯åŠ¨å™¨æ—¶çš„æ ‡é¢˜, è¦†ç›–é»˜è®¤æ ‡é¢˜ title = \u0026#34;\u0026#34; # æ˜¯å¦éšè—ç½‘ç«™å›¾æ ‡èµ„æºé“¾æ¥ noFavicon = false # æ›´ç°ä»£çš„ SVG ç½‘ç«™å›¾æ ‡, å¯æ›¿ä»£æ—§çš„ .png å’Œ .ico æ–‡ä»¶ svgFavicon = \u0026#34;\u0026#34; # Android æµè§ˆå™¨ä¸»é¢˜è‰² themeColor = \u0026#34;#ffffff\u0026#34; # Safari å›¾æ ‡é¢œè‰² iconColor = \u0026#34;#5bbad5\u0026#34; # Windows v8-10ç£è´´é¢œè‰² tileColor = \u0026#34;#da532c\u0026#34; # LoveIt æ–°å¢ | 0.2.0 æœç´¢é…ç½® [params.search] enable = true # æœç´¢å¼•æ“çš„ç±»å‹ [\u0026#34;lunr\u0026#34;, \u0026#34;algolia\u0026#34;] type = \u0026#34;algolia\u0026#34; # æ–‡ç« å†…å®¹æœ€é•¿ç´¢å¼•é•¿åº¦ contentLength = 4000 # æœç´¢æ¡†çš„å ä½æç¤ºè¯­ placeholder = \u0026#34;\u0026#34; # LoveIt æ–°å¢ | 0.2.1 æœ€å¤§ç»“æœæ•°ç›® maxResultLength = 10 # LoveIt æ–°å¢ | 0.2.3 ç»“æœå†…å®¹ç‰‡æ®µé•¿åº¦ snippetLength = 50 # LoveIt æ–°å¢ | 0.2.1 æœç´¢ç»“æœä¸­é«˜äº®éƒ¨åˆ†çš„ HTML æ ‡ç­¾ highlightTag = \u0026#34;em\u0026#34; # LoveIt æ–°å¢ | 0.2.4 æ˜¯å¦åœ¨æœç´¢ç´¢å¼•ä¸­ä½¿ç”¨åŸºäº baseURL çš„ç»å¯¹è·¯å¾„ absoluteURL = false ##æ³¨å†Œä½¿ç”¨ï¼Œå‰å¾€ï¼šhttps://www.algolia.com/ [params.search.algolia] index = \u0026#34;\u0026#34; appID = \u0026#34;\u0026#34; searchKey = \u0026#34;\u0026#34; # ä¸»é¡µé…ç½® [params.home] # LoveIt æ–°å¢ | 0.2.0 RSS æ–‡ç« æ•°ç›® rss = 10 # ä¸»é¡µä¸ªäººä¿¡æ¯ [params.home.profile] enable = true # Gravatar é‚®ç®±ï¼Œç”¨äºä¼˜å…ˆåœ¨ä¸»é¡µæ˜¾ç¤ºçš„å¤´åƒ gravatarEmail = \u0026#34;\u0026#34; # ä¸»é¡µæ˜¾ç¤ºå¤´åƒçš„ URL avatarURL = \u0026#34;\u0026#34; # LoveIt æ›´æ”¹ | 0.2.7 ä¸»é¡µæ˜¾ç¤ºçš„ç½‘ç«™æ ‡é¢˜ (æ”¯æŒ HTML æ ¼å¼) title = \u0026#34;\u0026#34; # ä¸»é¡µæ˜¾ç¤ºçš„ç½‘ç«™å‰¯æ ‡é¢˜ (å…è®¸ HTML æ ¼å¼) subtitle = \u0026#34;æ¬¢è¿æ¥åˆ°æˆ‘çš„åšå®¢\u0026#34; # æ˜¯å¦ä¸ºå‰¯æ ‡é¢˜æ˜¾ç¤ºæ‰“å­—æœºåŠ¨ç”» typeit = true # æ˜¯å¦æ˜¾ç¤ºç¤¾äº¤è´¦å· social = true # LoveIt æ–°å¢ | 0.2.0 å…è´£å£°æ˜ (æ”¯æŒ HTML æ ¼å¼) disclaimer = \u0026#34;\u0026#34; # ä¸»é¡µæ–‡ç« åˆ—è¡¨ [params.home.posts] enable = true # ä¸»é¡µæ¯é¡µæ˜¾ç¤ºæ–‡ç« æ•°é‡ paginate = 6 # LoveIt åˆ é™¤ | 0.2.0 è¢« params.page ä¸­çš„ hiddenFromHomePage æ›¿ä»£ # å½“ä½ æ²¡æœ‰åœ¨æ–‡ç« å‰ç½®å‚æ•°ä¸­è®¾ç½® \u0026#34;hiddenFromHomePage\u0026#34; æ—¶çš„é»˜è®¤è¡Œä¸º defaultHiddenFromHomePage = false # ä½œè€…çš„ç¤¾äº¤ä¿¡æ¯è®¾ç½® [params.social] GitHub = \u0026#34;\u0026#34; Linkedin = \u0026#34;\u0026#34; Twitter = \u0026#34;\u0026#34; Instagram = \u0026#34;\u0026#34; Facebook = \u0026#34;\u0026#34; Telegram = \u0026#34;\u0026#34; Medium = \u0026#34;\u0026#34; Gitlab = \u0026#34;\u0026#34; Youtubelegacy = \u0026#34;\u0026#34; Youtubecustom = \u0026#34;\u0026#34; Youtubechannel = \u0026#34;\u0026#34; Tumblr = \u0026#34;\u0026#34; Quora = \u0026#34;\u0026#34; Keybase = \u0026#34;\u0026#34; Pinterest = \u0026#34;\u0026#34; Reddit = \u0026#34;\u0026#34; Codepen = \u0026#34;\u0026#34; FreeCodeCamp = \u0026#34;\u0026#34; Bitbucket = \u0026#34;\u0026#34; Stackoverflow = \u0026#34;\u0026#34; Weibo = \u0026#34;\u0026#34; Odnoklassniki = \u0026#34;\u0026#34; VK = \u0026#34;\u0026#34; Flickr = \u0026#34;\u0026#34; Xing = \u0026#34;\u0026#34; Snapchat = \u0026#34;\u0026#34; Soundcloud = \u0026#34;\u0026#34; Spotify = \u0026#34;\u0026#34; Bandcamp = \u0026#34;\u0026#34; Paypal = \u0026#34;\u0026#34; Fivehundredpx = \u0026#34;\u0026#34; Mix = \u0026#34;\u0026#34; Goodreads = \u0026#34;\u0026#34; Lastfm = \u0026#34;\u0026#34; Foursquare = \u0026#34;\u0026#34; Hackernews = \u0026#34;\u0026#34; Kickstarter = \u0026#34;\u0026#34; Patreon = \u0026#34;\u0026#34; Steam = \u0026#34;\u0026#34; Twitch = \u0026#34;\u0026#34; Strava = \u0026#34;\u0026#34; Skype = \u0026#34;\u0026#34; Whatsapp = \u0026#34;\u0026#34; Zhihu = \u0026#34;\u0026#34; Douban = \u0026#34;\u0026#34; Angellist = \u0026#34;\u0026#34; Slidershare = \u0026#34;\u0026#34; Jsfiddle = \u0026#34;\u0026#34; Deviantart = \u0026#34;\u0026#34; Behance = \u0026#34;\u0026#34; Dribbble = \u0026#34;\u0026#34; Wordpress = \u0026#34;\u0026#34; Vine = \u0026#34;\u0026#34; Googlescholar = \u0026#34;\u0026#34; Researchgate = \u0026#34;\u0026#34; Mastodon = \u0026#34;\u0026#34; Thingiverse = \u0026#34;\u0026#34; Devto = \u0026#34;\u0026#34; Gitea = \u0026#34;\u0026#34; XMPP = \u0026#34;\u0026#34; Matrix = \u0026#34;\u0026#34; Bilibili = \u0026#34;\u0026#34; Discord = \u0026#34;\u0026#34; DiscordInvite = \u0026#34;\u0026#34; Lichess = \u0026#34;\u0026#34; ORCID = \u0026#34;\u0026#34; Pleroma = \u0026#34;\u0026#34; Kaggle = \u0026#34;\u0026#34; MediaWiki= \u0026#34;\u0026#34; Plume = \u0026#34;\u0026#34; HackTheBox = \u0026#34;\u0026#34; RootMe= \u0026#34;\u0026#34; Phone = \u0026#34;\u0026#34; Email = \u0026#34;\u0026#34; RSS = true # LoveIt æ–°å¢ | 0.2.0 # LoveIt æ›´æ”¹ | 0.2.0 æ–‡ç« é¡µé¢å…¨å±€é…ç½® [params.page] # LoveIt æ–°å¢ | 0.2.0 æ˜¯å¦åœ¨ä¸»é¡µéšè—ä¸€ç¯‡æ–‡ç«  hiddenFromHomePage = false # LoveIt æ–°å¢ | 0.2.0 æ˜¯å¦åœ¨æœç´¢ç»“æœä¸­éšè—ä¸€ç¯‡æ–‡ç«  hiddenFromSearch = false # LoveIt æ–°å¢ | 0.2.0 æ˜¯å¦ä½¿ç”¨ twemoji twemoji = false # æ˜¯å¦ä½¿ç”¨ lightgallery lightgallery = false # LoveIt æ–°å¢ | 0.2.0 æ˜¯å¦ä½¿ç”¨ ruby æ‰©å±•è¯­æ³• ruby = true # LoveIt æ–°å¢ | 0.2.0 æ˜¯å¦ä½¿ç”¨ fraction æ‰©å±•è¯­æ³• fraction = true # LoveIt æ–°å¢ | 0.2.0 æ˜¯å¦ä½¿ç”¨ fontawesome æ‰©å±•è¯­æ³• fontawesome = true # æ˜¯å¦åœ¨æ–‡ç« é¡µé¢æ˜¾ç¤ºåŸå§‹ Markdown æ–‡æ¡£é“¾æ¥ linkToMarkdown = false # LoveIt æ–°å¢ | 0.2.4 æ˜¯å¦åœ¨ RSS ä¸­æ˜¾ç¤ºå…¨æ–‡å†…å®¹ rssFullText = false # LoveIt æ–°å¢ | 0.2.0 ç›®å½•é…ç½® [params.page.toc] # æ˜¯å¦ä½¿ç”¨ç›®å½• enable = true # LoveIt æ–°å¢ | 0.2.9 æ˜¯å¦ä¿æŒä½¿ç”¨æ–‡ç« å‰é¢çš„é™æ€ç›®å½• keepStatic = false # æ˜¯å¦ä½¿ä¾§è¾¹ç›®å½•è‡ªåŠ¨æŠ˜å å±•å¼€ auto = true # LoveIt æ–°å¢ | 0.2.0 ä»£ç é…ç½® [params.page.code] # æ˜¯å¦æ˜¾ç¤ºä»£ç å—çš„å¤åˆ¶æŒ‰é’® copy = true # é»˜è®¤å±•å¼€æ˜¾ç¤ºçš„ä»£ç è¡Œæ•° maxShownLines = 50 # LoveIt æ›´æ”¹ | 0.2.0 KaTeX æ•°å­¦å…¬å¼ [params.page.math] enable = true # LoveIt æ›´æ”¹ | 0.2.11 é»˜è®¤è¡Œå†…å®šç•Œç¬¦æ˜¯ $ ... $ å’Œ \\( ... \\) inlineLeftDelimiter = \u0026#34;\u0026#34; inlineRightDelimiter = \u0026#34;\u0026#34; # LoveIt æ›´æ”¹ | 0.2.11 é»˜è®¤å—å®šç•Œç¬¦æ˜¯ $$ ... $$, \\[ ... \\], \\begin{equation} ... \\end{equation} å’Œä¸€äº›å…¶å®ƒçš„å‡½æ•° blockLeftDelimiter = \u0026#34;\u0026#34; blockRightDelimiter = \u0026#34;\u0026#34; # KaTeX æ’ä»¶ copy_tex copyTex = true # KaTeX æ’ä»¶ mhchem mhchem = true # LoveIt æ–°å¢ | 0.2.0 Mapbox GL JS é…ç½® [params.page.mapbox] # Mapbox GL JS çš„ access token accessToken = \u0026#34;\u0026#34; # æµ…è‰²ä¸»é¢˜çš„åœ°å›¾æ ·å¼ lightStyle = \u0026#34;mapbox://styles/mapbox/light-v10?optimize=true\u0026#34; # æ·±è‰²ä¸»é¢˜çš„åœ°å›¾æ ·å¼ darkStyle = \u0026#34;mapbox://styles/mapbox/dark-v10?optimize=true\u0026#34; # æ˜¯å¦æ·»åŠ  NavigationControl navigation = true # æ˜¯å¦æ·»åŠ  GeolocateControl geolocate = true # æ˜¯å¦æ·»åŠ  ScaleControl scale = true # æ˜¯å¦æ·»åŠ  FullscreenControl fullscreen = true # LoveIt æ›´æ”¹ | 0.2.0 æ–‡ç« é¡µé¢çš„åˆ†äº«ä¿¡æ¯è®¾ç½® [params.page.share] enable = true Twitter = true Facebook = true Linkedin = true Whatsapp = false Pinterest = false Tumblr = false HackerNews = false Reddit = false VK = false Buffer = false Xing = false Line = true Instapaper = false Pocket = false Flipboard = false Weibo = true Blogger = false Baidu = false Odnoklassniki = false Evernote = false Skype = false Trello = false Mix = false # LoveIt æ›´æ”¹ | 0.2.0 è¯„è®ºç³»ç»Ÿè®¾ç½® [params.page.comment] enable = false # Disqus è¯„è®ºç³»ç»Ÿè®¾ç½® [params.page.comment.disqus] # LoveIt æ–°å¢ | 0.1.1 enable = false # Disqus çš„ shortnameï¼Œç”¨æ¥åœ¨æ–‡ç« ä¸­å¯ç”¨ Disqus è¯„è®ºç³»ç»Ÿ shortname = \u0026#34;\u0026#34; # Gitalk è¯„è®ºç³»ç»Ÿè®¾ç½® [params.page.comment.gitalk] # LoveIt æ–°å¢ | 0.1.1 enable = false owner = \u0026#34;\u0026#34; repo = \u0026#34;\u0026#34; clientId = \u0026#34;\u0026#34; clientSecret = \u0026#34;\u0026#34; # Valine è¯„è®ºç³»ç»Ÿè®¾ç½® [params.page.comment.valine] enable = false appId = \u0026#34;\u0026#34; appKey = \u0026#34;\u0026#34; placeholder = \u0026#34;\u0026#34; avatar = \u0026#34;mp\u0026#34; meta= \u0026#34;\u0026#34; pageSize = 10 # ä¸ºç©ºæ—¶è‡ªåŠ¨é€‚é…å½“å‰ä¸»é¢˜ i18n é…ç½® lang = \u0026#34;\u0026#34; visitor = true recordIP = true highlight = true enableQQ = false serverURLs = \u0026#34;\u0026#34; # LoveIt æ–°å¢ | 0.2.6 emoji æ•°æ®æ–‡ä»¶åç§°, é»˜è®¤æ˜¯ \u0026#34;google.yml\u0026#34; # [\u0026#34;apple.yml\u0026#34;, \u0026#34;google.yml\u0026#34;, \u0026#34;facebook.yml\u0026#34;, \u0026#34;twitter.yml\u0026#34;] # ä½äº \u0026#34;themes/LoveIt/assets/lib/valine/emoji/\u0026#34; ç›®å½• # å¯ä»¥åœ¨ä½ çš„é¡¹ç›®ä¸‹ç›¸åŒè·¯å¾„å­˜æ”¾ä½ è‡ªå·±çš„æ•°æ®æ–‡ä»¶: # \u0026#34;assets/lib/valine/emoji/\u0026#34; emoji = \u0026#34;\u0026#34; # Facebook è¯„è®ºç³»ç»Ÿè®¾ç½® [params.page.comment.facebook] enable = false width = \u0026#34;100%\u0026#34; numPosts = 10 appId = \u0026#34;\u0026#34; # ä¸ºç©ºæ—¶è‡ªåŠ¨é€‚é…å½“å‰ä¸»é¢˜ i18n é…ç½® languageCode = \u0026#34;zh_CN\u0026#34; # LoveIt æ–°å¢ | 0.2.0 Telegram Comments è¯„è®ºç³»ç»Ÿè®¾ç½® [params.page.comment.telegram] enable = false siteID = \u0026#34;\u0026#34; limit = 5 height = \u0026#34;\u0026#34; color = \u0026#34;\u0026#34; colorful = true dislikes = false outlined = false # LoveIt æ–°å¢ | 0.2.0 Commento è¯„è®ºç³»ç»Ÿè®¾ç½® [params.page.comment.commento] enable = false # LoveIt æ–°å¢ | 0.2.5 utterances è¯„è®ºç³»ç»Ÿè®¾ç½® [params.page.comment.utterances] enable = false # owner/repo repo = \u0026#34;\u0026#34; issueTerm = \u0026#34;pathname\u0026#34; label = \u0026#34;\u0026#34; lightTheme = \u0026#34;github-light\u0026#34; darkTheme = \u0026#34;github-dark\u0026#34; # giscus comment è¯„è®ºç³»ç»Ÿè®¾ç½® (https://giscus.app/zh-CN) [params.page.comment.giscus] # ä½ å¯ä»¥å‚è€ƒå®˜æ–¹æ–‡æ¡£æ¥ä½¿ç”¨ä¸‹åˆ—é…ç½® enable = false repo = \u0026#34;\u0026#34; repoId = \u0026#34;\u0026#34; category = \u0026#34;Announcements\u0026#34; categoryId = \u0026#34;\u0026#34; # ä¸ºç©ºæ—¶è‡ªåŠ¨é€‚é…å½“å‰ä¸»é¢˜ i18n é…ç½® lang = \u0026#34;\u0026#34; mapping = \u0026#34;pathname\u0026#34; reactionsEnabled = \u0026#34;1\u0026#34; emitMetadata = \u0026#34;0\u0026#34; inputPosition = \u0026#34;bottom\u0026#34; lazyLoading = false lightTheme = \u0026#34;light\u0026#34; darkTheme = \u0026#34;dark\u0026#34; # LoveIt æ–°å¢ | 0.2.7 ç¬¬ä¸‰æ–¹åº“é…ç½® [params.page.library] [params.page.library.css] # someCSS = \u0026#34;some.css\u0026#34; # ä½äº \u0026#34;assets/\u0026#34; # æˆ–è€… # someCSS = \u0026#34;https://cdn.example.com/some.css\u0026#34; [params.page.library.js] # someJavascript = \u0026#34;some.js\u0026#34; # ä½äº \u0026#34;assets/\u0026#34; # æˆ–è€… # someJavascript = \u0026#34;https://cdn.example.com/some.js\u0026#34; # LoveIt æ›´æ”¹ | 0.2.10 é¡µé¢ SEO é…ç½® [params.page.seo] # å›¾ç‰‡ URL images = [] # å‡ºç‰ˆè€…ä¿¡æ¯ [params.page.seo.publisher] name = \u0026#34;\u0026#34; logoUrl = \u0026#34;\u0026#34; # LoveIt æ–°å¢ | 0.2.5 TypeIt é…ç½® [params.typeit] # æ¯ä¸€æ­¥çš„æ‰“å­—é€Ÿåº¦ (å•ä½æ˜¯æ¯«ç§’) speed = 100 # å…‰æ ‡çš„é—ªçƒé€Ÿåº¦ (å•ä½æ˜¯æ¯«ç§’) cursorSpeed = 1000 # å…‰æ ‡çš„å­—ç¬¦ (æ”¯æŒ HTML æ ¼å¼) cursorChar = \u0026#34;|\u0026#34; # æ‰“å­—ç»“æŸä¹‹åå…‰æ ‡çš„æŒç»­æ—¶é—´ (å•ä½æ˜¯æ¯«ç§’, \u0026#34;-1\u0026#34; ä»£è¡¨æ— é™å¤§) duration = -1 # ç½‘ç«™éªŒè¯ä»£ç ï¼Œç”¨äº Google/Bing/Yandex/Pinterest/Baidu [params.verification] google = \u0026#34;\u0026#34; bing = \u0026#34;\u0026#34; yandex = \u0026#34;\u0026#34; pinterest = \u0026#34;\u0026#34; baidu = \u0026#34;\u0026#34; # LoveIt æ–°å¢ | 0.2.10 ç½‘ç«™ SEO é…ç½® [params.seo] # å›¾ç‰‡ URL image = \u0026#34;\u0026#34; # ç¼©ç•¥å›¾ URL thumbnailUrl = \u0026#34;\u0026#34; # LoveIt æ–°å¢ | 0.2.0 ç½‘ç«™åˆ†æé…ç½® [params.analytics] enable = true [params.analytics.google] id = \u0026#34;\u0026#34; # whether to anonymize IP # æ˜¯å¦åŒ¿ååŒ–ç”¨æˆ· IP anonymizeIP = true # Fathom Analytics # ç™¾åº¦ç»Ÿè®¡,è‡ªå·±é…ç½®çš„ [params.analytics.baidu] id = \u0026#34;\u0026#34; # Cookie è®¸å¯é…ç½® #[params.cookieconsent] #enable = true # ç”¨äº Cookie è®¸å¯æ¨ªå¹…çš„æ–‡æœ¬å­—ç¬¦ä¸² #[params.cookieconsent.content] #message = \u0026#34;\u0026#34; #dismiss = \u0026#34;\u0026#34; #link = \u0026#34;\u0026#34; # ç¬¬ä¸‰æ–¹åº“æ–‡ä»¶çš„ CDN è®¾ç½® [params.cdn] # CDN æ•°æ®æ–‡ä»¶åç§°, é»˜è®¤ä¸å¯ç”¨ # [\u0026#34;jsdelivr.yml\u0026#34;] # ä½äº \u0026#34;themes/LoveIt/assets/data/cdn/\u0026#34; ç›®å½• # å¯ä»¥åœ¨ä½ çš„é¡¹ç›®ä¸‹ç›¸åŒè·¯å¾„å­˜æ”¾ä½ è‡ªå·±çš„æ•°æ®æ–‡ä»¶: # \u0026#34;assets/data/cdn/\u0026#34; data = \u0026#34;\u0026#34; # å…¼å®¹æ€§è®¾ç½® [params.compatibility] # æ˜¯å¦ä½¿ç”¨ Polyfill.io æ¥å…¼å®¹æ—§å¼æµè§ˆå™¨ polyfill = false # æ˜¯å¦ä½¿ç”¨ object-fit-images æ¥å…¼å®¹æ—§å¼æµè§ˆå™¨ objectFit = false # ç½‘ç«™åœ°å›¾é…ç½® [sitemap] changefreq = \u0026#34;weekly\u0026#34; filename = \u0026#34;sitemap.xml\u0026#34; priority = 0.5 # Permalinks é…ç½® [Permalinks] # posts = \u0026#34;:year/:month/:filename\u0026#34; posts = \u0026#34;:filename\u0026#34; # éšç§ä¿¡æ¯é…ç½® [privacy] # Google Analytics ç›¸å…³éšç§ (è¢« params.analytics.google æ›¿ä»£) [privacy.googleAnalytics] # ... [privacy.twitter] enableDNT = true [privacy.youtube] privacyEnhanced = true # ç”¨äºè¾“å‡º Markdown æ ¼å¼æ–‡æ¡£çš„è®¾ç½® [mediaTypes] [mediaTypes.\u0026#34;text/plain\u0026#34;] suffixes = [\u0026#34;md\u0026#34;] # ç”¨äºè¾“å‡º Markdown æ ¼å¼æ–‡æ¡£çš„è®¾ç½® [outputFormats.MarkDown] mediaType = \u0026#34;text/plain\u0026#34; isPlainText = true isHTML = false # ç”¨äº Hugo è¾“å‡ºæ–‡æ¡£çš„è®¾ç½® [outputs] home = [\u0026#34;HTML\u0026#34;, \u0026#34;RSS\u0026#34;, \u0026#34;JSON\u0026#34;] page = [\u0026#34;HTML\u0026#34;, \u0026#34;MarkDown\u0026#34;] section = [\u0026#34;HTML\u0026#34;, \u0026#34;RSS\u0026#34;] taxonomy = [\u0026#34;HTML\u0026#34;, \u0026#34;RSS\u0026#34;] taxonomyTerm = [\u0026#34;HTML\u0026#34;] æˆ‘çš„é…ç½®ï¼ˆä½¿ç”¨yamlæ ¼å¼ï¼‰\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 170 171 172 173 174 175 176 177 178 179 180 181 182 183 184 185 186 187 188 189 190 191 192 193 194 195 196 197 198 199 200 201 202 203 204 205 206 207 208 209 210 211 212 213 214 215 216 217 218 219 220 221 222 223 224 225 226 227 228 229 230 231 232 233 234 235 236 237 238 239 240 241 242 243 244 245 246 247 248 249 250 251 252 253 254 255 256 257 258 259 260 261 262 263 264 265 266 267 268 269 270 271 272 273 274 275 276 277 278 279 280 281 282 283 284 285 286 287 288 289 290 291 292 293 294 295 296 297 baseurl: https://4evergreat.github.io/ #åŸºç¡€è·¯ç”± languageCode: zh-cn #è¯­è¨€ title: alwaysGreat\u0026#39;s blog #ç½‘ç«™åç§° theme: hugo-theme-stack-master #æŒ‡å®šä¸»é¢˜å paginate: 10 copyright: alwaysGreat #languages: # zh-cn: # languageName: ä¸­æ–‡ # title: æ¬¢è¿æ¥çœ‹ alwaysGreat çš„åšå®¢~ #TODO åšå®¢æ ‡é¢˜ # weight: 2 # Theme i18n support # Available values: ar, bn, ca, de, el, en, es, fr, hu, id, it, ja, ko, nl, pt-br, th, uk, zh-cn, zh-hk, zh-tw DefaultContentLanguage: zh-cn # Set hasCJKLanguage to true if DefaultContentLanguage is in [zh-cn ja ko] # This will make .Summary and .WordCount behave correctly for CJK languages. hasCJKLanguage: true # services: # # Change it to your Disqus shortname before using # disqus: # shortname: \u0026#34;hugo-theme-stack\u0026#34; # # GA Tracking ID # googleAnalytics: # id: permalinks: post: /p/:slug/ #TODO é“¾æ¥å½¢å¼ page: /:slug/ params: mainSections: - post featuredImageField: image rssFullContent: true favicon: /static/photo.ico # e.g.: favicon placed in `/favicon.ico` of your site folder, then set this field to `/favicon.ico` (`/` is necessary) footer: since: 2024 #TODO è¿™é‡Œæ˜¯å»ºç«™æ—¶é—´ customText: 2024å¼€å§‹ä½¿ç”¨hugoå»ºç«™ dateFormat: # published: Jan 02, 2006 # lastUpdated: Jan 02, 2006 15:04 MST published: 01æœˆ02æ—¥, 2006å¹´ lastUpdated: 01æœˆ02æ—¥ 15ç‚¹04åˆ†, 2006å¹´ sidebar: emoji: ğŸ€„ # ğŸ€„ğŸ¤ºğŸ‡ â˜ï¸ #TODO emojiå¤§å…¨ https://www.emojiall.com/zh-hans/platform-wechat #TODO emojiå¤§å…¨ https://emoji8.com/zh-hans/ subtitle: åœ¨äººç”Ÿä¸­ä¸æ–­è¯ç”Ÿæ–°çš„è‡ªå·±ï¼ #TODO å‰¯æ ‡é¢˜ avatar: enabled: true local: true #TODO è®¾ç½®ä¸ºtrueä½¿ç”¨ç½‘ç»œå›¾ç‰‡ src: /img/head.png article: math: false toc: true readingTime: true license: enabled: true default: Licensed under CC BY-NC-SA 4.0 #TODO ç‰ˆæƒæ ‡è¯­ comments: enabled: true provider: waline disqusjs: shortname: apiUrl: apiKey: admin: adminLabel: utterances: repo: issueTerm: pathname label: beaudar: repo: issueTerm: pathname label: theme: remark42: host: site: locale: vssue: platform: owner: repo: clientId: clientSecret: autoCreateIssue: false # Waline client configuration see: https://waline.js.org/en/reference/component.html waline: serverURL: #TODO Waline è‡ªè¡Œé…ç½® lang: pageview: emoji: - https://unpkg.com/@waline/emojis@1.0.1/weibo - https://cdn.jsdelivr.net/gh/walinejs/emojis/bilibili@1.0.6 requiredMeta: - name - email - url locale: admin: åšä¸» placeholder: æœ‰ä»€ä¹ˆæ–°ç‚¹å­ï¼Ÿï¼ˆä¸Šæ–¹ç•™ä¸‹é‚®ç®±å¯ä»¥æ”¶åˆ°é€šçŸ¥å“¦ï¼‰ twikoo: envId: region: path: lang: # See https://cactus.chat/docs/reference/web-client/#configuration for description of the various options cactus: defaultHomeserverUrl: \u0026#34;https://matrix.cactus.chat:8448\u0026#34; serverName: \u0026#34;cactus.chat\u0026#34; siteName: \u0026#34;\u0026#34; # You must insert a unique identifier here matching the one you registered (See https://cactus.chat/docs/getting-started/quick-start/#register-your-site) giscus: repo: repoID: category: categoryID: mapping: lightTheme: darkTheme: reactionsEnabled: 1 emitMetadata: 0 gitalk: owner: admin: repo: clientID: clientSecret: cusdis: host: id: widgets: homepage: - type: search - type: archives params: limit: 5 - type: timeline params: limit: 10 - type: categories params: limit: 10 - type: tag-cloud params: limit: 50 page: - type: search - type: toc - type: categories params: limit: 10 - type: typeform-widget opengraph: twitter: # Your Twitter username site: # Available values: summary, summary_large_image card: summary_large_image defaultImage: opengraph: enabled: false local: false src: colorScheme: # Display toggle toggle: true # Available values: auto, light, dark default: auto imageProcessing: cover: enabled: true content: enabled: true ### Custom menu ### See https://stack.jimmycai.com/config/menu ### To remove about, archive and search page menu item, remove `menu` field from their FrontMatter menu: main: - identifier: home name: ä¸»é¡µ url: / weight: -90 params: ### For demonstration purpose, the home link will be open in a new tab newTab: false icon: home # - identifier: about # name: å…³äº # url: /about/ # weight: -80 # params: # newTab: false # icon: user # - identifier: archives # name: å½’æ¡£ # url: /archives/ # weight: -70 # params: # newTab: false # icon: archives # - identifier: search # name: æœç´¢ # url: /search/ # weight: -60 # params: # newTab: false # icon: search # - identifier: tools # name: å·¥å…· # url: /tools/ # weight: -50 # params: # newTab: false # icon: tools # - identifier: friends # name: æœ‹å‹ # url:/friends/ # weight: -40 # params: # ### For demonstration purpose, the home link will be open in a new tab # newTab: false # icon: user-group-solid social: - identifier: github name: GitHub url: https://github.com/4evergreat #TODO è¿™é‡Œæ˜¯ä½ çš„Githubé“¾æ¥ params: icon: brand-github - identifier: travellings name: å¼€å¾€ url: https://travellings.link params: icon: train-subway-solid newTab: true related: includeNewer: true threshold: 60 toLower: false indices: - name: tags weight: 100 - name: categories weight: 200 markup: goldmark: renderer: ## Set to true if you have HTML content inside Markdown unsafe: true tableOfContents: endLevel: 4 ordered: true startLevel: 2 highlight: noClasses: false codeFences: true guessSyntax: true lineNoStart: 1 lineNos: true lineNumbersInTable: true tabWidth: 4 ignoreErrors: \u0026#34;error-remote-getjson\u0026#34; 5.2 ä¿®æ”¹é»˜è®¤markdownç¼–è¯‘æ¨¡æ¿ 1 2 3 cd \\myblog\\archetypes\\ ä¿®æ”¹é‡Œé¢çš„default.mdæ–‡ä»¶ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 --- title: \u0026#34;{{ replace .TranslationBaseName \u0026#34;-\u0026#34; \u0026#34; \u0026#34; | title }}\u0026#34; subtitle: \u0026#34;\u0026#34; date: {{ .Date }} lastmod: {{ .Date }} draft: true author: \u0026#34;\u0026#34; authorLink: \u0026#34;\u0026#34; license: \u0026#34;\u0026#34; tags: [\u0026#34;\u0026#34;] categories: [\u0026#34;\u0026#34;] featuredImage: \u0026#34;\u0026#34; featuredImagePreview: \u0026#34;\u0026#34; summary: \u0026#34;\u0026#34; hiddenFromHomePage: false hiddenFromSearch: false toc: enable: true auto: true mapbox: share: enable: true comment: enable: true --- ","date":"2024-07-01T22:27:20+08:00","image":"http://localhost:1313/cover/t01d389c22b38efbadc.jpg","permalink":"http://localhost:1313/p/hugo02/","title":"blog2æœ¬åœ°æ­å»ºhugoç½‘ç«™"},{"content":"hugo-win10ç¯å¢ƒçš„æ­å»º ä¸€ã€å‰è¨€ å½“å‰å¸‚é¢ä¸Šçš„ä¸ªäººåšå®¢æ­å»ºé¡¹ç›®æœ‰å¾ˆå¤šï¼Œå¦‚wordpress, halo, hexo, hugoç­‰ã€‚ä»¥ä¸‹ç®€å•èŠä¸€èŠè¿™å‡ ç§æ–¹æ¡ˆï¼š\nåŠ¨æ€åšå®¢\nwordpressç”±phpè¯­è¨€å¼€å‘ï¼Œä½¿ç”¨äº†mysqlä½œä¸ºæ•°æ®åº“ï¼Œå±äºåŠ¨æ€åšå®¢ï¼Œå³æ ¹æ®æ•°æ®åº“å†…å®¹åŠ¨æ€æ¸²æŸ“ç½‘é¡µã€‚å…¶å®˜ç½‘ä¸Šæä¾›äº†è®¸å¤šæ”¶è´¹ï¼ˆä¸»ï¼‰æˆ–å…è´¹çš„ä¸»é¢˜å’Œæ¨¡æ¿ï¼Œè‡ªå¸¦ç”¨æˆ·ç•Œé¢ä»¥åŠç®¡ç†åå°ï¼Œä¸Šé¢è¿˜æä¾›äº†ä¸°å¯Œçš„æ’ä»¶æ‰©å±•ï¼Œç”¨æˆ·å¯ä»¥æ ¹æ®ä¸ªäººå–œå¥½è¿›è¡Œé…ç½®ã€‚å¯è§wordpressæ˜¯ä¸€ä¸ªæ˜“ç”¨çš„ã€åŠ¨æ€çš„ã€çµæ´»çš„åšå®¢é€‰å‹æ–¹æ¡ˆã€‚ä½†æ˜¯éœ€è¦æ³¨æ„çš„æ˜¯wordpressåŠ è½½é€Ÿåº¦ä¼šéšæ’ä»¶ä¸»é¢˜çš„å¤æ‚ç¨‹å¢åŠ è€Œå˜æ…¢ï¼Œä¾‹å¦‚å¸‚é¢ä¸Šç”¨æˆ·å¤§é‡æŠ•è¯‰å­—ä½“åŠ è½½æ…¢çš„é—®é¢˜ã€‚ haloæ˜¯ä¸€ä¸ªå¼€æºçš„åšå®¢ï¼Œæœ‰javaè¯­è¨€å¼€å‘ï¼Œä½¿ç”¨äº†springbootæ¡†æ¶ã€‚ä¹Ÿæœ‰å®˜æ–¹ç¤¾åŒºè®ºå›ï¼Œä¸Šé¢æä¾›äº†ä¸€äº›æ”¶è´¹çš„æˆ–å…è´¹çš„ä¸»é¢˜å’Œæ¨¡æ¿ã€‚æ”¯æŒmarkdownæ ¼å¼ã€è¯„è®ºæ¨¡å—ã€ç½‘ç«™ç»Ÿè®¡ç­‰ä¸°å¯Œçš„åŠŸèƒ½ã€‚å½“å‰è¿™ä¸ªå¼€æºé¡¹ç›®è¿˜åœ¨ä¸æ–­æ›´æ–°å½“ä¸­ï¼Œå­¦ä¹ è¿‡java SSMçš„æœ‹å‹å¯ä»¥è€ƒè™‘åœ¨è¿™ä¸ªé¡¹ç›®çš„åŸºç¡€ä¸Šä¸ªäººå†å¼€å‘å®šåˆ¶è‡ªå·±å–œæ¬¢çš„å†…å®¹ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œhaloä½¿ç”¨äº†java springbootï¼Œå¯¹æœåŠ¡å™¨å†…å­˜çš„éœ€æ±‚è¾ƒå¤§ã€‚ é™æ€åšå®¢\nhexoæ˜¯ä¸€ä¸ªåŸºäºnode.jsçš„é™æ€å¼€æºåšå®¢æ¡†æ¶ï¼Œæ”¯æŒä½¿ç”¨markdownæ¥è§£ææ–‡ç« ã€‚ç½‘ä¸Šå¯ä»¥æ‰¾åˆ°å…¶å®˜ç½‘ï¼Œä¸Šé¢æä¾›äº†ä¸°å¯Œçš„ä¸»é¢˜å’Œæ’ä»¶ï¼Œä¸ªäººæ¯”è¾ƒæ¨èbutterflyä¸»é¢˜ã€‚é™æ€çš„åšå®¢çš„ä¼˜ç‚¹ä¸ç¼ºç‚¹éƒ½é›†ä¸­åœ¨é™æ€äºŒå­—ï¼Œé™æ€æ„å‘³ç€ç½‘é¡µæ˜¯é¢„å…ˆå°±ç¼–è¯‘å¥½çš„ï¼Œç›´æ¥åŠ è½½å·²ç»ç¼–è¯‘çš„å†…å®¹å°±è¡Œï¼Œè€Œä¸”æ— éœ€é¢å¤–å®‰è£…æ•°æ®åº“ä¹Ÿèƒ½æ­å»ºåšå®¢ï¼Œæ‰€ä»¥è¿™ç§æ–¹æ¡ˆå¯¹æœåŠ¡å™¨çš„è¦æ±‚å¾ˆå°ï¼Œæ­å»ºç¯å¢ƒä¹Ÿæ¯”è¾ƒç®€å•ã€‚ä½†æ˜¯éœ€è¦æ³¨æ„åˆ°é™æ€ç½‘é¡µçš„æ¯ä¸ªæ”¹åŠ¨éƒ½éœ€è¦é‡æ–°ç¼–è¯‘ç½‘é¡µã€‚ç”±äºåšå®¢æ˜¯é™æ€çš„ï¼Œè¿˜æ˜¯ç”¨çš„node.jsï¼Œç‰¹åˆ«æ¨èç»™å­¦è¿‡å‰ç«¯çš„æœ‹å‹ï¼Œåšå®¢çš„å¤–è§‚å’Œé£æ ¼å¯ä»¥é«˜åº¦ä¸ªæ€§åŒ–ï¼ hugoHugoæ˜¯ä¸€ä¸ªç”±Goè¯­è¨€ç¼–å†™çš„é™æ€ç½‘ç«™ç”Ÿæˆå™¨ï¼Œå®ƒçš„ä¸»è¦åŠŸèƒ½æ˜¯å°†Markdownæˆ–å…¶ä»–æ ¼å¼çš„å†…å®¹è½¬æ¢ä¸ºé™æ€çš„HTMLã€CSSå’ŒJavaScriptæ–‡ä»¶ã€‚è¿™äº›æ–‡ä»¶å¯ä»¥ç›´æ¥éƒ¨ç½²åˆ°WebæœåŠ¡å™¨ä¸Šï¼Œä»è€Œå¿«é€Ÿã€é«˜æ•ˆåœ°å±•ç¤ºå†…å®¹ã€‚éœ€è¦æ³¨æ„çš„æ˜¯Hugoä¸»è¦å…³æ³¨äºç”Ÿæˆé™æ€ç½‘ç«™ï¼Œå› æ­¤å®ƒä¸æ”¯æŒåŸç”Ÿæ³¨å†Œç™»å½•ã€åŸç”Ÿè¯„è®ºç­‰åŠ¨æ€åŠŸèƒ½ã€‚è¿™äº›åŠŸèƒ½é€šå¸¸éœ€è¦ä¾èµ–ç¬¬ä¸‰æ–¹æœåŠ¡æˆ–æ’ä»¶æ¥å®ç°ï¼Œå¯¹ä¸ªäººåŠ¨æ‰‹èƒ½åŠ›æœ‰ä¸€å®šçš„è¦æ±‚ã€‚ å…³äºæˆ‘ä¸ºä»€ä¹ˆé€‰æ‹©hugo\næˆ‘ä¸ªäººæ˜¯ä½¿ç”¨javaçš„ï¼Œæ·±çŸ¥ java è™šæ‹Ÿæœºå ç”¨çš„å†…å­˜ç›¸å½“å¯è§‚ã€‚ä¸ªäººåšå®¢ä¸»è¦æ˜¯ä¸ºäº†è®°å½•ä¸åˆ†äº«ä¸€äº›ä¸ªäººå­¦ä¹ çš„å†…å®¹ï¼Œæ²¡æœ‰æ‰“ç®—åœ¨æœåŠ¡å™¨ä¸ŠèŠ±å¤šå°‘é’±ã€‚ä¹Ÿè®¸ä»¥åä¼šè¯¥ä¹Ÿè¯´ä¸å®š~å…ˆè¿™æ ·ç”¨ç€å¥½å§ é™æ€åšå®¢çš„å†…å®¹ä¿å­˜åœ¨æœ¬åœ°ï¼Œæ–¹ä¾¿åæœŸè¿ç§»ã€‚ä¸æ€•ä¸¢å¤±ã€‚å¯ä»¥ç›´æ¥æ¨é€åˆ°gitæˆ–è€…giteeä¸Šã€‚ è¢«ä¸€æ¬¾å«stackçš„ä¸»é¢˜å¸å¼•ï¼Œæ·¡é›…çš„é£æ ¼ã€‚(å…¨åœ¨æˆ‘çš„å®¡ç¾ç‚¹ä¸Šï¼Œç®€ç›´æ˜¯æ¢¦ä¸­æƒ…åšï¼ï¼ï¼ äºŒã€åœ¨windows10ä¸Šæ­å»ºhugoç¯å¢ƒ 1. ä¸‹è½½å®‰è£…gitã€goå¹¶å®‰è£… [goä¸‹è½½é“¾æ¥](https://golang.google.cn/dl/ ])\ngitä¸‹è½½é“¾æ¥\næ³¨æ„äº‹é¡¹ï¼ï¼ï¼ï¼\næ¨èé…ç½®ç¯å¢ƒå˜é‡ï¼ŒæŠŠ ä¸Šè¿°æ–‡ä»¶çš„.exeæ–‡ä»¶ä¸binæ–‡ä»¶å¤¹æ·»åŠ åˆ°ç³»ç»Ÿç¯å¢ƒå˜é‡å½“ä¸­ gitçš„ç½‘é¡µæœ‰äº›ç„å­¦ï¼Œæœ‰æ—¶å€™ä¼šè¢«å¢™ã€‚æ‰“ä¸å¼€å°±ç™¾åº¦ä¸Šæ‰¾ï¼Œéšä¾¿è£…ä¸€ä¸ªï¼Œå®‰è£…æœ€æ–°ç‰ˆå°±è¡Œï¼ 2.ä¸‹è½½hugoè§£å‹ hugoä¸‹è½½é“¾æ¥\né€‰æ‹©ç³»ç»Ÿå¯¹åº”çš„ç‰ˆæœ¬å·è¿›è¡Œä¸‹è½½ï¼Œè¿™é‡Œæˆ‘éœ€é€‰æ‹© xxx_windowns-amd64.zip\næˆ‘å®é™…è£…çš„æ˜¯hugo_extended_0.128.0_windows-amd64.zipï¼Œä¸‹è½½é“¾æ¥ æ³¨æ„äº‹é¡¹ï¼ï¼ï¼ï¼\nhugoåˆ†extendä¸æ™®é€šç‰ˆã€‚extendåªæ˜¯æ¯”æ™®é€šç‰ˆå¤šäº†ä¸€äº›å¯ä»¥è‡ªå·±æ“ä½œçš„ä¸œè¥¿ã€‚å…·ä½“åŒºåˆ«å¯ä»¥å‚è€ƒå®˜æ–¹æ–‡æ¡£ æ‡’äººå¯ä»¥ç›´æ¥çœ‹ä»¥ä¸‹å†…å®¹ï¼Œæˆ‘æŠŠä¸»è¦çš„å†…å®¹å‰ªåˆ‡è¿‡æ¥äº†ï¼š\nEditions Hugo is available in two editions: standard and extended. With the extended edition you can:\nEncode to the WebP format when processing images. You can decode WebP images with either edition. Transpile Sass to CSS using the embedded LibSass transpiler. The extended edition is not required to use the Dart Sass transpiler. We recommend that you install the extended edition.\nç‰ˆæœ¬ Hugoæœ‰ä¸¤ä¸ªç‰ˆæœ¬ï¼šæ ‡å‡†ç‰ˆå’Œæ‰©å±•ç‰ˆã€‚ä½¿ç”¨æ‰©å±•ç‰ˆï¼Œæ‚¨å¯ä»¥ï¼š\nå¤„ç†å›¾åƒæ—¶ç¼–ç ä¸ºWebPæ ¼å¼ã€‚æ‚¨å¯ä»¥ä½¿ç”¨ä»»ä¸€ç‰ˆæœ¬è§£ç WebPå›¾åƒã€‚ ä½¿ç”¨åµŒå…¥å¼LibSass Transpileå°†Sassè½¬æ¢ä¸ºCSSã€‚æ‰©å±•ç‰ˆä¸éœ€è¦ä½¿ç”¨Dart Sass transpilerã€‚ æˆ‘ä»¬å»ºè®®æ‚¨å®‰è£…æ‰©å±•ç‰ˆã€‚ 3.å®‰è£…éªŒè¯ ä»»æ„ä½ç½®æ‰“å¼€cmdç»ˆç«¯è¾“å…¥ï¼š\n1 2 3 4 # éªŒè¯go go version # éªŒè¯hugo hugo version å®‰è£…æˆåŠŸçš„æ•ˆæœï¼š\nå¯èƒ½å­˜åœ¨çš„é—®é¢˜ï¼š\ngoæˆ–hugoä¸æ˜¯å‘½ä»¤ã€‚ç­”ï¼šæ²¡æœ‰é…ç½®ç¯å¢ƒå˜é‡ã€‚æ‰“å¼€ç³»ç»Ÿé«˜çº§è®¾ç½®-\u0026gt;ç¯å¢ƒå˜é‡ï¼Œç‚¹å‡»ç”¨æˆ·å˜é‡ä¸­çš„Pathï¼Œç‚¹å‡»ç¼–è¾‘ï¼Œç‚¹å‡»å³ä¸Šè§’æ–°å»ºï¼Œè¾“å…¥ä¸Šé¢go\\hugoå®‰è£…åçš„binæ–‡ä»¶å¤¹ï¼Œæˆ–è€….exeçš„åœ°å€ï¼Œç‚¹å‡»ç¡®å®šã€‚ githubç±»çš„ä¸‹è½½é“¾æ¥æ— æ³•æ‰“å¼€ã€‚ç­”ï¼šè¿™äº›é“¾æ¥èƒ½ä¸èƒ½æ‰“å¼€ç¡®å®æ˜¯ä¸ªç„å­¦ã€‚å»ºè®®éš”ä¸€æ®µæ—¶é—´è¯•è¯•ã€æˆ–è€…ç”¨æ‰‹æœºçƒ­ç‚¹ã€æˆ–è€…ä½¿ç”¨é­”æ³•æ¢¯å­ã€‚ å››ã€æ€»ç»“ å¦‚æœä¸Šè¿°æ­¥éª¤éƒ½æ²¡æœ‰é—®é¢˜ï¼Œæ­å–œä½ ï¼ï¼ï¼hugoç¯å¢ƒå·²ç»æ­å»ºå¥½äº†ï¼ä¸‹ä¸€ç¯‡ç¬”è®°æˆ‘å°†è®²è§£ç½‘é¡µæ­å»ºè¿‡ç¨‹ã€‚\n","date":"2024-07-01T22:26:20+08:00","image":"http://localhost:1313/cover/R%281%29.jpg","permalink":"http://localhost:1313/p/firstblog/","title":"blog1hugo-win10ç¯å¢ƒçš„æ­å»º"},{"content":"typoraåŸºæœ¬è¯­æ³• 1.å±‚çº§æ ‡é¢˜ï¼š 1 æ ¼å¼ï¼š# + space + è‡ªå®šä¹‰å­—ç¬¦ â€‹\tå…¶ä¸­#å·çš„æ•°é‡ä»£è¡¨äº†æ ‡é¢˜çš„å±‚çº§ï¼Œå•ä¸ª#ä¸ºæœ€å¤§çš„æ ‡é¢˜ã€‚â€œ#â€ å·ä¸è‡ªå®šä¹‰æ ‡é¢˜å­—ç¬¦ä¹‹é—´æœ‰ä¸ªç©ºæ ¼ï¼ï¼\næ•ˆæœæ¼”ç¤ºï¼š\n1 2 #### æˆ‘æ˜¯æ ‡é¢˜ ##### æˆ‘æ˜¯å°ä¸€çº§çš„æ ‡é¢˜ æˆ‘æ˜¯æ ‡é¢˜ æˆ‘æ˜¯å°ä¸€çº§çš„æ ‡é¢˜ 2.å­—ä½“ 1 2 3 4 5 ç²—ä½“æ ¼å¼ï¼š ** + å­—ä½“ + ** æ–œä½“æ ¼å¼ï¼š * + å­—ä½“ + * ä¸­é—´åˆ é™¤çº¿æ ¼å¼ï¼š ~~ + å­—ä½“+ ~~ æ•ˆæœæ¼”ç¤ºï¼š\n1 2 3 **æˆ‘æ˜¯ä¸€æ®µç²—ä½“æ–‡å­—** *æˆ‘æ˜¯ä¸€æ®µæ–œä½“æ–‡å­—* ~~æˆ‘æ˜¯ä¸€æ®µå¸¦åˆ é™¤çº¿çš„æ–‡å­—~~ æˆ‘æ˜¯ä¸€æ®µç²—ä½“æ–‡å­— æˆ‘æ˜¯ä¸€æ®µæ–œä½“æ–‡å­— æˆ‘æ˜¯ä¸€æ®µå¸¦åˆ é™¤çº¿çš„æ–‡å­—\n3.å¼•ç”¨ 1 å¼•ç”¨æ ¼å¼ï¼š \u0026gt; + æ®µè½ æ•ˆæœæ¼”ç¤ºï¼š\n1 \u0026gt; è¿™æ˜¯ä¸€ä¸ªç”¨äºæ˜¾ç¤ºå¼•ç”¨æ•ˆæœçš„å¥å­ è¿™æ˜¯ä¸€ä¸ªç”¨äºæ˜¾ç¤ºå¼•ç”¨æ•ˆæœçš„å¥å­\n4.åˆ†å‰²çº¿ 1 2 åˆ†å‰²çº¿æ ¼å¼1ï¼š --- åˆ†å‰²çº¿æ ¼å¼2ï¼š *** æ¼”ç¤ºæ•ˆæœï¼š\n5.æ’å…¥å›¾ç‰‡ 1 æ’å…¥å›¾ç‰‡çš„æ ¼å¼ï¼š ![å›¾ç‰‡åç§°](å›¾ç‰‡è·¯å¾„) å›¾ç‰‡è·¯å¾„å¯ä»¥æ˜¯æœ¬åœ°è·¯å¾„ï¼Œä¹Ÿå¯ä»¥æ˜¯å›¾ç‰‡çš„ç½‘ç»œé“¾æ¥ã€‚å›¾ç‰‡åç§°ä¸ºè‡ªå®šä¹‰çš„æ–°æ ‡ç­¾ï¼Œå¯ä»¥ä¸è·¯å¾„ä¸­å›¾ç‰‡çš„åå­—ä¸ä¸€æ ·ã€‚\næ¼”ç¤ºæ•ˆæœï¼š\n1 ![èœ¡ç¬”å°æ–°](https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fb-ssl.duitang.com%2Fuploads%2Fitem%2F201905%2F29%2F20190529213011_dttcv.thumb.400_0.jpeg\u0026amp;refer=http%3A%2F%2Fb-ssl.duitang.com\u0026amp;app=2002\u0026amp;size=f9999,10000\u0026amp;q=a80\u0026amp;n=0\u0026amp;g=0n\u0026amp;fmt=auto?sec=1703259985\u0026amp;t=acb8150462356310d36fde4ad513218c) æœ¬åœ°å›¾ç‰‡åŠ è½½å‡ºé—®é¢˜çš„è§£å†³æ–¹æ¡ˆï¼š\nâ€‹\t1.æ–‡ä»¶=\u0026gt;åå¥½è®¾ç½® =\u0026gt; å›¾åƒ å‹¾é€‰ä¼˜å…ˆä½¿ç”¨ç›¸å¯¹è·¯å¾„\nâ€‹\t2.æ£€æµ‹æ–‡ä»¶å›¾ç‰‡æ˜¯å¦æ”¾åˆ°äº†å‹ç¼©åŒ…é‡Œé¢\nç½‘ç»œå›¾ç‰‡åŠ è½½å‡ºé—®é¢˜çš„è§£å†³æ–¹æ¡ˆï¼š\nâ€‹\tæš‚æ—¶æ²¡æ‰¾åˆ°è§£å†³æ–¹æ¡ˆã€‚å¯èƒ½æ˜¯å›¾ç‰‡æºä¸¢å¤±ï¼Œå»ºè®®æŠŠå›¾ç‰‡è½¬å­˜åˆ°è‡ªå·±çš„æœåŠ¡å™¨æˆ–è€…æœ¬åœ°ã€‚\n6.è¶…é“¾æ¥ 1 è¶…é“¾æ¥æ ¼å¼ï¼š [è¶…é“¾æ¥åå­—](é“¾æ¥åœ°å€) æ¼”ç¤ºæ•ˆæœï¼š\n1 [æˆ‘çš„åšå®¢](https://www.cnblogs.com/wendao101) æˆ‘çš„åšå®¢\nTypora ç‚¹å‡»è¶…é“¾æ¥åä¼šå±•å‡ºé“¾æ¥åå­—ï¼Œä½†æ²¡æœ‰è·³è½¬ç½‘é¡µï¼Œè¿™æ˜¯è¯¥è½¯ä»¶ä¸æ”¯æŒã€‚\n7.åˆ—è¡¨ 1 æœ‰åºåˆ—è¡¨ æ— æ ‡å‡†æ ¼å¼ enter åä¼šè‡ªåŠ¨æŒ‰æ ¼å¼æ’åˆ— åƒword ä¸€æ ·, æŒ‰ENTER ååºå·è‡ªåŠ¨è¡¥å…¨ï¼Œåˆ é™¤ä¸­é—´çš„éƒ¨åˆ†ï¼Œåºå·è‡ªåŠ¨å˜åŒ–\næ¼”ç¤ºæ•ˆæœ\n1 2 3 4 5 6 7 8 9 æœ‰åºåˆ—è¡¨ç¤ºä¾‹ 1. A + ENTER 2. B + ENTER 3. æ— åºåˆ—è¡¨ç¤ºä¾‹ - space A - space B - space A B A B 8.è¡¨æ ¼ 1 2 3 4 è¡¨æ ¼æ ¼å¼ï¼š | å±æ€§1 | å±æ€§2 | å±æ€§3| | -- | â€”â€” | -- | //ä¸­é—´çš„æ¨ªçº¿ | å€¼1 | å€¼2 | å€¼3 | ç«–çº¿ä»£è¡¨åˆ— ï¼Œ\u0026ndash; ä»£è¡¨æ¨ª ï¼Œä¸¤è€…éœ€è¦å¯¹å…¶ï¼Œ è€Œä¸”æ•´ä¸ªè¡¨æ ¼çš„å‘½ä»¤ä»£ç éœ€è¦æ”¾åœ¨åŒä¸€ä¸ªä»£ç å—å†…æ‰ä¼šè‡ªåŠ¨è¯†åˆ«æˆä¸€ä¸ªè¡¨æ ¼ã€‚\næ•ˆæœæ¼”ç¤ºï¼š\n1 2 3 | å§“å | æ€§åˆ« | æ°‘æ—| | -- | â€”â€” | -- | | é—®ç¨» | ç”· | æ±‰ | å§“å æ€§åˆ« æ°‘æ— é—®ç¨» ç”· æ±‰ é‡åˆ°çš„é—®é¢˜ï¼š\nâ€‹\tç›´æ¥ç”¨æºä»£ç ç¼–å†™ï¼Œtypora å®¹æ˜“å‡ºç°ä¸å¯¹é½ã€ä¸ç¼–è¯‘ã€å¤šä¸ªè¡¨æ ¼ç­‰é—®é¢˜ï¼Œå»ºè®®ç›´æ¥ç”¨å³é”®åˆ›å»ºè¡¨æ ¼ï¼Œç”¨\tæ³•ä¸åœ¨wordä¸­æ’å…¥è¡¨æ ¼ç±»ä¼¼ã€‚\n9.ä»£ç å— 1 ä»£ç å—è°ƒç”¨æ ¼å¼: ``` + è¯­è¨€åç§° å…¶ä¸­`æ˜¯TABä¸Šæ–¹é‚£ä¸ªé”® æ¼”ç¤ºæ•ˆæœï¼š\n1 2 3 4 5 6 #include\u0026lt;iostream\u0026gt; using namespace std; int main (viod){ cout\u0026lt;\u0026lt; \u0026#34;Hello Word!\u0026#34; \u0026lt;\u0026lt; endl; return 0; } ","date":"0001-01-01T00:00:00Z","permalink":"http://localhost:1313/p/","title":""},{"content":"å¸¸è§çš„Terminalå‘½ä»¤ï¼š 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 # ç›˜ç¬¦åˆ‡æ¢ï¼š ç›´æ¥è¾“å…¥ç›˜ç¬¦ï¼Œä¸åŒºåˆ†å¤§å°å†™ ç›´æ¥è¾“å…¥ E: ç­‰ # æŸ¥çœ‹å½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ï¼šdir # åˆ‡æ¢ç›®å½•ï¼š cd newdirectory åªè¿”å›ç›®æ ‡è·¯å¾„ä½†ä¸ä¼šè·³è½¬ cd \\d newdirectory è·¨ç›˜ç¬¦åˆ‡æ¢çš„è¯è¦åŠ \\då‚æ•°åæ‰ä¼šåˆ‡æ¢åˆ°ç›®æ ‡è·¯å¾„ï¼Œ Linux ç”¨ cd [è·¯å¾„] å³å¯åˆ‡æ¢åˆ°ç›®æ ‡è·¯å¾„ cd .. åˆ‡æ¢åˆ°ä¸Šä¸€çº§ç›®å½• cd ./ åˆ‡æ¢ä»£å½“å‰ç›®å½•ï¼ˆåŸåœ°ï¼‰ cd \\d C:\\Windows\\System32 # æŸ¥çœ‹å½“å‰è·¯å¾„å†…çš„æ‰€æœ‰æ–‡ä»¶ï¼š dir Linuxæ˜¯ls ï¼š åªå†™lsï¼Œé»˜è®¤æŸ¥çœ‹å½“å‰å·¥ä½œç›®å½•çš„æ‰€æœ‰æ–‡ä»¶å¤¹(ä¸å«éšè—æ–‡ä»¶å¤¹),ä¹Ÿå¯åŠ ä»¥ä¸‹ä¸€ä¸ªæˆ–å¤šä¸ªå‚æ•°ï¼š -aï¼Œå³-allï¼Œæ‰€æœ‰çš„æ„æ€ï¼Œè¡¨ç¤ºæŸ¥çœ‹å½“å‰ç›®å½•æ‰€æœ‰æ–‡ä»¶å¤¹(åŒ…å«éšè—çš„æ–‡ä»¶å¤¹)ï¼Œè¿™äº›éšè—æ–‡ä»¶å¤¹ä¸»è¦æ˜¯ä»¥ . å¼€å¤´çš„æ–‡ä»¶å¤¹å’Œé»˜è®¤éšè—çš„æ–‡ä»¶å¤¹ -l è¡¨ç¤ºä»¥ç«–å‘å½¢å¼å±•ç¤ºå†…å®¹ï¼Œå¹¶å±•ç¤ºæ›´å¤šçš„ä¿¡æ¯ -hï¼Œæ˜¯å±•ç¤ºå‡ºæ‰€æœ‰æ–‡ä»¶çš„å¤§å°ï¼Œå¦‚KBï¼ŒMBï¼ŒGBï¼Œå¦‚æœä¸å±•ç¤ºåˆ™ä¸ºByte # æŸ»çœ‹å½“å‰æ‰€åœ¨ç›®å½•çš„å‘½ä»¤: pwd # æ¸…ç†å±å¹•ï¼š c1s clear screençš„ç¼©å†™ # é€€å‡ºç»ˆç«¯ï¼š exit # æŸ¥çœ‹ç”µè„‘çš„ipï¼šipconfig å¦‚æœæ²¡è¯†åˆ«ï¼Œéœ€è¦æ·»åŠ PATH C:\\Windows\\System32 # æ‰“å¼€å¸¸è§çš„åº”ç”¨ï¼š calc ï¼šè®¡ç®—å™¨ mspaint ï¼š ç”»å›¾è½¯ä»¶ notepad ï¼š notepadè®°äº‹æœ¬ # ping å‘½ä»¤ ping www.baidu .com # æ–‡ä»¶æ“ä½œ md [ç›®å½•å] ï¼š å½“å‰è·¯å¾„ä¸‹åˆ›å»ºç›®æ ‡æ–‡ä»¶å¤¹; Linuxæ˜¯mkdir [æ–‡ä»¶å¤¹] rd [ç›®å½•å] ï¼š ç§»é™¤å½“å‰è·¯å¾„ä¸‹çš„ç›®æ ‡æ–‡ä»¶å¤¹ï¼Œç›´æ¥ä½¿ç”¨ rd åªèƒ½åˆ é™¤ç©ºç›®å½•ï¼Œå¦‚æœè¦åˆ é™¤çš„ç›®å½•æœ‰å­ç›®å½•æˆ–\tæ–‡ä»¶ï¼Œå°±å¿…é¡»ä½¿ç”¨ /s é€‰é¡¹\tLinuxæ˜¯rm -r [æ–‡ä»¶å¤¹], å…¶ä¸­ -rï¼šé€’å½’åˆ é™¤ç›®å½•åŠå…¶å­ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ cd\u0026gt;[æ–‡ä»¶å] ï¼š åœ¨å½“å‰è·¯å¾„ä¸‹åˆ›å»ºç›®æ ‡æ–‡ä»¶; Linuxæ˜¯touch [æ–‡ä»¶å] æˆ–è€… vim [æ–‡ä»¶å] del [æ–‡ä»¶å] ï¼šåœ¨å½“å‰è·¯å¾„ä¸‹åˆ é™¤ç›®æ ‡æ–‡ä»¶ Linuxæ˜¯rm -f [æ–‡ä»¶å], å…¶ä¸­ -fï¼šå¼ºåˆ¶åˆ é™¤æ–‡ä»¶ï¼Œä¸æç¤ºç¡®è®¤ä¿¡æ¯ ","date":"0001-01-01T00:00:00Z","permalink":"http://localhost:1313/p/","title":""},{"content":"1.Javaä¸‰å¤§ç‰ˆæœ¬ javaSE: æ ‡å‡†ç‰ˆï¼ˆæ¡Œé¢ç¨‹åºï¼Œæ§åˆ¶å°ç¨‹åºå¼€å‘ï¼‰\nJavaMEï¼šç²¾ç®€ç‰ˆï¼ˆåµŒå…¥å¼å¼€å‘ï¼‰\njavaEEï¼šä¼ä¸šçº§å¼€å‘ï¼ˆwebå¼€å‘ï¼ŒæœåŠ¡å™¨å¼€å‘ï¼‰\n2.JDKã€JREã€JVM JDK: java development kit\nJRE : java runtime envirnment\nJVM : java virtual machine\nå…¶ä¸­ JDKåŒ…å«äº†JREä¸JVMã€‚JREåŒ…å«äº†JVMã€‚\nå®‰è£…äº†JREåæ—¢å¯ä»¥è¿è¡Œjavaç¨‹åºã€‚JDKæ¯”JRE å¤šäº†ä¸€äº›å¼€å‘å·¥å…·ï¼Œæ‰€ä»¥å¼€å‘éœ€è¦è£…JDKã€‚\nJDKåŒ…å«çš„åŸºæœ¬ç»„ä»¶åŒ…æ‹¬:\njavac â€“ ç¼–è¯‘å™¨ï¼Œå°†æºç¨‹åºè½¬æˆå­—èŠ‚ç  javadoc â€“ æ–‡æ¡£ç”Ÿæˆå™¨ï¼Œä»æºç æ³¨é‡Šä¸­æå–æ–‡æ¡£ jdb â€“ debuggerï¼ŒæŸ¥é”™å·¥å…· jar â€“ æ‰“åŒ…å·¥å…·ï¼Œå°†ç›¸å…³çš„ç±»æ–‡ä»¶æ‰“åŒ…æˆä¸€ä¸ªæ–‡ä»¶ 3.å®‰è£…JDK 1.å¦‚æœOpenjdkï¼Œè¾“å…¥ java -versionæ˜¾ç¤ºçš„ç‰ˆæœ¬ä¿¡æ¯ä¸º 1 2 3 4 [machao@dev ~]$ java -version openjdk version \u0026#34;1.8.0_144\u0026#34; OpenJDK Runtime Environment (build 1.8.0_144-b01) OpenJDK 64-Bit Server VM (build 25.144-b01, mixed mode) 2.å¦‚æœæ˜¯Sun/Oraclejdk ,è¾“å…¥çš„java -version æ˜¾ç¤ºçš„ç‰ˆæœ¬ä¿¡æ¯ä¸º æ³¨æ„ï¼šjava hotspotï¼ˆTMï¼‰ 64-BITæ˜¯è¯´ç”¨çš„æ˜¯64ä½çš„hotspotè™šæ‹Ÿæœº server æ˜¯è¯´è™šæ‹Ÿæœºè¿è¡Œåœ¨serveræ¨¡\tå¼ä¸‹ã€‚ è™šæ‹Ÿæœºæœ‰server å’Œclientä¸¤ç§æ¨¡å¼\n1 2 3 4 C:\\Windows\\system32\u0026gt;java -version java version \u0026#34;1.8.0_391\u0026#34; Java(TM) SE Runtime Environment (build 1.8.0_391-b13) Java HotSpot(TM) 64-Bit Server VM (build 25.391-b13, mixed mode) 3.åœ¨å‘½ä»¤çª—å£è¾“å…¥ java -verboseï¼Œå°±å¯ä»¥æŸ¥çœ‹å®‰è£…è·¯å¾„ 1 2 3 4 5 6 7 8 9 C:\\Windows\\system32\u0026gt;java -verbose [Opened C:\\Program Files\\Java\\jre-1.8\\lib\\rt.jar] [Loaded java.lang.Object from C:\\Program Files\\Java\\jre-1.8\\lib\\rt.jar] [Loaded java.io.Serializable from C:\\Program Files\\Java\\jre-1.8\\lib\\rt.jar] ... æœ‰å…³è¯¦ç»†ä¿¡æ¯, è¯·å‚é˜… http://www.oracle.com/technetwork/java/javase/documentation/index.htmlã€‚ [Loaded jdk.internal.misc.TerminatingThreadLocal$1 from C:\\Program Files\\Java\\jre-1.8\\lib\\rt.jar] [Loaded java.lang.Shutdown from C:\\Program Files\\Java\\jre-1.8\\lib\\rt.jar] [Loaded java.lang.Shutdown$Lock from C:\\Program Files\\Java\\jre-1.8\\lib\\rt.jar] 4. å®‰è£…JDK å»ºè®®ä¸‹è½½JDK8, JDK11å’ŒJDK17, å…¶ä¸­ä¼ä¸šè¿ç”¨JDK8æ¯”è¾ƒå¤š\nä¸‹è½½å®‰è£…åŒ… windows x86 JDK8 æ·»åŠ ç¯å¢ƒå˜é‡ JAVA_HOME æ·»åŠ path å˜é‡ %JAVA_HOME%\\bin //%%æ˜¯è·¯å¾„å¼•ç”¨ %JAVA_HOME%\\jre\\bin ç”¨java -versionæ£€éªŒ 5.å¸è½½JDK åˆ é™¤Javaçš„å®‰è£…ç›®å½•\nåˆ é™¤JAVA_HOME\nåˆ é™¤ç¯å¢ƒå˜é‡ PATH ä¸‹å…³äºJavaçš„ç›®å½•\nç”¨java -versionæ£€éªŒ\n","date":"0001-01-01T00:00:00Z","permalink":"http://localhost:1313/p/","title":""},{"content":"ä»£ç ï¼ˆç”¨æ§åˆ¶å°ä¾¿è¿è¡Œæ–‡ä»¶ï¼‰ 1 2 3 4 5 public class Hello{ public static void main(String[] args){ System.out.print(\u0026#34;Hello Word!\u0026#34;); } } 1. åˆ›å»ºæ–‡ä»¶ æ–‡ä»¶åç¼€åä¸º.java\nHello.java\n[æ³¨æ„ç‚¹]ç³»ç»Ÿå¯èƒ½æ²¡æœ‰æ˜¾ç¤ºæ–‡ä»¶åç¼€åï¼Œæˆ‘ä»¬éœ€è¦æ‰‹åŠ¨æ‰“å¼€\nçª—å£çŠ¶æ€æ =\u0026gt;æŸ¥çœ‹=\u0026gt;æ˜¾ç¤º=\u0026gt;æ–‡ä»¶æ‰©å±•åï¼ˆå‹¾é€‰ï¼‰\n2. ç¼–è¯‘ : javac [æ–‡ä»¶å.java] 1 2 C:\\Users\\Administrator\\Desktop\\æ–°å»ºæ–‡ä»¶å¤¹\\java\u0026gt;javac Hello.java //ä¼šç”Ÿæˆ Hello.class æ–‡ä»¶ 3. è¿è¡Œï¼š java [æ–‡ä»¶å] 1 2 C:\\Users\\Administrator\\Desktop\\æ–°å»ºæ–‡ä»¶å¤¹\\java\u0026gt;java Hello Hello Word! åœ¨è¿è¡Œ Hello.classæ–‡ä»¶ï¼Œä½†æ˜¯ä¸éœ€è¦æ·»åŠ æ–‡ä»¶åç¼€\nå¯èƒ½ä¼šé‡åˆ°çš„æƒ…å†µ Javaå¤§å°å†™æ•æ„Ÿï¼Œ å¦‚ä¸Šè¿°ä»£ç ä¸­ System, String[], public çš„å¤§å°å†™åŒºåˆ† å°½é‡ä½¿ç”¨è‹±æ–‡ æ–‡ä»¶å å’Œ ç±»åå¿…é¡»ä¿è¯ä¸€è‡´ï¼Œå¹¶ä¸”é¦–å­—æ¯å¤§å†™ ç¬¦å·ä½¿ç”¨çš„äº†ä¸­æ–‡ 4. java è¿è¡Œæœºåˆ¶ ","date":"0001-01-01T00:00:00Z","permalink":"http://localhost:1313/p/","title":""},{"content":"1. æ³¨é‡Š å•è¡Œæ³¨é‡Š //æ³¨é‡Š å¤šè¡Œæ³¨é‡Š /* æ³¨é‡Š */ æ–‡æ¡£æ³¨é‡Š /** æ³¨é‡Š */ 2. æ ‡è¯†ç¬¦å‘½åè§„åˆ™ (ä¸ js è§„åˆ™ä¸€æ ·) æ ‡è¯†ç¬¦å¯ä»¥å«æœ‰ å­—æ¯, æ•°å­—, ä¸‹åˆ’çº¿_, (*æ³¨æ„æ­¤å¤„ç›¸è¾ƒäº c è¯­è¨€å¤šå‡ºä¸€ä¸ªç¬¦)\nä¸èƒ½ä»¥æ•°å­—å¼€å¤´\nä¸èƒ½æ˜¯javaä¸­çš„ä¿ç•™å­—å’Œå…³é”®å­—\njavaä¹Ÿé‡‡ç”¨äº† unicode ç¼–ç æ–¹å¼ï¼Œæ‰€ä»¥å­—æ¯ä¹Ÿå¯ä»¥æ˜¯ä¸­æ–‡\nå»ºè®®é‡‡ç”¨é©¼å³°æ³•ï¼š\n-é¦–å­—æ¯å°å†™ï¼Œæ¯ä¸ªå•è¯å¼€å¤´å­—æ¯å¤§å†™ï¼Œå…¶ä½™å‡å°å†™\r3.åŸºæœ¬æ•°æ®ç±»å‹ 3.1 æ•´æ•°å‹ ç±»å‹ é•¿åº¦å­—èŠ‚ ä½æ•° å–å€¼èŒƒå›´ å¤‡æ³¨ byteç±»å‹ 1ä¸ªå­—èŠ‚ 8ä½ -2^7 - 2^7-1 -128 - 127 shortç±»å‹ 2ä¸ªå­—èŠ‚ 16ä½ -2^15 - 2^15-1 ï¼32768ï¼32767 int ç±»å‹ 4ä¸ªå­—èŠ‚ 32ä½ -2^31 - 1~2^31-1 long ç±»å‹ 8ä¸ªå­—èŠ‚ 64ä½ -2^63 - 1~2^63-1 æœ«å°¾åŠ L æ³¨è§£ï¼š\næ•´å‹çš„èŒƒå›´ä¸è¿è¡Œjavaä»£ç çš„æœºå™¨æ— å…³ï¼Œè¿™ä¸€ç‚¹å’ŒCã€C++ä¸åŒï¼Œä¿è¯äº†ä»£ç åœ¨ä¸åŒçš„å¹³å°ä¹‹é—´çš„å¯ç§»æ¤å‹ã€‚\nintæœ€ä¸ºå¸¸ç”¨ï¼Œcharå’Œshortä¸»è¦ç”¨äºç‰¹å®šåœºåˆï¼Œæ¯”å¦‚åº•å±‚å¤„ç†æ–‡ä»¶ã€å¤„ç†éœ€è¦å ç”¨å¤§é‡å­˜å‚¨ç©ºé—´çš„æ•°ç»„ã€‚è¦è¡¨ç¤ºçš„æ•°æ®è¶…è¿‡intç±»å‹çš„èŒƒå›´æ—¶ä½¿ç”¨é•¿æ•´å‹int.\né€šå¸¸longç±»å‹åé€šå¸¸åŠ å­—ç¬¦â€œLâ€ï¼Œä¾‹å¦‚ long a = 123L ; ï¼Œ ä½†æ˜¯\u0026quot;L\u0026quot;ç†è®ºä¸Šä¸åŒºåˆ†å¤§å°å†™ï¼Œä½†è‹¥å†™æˆå°å†™çš„\u0026quot;l\u0026quot;ï¼Œå®¹æ˜“ä¸æ•°å­—\u0026quot;1\u0026quot;æ··æ·†ï¼Œä¸å®¹æ˜“åˆ†è¾©ï¼Œæ‰€ä»¥æœ€å¥½å†™æˆå¤§å†™çš„â€œLâ€\n3.2 æµ®ç‚¹å‹ ç±»å‹ é•¿åº¦å­—èŠ‚ ä½æ•° å–å€¼èŒƒå›´ å¤‡æ³¨ float ç±»å‹ 4å­—èŠ‚ 32ä½ å¤§çº¦Â±3.402 823 47E+38F(æœ‰æ•ˆä½ä¸º6ï½7ä½) æœ«å°¾åŠ f double ç±»å‹ 8å­—èŠ‚ 64ä½ å¤§çº¦Â±1.79769313486231570E+308(æœ‰æ•ˆä½ä¸º15ä½) æ³¨è§£ï¼š\né»˜è®¤æµ®ç‚¹æ•°ä½¿ç”¨ç±»å‹ä¸ºdoubleï¼Œ å…¶åå¯åŠ å­—ç¬¦â€œdâ€,\u0026ldquo;d\u0026quot;ç†è®ºä¸Šä¸åŒºåˆ†å¤§å°å†™\næ‰€ä»¥ä¸ºäº†åŒºåˆ†ï¼Œé€šå¸¸æµ®ç‚¹å‹æœ«å°¾æœ«å°¾åŠ å­—ç¬¦â€fâ€, ä¾‹å¦‚ float a =3.1415926535f ;ï¼Œ \u0026ldquo;f\u0026quot;ç†è®ºä¸Šä¸åŒºåˆ†å¤§å°å†™\nfloat å’Œ double ä¸èƒ½ç”¨æ¥è¡¨ç¤ºç²¾ç¡®çš„å€¼ï¼Œå¦‚ä¸èƒ½ç”¨æ¥è¡¨ç¤ºè´§å¸ç­‰ã€‚å®é™…ä½¿ç”¨ BigDecimal ç±»\nç§‘å­¦è®°æ•°æ³•: ç»“å°¾çš„\u0026quot;E+æ•°å­—\u0026quot;è¡¨ç¤ºEä¹‹å‰çš„æ•°å­—è¦ä¹˜ä»¥10çš„å¤šå°‘æ¬¡æ–¹ã€‚æ¯”å¦‚3.14E3å°±æ˜¯3.14 Ã— 103=3140ï¼Œ3.14E-3 å°±æ˜¯ 3.14 x 10-3 =0.00314\næ˜¾ç„¶Â±3.402 823 47E+38FèŒƒå›´å¤§äº-2^63 - 1~2^63-1ï¼Œå³floatèŒƒå›´å¤§äºlongï¼Œå¯æƒœfloatä¸æ˜¯å®Œå…¨ç²¾ç¡®çš„ã€‚\n3.3 å­—ç¬¦å‹ ç±»å‹ é•¿åº¦å­—èŠ‚ ä½æ•° å–å€¼èŒƒå›´ å¤‡æ³¨ char ç±»å‹ 2ä¸ªå­—èŠ‚ 16ä½ \\u0000 - \\uffff 0 - 65535 æ³¨è§£ï¼š\nJavaçš„charç±»å‹å¯ä»¥è¡¨ç¤ºæ ‡å‡†çš„ASCIIï¼Œ\ncharç±»å‹è¿˜å¯ä»¥è¡¨ç¤ºä¸€ä¸ªUnicodeå­—ç¬¦ï¼Œä»£è¡¨ä¸€ä¸ªå•ä¸€çš„16ä½ Unicode å­—ç¬¦\næƒ³è¦æ‰“å° Unicode å­—ç¬¦ å¯ä»¥ä½¿ç”¨ â€œ\\uâ€+æ•°å­—\nå­—ç¬¦å’Œå­—ç¬¦ä¸²æ˜¯ä¸¤ç§ä¸åŒçš„æ•°æ®ç±»å‹ã€‚charç±»å‹ä½¿ç”¨å•å¼•å·\u0026rsquo;\u0026lsquo;è¡¨ç¤ºï¼Œå•å¼•å·é‡Œé¢åªèƒ½æœ‰ä¸€ä¸ªå­—ç¬¦ã€‚å­—ç¬¦ä¸²ç”¨åŒå¼•å·\u0026quot;\u0026ldquo;è¡¨ç¤ºï¼ŒåŒå¼•å·ä¸­å¯ä»¥æœ‰å¾ˆå¤šå­—ç¬¦ã€‚\n3.4 å¸ƒå°”å‹ ç±»å‹ é•¿åº¦å­—èŠ‚ ä½æ•° å–å€¼èŒƒå›´ å¤‡æ³¨ boolean ç±»å‹ 0å­—èŠ‚ 1 ä½ true or false é»˜è®¤å€¼æ˜¯ false æ³¨è§£:\nJAVAè§„èŒƒä¸­æ²¡æœ‰å®šä¹‰booleanç±»å‹çš„å¤§å°, ç†è®ºä¸Šç»„éœ€è¦1bit å³å¯ï¼Œä½†æ˜¯ç¼–è¯‘æ—¶æœ‰å®šä¹‰ï¼šJVMè§„èŒƒç¬¬2ç‰ˆ 3.3.4èŠ‚ï¼š\nå•ä¸ªçš„boolean ç±»å‹å˜é‡åœ¨ç¼–è¯‘çš„æ—¶å€™æ˜¯ä½¿ç”¨çš„int ç±»å‹ï¼Œ4ä¸ªå­—èŠ‚(32bit) ä½†å¦‚æœæ˜¯booleanæ•°ç»„åœ¨ç¼–è¯‘çš„æ—¶å€™æ˜¯ä½œä¸ºbyte arrayæ¥ç¼–è¯‘çš„ï¼Œæ¯ä¸€ä¸ªå…ƒä»¶å 1å­—èŠ‚(8 bits) 3.5 å¯¹æ¯”æ€»ç»“ byte ä½œç”¨ç±»ä¼¼äº c++ä¸­çš„charï¼Œä½†åˆæ— æ³•ç›´æ¥å­˜å­—ç¬¦\nchar å¤§å°ä¸c++ä¸åŒï¼Œå¤šäº†ä¸€ä¸ªå­—èŠ‚ï¼Œ2å­—èŠ‚å¯å­˜ unicode, æ‰€ä»¥å¯ä»¥æ˜¯ä¸­æ–‡\njava æ—  unsigned ç±»å‹\njava å¸¸é‡çš„éœ€è¦åŠ ä¿®é¥°ç¬¦ finalï¼Œç›¸å½“äºc++ä¸­çš„ const\n3.6 ç±»å‹è½¬æ¢ ç±»å‹ byte =\u0026gt; short =\u0026gt;int =\u0026gt; long =\u0026gt; float =\u0026gt; double ä¼˜å…ˆçº§ ä½\u0026raquo;\u0026raquo;\u0026raquo;\u0026raquo;\u0026raquo;\u0026raquo;\u0026raquo;\u0026raquo;\u0026raquo;\u0026raquo;\u0026raquo;\u0026raquo;\u0026raquo;\u0026raquo;\u0026gt;é«˜ ä½å¯ä»¥ç›´æ¥è½¬é«˜ï¼Œä½†æ˜¯é«˜è½¬ä½ä¼šå‡ºç°æº¢å‡ºå’Œä¸¢ç²¾åº¦çš„ç°è±¡\nä¸èƒ½å¯¹booleanç±»å‹è¿›è¡Œç±»å‹è½¬æ¢ï¼Œï¼ˆStringä¸æ˜¯åŸºæœ¬æ•°æ®ç±»å‹ï¼Œèƒ½è¿›è¡Œæ‹¼æ¥ï¼‰\né«˜è½¬ä½éœ€è¦å¼ºåˆ¶ç±»å‹è½¬æ¢ï¼Œæ˜¾å¼å†™æ˜è¦è½¬æ¢çš„ç±»å‹\nå½“å¤šç§æ•°æ®ç±»å‹çš„æ•°æ®æ··åˆè¿ç®—æ—¶ï¼ŒJavaé¦–å…ˆä¼šè‡ªåŠ¨å°†æ‰€æœ‰çš„æ•°æ®è½¬æ¢æˆä¼˜å…ˆçº§é«˜çš„çš„é‚£ç§æ•°æ®ç±»å‹ï¼Œç„¶åå†è¿›è¡Œè®¡ç®—\nchar byte short ä¸‰è€…è®¡ç®—æ—¶éƒ½ä¼šå…ˆè½¬æ¢ä¸ºintå‹å†è¿›è¡Œè¿ç®—ã€‚\nä¸éœ€è¦æ˜¾å¼å¼ºåˆ¶è½¬æ¢çš„ç‰¹ä¾‹ï¼šç”±äºæ•´æ•°é»˜è®¤ç±»å‹æ˜¯intï¼ŒJVMä¼šæ ¹æ®å£°æ˜å’Œchar byte short ä¸‰è€…å„è‡ªçš„æ•°å€¼èŒƒå›´æŠŠ int å€¼ è‡ªåŠ¨å¼ºåˆ¶è½¬æ¢æˆå¯¹åº”çš„ç±»å‹ï¼Œå¦‚æœå€¼è¶…è¿‡èŒƒå›´è¿˜æ˜¯éœ€è¦æ˜¾å¼åœ°å¼ºåˆ¶è½¬æ¢\n4.å˜é‡ ç±»å˜é‡\nå®ä¾‹å˜é‡\nå±€éƒ¨å˜é‡\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 public class Person { //ç±»å˜é‡ï¼š éœ€è¦å…³é”®è¯ static static int population = 1; //å®ä¾‹å˜é‡ï¼šä»å±äºå¯¹è±¡; å¦‚æœä¸åˆå§‹åŒ–ï¼Œä¼šèµ‹äºˆé»˜è®¤å€¼0, 0.0, false, null String name; int age; //mianæ–¹æ³• public static void main(String[] args) { //å±€éƒ¨å˜é‡ï¼š å£°æ˜åå¿…é¡»åˆå§‹åŒ–å€¼,ä¸ç„¶æŠ¥é”™ /*int i; System.out.println(i);*/ int i; i=10; System.out.println(i); /* * å®ä¾‹å˜é‡éœ€è¦å…ˆåˆ›å»ºä¸€ä¸ªå¯¹è±¡ * å®ä¾‹å˜é‡å¦‚æœä¸å¤èµ‹å€¼åˆ™ä¸ºé»˜è®¤å€¼ */ /* * åˆ›å»ºå¯¹è±¡ * å˜é‡ç±»å‹ å˜é‡å = new æ„é€ å‡½æ•°ï¼› */ Person person = new Person(); System.out.println(person.name); System.out.println(person.age); person = null; /* * ç±»å˜é‡çš„è°ƒç”¨ * ç±»å˜é‡æ— éœ€å¯¹è±¡å°±å¯ä»¥è°ƒç”¨ * ç›¸å½“äºc++ä¸­çš„é™æ€æˆå‘˜,æ•´ä¸ªç±»å…±ç”¨ä¸€ä¸ª */ System.out.println(population); } } 4.1 å˜é‡å‘½åè§„åˆ™ æ‰€æœ‰å˜é‡ã€æ–¹æ³•ã€ç±»å: è§åçŸ¥æ„ ç±»å : é¦–å­—æ¯ å¤§å†™ å’Œé©¼å³°åŸåˆ™: Man, GoodMan ç±»æˆå‘˜å˜é‡ã€å±€éƒ¨å˜é‡: é¦–å­—æ¯ å°å†™ å’Œé©¼å³°åŸåˆ™ : monthSalary å¸¸é‡ : å¤§å†™å­—æ¯å’Œä¸‹åˆ’çº¿ : MAX_VALUE æ–¹æ³•å : é¦–å­—æ¯å°å†™å’Œé©¼å³°åŸåˆ™ : run(), runRun0 æšä¸¾ç±»å‹é‡Œçš„æšä¸¾å¸¸é‡çš„åç§°åº”ä½¿ç”¨å…¨å¤§å†™å­—æ¯ï¼Œä¸”ä¸èƒ½åŒ…å«ç©ºæ ¼ã€æ ‡ç‚¹ç¬¦å·å’Œå…¶ä»–ç¬¦å·ã€‚ 5.å…³é”®å­— åœ¨Javaä¸­ç›®å‰ä¸€å…±æœ‰53ä¸ªå…³é”®å­—ï¼š\n48ä¸ªå…³é”®å­—ï¼šabstractã€assertã€booleanã€breakã€byteã€caseã€catchã€charã€classã€continueã€defaultã€doã€doubleã€elseã€enumã€extendsã€finalã€finallyã€floatã€forã€ifã€implementsã€importã€intã€interfaceã€instanceofã€longã€nativeã€newã€packageã€privateã€protectedã€publicã€returnã€shortã€staticã€strictfpã€superã€switchã€synchronizedã€thisã€throwã€throwsã€transientã€tryã€voidã€volatileã€while\n3ä¸ªç‰¹æ®Šç›´æ¥é‡ï¼štrueã€falseã€null\n2ä¸ªä¿ç•™å­—ï¼šgotoã€const\nå‡ ä¸ªä¸å¸¸ç”¨çš„å…³é”®å­—ï¼š\nassert : æ–­è¨€ï¼ˆåœ¨å¼‚å¸¸è¿™ä¸€ç« ç”¨ï¼‰ã€‚å®ƒç”¨äºåœ¨ç¨‹åºæ‰§è¡Œæ—¶éªŒè¯æŸäº›æ¡ä»¶æ˜¯å¦æ»¡è¶³ã€‚å¦‚æœæ¡ä»¶æˆç«‹ï¼Œåˆ™ç¨‹åºç»§ç»­æ‰§è¡Œï¼›å¦åˆ™ç¨‹åºæŠ›å‡ºå¼‚å¸¸æˆ–ç›´æ¥ç»ˆæ­¢ã€‚\nenumï¼šæšä¸¾ç±»ã€‚Java5ä¹‹å‰ï¼Œå‘æŒ¥ç±»ä¼¼ä½œç”¨çš„æ˜¯final classã€‚ä½†æ˜¯enumæ›´æ–¹ä¾¿ã€‚enumæšä¸¾ç±»å­˜å‚¨ç€æšä¸¾å€¼çš„ç´¢å¼•ã€åç§°ã€æ‰€æœ‰æšä¸¾å€¼ç­‰é‡è¦ä¿¡æ¯ï¼Œå¹¶ä¸”å¯ä»¥å°†æ¯ä¸€ä¸ªæšä¸¾å€¼è§†ä¸ºä¸€ä¸ªå¯¹è±¡ï¼Œè¿›è¡Œè‡ªå®šä¹‰æ‰©å±•å±æ€§å’Œæ–¹æ³•ã€‚\næšä¸¾ç±»å‹çš„å®šä¹‰ä½¿ç”¨å…³é”®å­—â€œenumâ€ï¼Œåœ¨å®šä¹‰ä¸­åˆ—å‡ºæ‰€æœ‰çš„æšä¸¾å¸¸é‡ã€‚æ¯ä¸ªæšä¸¾å¸¸é‡éƒ½æ˜¯è¯¥æšä¸¾ç±»å‹çš„å®ä¾‹ï¼Œå®ƒä»¬è¢«åˆ†é…äº†é»˜è®¤çš„åç§° æšä¸¾ç±»å‹çš„å®ä¾‹å¯ä»¥é€šè¿‡åç§°æˆ–åºå·æ¥è®¿é—®ã€‚ æšä¸¾ç±»å‹çš„åç§°åº”è¯¥ä½¿ç”¨å¤§å†™å­—æ¯ï¼Œä»¥ä¾¿ä¸å…¶ä»–ç±»å’Œå˜é‡åŒºåˆ†å¼€æ¥ã€‚æšä¸¾å¸¸é‡çš„åç§°ä¹Ÿåº”è¯¥ä½¿ç”¨å¤§å†™å­—æ¯ï¼Œä¸”ä¸èƒ½åŒ…å«ç©ºæ ¼ã€æ ‡ç‚¹ç¬¦å·å’Œå…¶ä»–ç¬¦å·ã€‚ strictfp ï¼š ç”¨æ¥å£°æ˜FP_strictï¼ˆå•ç²¾åº¦æˆ–åŒç²¾åº¦æµ®ç‚¹æ•°ï¼‰è¡¨è¾¾å¼éµå¾ªIEEE 754ç®—æœ¯è§„èŒƒ\ntransient ï¼šå£°æ˜ä¸ç”¨åºåˆ—åŒ–çš„æˆå‘˜åŸŸ\nsynchronized ï¼š è¡¨æ˜ä¸€æ®µä»£ç éœ€è¦åŒæ­¥æ‰§è¡Œ\nvolatile ï¼š è¡¨æ˜ä¸¤ä¸ªæˆ–è€…å¤šä¸ªå˜é‡å¿…é¡»åŒæ­¥åœ°å‘ç”Ÿå˜åŒ–\nnative : ç”¨æ¥å£°æ˜ä¸€ä¸ªæ–¹æ³•æ˜¯ç”±ä¸è®¡ç®—æœºç›¸å…³çš„è¯­è¨€ï¼ˆå¦‚C/C++/FORTRANè¯­è¨€ï¼‰å®ç°çš„\n","date":"0001-01-01T00:00:00Z","permalink":"http://localhost:1313/p/","title":""},{"content":"1. ä½è¿ç®— 1 2 3 4 5 6 7 8 9 10 11 12 /* A = 0011 1100; * B = 0000 1101; * ---------------------------------- * ä¸ï¼š * A\u0026amp;B = 0000 1100;//éƒ½ä¸º1çš„æ‰æ˜¯1 * æˆ–ï¼š * A|B = 0011 1101;//æœ‰1çš„å°±æ˜¯1 * å¼‚æˆ–ï¼š * A^B = 0011 0001;//åªæœ‰ä¸€ä¸ª1çš„æ‰æ˜¯1 * éï¼š * ~A = 1100 0011;//æ‰€æœ‰ä½å–å */ 1 2 3 4 5 //\t\u0026lt;\u0026lt; : a\u0026lt;\u0026lt;n, aï¼ˆè½¬äºŒè¿›åˆ¶åï¼‰å·¦ç§»nä½ ç›¸å½“äºä¹˜äº†2^n System.out.println(\u0026#34;2*8 = 2\u0026lt;\u0026lt;3 = \u0026#34; + (2\u0026lt;\u0026lt;3));//16 //\t\u0026gt;\u0026gt; ï¼ša\u0026gt;\u0026gt;n, aï¼ˆè½¬äºŒè¿›åˆ¶åï¼‰å³ç§»nä½ ç›¸å½“äºé™¤äº†2^n System.out.println(\u0026#34;24/8 = 24\u0026gt;\u0026gt;3 =\u0026#34; + (24\u0026gt;\u0026gt;3));//8 2. ä¼˜å…ˆçº§ ç®—æœ¯è¿ç®—ç¬¦ï¼š+ï¼Œ-ï¼Œ*ï¼Œ/ï¼Œ%ï¼Œ++ï¼Œ\u0026ndash;\nèµ‹å€¼è¿ç®—ç¬¦ï¼š=\næ‰©å±•åçš„èµ‹å€¼è¿ç®—ç¬¦ï¼š+=ï¼Œ-=ï¼Œ*=ï¼Œ/=ï¼Œ%=ï¼Œ\u0026amp;=ï¼Œ|=ï¼Œ^=ï¼Œ\u0026laquo;=ï¼Œ\u0026raquo;=ï¼Œ\u0026raquo;\u0026gt;=\nå…³ç³»æ¯”è¾ƒè¿ç®—ç¬¦ï¼š\u0026gt;ï¼Œ\u0026gt;=ï¼Œ\u0026lt;ï¼Œ\u0026lt;=ï¼Œ==\né€»è¾‘è¿ç®—ç¬¦ï¼š\u0026amp;\u0026amp;ï¼Œ\u0026amp;ï¼Œ||ï¼Œ|ï¼Œï¼ï¼Œ^\nä½è¿ç®—ç¬¦ï¼š\u0026amp;ï¼Œ|ï¼Œ~ï¼Œ^ï¼Œ\u0026laquo;ï¼Œ\u0026raquo;ï¼Œ\u0026raquo;\u0026gt;\nâ€‹\t- \u0026raquo;\u0026gt;(æ— ç¬¦å·å³ç§»è¿ç®—ç¬¦)å’Œ \u0026raquo; çš„åŒºåˆ«åœ¨äº: \u0026raquo;\u0026gt; è´Ÿæ•°é«˜ä½è¡¥ 0ï¼›\u0026raquo; è´Ÿæ•°é«˜ä½è¡¥1ï¼›\nä¸‰ç›®è¿ç®—ç¬¦ï¼š? :\nâ€‹\t- (expression) ? if-true-statement : if-false-statement;\n2.1é€»è¾‘ä¸æˆ–éä¼˜å…ˆçº§ï¼š é€»è¾‘é\u0026gt;é€»è¾‘ä¸\u0026gt;é€»è¾‘æˆ– 2.2 ç¬¦å·ä¼˜å…ˆçº§è¡¨ ä¼˜å…ˆçº§ è¿ç®—ç¬¦åå­— è¯´æ˜ ç±» ç»“åˆæ€§ å…¶ä»–è¯´æ˜ 1 () [] . {} æ‹¬å·ï¼Œæ–¹æ‹¬å·ï¼Œç‚¹ï¼Œ é›†åˆ åˆ†éš”ç¬¦ ä»å·¦å¾€å³ 2 ï¼+ï¼ˆæ­£ï¼‰-ï¼ˆè´Ÿï¼‰~ ++ \u0026ndash; é€»è¾‘éï¼Œæ­£å·ï¼Œè´Ÿå·ï¼ŒæŒ‰ä½å–åï¼Œè‡ªå¢ï¼Œè‡ªå‡ ä¸€å…ƒè¿ç®—ç¬¦ ä»å³å¾€å·¦ 3 (type) å¼ºåˆ¶ç±»å‹è½¬æ¢è¿ç®—ç¬¦ æ—  æœ¬è´¨æ˜¯()æå‡ºæ¥çš„ä¼˜å…ˆçº§ 4 * / % ä¹˜ï¼Œé™¤ï¼Œ å–ä½™ äºŒå…ƒè¿ç®—ç¬¦ ä»å·¦å¾€å³ 5 + - åŠ ï¼Œå‡ äºŒå…ƒè¿ç®—ç¬¦ ä»å·¦å¾€å³ 6 \u0026laquo; \u0026raquo; \u0026raquo;\u0026gt; å·¦ç§»ï¼Œå³ç§»ï¼Œæ— ç¬¦å·å³ç§» ä½ç§»è¿ç®—ç¬¦ ä»å·¦å¾€å³ a\u0026raquo;b, a (è½¬äºŒè¿›åˆ¶å)å³ç§»bä½ 7 \u0026lt; \u0026lt;= \u0026gt; \u0026gt;= instanceof å°äºï¼Œå°äºç­‰äºï¼Œå¤§äºï¼Œå¤§äºç­‰äºï¼Œç±»å± å…³ç³»è¿ç®—ç¬¦ ä»å·¦å¾€å³ 8 == != ç­‰ä»·äºï¼Œä¸ç­‰äº ç­‰ä»·è¿ç®—ç¬¦ï¼ˆå…³ç³»è¿ç®—ç¬¦ï¼‰ ä»å·¦å¾€å³ 9 \u0026amp; | ^ æŒ‰ä½ä¸ï¼ŒæŒ‰ä½æˆ–ï¼ŒæŒ‰ä½å¼‚æˆ– ä½é€»è¾‘è¿ç®—ç¬¦ ä»å·¦å¾€å³ æŒ‰ä½ä¸\u0026gt;æŒ‰ä½å¼‚æˆ–\u0026gt;æŒ‰ä½æˆ– 10 \u0026amp;\u0026amp; || é€»è¾‘ä¸ï¼Œé€»è¾‘æˆ– é€»è¾‘è¿ç®—ç¬¦ ä»å·¦å¾€å³ é€»è¾‘ä¸\u0026gt;é€»è¾‘æˆ– 11 ? : (expression) ? if-true-statement : if-false-statementï¼› ä¸‰ç›®è¿ç®—ç¬¦ ä»å·¦å¾€å³ 12 = += -= *= /= èµ‹å€¼è¿ç®—ç¬¦ ä»å³å¾€å·¦ 12 \u0026amp;= |= ^= %= \u0026laquo;= \u0026raquo;= \u0026raquo;\u0026gt;= èµ‹å€¼è¿ç®—ç¬¦ ä»å³å¾€å·¦ ä¸‹å›¾æ¥æº\n2.3 \u0026amp;ä¸\u0026amp;\u0026amp;ï¼Œ|ä¸||çš„å¼‚åŒ \u0026amp;ä¸\u0026amp;\u0026amp;\nç›¸åŒç‚¹ï¼šéƒ½éœ€è¦ä¸¤è¾¹ä¸ºtrueç»“æœæ‰æ˜¯true ä¸åŒç‚¹ï¼š\u0026amp;æ˜¯ä½é€»è¾‘è¿ç®—ï¼Œå³ä½¿å·¦è¾¹ä¸ºfalseï¼Œå³ä¾§ç…§æ ·æ‰§è¡Œã€‚ä½†æ˜¯\u0026amp;\u0026amp;å¦‚æœå·¦è¾¹ä¸ºfalseï¼Œå°†ç›´æ¥å¿½ç•¥å³ä¾§ï¼Œæœ‰äººæŠŠè¿™ç§æ€§è´¨ç§°ä¸ºçŸ­è·¯ï¼Œï¼ˆçŸ­è·¯ä¸ï¼‰ã€‚ |ä¸||\nç›¸åŒç‚¹ï¼šæœ‰ä¸€è¾¹ä¸ºtrueç»“æœå°±æ˜¯true\nä¸åŒç‚¹ï¼š\u0026amp;æ˜¯ä½é€»è¾‘è¿ç®—ï¼Œå³ä½¿å·¦è¾¹ä¸ºtrueï¼Œå³ä¾§ç…§æ ·æ‰§è¡Œã€‚ä½†æ˜¯\u0026amp;\u0026amp;å¦‚æœå·¦è¾¹ä¸ºtrueï¼Œå°†ç›´æ¥å¿½ç•¥å³ä¾§ï¼Œï¼ˆçŸ­è·¯æˆ–ï¼‰ã€‚\n","date":"0001-01-01T00:00:00Z","permalink":"http://localhost:1313/p/","title":""},{"content":"1. åŒ…æœºåˆ¶ 1.1 è¯­æ³•æ ¼å¼ package pkg1[.pkg2[.pkg3\u0026hellip;]];\næ³¨æ„ï¼š\nâ€‹\tæ­¤å¥å¿…é¡»æ”¾åœ¨æ–‡ä»¶æœ€å¼€å§‹ä½ç½®\n1.2 æå€¡çš„å‘½åæ ¼å¼ ä¸€èˆ¬åˆ©ç”¨å…¬å¸çš„åŸŸåå€’ç½®ä½œä¸ºåŒ…å\nå¦‚ www.baidu.com å…¶åŒ…åå°±æ¨èå‘½åä¸º com.baidu.www\n1.3 å¼•ç”¨åŒ… import package pkg1[.pkg2[.pkg3\u0026hellip;]].(classname|*);\nâ€‹\t- å¯¼å…¥è‡ªå®šä¹‰æ–‡ä»¶æ—¶ï¼Œä¸€èˆ¬æ— éœ€æ·»åŠ æ–‡ä»¶ç±»å‹ .(classname|*)ï¼Œåªå†™åˆ°æ–‡ä»¶åå³å¯\nâ€‹\t- *å·æ˜¯ä¸‡èƒ½ç¬¦ï¼Œå¯ä»¥ç®€å•ç†è§£æˆâ€œæ‰€æœ‰â€ï¼Œå’ŒSQLä¸€æ ·ç”¨æ³•\nä¾‹å¦‚ï¼š\n1 2 import java.utol.Date; import java.util.Scanner; 1.4 é™æ€å¯¼å…¥åŒ… â€‹\timport static [åŒ…å] . [æ–¹æ³•å];\nimport static [åŒ…å] . [ç±»å±æ€§];\næ–¹æ³•åæ— éœ€åŠ æ‹¬å·ï¼Œå¯¼å…¥åå¯åœ¨è¯¥æ–‡ä»¶å†…ç›´æ¥è°ƒç”¨è¯¥æ–¹æ³•ï¼Œæ— éœ€å†ç”¨ [åŒ…å] . [æ–¹æ³•å]çš„å½¢å¼ 1 2 3 4 5 6 7 8 9 10 11 //ä½¿ç”¨é™æ€å¯¼å…¥åŒ…å‰ import java.lang.Math; System.out.println(Math.random()); System.out.println(Math.PI); //ä½¿ç”¨é™æ€å¯¼å…¥åŒ…å import java.lang.Math.random; import java.lang.Math.PI; System.out.println(random()); System.out.println(PI); 1.5 JDK1.8 APIæ–‡æ¡£ JDK8 API åœ¨çº¿æ–‡æ¡£ å…¨è‹±æ–‡\nJDK8 API åœ¨çº¿æ–‡æ¡£ ä¸­æ–‡\nJDK1.8 APIæ–‡æ¡£ä¸­æ–‡ä¸è‹±æ–‡ç‰ˆçš„ç¦»çº¿ç‰ˆï¼šè¿™ä¸ªå“¥ä»¬æä¾›äº†ä¸€ä¸ªï¼š\nä¸‹è½½æº\n2. JavaDocç”Ÿæˆ 2.1 å‘½ä»¤è¡Œç”ŸæˆJavaDocæ–‡æ¡£ï¼š javadoc -encoding UTF-8 -charset UTF-8 [æ–‡ä»¶å].java\nç»“æœï¼š\nç”Ÿæˆäº†å¥½å‡ ä¸ªæ–‡ä»¶ï¼Œå…¶ä¸­ index.htmlæ‰“å¼€åä¸ 1.4 èŠ‚ä¸­çš„åœ¨çº¿APIæ–‡æ¡£ç•Œé¢ç›¸ä¼¼\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 C:\\Users\\Administrator\\Desktop\\src\\base\u0026gt;javadoc -encoding UTF-8 -charset UTF-8 Doc.java æ­£åœ¨åŠ è½½æºæ–‡ä»¶Doc.java... æ­£åœ¨æ„é€  Javadoc ä¿¡æ¯... æ ‡å‡† Doclet ç‰ˆæœ¬ 1.8.0_391 æ­£åœ¨æ„å»ºæ‰€æœ‰ç¨‹åºåŒ…å’Œç±»çš„æ ‘... æ­£åœ¨ç”Ÿæˆ.\\base\\Doc.html... Doc.java:14: è­¦å‘Š: @param æ²¡æœ‰è¯´æ˜ * @param name ^ Doc.java:15: è­¦å‘Š: @return æ²¡æœ‰è¯´æ˜ * @return ^ Doc.java:16: è­¦å‘Š: @throws æ²¡æœ‰è¯´æ˜ * @throws Exception ^ Doc.java:4: é”™è¯¯: æœªçŸ¥æ ‡è®°: auther * @auther wendao101 ^ æ­£åœ¨ç”Ÿæˆ.\\base\\package-frame.html... æ­£åœ¨ç”Ÿæˆ.\\base\\package-summary.html... æ­£åœ¨ç”Ÿæˆ.\\base\\package-tree.html... æ­£åœ¨ç”Ÿæˆ.\\constant-values.html... æ­£åœ¨æ„å»ºæ‰€æœ‰ç¨‹åºåŒ…å’Œç±»çš„ç´¢å¼•... æ­£åœ¨ç”Ÿæˆ.\\overview-tree.html... æ­£åœ¨ç”Ÿæˆ.\\index-all.html... æ­£åœ¨ç”Ÿæˆ.\\deprecated-list.html... æ­£åœ¨æ„å»ºæ‰€æœ‰ç±»çš„ç´¢å¼•... æ­£åœ¨ç”Ÿæˆ.\\allclasses-frame.html... æ­£åœ¨ç”Ÿæˆ.\\allclasses-noframe.html... æ­£åœ¨ç”Ÿæˆ.\\index.html... æ­£åœ¨ç”Ÿæˆ.\\help-doc.html... 1 ä¸ªé”™è¯¯ 3 ä¸ªè­¦å‘Š 2.2 IDEAç”ŸæˆJavaDocæ–‡æ¡£ï¼š Tool==\u0026gt;Generate JavaDoc\nå…¶ä»–å‚æ•°è®¾ç½®ï¼š\noutput directory: ç”Ÿæˆè·¯å¾„\nLocaleï¼šè®¾ç½®è¯­è¨€åŒºåŸŸï¼Œå†³å®šæ–‡æ¡£çš„è¯­è¨€\nç®€ä½“ä¸­æ–‡å°±æ˜¯zh_CNã€ç¹ä½“(å°æ¹¾)zh_twã€ç¹ä½“(é¦™æ¸¯)zh-hkã€è‹±è¯­(é¦™æ¸¯)en-hkã€è‹±è¯­(ç¾å›½)en-usã€è‹±è¯­(è‹±å›½)en-gbã€è‹±è¯­(å…¨çƒ)en-ww Command line argumentsï¼š(å…¶ä»–å‘½ä»¤è¡Œå‚æ•°)ï¼š\nç¼–ç è®¾ç½®: å‚æ•°ä¸€èˆ¬ä¸º-encoding UTF-8 -charset UTF-8 ","date":"0001-01-01T00:00:00Z","permalink":"http://localhost:1313/p/","title":""},{"content":"1. çŸ¥è¯†ç‚¹ if ,switch, for, whileç­‰ç­‰å’Œ C++ã€jsç­‰ç›¸ä¼¼ï¼Œéœ€è¦æ³¨æ„ä»¥ä¸‹å‡ ç‚¹ï¼š\n1.1 æœ‰å…³switch switch ä¸­çš„ case value:\nvalue ç±»å‹å¯ä»¥æ˜¯ byte , short, int, charã€‚\nvalue ç±»å‹ï¼šstring ç±»å‹æ˜¯JDK7æ‰å¼€å§‹æ”¯æŒçš„\n1.2 æœ‰å…³å¢å¼ºfor 1 for (å…ƒç´ ç±»å‹ å˜é‡å : éœ€è¦éå†çš„æ•°ç»„æˆ–é›†åˆ){//ä»£ç } ä¹Ÿç§°ä¸ºfor-eachå¾ªç¯ï¼Œæ˜¯ä¸€ç§ç®€åŒ–éå†æ•°ç»„å’Œé›†åˆå…ƒç´ çš„è¯­æ³•ç»“æ„ã€‚å®ƒå¯ä»¥éå†æ•°ç»„ã€é›†åˆæˆ–å…¶ä»–å®ç°läº†Iterableæ¥å£çš„æ•°æ®ç»“æ„ã€‚\nå¢å¼ºforå¾ªç¯æ˜¯åªè¯»çš„ï¼Œå³ä¸èƒ½é€šè¿‡å®ƒæ¥ä¿®æ”¹æ•°ç»„æˆ–é›†åˆä¸­çš„å…ƒç´ ã€‚å³å¢å¼ºforå¾ªç¯ä¸èƒ½å¯¹é›†åˆè¿›è¡Œä¿®æ”¹ï¼ˆæ·»åŠ ã€åˆ é™¤ç­‰ï¼‰ã€‚å¦‚æœéœ€è¦åœ¨å¾ªç¯è¿‡ç¨‹ä¸­å¯¹é›†åˆè¿›è¡Œæ“ä½œï¼Œä»ç„¶éœ€è¦ä½¿ç”¨è¿­ä»£å™¨æˆ–ä¼ ç»Ÿçš„forå¾ªç¯ã€‚\n1 2 3 4 int[] numbers = {1, 2, 3, 4, 5}; for (int number : numbers) { System.out.println(number); } 1.3 æœ‰å…³å¸¦æ ‡ç­¾çš„forï¼ˆåƒjsï¼‰ å¦‚æœæˆ‘ä»¬éœ€è¦åœ¨åµŒå¥—çš„å¾ªç¯ä¸­ä¸€æ¬¡è·³å‡ºå¤šå±‚å¾ªç¯æˆ–è€…è·³è¿‡å½“å‰ä¸´è¿‘æŸå‡ å±‚è¿­ä»£ï¼Œå¯ä»¥ä½¿ç”¨å¸¦æ ‡ç­¾çš„ for å¾ªç¯ã€‚å…ˆæŠŠè¦è·³è½¬çš„for å‰æ·»åŠ æ ‡ç­¾ï¼Œç„¶å continue æˆ–è€… break åè¿½åŠ è¯¥æ ‡ç­¾å³å¯ã€‚ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 outer://è‡ªå®šä¹‰æ ‡ç­¾å i for (int i = 0; i \u0026lt; 10; ++i){ innerï¼š//è‡ªå®šä¹‰æ ‡ç­¾å j for (int j = 0; j \u0026lt; 10; ++j){ for (int k = 0; k \u0026lt; 2; ++k){ if (k==1){ break outer; \\\\åŸæœ¬breakåªèƒ½è·³è½¬åˆ°innerå±‚ï¼Œä½†æ˜¯è¿½åŠ æ ‡ç­¾åå¯ä»¥ç›´æ¥è·³è½¬åˆ°outerå±‚ } } } } outer://è‡ªå®šä¹‰æ ‡ç­¾å i for (int i = 0; i \u0026lt; 10; ++i){ innerï¼š//è‡ªå®šä¹‰æ ‡ç­¾å j for (int j = 0; j \u0026lt; 10; ++j){ if (j==1){ continue outer; \\\\åŸæœ¬continueåªèƒ½è·³è¿‡innerå±‚çš„ä¸€è½®ï¼Œä½†æ˜¯è¿½åŠ æ ‡ç­¾åå¯ä»¥ç›´æ¥è·³è¿‡outerå±‚çš„ä¸€è½® \\\\å³è·³è¿‡å½“å‰å±‚for å¾ªç¯çš„è¿­ä»£ï¼Œç»§ç»­æ ‡ç­¾å±‚for å¾ªç¯çš„è¿­ä»£ } } } ","date":"0001-01-01T00:00:00Z","permalink":"http://localhost:1313/p/","title":""},{"content":"1. æ±‚å€¼ç­–ç•¥ ç¼–ç¨‹è¯­è¨€ä¸­æ–¹æ³•ä¹‹é—´è¿›è¡Œå‚æ•°ä¼ é€’æ—¶æœ‰ä¸ªä¼ é€’ç­–ç•¥ï¼Œè¯¥ç­–ç•¥å°±è¢«ç§°ä¸ºæ±‚å€¼ç­–ç•¥ï¼ˆEvaluation strategiesï¼‰ã€‚æ±‚å€¼ç­–ç•¥åˆ†ä¸ºä¸¤å¤§åŸºæœ¬ç±»å‹ï¼Œå¦‚æœæŒ‰ç…§å¦‚ä½•å¤„ç†ä¼ é€’ç»™æ–¹æ³•çš„å®é™…å‚æ•°ï¼Œåˆ†ä¸ºä¸¥æ ¼çš„å’Œéä¸¥æ ¼çš„ä¸¤ç§æ±‚å€¼ç­–ç•¥ã€‚\n1.1 ä¸¥æ ¼æ±‚å€¼ç­–ç•¥ ä¼ å€¼è°ƒç”¨(Call by value)\nå°†å®å‚å¤åˆ¶ä¸€ä»½ç»™å½¢å‚ï¼Œä¿®æ”¹å½¢å‚ä¸ä¼šå¯¹å®å‚é€ æˆå½±å“ã€‚å½¢å¼å‚æ•°æ‹¿åˆ°çš„åªæ˜¯ä¸€ä¸ª\u0026quot;å±€éƒ¨æ‹·è´\u0026quot;ã€‚\nä¼ å¼•ç”¨è°ƒç”¨(Call by reference)\nåœ¨æ–¹æ³•è°ƒç”¨æ—¶å°†å¼•ç”¨ç±»å‹çš„å®å‚åœ°å€å€¼ å¤åˆ¶ ä¸€ä»½ä¼ é€’ç»™å½¢å‚ï¼Œç›¸å½“äºå½¢å‚å’Œå®å‚æŒ‡å‘äº†åŒä¸€ä¸ªå†…å­˜åœ°å€ã€‚å¼•ç”¨ä¼ é€’ä¼šå°†å®å‚çš„åœ°å€ä¼ é€’ç»™å½¢å‚ï¼Œä¿®æ”¹å½¢å‚ä¹Ÿå°±æ˜¯åœ¨ä¿®æ”¹å®å‚ã€‚\nä¼ å…±äº«å¯¹è±¡è°ƒç”¨(Call by sharing)\nåœ¨ä¼ å…±äº«å¯¹è±¡è°ƒç”¨ä¸­ï¼Œå…ˆè·å–åˆ°å®é™…å‚æ•°çš„åœ°å€ï¼Œç„¶åå°†å…¶å¤åˆ¶ï¼Œå¹¶æŠŠè¯¥åœ°å€çš„æ‹·è´ä¼ é€’ç»™è¢«è°ƒæ–¹æ³•çš„å½¢å¼å‚æ•°ã€‚å› ä¸ºå‚æ•°çš„åœ°å€éƒ½æŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡\næ³¨æ„ï¼š\nç”¨ç±»ç±»å‹åšå½¢å‚æ—¶c++æ˜¯è°ƒç”¨æ‹·è´æ„é€ å‡½æ•°åˆ›å»ºæ•´ä¸ªç±»çš„å‰¯æœ¬ï¼Œæ‰€ä»¥ä¸ä¼šå½±å“åŸå€¼ã€‚ java ç”¨ç±»ç±»å‹åšå½¢å‚æ—¶, ä¼ çš„æ˜¯åŸå€¼çš„åœ°å€ï¼Œä¿®æ”¹å½¢å‚ä¼šå½±å“åŸå€¼ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 public class ShareObject { public static void main(String[] args) { //å¾…å…±äº«å¯¹è±¡ ShareObject shObj= new ShareObject(10); System.out.println(\u0026#34;ä¿®æ”¹å‰çš„å€¼\u0026#34;+ shObj.geti());//ä¿®æ”¹å‰çš„å€¼10 // changeByShareObject(shObj); System.out.println(\u0026#34;é€šè¿‡å…±äº«å¯¹è±¡ä¼ é€’ä¿®æ”¹åçš„å€¼\u0026#34;+ shObj.geti());//é€šè¿‡å…±äº«å¯¹è±¡ä¼ é€’ä¿®æ”¹åçš„å€¼20 /* * 1.åˆ›å»ºäº†ä¸€ä¸ªå…±äº«å¯¹è±¡çš„ç±» shareObjectï¼Œè¯¥ç±»åŒ…å«äº†ä¸€ä¸ªç§æœ‰æˆå‘˜å˜é‡i, * 2.è°ƒç”¨ changeByShareObject æ–¹æ³•ä¼ é€’äº† shObj çš„å¼•ç”¨åœ¨è¯¥æ–¹æ³•ä¸­ï¼Œä¿®æ”¹äº† i çš„å€¼ä¸º20. * 3.æ¯”è¾ƒè°ƒç”¨ changeByShareObject(ShareObject Obj) å‰å i çš„å€¼å¯ä»¥å¾—å‡º Obj å¯ä»¥æ”¹å˜ shObj ä¸­ i çš„å€¼ * */ } private int i;//ç§æœ‰å®ä¾‹å˜é‡ public void seti(int value){ this.i=value;//é€šè¿‡æ–¹æ³•ä¿®æ”¹å®ä¾‹å˜é‡çš„å€¼ } public int geti(){ return this.i; } public ShareObject(int value){ this.i=value;//æ„é€ å‡½æ•° } public static void changeByShareObject( ShareObject Obj){ Obj.seti(20);//å…±äº«å¯¹è±¡è°ƒç”¨æ”¹å€¼ } } 1.1.1 ä¼ å…±äº«å¯¹è±¡è°ƒç”¨ åˆ°åº•æ˜¯ ä¼ å€¼è°ƒç”¨ è¿˜æ˜¯ ä¼ å¼•ç”¨è°ƒç”¨ çš„ç‰¹ä¾‹ ä»è¿‡ç¨‹æ¥çœ‹ï¼Œéƒ½æ˜¯å¤åˆ¶äº†å®å‚çš„åœ°å€ä¼ ç»™å½¢å‚ï¼Œé€šè¿‡ä¿®æ”¹å½¢å‚ä¹Ÿå¯ä»¥å®ç°ä¿®æ”¹å®å‚ã€‚æ‰€ä»¥ ä¼ å…±äº«å¯¹è±¡è°ƒç”¨ ä¼šæ˜¯ä¼ å¼•ç”¨è°ƒç”¨å—ï¼Ÿ\nã€ŠThe Javaâ„¢ Tutorialsã€‹ä¸­Reference data type parameters, such as objects, are also passed into methods by value. This means that when the method returns, the passed-in reference still references the same object as before. However, the values of the objectâ€™s fields can be changed in the method, if they have the proper access level.\njava æŠŠä¼ å¯¹è±¡ä¹Ÿè®¤ä¸ºæ˜¯ä¼ å€¼ï¼Œåº”è¯¥æŠŠå…¶å½’ç±»ä¸ºä¼ å€¼è°ƒç”¨ã€‚å…¶å®ä¹Ÿå¾ˆå¥½ç†è§£ï¼š\nnew å‡ºæ¥çš„å¯¹è±¡æ˜¯åœ°å€æ˜ å°„å‹çš„ï¼Œ[key] [addr]ã€‚æŠŠè¯¥å®å‚çš„æœ¬è´¨å½“ä½œæ˜¯ä¸€ç§æ˜ å°„å…³ç³» æŠŠåœ°å€å¤åˆ¶è¿‡å»çš„è¿™ä¸€æ­¥ä¸å°±æ˜¯åœ¨èµ‹å€¼æ˜ å°„å…³ç³»å—ï¼Œè¿™ä¹Ÿå°±æˆäº†ä¼ å€¼è°ƒç”¨ã€‚ ä¸€å¥è¯ï¼šå…±äº«å¯¹è±¡ä¼ é€’å°±æ˜¯å€¼ä¼ é€’ï¼Œä¼ é€’çš„å€¼æ˜¯å¯¹è±¡çš„å¼•ç”¨ 1.1.2 æ€»ç»“ æ€»ä¹‹ï¼Œåœ¨Javaæ–¹æ³•ä¼ å‚æ—¶ï¼Œæ— è®ºä¼ é€’çš„å‚æ•°æ˜¯åŸºæœ¬ç±»å‹è¿˜æ˜¯å¼•ç”¨ç±»å‹ï¼Œéƒ½æ˜¯å€¼ä¼ é€’ï¼åˆ‡è®°ä¸€ç‚¹ï¼ŒJavaé‡Œé¢åªæœ‰å€¼ä¼ é€’ï¼Œæ²¡æœ‰å¼•ç”¨ä¼ é€’ï¼\n1.2 éä¸¥æ ¼æ±‚å€¼ç­–ç•¥ 2.å¯å˜å‚æ•° Javaä¸­çš„æ–¹æ³•æ˜¯å¯ä»¥å¸¦æœ‰å¤šä¸ªå‚æ•°çš„ï¼Œç†è®ºä¸Šæ˜¯å¯ä»¥æ— é™ä¸ªã€‚ä½†å®é™…ä¸Šä¸€ä¸ªæ–¹æ³•çš„å‚æ•°æœ€å¥½ä¸è¦è¶…è¿‡5ä¸ªã€‚åœ¨Java 5ä¸­æä¾›äº†ä¸€ä¸ªå¯å˜é•¿å‚æ•°ï¼Œè¯¥å‚æ•°å…è®¸æˆ‘ä»¬åœ¨è°ƒç”¨æ–¹æ³•æ—¶ä¼ å…¥ä¸å®šé•¿åº¦çš„å‚æ•°ã€‚å…¶å®æœ¬è´¨ä¸Šæ˜¯åŸºäºæ•°ç»„æ¥å®ç°çš„ã€‚æ‰€ä»¥å½“æˆ‘ä»¬ä¸ç¡®å®šä¸€ä¸ªæ–¹æ³•éœ€è¦å¤„ç†çš„å‚æ•°ä¸ªæ•°æ—¶ï¼Œéƒ½å¯ä»¥ä½¿ç”¨å¯å˜é•¿å‚æ•°ã€‚\n1 æ–¹æ³•åï¼ˆå½¢å‚1, å½¢å‚2, ...ï¼‰{} // æ­¤å¤„ç‚¹ç‚¹ç‚¹å°±æ˜¯å¯å˜å‚æ•°çš„æ„æ€ å¯å˜å‚æ•°çš„æ ¼å¼ï¼Œå°±æ˜¯åœ¨æ–¹æ³•æœ€åä¸€ä¸ªå½¢å‚çš„åé¢åŠ ä¸Šä¸‰ä¸ªç‚¹ â€œâ€¦â€œï¼Œè¡¨ç¤ºè¯¥å½¢å‚å¯ä»¥æ¥å— 0ä¸ªå‚æ•°å€¼ï¼Œ ä¹Ÿå¯ä»¥æ˜¯1ä¸ªæˆ–è€…å¤šä¸ªå‚æ•°å€¼ï¼Œå¤šä¸ªå‚æ•°å€¼ä¼šè¢«å½“æˆæ•°ç»„ä¼ å…¥ã€‚\nå¯å˜å‚æ•°åªèƒ½ä½œä¸ºæ–¹æ³•çš„æœ€åä¸€ä¸ªå‚æ•°ï¼Œè¯¥å‚æ•°çš„å‰é¢å¯ä»¥æœ‰ä¹Ÿå¯ä»¥æ²¡æœ‰å…¶ä»–å‚æ•°\nç”±äºå¯å˜å‚æ•°å¿…é¡»æ˜¯ æœ€åä¸€ä¸ªå‚æ•°ï¼Œæ‰€ä»¥ä¸€ä¸ªæ–¹æ³•æœ€å¤šåªèƒ½æœ‰ä¸€ä¸ªå¯å˜å‚æ•°\nJavaçš„å¯å˜å‚æ•°ï¼Œä¼šè¢«ç¼–è¯‘å™¨è½¬å‹ä¸ºå¯¹åº”ç±»å‹çš„æ•°ç»„\nå¯å˜å‚æ•°åœ¨ç¼–è¯‘ä¸ºå­—èŠ‚ç åï¼Œåœ¨æ–¹æ³•ç­¾åä¸­æ˜¯ä»¥æ•°ç»„å½¢æ€å‡ºç°çš„ã€‚è¿™ä¸¤ä¸ªæ–¹æ³•çš„ç­¾åæ˜¯ä¸€è‡´çš„ï¼Œä¸èƒ½ä½œä¸ºæ–¹æ³•çš„é‡è½½ã€‚å¦‚æœåŒæ—¶å‡ºç°ï¼Œæ˜¯ä¸èƒ½ç¼–è¯‘é€šè¿‡çš„ã€‚å¯å˜å‚æ•°å¯ä»¥å…¼å®¹æ•°ç»„ï¼Œåä¹‹åˆ™ä¸æˆç«‹ã€‚\nå¯å˜å‚æ•°ä¸å…¶ä»–å‚æ•°åˆ—è¡¨éæ•°ç»„çš„åŒåæ–¹æ³•æ„æˆé‡è½½\n1 2 public static void main(String[] args) {} //ä¸å…¼å®¹ä¸‹é¢å¼å­ public static void main(String... args) {} //å…¼å®¹ä¸Šå¼å­ï¼Œç­‰ä»·äºä¸Šå¼ 1 2 3 4 5 6 7 8 9 10 public class A{ //å·²æœ‰å¯å˜å‚æ•°çš„æ–¹æ³• void fun(int... a){} //éªŒè¯é‡è½½å¯è¡Œæ€§ void fun(int a ){}//æˆåŠŸé‡è½½ void fun (int a , int b){}//æˆåŠŸé‡è½½ void fun(int a,int... a ){}//æˆåŠŸé‡è½½,ä¸å»ºè®® void fun(int[] a){}//é‡è½½å¤±è´¥ } ","date":"0001-01-01T00:00:00Z","permalink":"http://localhost:1313/p/","title":""},{"content":"1. æ•°ç»„å£°æ˜ 1 2 3 4 //æ–¹æ³•ä¸€ï¼šé¦–é€‰ dataType[] arrayName; //æ–¹æ³•äºŒï¼šéé¦–é€‰ï¼Œåƒc++ dataType arrayName[]; 2. æ•°ç»„åˆ›å»º 2.1 åŠ¨æ€åˆå§‹åŒ– 1 2 //ä¸åˆå§‹åŒ–ï¼Œå¤§å°è‡ªè¡Œå†³å®š dataType[] array = new dataType[arraySize]; å¦‚æœåŠ¨æ€åˆå§‹åŒ–ä¼šèµ‹äºˆè¯¥ç±»å‹å…ƒç´ çš„é»˜è®¤å€¼ï¼š0ï¼Œ0.0ï¼Œfalse å¯ä»¥æŒ‡å®šæ•°ç»„é•¿åº¦ï¼Œå…¶ä¸­æ•°ç»„é•¿åº¦ï¼šarrayName.length; 1 2 3 4 5 //ä¾‹å¦‚ï¼š //int[] a = new int[10];//åˆ›å»ºäº†ä¸€ä¸ªé•¿ä¸º10çš„intå‹æ•°ç»„ int[] a; a = new int[10];// 4-5ä¸3ç­‰ä»· System.out.println(a);//è¾“å‡º[I@1b6d3586 2.2 é™æ€åˆå§‹åŒ– 1 2 3 4 //ä¸ç®€å†™æ ¼å¼ï¼š dataType[] arrayName = new dataType[]{value1, value2, value3, ... }; //ç®€å†™æ ¼å¼ï¼š dataType[] arrayName = {value1, value2, value3, ... }; é™æ€åˆå§‹åŒ–ï¼Œæ•°ç»„å¤§å°ç”±ç³»ç»Ÿæ ¹æ®åˆå§‹èµ‹å€¼æ•°é‡è®¡ç®—è‡ªåŠ¨å¾—å‡º ä¸èƒ½æ‰‹åŠ¨ç»™arraySizeï¼Œå³ä½¿å’Œèµ‹å€¼æ•°é‡ç›¸ç­‰ä¹Ÿä¸è¡Œï¼Œä¹Ÿå°±æ˜¯è¯´ç¬¬äºŒä¸ª[]å†…ä¸å¯ä»¥æœ‰å‚æ•° æ­¤ç§æ–¹å¼ä¹Ÿä¿ç•™äº†æ›´æ”¹æ•°ç»„å†…æ¯ä¸ªå€¼çš„æƒåˆ© 3. æ•°ç»„çš„å­˜æ”¾ 3.1æ•°ç»„å†…å®¹(å…ƒç´ )éƒ½æ˜¯å­˜æ”¾åœ¨å †ä¸­çš„ã€‚ æ— è®ºæ•°ç»„æ˜¯åŠ¨æ€åˆå§‹åŒ–è¿˜æ˜¯é™æ€åˆå§‹åŒ–éƒ½ç”¨äº† new å…³é”®å­—æ¥åˆ›å»ºç©ºé—´ã€‚é™æ€åˆå§‹åŒ–ç®€å†™æ ¼å¼å®é™…ä¸Šä¹Ÿ new äº†ã€‚ 3.2 æ•°ç»„åå­˜æ”¾åœ¨å †æˆ–æ ˆä¸­ æ•°ç»„åå®é™…ä¸Šæ˜¯ä¸€ä¸ªå¼•ç”¨ï¼Œå­˜æ”¾çš„æ˜¯å †åŒºçš„åœ°å€å€¼ã€‚è¿™ä¸ªå˜é‡å­˜æ”¾åœ¨å †åŒºè¿˜æ˜¯æ ˆåŒºå–å†³äºå®ƒæ˜¯å±€éƒ¨å˜é‡è¿˜æ˜¯å®ä¾‹å˜é‡ã€‚\n1 2 3 4 5 6 7 public class Number { int array = new int [10];//æ­¤arrayåœ¨å †åŒº public void fun(){ int array = new int [10];//æ­¤arrayåœ¨æ ˆåŒº } } 3.2.1 åœ°å€æ‰©å±• 1 2 int[] a = new int[10];//åˆ›å»ºäº†ä¸€ä¸ªé•¿ä¸º10çš„intå‹æ•°ç»„ System.out.println(a);//è¾“å‡º[I@1b6d3586 åœ°å€å€¼çš„æ ¼å¼å«ä¹‰ [I@1b6d3586\n[ï¼šè¡¨ç¤ºå½“å‰æ˜¯ä¸€ä¸ªæ•°ç»„ I ï¼šè¡¨ç¤ºå½“å‰æ•°ç»„é‡Œé¢çš„å…ƒç´ éƒ½æ˜¯intç±»å‹çš„ @ï¼šè¡¨ç¤ºä¸€ä¸ªé—´éš”ç¬¦å·ã€‚ï¼ˆå›ºå®šæ ¼å¼ï¼‰ 1b6d3586ï¼šæ‰æ˜¯æ•°ç»„çœŸæ­£çš„åœ°å€å€¼.(åå…­è¿›åˆ¶), å¹³æ—¶æˆ‘ä»¬ä¹ æƒ¯æ€§çš„ä¼šæŠŠè¿™ä¸ªæ•´ä½“å«ä½œæ•°ç»„çš„åœ°å€å€¼ã€‚ 4.æ•°ç»„çš„ä½¿ç”¨ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 public static void main(String[] args) { int[] array = new int[] {1,2,3,4,5}; int count = 0; //å¢å¼ºforéå†æ•°ç»„ for (int a:array) { System.out.println(\u0026#34;array[\u0026#34;+(count++)+\u0026#34;]=\u0026#34; + a); } System.out.println(\u0026#34;-------------\u0026#34;); array[2]=4;//é€šè¿‡ä¸‹æ ‡ä¿®æ”¹å…ƒç´ çš„å€¼ //æ™®é€šforéå†æ•°ç»„ for (int i = 0; i \u0026lt; array.length; i++) { System.out.println(\u0026#34;array[\u0026#34;+i+\u0026#34;]=\u0026#34; + array[i]); } } 5.Arraysç±» Arraysç±»é‡Œçš„æ–¹æ³•éƒ½æ˜¯é™æ€æ–¹æ³•å¯ä»¥é€šè¿‡Arrays.æ–¹æ³•å()ç›´æ¥è°ƒç”¨ 1 2 import java.util.Arrays; ","date":"0001-01-01T00:00:00Z","permalink":"http://localhost:1313/p/","title":""},{"content":"1. é™æ€æ–¹æ³•ä¸éé™æ€æ–¹æ³•çš„åŒºåˆ« é™æ€æ–¹æ³•åœ¨å®šä¹‰ç±»çš„æ—¶å€™å°±éšç€ç±»è£…è½½åˆ°äº†å†…å­˜ä¸­ï¼Œä¸ä¼šè‡ªåŠ¨é”€æ¯ï¼Œç›´åˆ°å…³é—­ jvm éé™æ€æ–¹æ³•åªæœ‰å®ä¾‹åŒ–å¯¹è±¡çš„æ—¶å€™æ‰ä¼šåˆ†é…å†…å­˜ï¼Œä¸å®ä¾‹åŒ–å¯¹è±¡å…±å­˜ã€‚ 1 2 3 4 5 6 7 8 9 10 11 12 13 public class Demo01 { //é™æ€æ–¹æ³• ä¿®é¥°ç¬¦ static public static void user(){ //sayHello1();//æŠ¥é”™ï¼Œé™æ€æ–¹æ³•ä¸èƒ½ç›´æ¥è°ƒç”¨éé™æ€æ–¹æ³•ï¼Œå› ä¸ºå…¶è¿˜æ²¡æœ‰åˆ†é…å†…å­˜ï¼Œåªèƒ½é€šè¿‡å®ä¾‹åŒºè°ƒç”¨ã€‚ sayHello2(); } //éé™æ€æ–¹æ³• public void sayHello1(){ } public static void sayHello2(){ } public void sayHello3(){ user();//éé™æ€æ–¹æ³•å¯ä»¥ç›´æ¥è°ƒç”¨é™æ€æ–¹æ³• } } 2. æ„é€ å™¨ï¼ˆc++æ„é€ å‡½æ•°ï¼‰ å¦‚æœä¸æ˜¾å¼åœ°å®šä¹‰æ„é€ å‡½æ•°ï¼Œç¼–è¯‘æ—¶ç¼–è¯‘å™¨ä¼šè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªæ— ä»£ç å—çš„æ— å‚æ„é€ å‡½æ•° ç¼–å†™æ—¶å¦‚æœæ·»åŠ äº†æœ‰å‚æ„é€ æ–¹æ³•è€Œæœªæ·»åŠ æ— å‚æ„é€ æ–¹æ³•ï¼Œé‚£ä¹ˆç¼–è¯‘å™¨ä¸ä¼šå†é»˜è®¤æ·»åŠ æ— å‚æ„é€ æ–¹æ³•ã€‚ å¦‚æœåªå®šä¹‰æœ‰å‚ä¸å®šä¹‰æ— å‚ï¼Œä¸”åç»­è¿˜éœ€è¦è°ƒç”¨æ— å‚æ„é€ æ–¹æ³•ï¼Œç¼–è¯‘å™¨ä¼šæŠ¥é”™ï¼ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 /*ä¾‹å¦‚ï¼Œå¦‚æœä¸æ˜¾å¼è°ƒç”¨çˆ¶ç±»æœ‰å‚æ„é€ å‡½æ•°ï¼Œä¸”æ²¡å†™çˆ¶ç±»çš„æ— å‚æ„é€ å‡½æ•°çš„æƒ…å†µä¸‹ï¼š å­ç±»ä¼šé»˜è®¤è°ƒç”¨çˆ¶ç±»çš„æ— å‚æ„é€ å‡½æ•°ï¼Œä½†æ˜¯ç¼–è¯‘å™¨æ— æ³•æ‰¾åˆ°ä¸€ä¸ªæ— å‚æ„é€ å‡½æ•°ï¼Œä¼šæŠ¥é”™ï¼ */ public class A{ int a; public A(int a){this.a =a;} } public class B extends A{ //ä»¥ä¸‹æ¼”ç¤ºç¼–è¯‘å™¨é»˜è®¤çš„å­ç±»Bçš„æ— å‚æ„é€ å‡½æ•° public B(){ super();//ç¼–è¯‘å™¨é»˜è®¤åœ¨æ–¹æ³•ä½“ç¬¬ä¸€è¡Œè°ƒç”¨çˆ¶ç±»çš„æ— å‚æ„é€ å‡½æ•°ã€‚æ‰¾ä¸åˆ°åˆ™æŠ¥é”™ï¼ } } //æƒ³è¦ä¸æŠ¥é”™ï¼Œæœ‰ä»¥ä¸‹ä¸¤ä¸ªæ–¹æ³•ï¼š //1.è‡ªå·±å†™Bçš„æ„é€ å‡½æ•°ï¼Œä¸”åœ¨æ–¹æ³•ä½“ç¬¬ä¸€è¡Œå†™Aç±»çš„æœ‰å‚æ„é€ å‡½æ•° public class B extends A{ //ä»¥ä¸‹æ¼”ç¤ºç¼–è¯‘å™¨é»˜è®¤çš„å­ç±»Bçš„æ— å‚æ„é€ å‡½æ•° public B(int a){ super(a);//çˆ¶ç±»æœ‰å‚ } } //2.åœ¨Aç±»ä¸­è¿½åŠ ä¸€ä¸ªæ— å‚æ„é€ å‡½æ•° public class A{ int a; public A(int a){this.a =a;} public A(){};//è¿½åŠ æ— å‚ } 3.ä¿®é¥°ç¬¦ public, protected, private (ä¸C++ä¸€è‡´)\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 public class Person { String name; public Person(String name) { this.name = name; } //alt+insertå¯ä»¥å¿«é€Ÿé€‰æ‹©ç”ŸæˆgetName()å’ŒsetNameå‡½æ•° //é€šè¿‡è§„å®šå¯¹å¤–æ¥å£ï¼Œé™åˆ¶å¤–éƒ¨å¯¹å†…éƒ¨å˜é‡çš„éšä¾¿è®¿é—® public String getName() { return name; } public void setName(String name) { this.name = name; } } 4.ä»£ç å— 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 class Person{ //åŒ¿åä»£ç å— { System.out.println(\u0026#34;åŒ¿åä»£ç å—\u0026#34;)ï¼› } //åŠ äº†Staticä¸ºé™æ€ä»£ç å— static{ System.out.println(\u0026#34;é™æ€ä»£ç å—\u0026#34;)ï¼› } //æ— å‚æ„é€ å‡½æ•° public Person(){ System.out.println(\u0026#34;æ„é€ æ–¹æ³•\u0026#34;)ï¼› } } //è°ƒç”¨ä»¥ä¸‹å‡½æ•°ç”Ÿæˆä¸€ä¸ªPersonå®ä¾‹ä¼šäº§ç”Ÿä»€ä¹ˆç»“æœå‘¢ï¼Ÿå³ä¸Šè¿°ä¸‰è€…çš„è¿è¡Œå…ˆåæ¬¡åºæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ new Person(); /* é™æ€ä»£ç å— åŒ¿åä»£ç å— æ„é€ æ–¹æ³• */ //å†æ‰§è¡Œä¸€æ¬¡å‘¢ï¼Ÿ new Person(); /* åŒ¿åä»£ç å— æ„é€ æ–¹æ³• */ ç›´æ¥ç”±{ }æ‹¬èµ·æ¥çš„ä»£ç ä¸ºä»£ç å— æ™®é€šä»£ç å—(å«åŒ¿åä»£ç å—)ï¼Œå†æ¯æ¬¡ç”Ÿæˆå¯¹è±¡å®ä¾‹çš„æ—¶å€™éƒ½ä¼šæ‰§è¡Œä¸€æ¬¡ï¼Œè€Œä¸”æ˜¯å…ˆäºæ„é€ å‡½æ•°æ‰§è¡Œ é™æ€ä»£ç å—ï¼Œå³ static { }ï¼Œåªæœ‰ç¬¬ä¸€æ¬¡å®šä¹‰å®ä¾‹çš„æ—¶å€™ä¼šæ‰§è¡Œï¼Œä¸”å…¶æ‰§è¡Œæ¬¡åºå…ˆäºæ™®é€šçš„ä»£ç å—å’Œæ„é€ æ–¹æ³• åŒ¿åä»£ç å—å¸¸ç”¨äºèµ‹åˆå§‹å€¼ 5. finalä¿®é¥°ç¬¦ç”¨äºç±» final å¯ä»¥ç”¨äºä¿®é¥°ç±»ï¼Œæ”¾åœ¨classä¹‹åï¼Œç±»åä¹‹å‰\nè¢« final ä¿®é¥°çš„ç±»æ²¡æœ‰å­ç±»\n1 2 class final Person{} class Man extends Person{}//æŠ¥é”™ï¼Personå·²ç»æ˜¯fianl,å®ƒä¸èƒ½ç”Ÿæˆå­ç±» 6.ç±»å®ä¾‹åŒ–çš„è¿‡ç¨‹ [åŸå¸–é“¾æ¥] (https://blog.csdn.net/qq_41860497/article/details/130335081)\n6.0 åŒäº²å§”æ´¾æœºåˆ¶ JVMæä¾›ä»¥ä¸‹ä¸‰ç§classLoader ç”¨äºæŠŠclassæ–‡ä»¶åŠ è½½åˆ°JVMä¸­ï¼š\nBootstrap classLoader:ä¸»è¦è´Ÿè´£åŠ è½½æ ¸å¿ƒçš„ç±»åº“(java.lang.*ç­‰)ï¼Œæ„é€ ExtClassLoaderå’ŒAPPClassLoaderã€‚\nExtClassLoaderï¼šä¸»è¦è´Ÿè´£åŠ è½½jre/lib/extç›®å½•ä¸‹çš„ä¸€äº›æ‰©å±•çš„jarã€‚\nAppClassLoaderï¼šä¸»è¦è´Ÿè´£åŠ è½½åº”ç”¨ç¨‹åºçš„ä¸»å‡½æ•°ç±»\nä¸€ä¸ªè‡ªç¼–çš„classæ–‡ä»¶ç»è¿‡ä»¥ä¸‹æµç¨‹è¿›å…¥JVMï¼š\n6.1 åˆ¤æ–­å¯¹è±¡æ˜¯å¦å·²ç»åŠ è½½ã€é“¾æ¥ã€åˆå§‹åŒ– é¦–å…ˆæ ¹æ®newå¯¹è±¡çš„ç±»åæ˜¯å¦åœ¨å¸¸é‡æ± ä¸­å®šä½åˆ°ä¸€ä¸ªç¬¦å·å¼•ç”¨ï¼Œå¹¶æ£€æŸ¥è¿™ä¸ªç¬¦å·å¼•ç”¨ä»£è¡¨çš„ç±»æ˜¯å¦å·²ç»åŠ è½½ã€è§£æå’Œåˆå§‹åŒ–ã€‚å…¶å®å°±æ˜¯éªŒè¯æ˜¯å¦æ˜¯ç¬¬ä¸€ä¸ªä½¿ç”¨è¯¥ç±»ã€‚å¦‚æœæ˜¯ç¬¬ä¸€æ¬¡ä½¿ç”¨è¯¥ç±»ï¼Œå°±ä¼šæ‰§è¡Œç±»çš„åŠ è½½è¿‡ç¨‹ã€‚\nJVMåŠ è½½ä¸€ä¸ªç±»çš„æ—¶å€™ä¼šåˆ›å»ºä¸€ä¸ªinstanceKlassï¼Œç”¨æ¥è¡¨ç¤ºè¿™ä¸ªç±»çš„å…ƒæ•°æ®ï¼ŒåŒ…æ‹¬å¸¸é‡æ± ã€å­—æ®µã€æ–¹æ³•ç­‰ã€‚å­˜æ”¾åœ¨æ–¹æ³•åŒºã€‚\n6.2 åœ¨ javaå † ä¸­åˆ›å»ºå¯¹è±¡ åœ¨newä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œjvmåˆ›å»ºinstanceOopDescï¼Œæ¥è¡¨ç¤ºè¿™ä¸ªå¯¹è±¡ï¼Œå­˜æ”¾åœ¨å †åŒºï¼Œå…¶å¼•ç”¨å­˜æ”¾åœ¨æ ˆåŒºï¼›å¹³æ—¶è¯´çš„Java Object Layoutå°±æ˜¯instanceOopDescï¼Œå®ƒç”¨æ¥è¡¨ç¤ºå¯¹è±¡çš„å®ä¾‹ä¿¡æ¯ï¼› instanceOopDescå¯¹åº”javaä¸­çš„å¯¹è±¡å®ä¾‹ï¼ŒåŒ…æ‹¬å¯¹è±¡å¤´ï¼ˆå…¶ä¸­åŒ…å«ç±»å®šä¹‰çš„å¼•ç”¨Klassï¼ŒKlass ä¸­å®šä¹‰äº†ç±»æ–¹æ³•ï¼‰ï¼Œå®ä¾‹æ•°æ®ï¼ˆå¯¹è±¡çœŸæ­£å­˜å‚¨çš„æœ‰æ•ˆä¿¡æ¯ï¼ŒåŒ…æ‹¬ç¨‹åºä»£ç ä¸­å®šä¹‰çˆ¶ç±»å­ç±»çš„å„ç§ç±»å‹çš„å­—æ®µï¼‰ã€‚ ","date":"0001-01-01T00:00:00Z","permalink":"http://localhost:1313/p/","title":""},{"content":"1. jvm å†…å­˜æ¨¡å‹ JMM åŸå¸–é“¾æ¥ JMMæ§åˆ¶ Java çº¿ç¨‹ä¹‹é—´çš„é€šä¿¡ï¼Œå†³å®šä¸€ä¸ªçº¿ç¨‹å¯¹å…±äº«å˜é‡çš„å†™å…¥ä½•æ—¶å¯¹å¦ä¸€ä¸ªçº¿ç¨‹å¯è§ã€‚ æ¯æ¡çº¿ç¨‹åœ¨è‡ªå·±çš„å·¥ä½œå†…å­˜ä¸­å¯¹å…±äº«å˜é‡ï¼ˆå‰¯æœ¬ï¼‰è¿›è¡Œæ“ä½œï¼ŒJMMå†è´Ÿè´£æŠŠè¿™äº›æ“ä½œåŒæ­¥åˆ°ä¸»å†…å­˜ä¸­ JVM1.8 ç”¨Meta spaceï¼ˆå…ƒç©ºé—´ï¼‰ï¼ˆåœ¨JVMå¤–çš„æœ¬åœ°å†…å­˜ä¸­ï¼‰å–ä»£äº†æ–¹æ³•åŒºï¼ˆMethod Areaï¼‰ï¼ˆåœ¨JVMå †ä¸­ï¼‰ 1.1 Java heap Java å †æ˜¯åƒåœ¾æ”¶é›†å™¨ç®¡ç†çš„ä¸»è¦åŒºåŸŸï¼Œå› æ­¤ä¹Ÿè¢«ç§°ä½œGCå †ï¼ˆGarbage Collected Heapï¼‰\n1.1.2 å­—ç¬¦ä¸²å¸¸é‡æ±  å­—ç¬¦ä¸²å¸¸é‡æ± åŸæœ¬å­˜æ”¾äºæ–¹æ³•åŒºï¼Œjdk7å¼€å§‹æ”¾ç½®äºå †ä¸­ã€‚ å­—ç¬¦ä¸²å¸¸é‡æ± å­˜å‚¨çš„æ˜¯stringå¯¹è±¡çš„ç›´æ¥å¼•ç”¨ï¼Œè€Œä¸æ˜¯ç›´æ¥å­˜æ”¾çš„å¯¹è±¡ï¼Œæ˜¯ä¸€å¼ string table 1.1.3 å¯¹è±¡å®ä¾‹ ç±»åˆå§‹åŒ–ç”Ÿæˆçš„å¯¹è±¡ åŸºæœ¬æ•°æ®ç±»å‹çš„æ•°ç»„ä¹Ÿæ˜¯å¯¹è±¡å®ä¾‹ 1.1.4 çº¿ç¨‹åˆ†é…ç¼“å†²åŒº å¢åŠ çº¿ç¨‹åˆ†é…ç¼“å†²åŒºæ˜¯ä¸ºäº†æå‡å¯¹è±¡åˆ†é…æ—¶çš„æ•ˆç‡ 1.2 æœ¬åœ°å†…å­˜(å…ƒç©ºé—´å®ç°çš„æ–¹æ³•åŒº) å…ƒç©ºé—´å¹¶ä¸åœ¨è™šæ‹Ÿæœºä¸­ï¼Œè€Œæ˜¯ä½¿ç”¨æœ¬åœ°å†…å­˜\nJDK8å¼€å§‹ç”¨å…ƒç©ºé—´å®ç°åŸæ¥java heapä¸­çš„æ–¹æ³•åŒº\n-XX:MetaspaceSizeï¼Œåˆå§‹ç©ºé—´å¤§å°ï¼Œè¾¾åˆ°è¯¥å€¼å°±ä¼šè§¦å‘åƒåœ¾æ”¶é›†è¿›è¡Œç±»å‹å¸è½½ï¼ŒåŒæ—¶GCï¼ˆgarbage collectionï¼‰ä¼šå¯¹æ”¹å€¼è¿›è¡Œè°ƒæ•´ï¼šå¦‚æœé‡Šæ”¾äº†å¤§é‡çš„ç©ºé—´ï¼Œå°±é€‚å½“é™ä½è¯¥å€¼ï¼›å¦‚æœé‡Šæ”¾äº†å¾ˆå°‘çš„ç©ºé—´ï¼Œé‚£ä¹ˆåœ¨ä¸è¶…è¿‡MaxMetaspaceSizeæ—¶ï¼Œé€‚å½“æé«˜è¯¥å€¼ã€‚\n-XX:MaxMetaspaceSizeï¼Œæœ€å¤§ç©ºé—´ï¼Œé»˜è®¤æ˜¯æ²¡æœ‰é™åˆ¶çš„\n1.2.1ç±»å…ƒä¿¡æ¯ï¼ˆKlassï¼‰(æœ‰ç‚¹ç±»å®šä¹‰çš„æ„æ€) ç±»å…ƒä¿¡æ¯åœ¨ç±»ç¼–è¯‘æœŸé—´æ”¾å…¥æ–¹æ³•åŒºï¼Œé‡Œé¢æ”¾ç½®äº†ç±»çš„åŸºæœ¬ä¿¡æ¯ï¼ŒåŒ…æ‹¬ç±»çš„ç‰ˆæœ¬ã€å­—æ®µã€æ–¹æ³•ã€æ¥å£ä»¥åŠå¸¸é‡æ± è¡¨ï¼ˆConstant Pool Tableï¼‰ å¸¸é‡æ± è¡¨ï¼ˆConstant Pool Tableï¼‰å­˜å‚¨äº†ç±»åœ¨ç¼–è¯‘æœŸé—´ç”Ÿæˆçš„å­—é¢é‡ã€ç¬¦å·å¼•ç”¨ï¼Œè¿™äº›ä¿¡æ¯åœ¨ç±»åŠ è½½å®Œåä¼šè¢«è§£æåˆ°è¿è¡Œæ—¶å¸¸é‡æ± ä¸­ 1.2.2è¿è¡Œæ—¶å¸¸é‡æ± ï¼ˆRuntime Constant Pool) è¿è¡Œæ—¶å¸¸é‡æ± ä¸»è¦å­˜æ”¾åœ¨ç±»åŠ è½½åè¢«è§£æçš„å­—é¢é‡ä¸ç¬¦å·å¼•ç”¨ 1.3 æœ¬åœ°æ–¹æ³•æ ˆ æœ¬åœ°æ–¹æ³•æ ˆåˆ™æ˜¯ä¸ºæ‰§è¡Œæœ¬åœ°æ–¹æ³•ï¼ˆNative Methodï¼‰æœåŠ¡çš„ã€‚ç®€å•åœ°è®²ï¼Œä¸€ä¸ªNative Methodå°±æ˜¯ä¸€ä¸ªjavaè°ƒç”¨éjavaä»£ç çš„æ¥å£ã€‚ä¸€ä¸ªNative Methodæ˜¯è¿™æ ·ä¸€ä¸ªjavaçš„æ–¹æ³•ï¼šè¯¥æ–¹æ³•çš„å®ç°ç”±éjavaè¯­è¨€å®ç°ï¼Œæ¯”å¦‚Cã€‚è¿™ä¸ªç‰¹å¾å¹¶éjavaæ‰€ç‰¹æœ‰ï¼Œå¾ˆå¤šå…¶å®ƒçš„ç¼–ç¨‹è¯­è¨€éƒ½æœ‰è¿™ä¸€æœºåˆ¶ã€‚\n2.TLABæœºåˆ¶ å †æ˜¯å…¨å±€å…±äº«çš„ï¼Œå› æ­¤åœ¨åŒä¸€æ—¶é—´ï¼Œå¯èƒ½æœ‰å¤šä¸ªçº¿ç¨‹åœ¨å †ä¸Šç”³è¯·ç©ºé—´ï¼Œåœ¨å¹¶å‘åœºæ™¯ä¸­ï¼Œå°±ä¼šå­˜åœ¨ä¸¤ä¸ªçº¿ç¨‹å…ˆåæŠŠå¯¹è±¡å¼•ç”¨æŒ‡å‘äº†åŒä¸€ä¸ªå†…å­˜åŒºåŸŸï¼Œæ‰€ä»¥å¯¹è±¡çš„å†…å­˜åˆ†é…è¿‡ç¨‹éœ€è¦ä¸€ä¸ªåŒæ­¥æœºåˆ¶ï¼Œä½†æ˜¯æ— è®ºæ˜¯ä½¿ç”¨å“ªç§åŒæ­¥æ–¹æ¡ˆï¼ˆå®é™…ä¸Šè™šæ‹Ÿæœºä½¿ç”¨çš„å¯èƒ½CASï¼‰ï¼Œéƒ½ä¼šå½±å“å†…å­˜çš„åˆ†é…æ•ˆç‡ã€‚æ‰€ä»¥HotSpotè™šæ‹Ÿæœºçš„æä¾›äº†ä¸€ä¸ªè§£å†³æ–¹æ¡ˆï¼šTLABåˆ†é…ï¼Œå³Thread Local Allocation Bufferã€‚ï¼ˆTLABåªæ˜¯çš„ä¸€ä¸ªä¼˜åŒ–æ–¹æ¡ˆï¼Œä¸ä»£è¡¨æ‰€æœ‰çš„è™šæ‹Ÿæœºéƒ½æœ‰è¿™ä¸ªç‰¹æ€§ï¼‰\næ¯ä¸ªçº¿ç¨‹åœ¨Javaå †ä¸­é¢„å…ˆåˆ†é…ä¸€å°å—å†…å­˜ï¼Œç„¶åå†ç»™å¯¹è±¡åˆ†é…å†…å­˜çš„æ—¶å€™ï¼Œç›´æ¥åœ¨è‡ªå·±è¿™å—â€ç§æœ‰â€å†…å­˜ä¸­åˆ†é…ï¼Œå½“è¿™éƒ¨åˆ†åŒºåŸŸç”¨å®Œä¹‹åï¼Œå†åˆ†é…æ–°çš„â€ç§æœ‰â€å†…å­˜ã€‚ å› ä¸ºæœ‰äº†TLABæŠ€æœ¯ï¼Œå †å†…å­˜æ˜¯çº¿ç¨‹å…±äº«çš„è¿™ä¸ªå‘½é¢˜æ˜¯ä¸å‡†ç¡®çš„\n3. å¯¹è±¡åœ¨JVMä¸­çš„å†…å­˜å¸ƒå±€ æ¨èçœ‹ä»¥ä¸‹é“¾æ¥\nJavaå¯¹è±¡å®ä¾‹åŒ–è¿‡ç¨‹ä»¥åŠå¯¹è±¡å®ä¾‹å†…å­˜åˆ†å¸ƒ\nJavaå¯¹è±¡å®ä¾‹å†…å­˜åˆ†å¸ƒ\nåœ¨newä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œjvmåˆ›å»ºinstanceOopDescï¼Œæ¥è¡¨ç¤ºè¿™ä¸ªå¯¹è±¡ï¼Œå­˜æ”¾åœ¨å †åŒºï¼Œå…¶å¼•ç”¨å­˜æ”¾åœ¨æ ˆåŒºï¼›å¹³æ—¶è¯´çš„Java Object Layoutå°±æ˜¯instanceOopDescï¼Œå®ƒç”¨æ¥è¡¨ç¤ºå¯¹è±¡çš„å®ä¾‹ä¿¡æ¯ï¼›instanceOopDescå¯¹åº”javaä¸­çš„å¯¹è±¡å®ä¾‹ã€‚\ninstanceOopDescåŒ…å«ä¸‰éƒ¨åˆ†ï¼š\nå¯¹è±¡å¤´ï¼Œä¹Ÿå«Mark Wordï¼Œä¸»è¦å­˜å‚¨å¯¹è±¡è¿è¡Œæ—¶è®°å½•ä¿¡æ¯ï¼Œå¦‚hashcode, GCåˆ†ä»£å¹´é¾„ï¼Œé”çŠ¶æ€æ ‡å¿—ï¼Œçº¿ç¨‹IDï¼Œæ—¶é—´æˆ³ç­‰; å¯¹è±¡å¤´è¿˜åŒ…æ‹¬ class pointeræŒ‡å‘æ–¹æ³•åŒºçš„ Klass\næ¯ä¸ªå®ä¾‹å¯¹è±¡å¯¹klassçš„å¼•ç”¨éƒ½æ˜¯åŒä¸€ä¸ª å®ä¾‹æ•°æ®ï¼Œæ˜¯å¯¹è±¡çœŸæ­£å­˜å‚¨çš„æœ‰æ•ˆä¿¡æ¯ï¼ŒåŒ…æ‹¬ç¨‹åºä»£ç ä¸­å®šä¹‰çš„å„ç§ç±»å‹çš„å­—æ®µï¼ˆåŒ…æ‹¬ä»çˆ¶ç±»ç»§æ‰¿ä¸‹æ¥çš„å’Œæœ¬èº«æ‹¥æœ‰çš„å­—æ®µï¼‰ å¡«å……ã€‚æ— å®é™…æ„ä¹‰ï¼Œ ã€‚ HotSpot è¦æ±‚å¯¹è±¡èµ·å§‹åœ°å€éƒ½æ˜¯ 8 å­—èŠ‚çš„æ•´æ•°å€ï¼Œæ‰€ä»¥è¦å¯¹é½ ","date":"0001-01-01T00:00:00Z","permalink":"http://localhost:1313/p/","title":""},{"content":"1.ç»§æ‰¿ java åªæœ‰å•ç»§æ‰¿ å…³é”®å­—ï¼šextends 1 2 class A{}//çˆ¶ç±» class B extends class A{}//å­ç±»Bç»§æ‰¿äº†Aç±» 2.ç»§æ‰¿æƒé™ ç›¸è¾ƒäºC++ çš„publicï¼Œprotected, privateï¼Œjavaå¯¹ä¸å†™ç»§æ‰¿çš„defaultçš„å®šä¹‰ä¸ä¸€æ ·ï¼š\nc++ default = private Javaä¸å†™åˆ™é»˜è®¤æ˜¯ defaultï¼Œæ˜¯ä¸€ä¸ªæ–°çš„æƒé™ï¼Œ æ‰€ä»¥ Java æœ‰å››ç§ publicï¼Œprotected, privateï¼Œdefaultã€‚ default ï¼šåŒ…è®¿é—®æƒé™ é»˜è®¤è®¿é—®æƒé™æ²¡æœ‰å…³é”®å­—ï¼Œé€šå¸¸è¢«ç§°ä¸ºåŒ…è®¿é—®æƒé™ (packageaccess) (æœ‰æ—¶ä¹Ÿç§°ä¸ºfriendly)ã€‚\nè¿™æ„å‘³ç€å½“å‰åŒ…ä¸­çš„æ‰€æœ‰å…¶ä»–ç±»éƒ½å¯ä»¥è®¿é—®é‚£ä¸ªæˆå‘˜ã€‚å¯¹äºè¿™ä¸ªåŒ…ä¹‹å¤–çš„ç±»ï¼Œè¿™ä¸ªæˆå‘˜çœ‹ä¸Šå»æ˜¯private çš„ã€‚ ç”±äºä¸€ä¸ªç¼–è¯‘å•å…ƒ(å³ä¸€ä¸ªæ–‡ä»¶)åªèƒ½éš¶å±äºä¸€ä¸ªåŒ…ï¼Œæ‰€ä»¥é€šè¿‡åŒ…è®¿é—®æƒé™ï¼Œä½äºåŒä¸€ç¼–è¯‘å•å…ƒä¸­çš„æ‰€æœ‰ç±»å½¼æ­¤ä¹‹é—´éƒ½æ˜¯å¯è®¿é—®çš„ã€‚åŒ…è®¿é—®æƒé™å¯ä»¥æŠŠç›¸å…³ç±»èšåˆ°ä¸€ä¸ªåŒ…ä¸‹ï¼Œä»¥ä¾¿å®ƒä»¬èƒ½è½»æ˜“åœ°ç›¸äº’è®¿é—®ã€‚ 3.è®¿é—®è°ƒç”¨é€»è¾‘ å­ç±»è·å–åˆ°äº†çˆ¶ç±»å£°æ˜ä¸­çš„å…¨éƒ¨å±æ€§ä¸æ–¹æ³•ï¼ˆæ„é€ å™¨é™¤å¤–ï¼Œæ„é€ å™¨åªèƒ½è¢«å­ç±»è°ƒç”¨ï¼‰ã€‚ä½†æ˜¯å—åˆ°å°è£…æ€§çš„å½±å“ï¼Œå¯èƒ½ä¸èƒ½ç›´æ¥è°ƒç”¨ã€‚\nåœ¨å­ç±»æ–¹æ³•ä¸­è®¿é—®ä¸€ä¸ªå˜é‡æˆ–è€…æ–¹æ³•ï¼šæœ€å…ˆåœ¨å­ç±»å±€éƒ¨èŒƒå›´æ‰¾ï¼Œå¦‚æœæ²¡æœ‰å°±åœ¨å­ç±»æˆå‘˜èŒƒå›´æ‰¾ï¼Œæœ€ååœ¨çˆ¶ç±»æˆå‘˜èŒƒå›´æ‰¾ï¼Œå¦‚æœéƒ½æ²¡æœ‰å°±æŠ¥é”™(ä¸è€ƒè™‘çˆ¶äº²çš„çˆ¶äº²ä¹‹ç±»çš„ç¥–å…ˆ)\nå‹˜è¯¯ï¼šä¸Šé¢è¿™æ¡æŸ¥æ‰¾å…³ç³»çš„é€»è¾‘é”™è¯¯ï¼Œæ­£ç¡®æƒ…å†µæ˜¯ï¼šå­ç±»ä¸­å¦‚æœæ²¡æ‰¾åˆ°ï¼Œä¼šå»çˆ¶ç±»ä¸­æŸ¥æ‰¾ï¼Œå¦‚æœè¿˜æ˜¯æ²¡æœ‰ä¼šä¸€ç›´æŸ¥åˆ° Object ç±»ä¸ºæ­¢ï¼Œè¿˜æ˜¯æ²¡æœ‰æ‰ä¼šæŠ¥é”™ã€‚å¦‚æœå…¶ä¸­æœ‰ç¥–å…ˆæœ‰å®šä¹‰äº†å¾…æŸ¥çš„å˜é‡æˆ–è€…æ–¹æ³•ï¼Œä½†æ˜¯æ²¡ç»™è®¿é—®æƒé™ï¼Œä¼šåœæ­¢æº¯æºç›´æ¥æŠ¥é”™ã€‚\nå…¶å®å¾ˆå¥½ç†è§£ï¼Œå› ä¸ºå­ç±»ç»§æ‰¿äº†çˆ¶ç±»çš„ä¿¡æ¯ï¼Œæ‰€ä»¥å­å­™ä¹Ÿæ‹¥æœ‰ç¥–å…ˆçš„ä¿¡æ¯æ‰å¯¹ï¼Œå¯ä»¥å¥—å¨ƒå¼åœ°æº¯æºæ˜¯ç†æ‰€åº”å½“çš„\nç†è§£æ˜¯è¿™ä¹ˆç†è§£ï¼Œå’Œå®é™…ä¸Šæ–¹æ³•å’Œå˜é‡åœ¨JVMçš„ç»§æ‰¿çš„å®ç°é€»è¾‘è¿˜æ˜¯æœ‰ä¸€ç‚¹åŒºåˆ«çš„ï¼Œå®ä¾‹å¯¹è±¡ç”±å¯¹è±¡å¤´ã€ç¤ºä¾‹æ•°æ®ã€å¯¹é½å¡«å……ä¸‰ä¸ªå­—æ®µæ„æˆã€‚å¯¹è±¡å¤´å­˜äº†KlassæŒ‡å‘å½“å‰ç±»çš„å®šä¹‰ï¼ˆè¯¥å®šä¹‰å­˜äº†æŒ‡å‘çˆ¶ç±»çš„å®šä¹‰çš„æŒ‡é’ˆï¼‰ï¼Œå®ä¾‹æ•°æ®å­—æ®µå­˜çš„æ‰æ˜¯åŒ…æ‹¬çˆ¶ç±»åœ¨å†…çš„å®ä¾‹å˜é‡ã€‚æ‰€ä»¥æ–¹æ³•çš„æº¯æºå’Œå˜é‡çš„æº¯æºåœ¨å®é™…ä¸­è¿˜æ˜¯æœ‰åŒºåˆ«çš„ã€‚\n4. Objectç±» Java ä¸­æ‰€æœ‰ç±»éƒ½ä¼šç»§æ‰¿Objectç±»ï¼Œæ— è®ºç¨‹åºä¸­æœ‰æ²¡æœ‰æ˜¾å¼å†™æ˜è¿™ç§ç»§æ‰¿å…³ç³»ã€‚æœ‰ç‚¹åƒJSå¯¹è±¡ä¸­çš„åŸå‹prototypeçš„prototypeå³Objectã€‚\n5. Superå…³é”®å­— â€‹\tåŠ äº†super å…³é”®å­—å åŒå å±æ€§ æˆ–è€… æ–¹æ³• ç›´æ¥ç›´æ¥æŒ‡å‘ çˆ¶ç±»\n1 2 3 4 5 6 7 8 9 10 11 class Person{ String name; } Class Man extends Person{ String name; void showName(String name){ System.out,println(name);//æŒ‡å‘å½¢å‚name System.out.println(this.name);//æŒ‡å‘å½“å‰å®ä¾‹ Person ä¸­çš„name System.out.println(super.name);//æŒ‡å‘çˆ¶ç±»Personçš„name } } 6. this()ä¸super() å®šä¹‰ï¼š\nthis()æ˜¯è°ƒç”¨å½“å‰ç±»çš„æ„é€ å™¨ï¼Œï¼ˆï¼‰å†…å¸¦å‚æ•°å°±æ˜¯æœ‰å‚æ„é€ ï¼Œæ— å‚æ•°å°±æ˜¯æ— å‚æ„é€ \nsuper()æ˜¯è°ƒç”¨çˆ¶ç±»çš„æ„é€ å™¨ï¼Œï¼ˆï¼‰å†…å¸¦å‚æ•°å°±æ˜¯æœ‰å‚æ„é€ ï¼Œæ— å‚æ•°å°±æ˜¯æ— å‚æ„é€ \nä½œç”¨ï¼š\nå­ç±»ç»§æ‰¿çˆ¶ç±»æ—¶ï¼Œä¸ä¼šç»§æ‰¿çˆ¶ç±»çš„æ„é€ å™¨ï¼Œåªèƒ½é€šè¿‡super(å½¢å‚åˆ—è¡¨)çš„æ–¹å¼è°ƒç”¨çˆ¶ç±»æŒ‡å®šçš„æ„é€ å™¨ å­ç±»æƒ³è¦æ‰©å±•æ„é€ å™¨åˆå§‹åŒ–æ›´å¤šçš„å®ä¾‹å˜é‡ï¼Œé€šå¸¸å¯ä»¥ç”¨this(å½¢å‚åˆ—è¡¨)æ¥é¿å…ä»£ç çš„é‡å¤ ä½¿ç”¨æ–¹å¼ï¼š\n**super(å½¢å‚åˆ—è¡¨)**å¿…é¡»æ”¾åœ¨æ„é€ å™¨æ–¹æ³•ä½“çš„é¦–è¡Œï¼Œ this(å½¢å‚åˆ—è¡¨) äº¦æ˜¯å¦‚æ­¤\nå­ç±»æ„é€ å™¨é¦–è¡Œå¯ä»¥æ˜¯ this(å½¢å‚åˆ—è¡¨) æˆ–è€… super(å½¢å‚åˆ—è¡¨)ï¼Œä¸å†™çš„è¯ç¼–è¯‘å™¨å»å°±é»˜è®¤æ·»åŠ  **super()**æ— å‚\nthis(å½¢å‚åˆ—è¡¨) å’Œ super(å½¢å‚åˆ—è¡¨) éƒ½è¦æ±‚æ”¾é¦–è¡Œï¼Œæ‰€ä»¥æƒ³è¦æ˜¾å¼è°ƒç”¨ï¼Œåªèƒ½äºŒé€‰ä¸€ã€‚\næ¨è®º\nå­ç±»é¡»è¦è°ƒç”¨ super(å½¢å‚åˆ—è¡¨)ï¼Œæ‰€ä»¥å­ç±»è‡³å°‘æœ‰ä¸€ä¸ªæ„é€ å™¨æ»¡è¶³ç¬¬ä¸€è¡Œè°ƒç”¨äº† super(å½¢å‚åˆ—è¡¨)\nå­ç±»å¦‚æœæœ‰æ„é€ å™¨é¦–è¡Œæ˜¾å¼è°ƒç”¨äº†this(å½¢å‚åˆ—è¡¨) ï¼Œåˆ™ä¸€å®šåµŒå¥—è°ƒç”¨äº†ä¸€ä¸ªå¸¦ **super(å½¢å‚åˆ—è¡¨)**çš„æ„é€ å™¨\n7.å¤šç»§æ‰¿ java çš„ç±»æ²¡æœ‰å¤šç»§æ‰¿ï¼Œåªæœ‰å•ç»§æ‰¿ java çš„æ¥å£å¯ä»¥å¤šç»§æ‰¿ ","date":"0001-01-01T00:00:00Z","permalink":"http://localhost:1313/p/","title":""},{"content":"1.æ–¹æ³•é‡å†™çš„å®šä¹‰ é‡è½½ï¼ˆoverloadï¼‰æ˜¯åœ¨åŒä¸€ä¸ªç±»ä¸­çš„å…·æœ‰å¤šä¸ªç›¸åŒæ–¹æ³•åï¼Œå‚æ•°åˆ—è¡¨ä¸åŒï¼ˆçš„æ–¹æ³•ï¼ˆè¿”å›ç±»å‹å¯ä»¥ä¸åŒï¼‰ï¼Œæ„é€ æ–¹æ³•ã€æ™®é€šæ–¹æ³•ã€æŠ½è±¡æ–¹æ³•éƒ½å¯ä»¥é‡è½½ï¼›é‡å†™ï¼ˆoverrideï¼‰æ˜¯åœ¨å­ç±»ç»§æ‰¿çˆ¶ç±»çš„æ—¶å€™é‡å†™ï¼Œå¯ä»¥ç”¨@Overrideæ£€æŸ¥æ˜¯å¦æ˜¯é‡å†™æ–¹æ³•ï¼Œæ–¹æ³•é‡è½½æ˜¯ä¸€ä¸ªç±»çš„å¤šæ€æ€§çš„è¡¨ç°ï¼Œè€Œæ–¹æ³•é‡å†™æ˜¯å­ç±»ä¸çˆ¶ç±»çš„ä¸€ç§å¤šæ€æ€§è¡¨ç°ã€‚é‡è½½æ˜¯ç¼–è¯‘æ—¶çš„å¤šæ€æ€§ï¼Œé‡å†™æ˜¯è¿è¡Œæ—¶çš„å¤šæ€æ€§\né‡å†™æ»¡è¶³ä»¥ä¸‹è§„åˆ™ï¼šï¼ˆå¤–å£³ä¸å˜ï¼Œæ ¸å¿ƒé‡å†™ï¼‰\nè¿”å›ç±»å‹ä¸è¢«é‡å†™æ–¹æ³•çš„è¿”å›ç±»å‹å¯ä»¥ä¸ç›¸åŒï¼Œä½†æ˜¯å¿…é¡»æ˜¯çˆ¶ç±»è¿”å›å€¼çš„æ´¾ç”Ÿç±»ï¼ˆjava5 åŠæ›´æ—©ç‰ˆæœ¬è¿”å›ç±»å‹è¦ä¸€æ ·ï¼Œjava7 åŠæ›´é«˜ç‰ˆæœ¬å¯ä»¥ä¸åŒï¼‰ é‡å†™æ–¹æ³•çš„å‚æ•°åˆ—è¡¨ç›¸åŒ é‡å†™æ–¹æ³•çš„å‡½æ•°åç›¸åŒ è¢«é‡å†™æ–¹æ³•çš„è®¿é—®ä¿®é¥°ç¬¦ä¸èƒ½æ˜¯privateï¼Œé‡å†™çš„æ–¹æ³•å¯ä»¥èŒƒå›´å¯ä»¥æ‰©å¤§ public \u0026gt; protected \u0026gt; default \u0026gt; privateï¼Œä½†æ˜¯ä¸èƒ½ç¼©å° è¢«é‡å†™æ–¹æ³•ä¸èƒ½æœ‰ä¿®é¥°ç¬¦ final å£°æ˜ä¸º static çš„æ–¹æ³•ä¸èƒ½è¢«é‡å†™ï¼Œä½†æ˜¯èƒ½å¤Ÿè¢«å†æ¬¡å£°æ˜ æŠ›å‡ºçš„å¼‚å¸¸èŒƒå›´å¯ä»¥è¢«ç¼©å°ï¼Œä½†ä¸èƒ½è¢«æ‰©å¤§ æ„é€ æ–¹æ³•ä¸èƒ½è¢«é‡å†™ 2.æ–¹æ³•çš„é‡å†™åè°ƒç”¨ï¼ˆçˆ¶ç±»å¼•ç”¨å’Œå­ç±»å¼•ç”¨æ¥å—å­ç±»newçš„å¯¹è±¡ï¼‰ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 class Person { protected String name=\u0026#34;Person name\u0026#34;; protected static String staticName=\u0026#34;Person staticName\u0026#34;; public String getName() { System.out.println(\u0026#34;function call of Person\u0026#34;); return name; } public static String showName() { System.out.println(\u0026#34;static function call of Person\u0026#34;); return staticName; } } class Man extends Person { protected String name=\u0026#34;Man name\u0026#34;; protected static String staticName=\u0026#34;Man staticName\u0026#34;; public static String showName(){ System.out.println(\u0026#34;static function call of Man\u0026#34;); return staticName; } @Override public String getName() { System.out.println(\u0026#34;function call of Man\u0026#34;); return name; } } 2.1 staticæ–¹æ³•é‡å†™ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 public static void main(String[] args) { Person person= new Man(); Man man = new Man(); //é™æ€ System.out.println(\u0026#34;person call:\u0026#34;); System.out.println(person.showName()); //ç¼–è¯‘å™¨è­¦å‘Šä¸è¦é€šè¿‡å®ä¾‹è°ƒç”¨ç±»çš„é™æ€æ–¹æ³• System.out.println(\u0026#34;man call:\u0026#34;); System.out.println(man.showName()); } /*è¾“å‡º person call: static function call of Person Person staticName man call: static function call of Man Man staticName */ 2.2 éstaticæ–¹æ³•é‡å†™ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 public static void main(String[] args) { Person person= new Man(); Man man = new Man(); //éé™æ€ System.out.println(\u0026#34;person call:\u0026#34;); System.out.println(person.getName()); System.out.println(\u0026#34;man call:\u0026#34;); System.out.println(man.getName()); } /*è¾“å‡ºï¼š person call: function call of Man Man name man call: function call of Man Man name */ 2.3 æ€»ç»“ å­ç±»å¼•ç”¨ å’Œ çˆ¶ç±»å¼•ç”¨ æ¥å— new å‡ºæ¥çš„ å­ç±»å¯¹è±¡ æ—¶ï¼š\né‡å†™é™æ€æ–¹æ³•çš„è°ƒç”¨å–å†³äºå¼•ç”¨ç±»å‹ã€‚å› ä¸ºå¼•ç”¨ç›´æ¥è°ƒç”¨çš„æ˜¯ç±»çš„æ–¹æ³•ï¼Œæ‰€ä»¥é™æ€æ–¹æ³•é‡å†™ç”±å¼•ç”¨ç±»å‹å†³å®š é‡å†™éé™æ€æ–¹æ³•æ—¶å–å†³äºæ„é€ å‡½æ•°ã€‚å› ä¸ºå¼•ç”¨ç±»å‹æŒ‡å‘åœ°å€å®é™…ä¸Šæ˜¯ç”±æ„é€ å‡½æ•°å†³å®šçš„ã€‚å®é™…ä¸Šï¼Œå¯ä»¥æ ¹æ®å¤šæ€ç‰¹æ€§æ¥ç†è§£ï¼Œc++æœ‰æŒ‡é’ˆæ‰€ä»¥æ²¡ç”¨ virtual æ—¶æŒ‡å‘å„è‡ªå¼•ç”¨ç±»å‹çš„å‡½æ•°ã€‚ç”±äºjavaæ²¡æœ‰æŒ‡é’ˆï¼Œæ‰€ä»¥è·³è¿‡äº†è¿™ä¸€æ­¥ï¼Œç›´æ¥å®ç°å¤šæ€ï¼Œä¹Ÿå°±æ˜¯çˆ¶ç±»æŒ‡é’ˆä¹Ÿå¯ä»¥æŒ‡å‘å­ç±»å¯¹è±¡ï¼Œæ ¹æ®å®é™…çš„æ„é€ å‡½æ•°è°ƒç”¨å¯¹åº”çš„å­ç±»å¯¹è±¡çš„æ–¹æ³•ã€‚ çˆ¶ç±»å¼•ç”¨æ— æ³•ç›´æ¥ä½¿ç”¨å­ç±»å¯¹åƒç‰¹æœ‰çš„æ–¹æ³• 3.å¤šæ€ å¤šæ€æ˜¯æ–¹æ³•çš„å¤šæ€ï¼Œå±æ€§æ²¡æœ‰å¤šæ€æ€§ 3.1 instance of æ“ä½œç¬¦ æ ¼å¼ï¼š[å·¦å€¼] instanceof [å³å€¼]\nå·¦å€¼ä¸å³å€¼ä¹‹é—´éœ€è¦æœ‰ç›´ç³»çš„ç»§æ‰¿å…³ç³»ï¼ˆä¸€æ¡ç»§æ‰¿è·¯çº¿ä¸Šï¼‰æ‰å¯ä»¥ä½¿ç”¨ï¼Œå¦åˆ™ç¼–è¯‘å™¨ç›´æ¥æŠ¥é”™ å·¦å€¼å¯ä»¥æ˜¯çˆ¶ç±»çš„æŒ‡é’ˆï¼Œè¿”å›ç»“æœå–å†³äºå·¦å€¼æŒ‡å‘çš„å…·ä½“ç±»ï¼Œå³newå‡ºæ¥çš„å¯¹è±¡ç±»å‹ã€‚ å®é™…ä¸Šæ¯”è¾ƒæ˜¯å·¦å€¼ new å®ä¾‹ç±»å‹æ˜¯å¦æ˜¯å³å€¼çš„å®ä¾‹ã€‚å…¶ä¸­å­ç±»æ˜¯çˆ¶ç±»çš„å®ä¾‹ï¼Œè¿”å›true 1 2 3 4 5 6 7 8 9 10 11 12 13 14 // Objectæ˜¯Personçš„çˆ¶ç±»ï¼ŒPersonæ˜¯Manå’Œ Woman çš„çˆ¶ç±» Man man=new man(); System.out.println(man instanceof Man);//true System.out.println(man instanceof Person);//true System.out.println(man instanceof Object);//true System.out.println(man instanceof Woman);//ç¼–è¯‘å™¨ç›´æ¥æŠ¥é”™ï¼ System.out.println(man instanceof String);//ç¼–è¯‘å™¨ç›´æ¥æŠ¥é”™ï¼ Pertson person =new man(); System.out.println(person instanceof Man);//true System.out.println(person instanceof Person);//true System.out.println(person instanceof Object);//true System.out.println(person instanceof Woman);//ç¼–è¯‘å™¨ç›´æ¥æŠ¥é”™ï¼ System.out.println(person instanceof String);//ç¼–è¯‘å™¨ç›´æ¥æŠ¥é”™! 4.ç±»å‹è½¬æ¢ å¼ºåˆ¶ç±»å‹è½¬æ¢ä¸€èˆ¬ç”¨äºçˆ¶ç±»å¼•ç”¨è°ƒç”¨å­ç±»ä¸­å…¶ç‹¬æœ‰çš„æ–¹æ³•ã€‚\nå› ä¸ºçˆ¶ç±»æ¯”å­ç±»æ›´é«˜çº§ï¼Œä½è½¬é«˜å¯ä»¥ç›´æ¥ä½¿ç”¨ï¼Œæ‰€ä»¥çˆ¶ç±»å¼•ç”¨å¯ä»¥ç›´æ¥æ¥å—å­ç±»çš„å¼•ç”¨ã€‚\né«˜è½¬ä½éœ€è¦ç›´æ¥å¼ºåˆ¶ç±»å‹è½¬æ¢ã€‚çˆ¶ç±»å¼•ç”¨è°ƒç”¨å­ç±»ä¸­å…¶ç‹¬æœ‰çš„æ–¹æ³•éœ€è¦å…ˆæŠŠé«˜çš„çˆ¶ç±»å¼ºåˆ¶è½¬æ¢æˆå­ç±»ã€‚\n","date":"0001-01-01T00:00:00Z","permalink":"http://localhost:1313/p/","title":""},{"content":"1.æŠ½è±¡ç±»æ ¼å¼ å…³é”®å­—ï¼š abstract 1.1æŠ½è±¡ç±»ï¼š 1 2 3 4 5 abstract class ç±»å{} public abstract class ClassName{ int a; public abstract void fun(); } é™¤éè¯¥ç»§æ‰¿çš„å­ç±»ä¹Ÿæ˜¯æŠ½è±¡ç±»ï¼Œå¦åˆ™ç»§æ‰¿äº†æŠ½è±¡ç±»çš„æ‰€æœ‰ç±»éƒ½è¦é‡å†™æŠ½è±¡ç±»çš„æŠ½è±¡æ–¹æ³•\nä¸èƒ½ new ä¸€ä¸ª java æŠ½è±¡ç±»ï¼Œæœ‰ç‚¹åƒc++ä¸­çš„æŠ½è±¡ç±»ï¼Œå³å«çº¯è™šå‡½æ•°çš„æŠ½è±¡ç±»ï¼Œéœ€è¦å­ç±»å®Œå…¨é‡è½½ï¼ˆjavaä¸­çš„é‡å†™ï¼‰åæ‰èƒ½ç”Ÿæˆå®ä¾‹\næŠ½è±¡ç±»å†…å¯ä»¥æœ‰å˜é‡ï¼Œå˜é‡å†™æ³•ä¸æ™®é€šç±»ä¸€è‡´\næŠ½è±¡ç±»ä¸­æœ‰æ„é€ æ–¹æ³•\n1.2 æŠ½è±¡ç±»å†…çš„æŠ½è±¡æ–¹æ³• 1 2 3 ä¿®é¥°ç¬¦ abstract è¿”å›å€¼ç±»å‹ æ–¹æ³•å(å‚æ•°åˆ—è¡¨)ï¼› public abstract void fun();//ä¸èƒ½å†™å‡½æ•°ä½“ä»£ç å— æŠ½è±¡ç±»ä¸ä¸€å®šæœ‰æŠ½è±¡æ–¹æ³•ï¼Œä½†æ˜¯æœ‰æŠ½è±¡æ–¹æ³•çš„ç±»å¿…é¡»å®šä¹‰æˆæŠ½è±¡ç±»\nä¸åŒ…å«æŠ½è±¡æ–¹æ³•çš„æŠ½è±¡ç±»ï¼Œç›®çš„å°±æ˜¯ä¸æƒ³è®©è°ƒç”¨è€…å®ä¾‹åŒ–è¯¥å¯¹è±¡ï¼Œé€šå¸¸ç”¨äºæŸäº›ç‰¹æ®Šçš„ç±»çš„ç»“æ„è®¾è®¡\næŠ½è±¡æ–¹æ³•çš„ä¿®é¥°ç¬¦å¯ä»¥æ˜¯ public æˆ–è€…æ˜¯ protected, çœç¼ºæƒ…å†µä¸‹é»˜è®¤æ˜¯ public\næŠ½è±¡ç±»çš„æ„é€ æ–¹æ³•èƒ½ä¸èƒ½æ˜¯æŠ½è±¡æ–¹æ³•ï¼Ÿ\n1 2 3 4 5 6 7 public abstract class Student { String name; abstract Student();//ç›´æ¥æŠ¥é”™ï¼ } /*æŠ½è±¡ç±»çš„æ„é€ æ–¹æ³•ä¸èƒ½æ˜¯æŠ½è±¡æ–¹æ³• åŸå› å¾ˆç®€å•ï¼šæ‰§è¡Œå­ç±»æ„é€ å‡½æ•°ä¹‹å‰éœ€è¦æ‰§è¡Œçˆ¶ç±»çš„æ„é€ å‡½æ•°ï¼Œå¦‚æœçˆ¶ç±»çš„æ„é€ å‡½æ•°å¯ä»¥æ˜¯æŠ½è±¡æ–¹æ³•çš„è¯ï¼Œéœ€è¦åœ¨å­ç±»é‡å†™ï¼Œä½†æ˜¯è°ƒç”¨çˆ¶ç±»æ„é€ å‡½æ•°æ—¶ï¼Œå­ç±»çš„æ„é€ å‡½æ•°å°šæœªæ‰§è¡Œï¼Œå“ªæ¥çš„é‡å†™ï¼Ÿ */ 1.3 æŠ½è±¡ç±»ä¸­é™æ€æ–¹æ³•çš„è°ƒç”¨ ç›´æ¥ [æŠ½è±¡ç±»].[é™æ€æ–¹æ³•] ï¼ï¼ï¼ 1 2 3 4 5 6 7 8 9 10 public abstract class Student { public static void fun(){}; public abstract void fun2(); } public class main { public static void main(String[] args) { Student.fun(); } } 2.æ¥å£ â€‹\t**æ¥å£çš„æœ¬è´¨æ˜¯è§„èŒƒï¼Œå®šä¹‰çš„æ˜¯ä¸€ç»„è§„åˆ™ **\nç±»çš„å…³é”®å­—æ˜¯class, æ¥å£çš„å…³é”®å­—æ˜¯ interface\n1 2 class Person{}//ç±» interface Person{}//æ¥å£ æ¥å£å†…çš„æ‰€æœ‰æ–¹æ³•éƒ½æ˜¯æŠ½è±¡çš„ï¼Œä¸èƒ½å†™å‡½æ•°ä½“ä»£ç å—\næ¥å£å†…çš„æ–¹æ³•éƒ½æ˜¯ ï¼ˆpublic abstractï¼‰ ç±»å‹ï¼Œä¸å†™çš„è¯ç¼–è¯‘å™¨è‡ªåŠ¨è¡¥å…¨\næ¥å£ä¸æŠ½è±¡ç±»ä¸€æ ·ï¼Œå…¶å†…åŒæ ·å¯ä»¥å®šä¹‰å˜é‡\næ¥å£å†…å®šä¹‰çš„å˜é‡éƒ½æ˜¯ ï¼ˆpublic static finalï¼‰ ç±»å‹çš„å…¨å±€é™æ€å¸¸é‡ï¼Œæ‰€æœ‰æ¯”è¾ƒå°‘ç”¨\n1 2 3 4 5 interface Person{//æ¥å£ public static final String name= â€œnameâ€; void getName(); public abstract void getName() } 2.1 å®ç°ç±» å®ç°äº†æ¥å£çš„ç±»ç®€ç§°å®ç°ç±»\næ¥å£éƒ½éœ€è¦æœ‰å®ç°ç±»ï¼Œ ç”¨æ³•ç±»ä¼¼äºç±»ç»§æ‰¿ï¼ŒæŠŠå…³é”®å­— extends æ¢æˆ implements\n1 2 3 4 5 6 7 public class [å®ç°ç±»å = \u0026#34;æ¥å£å\u0026#34; + Impl] implements [æ¥å£å],[æ¥å£å]{} ä¾‹å¦‚ï¼š public interface Person{}//æ¥å£ public interface Man{}//æ¥å£ public class PersonImpl implements Person,Man{}//å®ç°ç±» æ³¨æ„ï¼š\nå®ç°ç±»è¿˜æ²¡æœ‰æŠŠç»§æ‰¿çš„æ‰€æœ‰æ¥å£é‡Œçš„æ‰€æœ‰æŠ½è±¡æ–¹æ³•å…¨é‡å†™ä¹‹å‰ï¼Œç¼–è¯‘å™¨ä¼šä¸€ç›´æŠ¥é”™ï¼Œè¿™æ˜¯æ­£å¸¸ç°è±¡ æ­£å¦‚ä¸Šé¢æ ¼å¼ä¸­æ‰€å†™ï¼Œä¸€ä¸ªå®ç°ç±»æ˜¯å¯ä»¥ç»§æ‰¿å¤šä¸ªæ¥å£çš„ï¼Œä¹Ÿå°±æ˜¯ä¼ªå¤šç»§æ‰¿ï¼ï¼ï¼ æ¥å£çš„å¤šç»§æ‰¿ï¼Œåœ¨ implements åå¯è·Ÿå¤šä¸ªæ¥å£åï¼Œç”¨é€—å·éš”å¼€ï¼Œä¸”éƒ½ä¸éœ€è¦åœ¨æ¥å£åå­—é¢å‰å†™å…³é”®å­—interface å®ç°ç±»æ¨èçš„å‘½åæ–¹å¼ä¸º å¯¹åº”æ¥å£å + Impl 2.2 JDK8ã€JDK9çš„æ–°å˜åŒ– JDK 8 ä¹‹å‰æ¥å£åªèƒ½å®šä¹‰æŠ½è±¡æ–¹æ³•ï¼ŒJDK8ä¸­æ¥å£ä¹Ÿå¯ä»¥å®šä¹‰é»˜è®¤æ–¹æ³• default å’Œé™æ€æ–¹æ³• staticã€‚\né»˜è®¤æ–¹æ³•å…è®¸æ¥å£æä¾›é»˜è®¤å®ç°ï¼Œä»è€Œå‡å°‘å®ç°ç±»çš„å·¥ä½œé‡ã€‚å½“æ¥å£çš„å®ç°ç±»æ²¡æœ‰æä¾›è¯¥æ–¹æ³•çš„å…·ä½“å®ç°æ—¶ï¼Œå°†ä½¿ç”¨é»˜è®¤æ–¹æ³• é™æ€æ–¹æ³•å¯ä»¥ä¸ºæ¥å£æä¾›ä¸æ¥å£ç›¸å…³çš„å·¥å…·æ–¹æ³•ï¼Œé™æ€æ–¹æ³•å¯ä»¥ç›´æ¥é€šè¿‡æ¥å£åæ¥è°ƒç”¨ï¼Œè€Œä¸éœ€è¦åˆ›å»ºå®ç°ç±»çš„å®ä¾‹ã€‚å› ä¸ºé™æ€æ–¹æ³•æ— æ³•è¢«å®ç°ç±»è¦†ç›–æˆ–ç»§æ‰¿ã€‚æ­¤å¤–ï¼Œä¸èƒ½é€šè¿‡ å®ç°ç±».[æ–¹æ³•] çš„å½¢å¼è°ƒç”¨é™æ€æ–¹æ³•ï¼Œè¿™ç‚¹ä¸ classç»§æ‰¿ ä¸åŒã€‚ JDK9å¯ä»¥å®šä¹‰ç§æœ‰æ–¹æ³• privateã€‚åªèƒ½æ¥å£è‡ªå·±ç”¨ï¼Œä¹Ÿå°±æ˜¯è¢«é»˜è®¤æ–¹æ³•è°ƒç”¨ï¼Œæ‰€æœ‰ç›¸å½“äºæ˜¯JDK8çš„è¡¥å……ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 public interface MyInterface { default void fun1() { // é»˜è®¤æ–¹æ³•çš„å®ç°ä»£ç ,å³å®ç°ä»£ç æ˜¯åœ¨æ¥å£ä¸­å®šä¹‰çš„ }//default éœ€è¦æ˜å†™ï¼Œå› ä¸ºä¸å†™é»˜è®¤æ˜¯public static void fun2(){ //åŒä¸Šï¼Œå®ç°ä»£ç æ˜¯åœ¨æ¥å£ä¸­å®šä¹‰çš„ } } public class main { public static void main(String[] args) { MyInterface.fun2();//ç”¨æ¥å£åç›´æ¥è°ƒç”¨é™æ€æ–¹æ³• //æ­¤å¤„å‡è®¾MyInterfaceImplæ˜¯MyInterfaceçš„å®ç°ç±» MyInterfaceImpl.fun2();//æŠ¥é”™ï¼Œä¸èƒ½é€šè¿‡å®ç°ç±»è°ƒç”¨çˆ¶ç±»æ¥å£çš„é™æ€æ–¹æ³•ã€‚åªèƒ½é€šè¿‡æ¥å£åæ¥è°ƒç”¨ã€‚ } } 2.3 JDK8 é»˜è®¤æ–¹æ³•å†²çªé—®é¢˜ï¼Œï¼ˆä¹Ÿå«æ¥å£å†²çªï¼‰ å½“ä¸€ä¸ªå®ç°ç±»ç»§æ‰¿äº†å¤šä¸ªæ¥å£ï¼ˆæˆ–è€…å³ç»§æ‰¿ç±»åˆç»§æ‰¿æ¥å£ï¼‰ï¼Œä¸”æ¥å£ï¼ˆç±»ï¼‰ä¸­æœ‰åŒååŒå‚çš„é»˜è®¤æ–¹æ³•æ—¶ï¼Œå®ç°ç±»è°ƒç”¨çš„æ˜¯å“ªä¸€ä¸ªç±»çš„æ–¹æ³•ï¼Ÿå†²çªå¦‚ä½•è§£å†³å‘¢ï¼Ÿ\n2.3.1 æ˜¾å¼è°ƒç”¨æ¥å£çš„æ–¹æ³• æ˜¾å¼è°ƒç”¨ æŸä¸ªæ¥å£çš„é»˜è®¤æ–¹æ³•ï¼ˆæ³¨æ„æ˜¯æ˜¾å¼è°ƒç”¨ï¼ï¼ï¼ä¸æ˜¯å¿…é¡»é‡å†™ï¼ï¼Œåœ¨ä¸é‡å†™çš„æƒ…å†µä¸‹æ˜¾å¼è°ƒç”¨å°±ä¸æŠ¥é”™ï¼ï¼‰ã€‚\næ ¼å¼ï¼š[æ¥å£å] . super . [é»˜è®¤æ–¹æ³•å]\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 interface A { default void doSomething() { System.out.println(\u0026#34;Do something in A\u0026#34;); } } interface B { default void doSomething() { System.out.println(\u0026#34;Do something in B\u0026#34;); } } class MyClass implements A, B { @Override public void doSomething() { A.super.doSomething(); // æ˜¾å¼è°ƒç”¨æ¥å£Açš„é»˜è®¤æ–¹æ³• } } 2.3.2 å®ç°ç±»é‡å†™ å¦‚æœå®ç°ç±»ä¸­é‡å†™å°±ç›¸å½“äºåŒæ—¶å¯¹æ‰€æœ‰åŒååŒå‚çš„é»˜è®¤æ–¹æ³•æ–¹æ³•éƒ½é‡å†™äº†ã€‚è°ƒç”¨æ—¶ä¹Ÿæ˜¯ç”¨çš„å®ç°ç±»è‡ªå·±çš„é‡å†™æ–¹æ³•ã€‚\n2.3.3 ç±»ä¼˜å…ˆåŸåˆ™ å³ç»§æ‰¿äº†ç±»åˆç»§æ‰¿äº†æ¥å£ï¼Œä¸”æœ‰åŒååŒå‚çš„æ–¹æ³•ã€‚åœ¨å­ç±»æ²¡æœ‰é‡å†™æ–¹æ³•çš„æƒ…å†µä¸‹ï¼Œéµä»ç±»ä¼˜å…ˆåŸåˆ™ï¼Œå®ç°ç±»è°ƒç”¨çˆ¶ç±»çš„æ–¹æ³•ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 interface A { default void doSomething() { System.out.println(\u0026#34;Do something in A\u0026#34;); } } Class B { void doSomething() {//æ³¨æ„æ­¤å¤„æ²¡æœ‰default System.out.println(\u0026#34;Do something in B\u0026#34;); } } class MyClass extends class B implements A { //æ­¤æ—¶å³ç»§æ‰¿äº†ç±»åˆç»§æ‰¿äº†æ¥å£ã€‚ä¸”æœ‰åŒååŒå‚çš„æ–¹æ³• } 2.3.4 JDK8 æ¥å£å†²çªçš„æ€»ç»“ æ³¨æ„è¿™é‡Œ çˆ¶ç±»ã€ä¸çˆ¶ç±»æ¥å£æœ‰åŒºåˆ«ï¼Œçˆ¶ç±»æ˜¯æŒ‡classï¼Œçˆ¶ç±»æ¥å£æŒ‡ interfaceã€‚\né—®ï¼šå­ç±»å³ç»§æ‰¿äº†ç±»åˆç»§æ‰¿äº†æ¥å£ï¼Œä¸”æœ‰åŒååŒå‚æ–¹æ³•ã€‚ç›´æ¥ä»¥æ–¹æ³•åçš„å½¢å¼ï¼Œè°ƒç”¨çš„æ˜¯å“ªä¸ªæ–¹æ³•å‘¢ï¼Ÿ å­ç±»è‹¥æ˜¯é‡å†™äº†ï¼Œåˆ™è°ƒç”¨å­ç±»çš„æ–¹æ³•ï¼› è‹¥æ˜¯å­ç±»æ²¡é‡å†™ï¼Œåˆ™è°ƒç”¨çˆ¶ç±»çš„æ–¹æ³•ï¼ˆç±»ä¼˜å…ˆåŸåˆ™ï¼šæ— è®ºæœ‰å¤šå°‘ä¸ªçˆ¶ç±»æ¥å£æœ‰åŒååŒå‚æ–¹æ³•ï¼Œé»˜è®¤è°ƒç”¨çˆ¶ç±»æ–¹æ³•ï¼‰ï¼› è‹¥æ˜¯å­ç±»æ²¡é‡å†™ï¼Œä¸”å•ä¸ªçˆ¶ç±»æ¥å£æœ‰åŒååŒå‚æ–¹æ³•æ—¶ï¼Œä¸çˆ¶ç±»çš„æ“ä½œé€»è¾‘ä¸€è‡´ã€‚ å¤šä¸ªçˆ¶ç±»æ¥å£éƒ½æœ‰åŒååŒå‚æ–¹æ³•æ—¶ï¼Œä¸ä¼šè°ƒç”¨æ¥å£çš„æ–¹æ³•ï¼Œç›´æ¥æŠ¥é”™ï¼› é—®ï¼šå­ç±»ã€ç»§æ‰¿çš„çˆ¶ç±»ä¸æ¥å£ä¸­éƒ½æœ‰åŒååŒå‚æ–¹æ³•ï¼Œæƒ³è¦ç›´æ¥è°ƒç”¨å„è‡ªçš„æ–¹æ³•åˆå¦‚ä½•å†™å‘¢ï¼Ÿ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 interface A { default void doSomething() {//æ³¨æ„æ­¤å¤„æ˜¯default,å¯ä»¥æœ‰ä»£ç å— System.out.println(\u0026#34;Do something in interface A\u0026#34;); } } interface B { default void doSomething() {//æ³¨æ„æ­¤å¤„æ˜¯default,å¯ä»¥æœ‰ä»£ç å— System.out.println(\u0026#34;Do something in interface B\u0026#34;); } } class SuperC { void doSomething() {//æ³¨æ„æ­¤å¤„æ²¡æœ‰default System.out.println(\u0026#34;Do something in class SuperC\u0026#34;); } } class C extends class SuperC implements A,B { void doSomething() {//æ³¨æ„æ­¤å¤„æ²¡æœ‰default System.out.println(\u0026#34;Do something in class C\u0026#34;); } //æ­¤æ—¶Cå³ç»§æ‰¿äº†ç±»SuperCåˆç»§æ‰¿äº†æ¥å£A,Bã€‚ä¸”æœ‰åŒååŒå‚çš„æ–¹æ³•. void fun(){ doSomething();//è°ƒç”¨Cè‡ªå·±çš„åŒååŒå‚çš„æ–¹æ³• super.doSomething();//è°ƒç”¨çˆ¶ç±»SuperCçš„åŒååŒå‚çš„æ–¹æ³• A.super.doSomething();//è°ƒç”¨æŒ‡å®šçˆ¶ç±»æ¥å£Açš„åŒååŒå‚çš„æ–¹æ³• } } 3.æŠ½è±¡ç±»ä¸æ¥å£çš„å¼‚åŒ å¼‚ï¼š\næ¥å£ä¸­æ²¡æœ‰æ„é€ æ–¹æ³•ï¼ŒæŠ½è±¡ç±»ä¸­æœ‰æ„é€ æ–¹æ³• æ¥å£çš„å…³é”®å­—ä¸ºinterface å’Œ implementsï¼ŒæŠ½è±¡ç±»çš„å…³é”®å­—ä¸º class å’Œ extends æ¥å£å¯ä»¥å¤šç»§æ‰¿ï¼ŒæŠ½è±¡ç±»åªæœ‰å•ç»§æ‰¿ æ¥å£ä¸­çš„æ–¹æ³•å¿…é¡»å…¨æ˜¯æŠ½è±¡æ–¹æ³•ï¼ŒæŠ½è±¡ç±»ä¸­å¯ä»¥æœ‰éæŠ½è±¡æ–¹æ³•ï¼ˆæ­¤æ¡ä¸é€‚ç”¨äº JDK8åŠå…¶å¾€åçš„ç‰ˆæœ¬ï¼‰ æ¥å£ä¸­çš„å˜é‡éƒ½æ˜¯ public static final ç±»å‹ï¼ˆå…¨å±€é™æ€å¸¸é‡ï¼‰ï¼ŒæŠ½è±¡ç±»æ²¡æœ‰è¦æ±‚ æ¥å£çš„æŠ½è±¡æ–¹æ³•ä¸€å®šæ˜¯ public abstractï¼Œ æŠ½è±¡ç±»çš„æŠ½è±¡æ–¹æ³•å¯ä»¥æ˜¯public abstract æˆ–è€…æ˜¯ protected abstract æ¥å£çš„æŠ½è±¡æ–¹æ³•çœç¼ºæ—¶é»˜è®¤ä¸º public abstractï¼Œ æŠ½è±¡ç±»çš„æŠ½è±¡æ–¹æ³•åªå¯ä»¥çœç¼ºpublic ,å› ä¸ºçœç¼ºé»˜è®¤æ˜¯public, è€Œ abstract å¿…é¡»å†™ï¼Œä¸å†™å°±ä¸æ˜¯æŠ½è±¡æ–¹æ³•äº†ã€‚ åŒï¼š\næ¥å£å’ŒæŠ½è±¡ç±»çš„æŠ½è±¡å‡½æ•°éƒ½æ˜¯ç”¨abstract æ¥å£å’ŒæŠ½è±¡ç±»éƒ½æ˜¯ä¸ºäº†å®šä¹‰ä¸€äº›çº¦æŸ æ¥å£å’ŒæŠ½è±¡ç±»éƒ½ä¸èƒ½ç›´æ¥å®ä¾‹åŒ–ï¼Œåªæœ‰ç»§æ‰¿å…¶çš„å­ç±»ï¼ˆæ¥å£ä¸ºå®ç°ç±»ï¼‰åœ¨å®Œå…¨é‡å†™æŠ½è±¡æ–¹æ³•åï¼Œæ‰èƒ½ç”Ÿæˆå­ç±»å®ä¾‹ **è¡¥å……:**\n4.å‡½æ•°å¼æ¥å£ï¼ˆå¯ä»¥ç”¨lambda è¡¨è¾¾å¼ç®€åŒ–ï¼‰ å®šä¹‰ï¼šåªåŒ…å«ä¸€ä¸ªæŠ½è±¡æ–¹æ³•ï¼ˆå¯ä»¥åŒ…å«å…¶ä»–éæŠ½è±¡æ–¹æ³•ï¼‰çš„æ¥å£å«åšå‡½æ•°å¼æ¥å£ã€‚æ­£å¦‚ä¸Šé¢æ‰€è¯´ï¼ŒJDK8ä¹‹åæ¥å£ä¹Ÿå¯ä»¥å®šä¹‰é»˜è®¤æ–¹æ³•å’Œé™æ€æ–¹æ³•ã€‚\næ³¨æ„ï¼š\nå¯ä»¥ç”¨ lambda è¡¨è¾¾å¼è¿›è¡Œåˆ›å»ºè¯¥æ¥å£çš„å®ç°ç±»ã€‚æ³¨æ„è‹¥lambdaè¡¨è¾¾å¼æŠ›å‡ºä¸€ä¸ªéè¿è¡Œæ—¶å¼‚å¸¸ï¼Œé‚£ä¹ˆè¯¥å¼‚å¸¸é¡»åœ¨è¯¥æ¥å£çš„æŠ½è±¡æ–¹æ³•ä¸Šå£°æ˜ã€‚ ä¸@Override æ³¨è§£çš„ä½œç”¨ç±»ä¼¼ï¼ŒJava 8ä¸­ä¸“é—¨ä¸ºå‡½æ•°å¼æ¥å£å¼•å…¥äº†ä¸€ä¸ªæ–°çš„æ³¨è§£ï¼š@FunctionalInterface ã€‚è¯¥æ³¨è§£å¯ç”¨äºä¸€ä¸ªæ¥å£çš„å®šä¹‰ä¸Š,ä¸€æ—¦ä½¿ç”¨è¯¥æ³¨è§£æ¥å®šä¹‰æ¥å£ï¼Œç¼–è¯‘å™¨å°†ä¼šå¼ºåˆ¶æ£€æŸ¥è¯¥æ¥å£æ˜¯å¦ç¡®å®æœ‰ä¸”ä»…æœ‰ä¸€ä¸ªæŠ½è±¡æ–¹æ³•ï¼ˆequalå’Œhashcodeæ–¹æ³•ä¸ç®—ï¼‰ï¼Œå¦åˆ™å°†ä¼šæŠ¥é”™ã€‚ä½¿ç”¨@FunctionalInterface åŒæ—¶ javadoc ä¹Ÿä¼šåŒ…å«ä¸€æ¡å£°æ˜ï¼Œè¯´æ˜è¿™ä¸ªæ¥å£æ˜¯ä¸€ä¸ªå‡½æ•°å¼æ¥å£ã€‚ä½†æ˜¯è¿™ä¸ªæ³¨è§£ä¸æ˜¯å¿…é¡»çš„ï¼Œåªè¦ç¬¦åˆå‡½æ•°å¼æ¥å£çš„å®šä¹‰ï¼Œé‚£ä¹ˆè¿™ä¸ªæ¥å£å°±æ˜¯å‡½æ•°å¼æ¥å£ã€‚ å¯ä»¥ç”¨lambda è¡¨è¾¾å¼ç®€åŒ–å®ä¾‹åŒ–å‡½æ•°å¼æ¥å£\nå‡½æ•°å¼æ¥å£é€‚ç”¨äºå‡½æ•°å¼ç¼–ç¨‹çš„åœºæ™¯ï¼ŒLambdaå°±æ˜¯Javaä¸­å‡½æ•°å¼ç¼–ç¨‹çš„ä½“ç°ï¼Œå¯ä»¥ä½¿ç”¨Lambdaè¡¨è¾¾å¼åˆ›å»ºä¸€ä¸ªå‡½æ•°å¼æ¥å£çš„å¯¹è±¡ï¼Œä¸€å®šè¦ç¡®ä¿æ¥å£ä¸­æœ‰ä¸”åªæœ‰ä¸€ä¸ªæŠ½è±¡æ–¹æ³•ï¼Œè¿™æ ·Lambdaæ‰èƒ½é¡ºåˆ©çš„è¿›è¡Œæ¨å¯¼ã€‚ 5. Lambdaè¡¨è¾¾å¼ æ›´å¤š Lambda çš„çŸ¥è¯†æ¨èçœ‹è¿™ä¸ªè´´å­\nå®šä¹‰ï¼šlambdaè¡¨è¾¾å¼å³å‡½æ•°å¼ç¼–ç¨‹ï¼Œä¹Ÿè¢«ç§°ä¸ºé—­åŒ…ï¼Œå®ƒå°†å…è®¸æŠŠå‡½æ•°ä½œä¸ºä¸€ä¸ªæ–¹æ³•çš„å‚æ•°ï¼›å³è¡Œä¸ºå‚æ•°åŒ–ï¼ŒæŠŠå‡½æ•°ä½œä¸ºå‚æ•°ä¼ é€’è¿›æ–¹æ³•ä¸­ã€‚ Java 8æå‡ºäº†lambdaè¡¨è¾¾å¼ï¼Œåœ¨Java 8ä¹‹å‰ï¼Œå¦‚æœæƒ³å°†è¡Œä¸ºä¼ å…¥å‡½æ•°ï¼Œä»…æœ‰çš„é€‰æ‹©å°±æ˜¯åŒ¿åç±»ã€‚ Lambdaè¡¨è¾¾å¼å¯ä»¥å–ä»£å¤§éƒ¨åˆ†çš„åŒ¿åå†…éƒ¨ç±» Lambda è¡¨è¾¾å¼ç±»ä¼¼äºæ–¹æ³•ï¼Œä½†å®ƒä»¬ä¸éœ€è¦åç§°ï¼Œå¯ä»¥æœ‰ return è¿”å›å€¼ 1 2 3 4 lambdaè¡¨è¾¾å¼æ ¼å¼ï¼š (params) -\u0026gt; expression (params) -\u0026gt; statement (params) -\u0026gt; { statements } 1 2 3 4 5 6 7 8 9 10 // Java 8ä¹‹å‰ï¼š new Thread(new Runnable() { @Override public void run() { System.out.println(\u0026#34;A lot code to write!\u0026#34;); } }).start(); //Java 8æ–¹å¼ï¼š new Thread( () -\u0026gt; System.out.println(\u0026#34;write in one line!!!\u0026#34;) ).start(); ","date":"0001-01-01T00:00:00Z","permalink":"http://localhost:1313/p/","title":""},{"content":"å†™åœ¨æœ€å‰é¢\nç½‘ä¸Šå…³äºå†…éƒ¨ç±»çš„ blog å¾ˆå¤šå¾ˆä¹±ï¼Œç”šè‡³å†™é”™çš„ä¹Ÿä¸å°‘ã€‚æ‰€æœ‰æˆ‘å†™äº†ä¸€ç¯‡ç¬”è®°ï¼Œè¿˜ç®—é½å…¨ï¼Œæ¬¢è¿è¡¥å……ä¸æŒ‡æ­£ï¼\n1. å†…éƒ¨ç±»çš„å«ä¹‰ å†…éƒ¨ç±»å°±æ˜¯åœ¨ä¸€ä¸ªç±»çš„å†…éƒ¨å†å®šä¹‰ä¸€ä¸ªç±»ã€‚æ¯”å¦‚Aç±»ä¸­å®šä¹‰äº†ä¸€ä¸ªç±»Bï¼Œé‚£ä¹ˆ Bå°±æ˜¯A çš„å†…éƒ¨ç±»ï¼ŒAæ˜¯Bçš„å¤–éƒ¨ç±»\n1 2 3 4 class A{//å¤–éƒ¨ç±» class B{//å†…éƒ¨ç±» } } å†…éƒ¨ç±»å¯ä»¥åˆ†ä¸ºï¼šæˆå‘˜å†…éƒ¨ç±»ã€é™æ€å†…éƒ¨ç±»ã€å±€éƒ¨å†…éƒ¨ç±»ã€åŒ¿åå†…éƒ¨ç±»ã€‚åˆ†ç±»é€»è¾‘ä¸ºï¼ˆè¿™ä¸ªåˆ†ç±»ä¸ç²¾å‡†ï¼Œåªæ˜¯è¾…åŠ©ç†è§£ï¼‰\nä»å†…éƒ¨ç±»æ˜¯ç±»çš„è§’åº¦çœ‹ï¼š\nå†…éƒ¨ç±»ä¹Ÿå¯ä»¥å£°æ˜å±æ€§ã€æ–¹æ³•ã€æ„é€ å™¨ï¼› å†…éƒ¨ç±»ä¹Ÿå¯ä»¥ç»§æ‰¿çˆ¶ç±»æˆ–è€…æ¥å£ï¼› å¯ä»¥ç”¨finalä¿®é¥°ï¼Œè®©è¿™ä¸ªå†…éƒ¨ç±»ä¸è¢«ç»§æ‰¿ï¼› å¯ä»¥ç”¨abstractä¿®é¥° ï¼Ÿï¼Ÿï¼Ÿ é‚£å†…éƒ¨ç±»æ˜¯æŠ½è±¡ç±»çš„è¯ï¼Œå¤–éƒ¨ç±»æ˜¯æŠ½è±¡ç±»å—ï¼Ÿ ä»å†…éƒ¨ç±»æ˜¯å¤–éƒ¨ç±»æˆå‘˜çš„è§’åº¦çœ‹ï¼š\nå†…éƒ¨ç±»å¯ä»¥è°ƒç”¨å¤–éƒ¨ç±»çš„ç»“æ„ï¼ŒåŒ…æ‹¬ å¤–éƒ¨ç±»ä¸­ private ä¿®é¥°çš„å†…å®¹ï¼› å†…éƒ¨ç±»å¯ä»¥ç”¨ public ã€çœç¼ºé»˜è®¤ã€protectedã€private ä¿®é¥°ï¼› å¯ä»¥ç”¨ static ä¿®é¥°ï¼Œä½œä¸ºå¤–éƒ¨ç±»çš„é™æ€æˆå‘˜ï¼Œå®šä¹‰æ—¶ä¸å¤–éƒ¨ç±»ä¸€èµ·åŠ è½½ï¼ˆæœ‰ç‚¹åƒé™æ€å˜é‡ã€æ–¹æ³•ä¸ç±»çš„å…³ç³»ï¼‰ï¼› 2.å’Œ3.ä¸­çš„é‡ç‚¹ï¼šå†…éƒ¨ç±»å¯ä»¥ä½¿ç”¨private å’Œ static ä¿®é¥°ï¼Œå¤–éƒ¨ç±»ä¸å¯ä»¥ï¼ JDK8ä¸æ”¯æŒåœ¨æˆå‘˜å†…éƒ¨ç±»å®šä¹‰staticæˆå‘˜ï¼ŒJDK16æ‰å¼€å§‹æ”¯æŒï¼ 1.1 å…³äºéé™æ€å†…éƒ¨ç±»æ˜¯å¦æ”¯æŒ static çš„æ¢è®¨ ï¼ˆä¸»è¦æ˜¯æˆå‘˜å†…éƒ¨ç±»ï¼‰\nå…ˆèŠèŠç±»ä¸ç±»çš„å…³ç³»\nhas-aã€ is-a ã€like-a ä¸ use-a has-a : ä»å±å…³ç³»ï¼Œå¦‚åŒ…å«ã€‚ æ•´ä½“ä¸éƒ¨åˆ†çš„å…³ç³»ï¼Œä¸€ä¸ªæ‹¥æœ‰ç‹¬ç«‹å­˜åœ¨ï¼Œä½†æ˜¯ç”Ÿå‘½å‘¨æœŸåº”è¯¥ä¸€è‡´ is-a : ç»§æ‰¿å…³ç³»ï¼Œå¦‚ç±»ç»§æ‰¿ã€æ¥å£å®ç° like-a : å…·ä½“ä¸æŠ½è±¡çš„å…³ç³»ï¼Œå¦‚ æŠ½è±¡ç±»ç»§æ‰¿ä¸æ¥å£å®ç°ï¼ˆå¯ä»¥å½“ä½œæ˜¯is-a çš„ç‰¹ä¾‹ï¼‰ use-a : ä½¿ç”¨å…³ç³»ï¼Œä¸€ä¸ªç±»å’Œå¦å¤–ä¸€ä¸ªç±»çš„å±æ€§æˆ–æ–¹æ³•ä¹‹é—´çš„å…³ç³»ï¼Œä¾ç„¶æ˜¯å…¶ä¸­ä¸€ä¸ªæ‹¥æœ‰å¦å¤–ä¸€ä¸ªï¼Œä½†æ˜¯ä¸è´Ÿè´£é”€æ¯ï¼Œä¹Ÿå°±æ˜¯å£°æ˜å‘¨æœŸä¸ä¸€æ ·ï¼Œå¦‚æ–¹æ³•æ ˆï¼Œä¸€ä¸ªç±»ä¸­ new å¦ä¸€ä¸ªå¯¹è±¡ å†èŠèŠå†…éƒ¨ç±»\nå†…éƒ¨ç±»è‡ªå·±çš„ç»§æ‰¿ä¸å®ç°çš„è¡Œä¸ºæ˜¯ is-a æˆ–è€… like-a å¤–éƒ¨ç±»åŒ…å«æˆå‘˜å†…éƒ¨ç±»è¿™ä¸€è¡Œä¸ºåƒæ˜¯ has-aï¼Œä½†ä¸åƒæ˜¯use-aã€‚å› ä¸ºæˆå‘˜å†…éƒ¨ç±»æ˜¯ä¾é™„å¤–éƒ¨ç±»å®ä¾‹è€Œå­˜åœ¨çš„ å¤–éƒ¨ç±»åŒ…å«é™æ€å†…éƒ¨ç±»çš„è¿™ä¸€è¡Œä¸ºåƒhas-aï¼Œä¸”ä¹Ÿåƒæ˜¯ use-aã€‚å› ä¸ºé™æ€å†…éƒ¨ç±»å¯ä»¥ç‹¬ç«‹äºå¤–éƒ¨ç±»å®ä¾‹è€Œå­˜åœ¨ å›å½’åˆ°static\næˆå‘˜å†…éƒ¨ç±»å¼ºè°ƒçš„æ˜¯æˆå‘˜ï¼Œå³å¤–éƒ¨ç±»å®ä¾‹çš„ä¸€ä¸ªæˆå‘˜ã€‚æˆå‘˜å†…éƒ¨ç±»æ˜¯ä¾é™„å¤–éƒ¨ç±»å®ä¾‹è€Œå­˜åœ¨çš„ï¼Œè¿™ä¸€ç‚¹æ˜¯ç”±åˆ›å»ºå†…éƒ¨ç±»çš„è¿‡ç¨‹å†³å®šçš„ï¼Œéœ€è¦å…ˆåˆ›å»ºå¤–éƒ¨ç±»å®ä¾‹ï¼Œå†é€šè¿‡å¤–éƒ¨ç±»å®ä¾‹æ¥newæˆå‘˜å†…éƒ¨ç±»ã€‚å¦‚æœæˆå‘˜å†…éƒ¨ç±»ä¸­çš„æ–¹æ³•æˆ–è€…å±æ€§å¯ä»¥æ˜¯staticï¼Œé‚£å®ƒä¸å°±å¯ä»¥ç‹¬ç«‹å­˜åœ¨äº†ï¼Ÿä»åˆ†ç±»ä¸ç”¨é€”çš„è§’åº¦æ¥çœ‹ï¼Œè¿™æ ·å®ƒå°±å®Œå…¨å¯ä»¥å–ä»£äº†é™æ€å†…éƒ¨ç±»çš„å·¥ä½œï¼›ä»åˆ›å»ºçš„è§’åº¦çœ‹ï¼Œæ€»æ‰€å‘¨çŸ¥ï¼Œé™æ€å±æ€§å’Œæ–¹æ³•æ˜¯å¯ä»¥ç›´æ¥é€šè¿‡ç±»åæ¥è°ƒç”¨çš„ï¼Œè¿™ä¸€ç‚¹ä¸å®ƒçš„å®ç°ç›¸è¿èƒŒï¼›ä»æ¦‚å¿µçš„è§’åº¦çœ‹ï¼Œstaticå°±æ˜¯å…±äº«ï¼Œæœ‰é©³äºå®ä¾‹ç§æœ‰ã€‚ æ‰€æœ‰ æˆå‘˜å†…éƒ¨ç±»ä¸­ä¸åº”æœ‰staticå±æ€§æˆ–è€…æ–¹æ³•ï¼Œå¯¹äºæœ‰staticå±æ€§æˆ–è€…æ–¹æ³•çš„åº”è¯¥å£°æ˜ä¸ºé™æ€å†…éƒ¨ç±»ã€‚è¿™ä¹Ÿæ˜¯ï¼ˆåŒ…å« JDK8 åœ¨å†…ï¼‰JDK15åŠä¹‹å‰çš„ JDK ç‰ˆæœ¬çš„å®ç°é€»è¾‘ã€‚\nä¸Šè¿°ç†è§£åªæ˜¯åœ¨å¯¹å·å…¥åº§ï¼Œçœ‹äº†ç­”æ¡ˆåå†å¡«è¿‡ç¨‹ã€‚å®é™…ä¸Šï¼Œjavaé•¿æœŸä»¥æ¥å…è®¸åœ¨éé™æ€åµŒå¥—ç±»ä¸­ä½¿ç”¨é™æ€å¸¸é‡å˜é‡ï¼Œä¾‹å¦‚å­—ç¬¦ä¸²æ–‡å­—ã€‚\n1 2 3 4 5 6 7 8 9 class OuterClass { void foo() { class Inner{ static final int a = 5; // fine static final String s = \u0026#34;hello\u0026#34;; // fine static final Object o = new Object(); // compile error, because cannot be written during compilation } } } JDK16ä¸­å¼•å…¥äº†æ–°å˜åŒ–ï¼šæˆå‘˜å†…éƒ¨ç±»ä¸­ä¹Ÿå¯ä»¥æœ‰staticå±æ€§æˆ–è€…æ–¹æ³•ï¼ï¼ï¼\n1.2 å†…éƒ¨ç±»ç¼–è¯‘æ–‡ä»¶è§£æ 2.å†…éƒ¨ç±»çš„ä½œç”¨ å°è£…å’Œéšè—å®ç°ç»†èŠ‚ï¼šå†…éƒ¨ç±»å¯ä»¥è®¿é—®å¤–éƒ¨ç±»æ‰€æœ‰æˆå‘˜ï¼Œè¿™æ ·å¯ä»¥å°†ä¸€äº›å®ç°ç»†èŠ‚å°è£…åœ¨å†…éƒ¨ç±»ä¸­ï¼Œä»è€Œå¯¹å¤–éƒ¨ç±»éšè—å®ç°ç»†èŠ‚ï¼Œæé«˜ä»£ç çš„å®‰å…¨æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚ é—´æ¥å®ç°å¤šç»§æ‰¿ï¼šJava ä¸æ”¯æŒç±»çš„å¤šç»§æ‰¿ï¼Œä½†æ˜¯ä¸€ä¸ªå¤–éƒ¨ç±»å¯ä»¥åŒ…å«å¤šä¸ªå†…éƒ¨ç±»ï¼Œè¿™äº›å†…éƒ¨ç±»å¯ä»¥ç»§æ‰¿ä¸åŒçš„ç±»æˆ–å®ç°å¤šä¸ªæ¥å£ï¼Œä»è€Œé—´æ¥å®ç°äº†å¤šç»§æ‰¿çš„æ•ˆæœã€‚ å›è°ƒå’Œäº‹ä»¶å¤„ç†ï¼šå†…éƒ¨ç±»ç‰¹åˆ«æ˜¯åŒ¿åå†…éƒ¨ç±»é€šå¸¸ç”¨äºå®ç°å›è°ƒå’Œäº‹ä»¶å¤„ç†ã€‚ 3.å†…éƒ¨ç±»çš„ç”¨æ³• å¦‚æœå£°æ˜å†…éƒ¨ç±»æ—¶ä¸ä½¿ç”¨ä»»ä½•ä¿®é¥°ç¬¦ï¼Œé‚£ä¹ˆé»˜è®¤æ˜¯public staticï¼ˆé™æ€å†…éƒ¨ç±»ï¼‰\nå£°æ˜åœ¨æ¥å£ä¸­çš„å†…éƒ¨ç±»ï¼Œé»˜è®¤æ˜¯public staticã€‚\n3.1.æˆå‘˜å†…éƒ¨ç±» æˆå‘˜å†…éƒ¨ç±»çš„ç”¨æ³•ç±»ä¼¼äºå®ä¾‹å˜é‡ã€‚æ‰€ä»¥åˆ›å»ºæˆå‘˜å†…éƒ¨ç±»éœ€è¦å…ˆåˆ›å»ºäº†å¤–éƒ¨ç±»å®ä¾‹æ‰è¡Œã€‚\n3.1.1åŠ è½½é¡ºåºï¼ˆæ­¤å¤„ä¸é™æ€å†…éƒ¨ç±»ä¸åŒï¼ï¼‰ ç”Ÿæˆä¸€ä¸ªå†…éƒ¨å®ä¾‹çš„æ‰§è¡Œé¡ºåºä¸ºï¼š\nå…ˆåŠ è½½å¤–éƒ¨ç±»çš„é™æ€ä»£ç å—ï¼ˆæŒ‰ç…§ä¸Šä¸‹é¡ºåºï¼‰ åŠ è½½å¤–éƒ¨ç±»çš„æ„é€ æ–¹æ³• å…ˆåŠ è½½å†…éƒ¨ç±»çš„é™æ€ä»£ç å—ï¼ˆæŒ‰ç…§ä¸Šä¸‹é¡ºåºï¼‰ åŠ è½½å†…éƒ¨ç±»çš„æ„é€ æ–¹æ³• 3.1.2 å®ä¾‹åŒ–æ ¼å¼ï¼ˆæ­¤å¤„ä¸é™æ€å†…éƒ¨ç±»ä¸åŒï¼ï¼‰ å…ˆå®ä¾‹åŒ–ä¸€ä¸ªå¤–éƒ¨ç±»ï¼Œå†é€šè¿‡å¤–éƒ¨ç±»çš„å®ä¾‹new ä¸€ä¸ªå†…éƒ¨ç±»çš„å®ä¾‹ï¼Œè¯¥å†…éƒ¨ç±»å®ä¾‹çš„ç±»å‹ä¸º Outer.Innerã€‚ï¼ˆæˆå‘˜å†…éƒ¨ç±»æ˜¯ä¾é™„å¤–éƒ¨ç±»è€Œå­˜åœ¨çš„ï¼‰\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 // æ ¼å¼ å¤–éƒ¨ç±»å®ä¾‹.new å†…éƒ¨ç±»çš„æ„é€ å‡½æ•°ï¼ˆï¼‰ï¼› public class Outer { public class Inner{} } public static void main(String[] args) { //æ–¹å¼ä¸€ï¼š å…ˆåˆ›å»ºéåŒ¿åå¤–éƒ¨å®ä¾‹ï¼Œå†ç”¨å¤–éƒ¨å®ä¾‹ new æˆå‘˜å†…éƒ¨ç±»å®ä¾‹ //å…ˆåˆ›å»ºéåŒ¿åå¤–éƒ¨å®ä¾‹ Outer outer = new Outer(); //å†é€šè¿‡è¿™ä¸ªå¤–éƒ¨ç±»çš„å®ä¾‹æ¥å®ä¾‹åŒ–å†…éƒ¨ç±» Outer.Inner inner1 = outer.new Inner();//æ³¨æ„newçš„ä½ç½®,æˆå‘˜å†…éƒ¨ç±»ä¸é™æ€å†…éƒ¨ç±»ä¸åŒ // Outer.Inner inner = new outer.Inner();//é”™è¯¯çš„æ ¼å¼ //æ–¹å¼äºŒï¼šé€šè¿‡åŒ¿åå¤–éƒ¨ç±»å®ä¾‹ç›´æ¥ new æˆå‘˜å†…éƒ¨ç±»å®ä¾‹ Outer.Inner inner2 = new Outer().new Inner(); } 3.1.3 å†…éƒ¨ç±»å¤–éƒ¨ç±»çš„è®¿é—®é€»è¾‘ä¸èŒƒå›´ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 public class Outer { private int outerId = 10; public void sameOut(){System.out.println(\u0026#34;å¤–éƒ¨ç±»åŒåçš„æ–¹æ³•è¢«è°ƒç”¨\u0026#34;);} public void outerOut(){System.out.println(\u0026#34;å¤–éƒ¨ç±»éåŒåçš„æ–¹æ³•è¢«è°ƒç”¨\u0026#34;);} /* **********å¤–éƒ¨ç±»å¦‚ä½•è°ƒç”¨å†…éƒ¨ç±»çš„å±æ€§ä¸æ–¹æ³•*********** */ /*public int getInnerId(){ //é”™è¯¯ç¤ºèŒƒ innerOut();//æŠ¥é”™ return innerId;//æŠ¥é”™,ä¸èƒ½ç›´æ¥é€šè¿‡ä¸åˆ°innerId }*/ public int getInnerId(Inner in){ //é€šè¿‡å®ä¾‹æ¥è°ƒç”¨ in.innerOut();//æˆåŠŸ return in.innerId;//æˆåŠŸ } /*å¤–éƒ¨ç±»è°ƒç”¨æˆå‘˜å†…éƒ¨ç±»çš„æ€»ç»“ï¼š 1. ä¸èƒ½é€šè¿‡å±æ€§åæˆ–è€…æ–¹æ³•åç›´æ¥è·å–å†…éƒ¨ç±»çš„å±æ€§ã€‚å› ä¸ºæˆå‘˜å†…éƒ¨ç±»åŠ è½½åœ¨å¤–éƒ¨ç±»ä¹‹åï¼Œæ— æ³•ç›´æ¥æ‰¾åˆ° 2. åªèƒ½é€šè¿‡å†…éƒ¨ç±»çš„å®ä¾‹æ¥è°ƒç”¨å†…éƒ¨ç±»çš„å±æ€§æˆ–è€…æ–¹æ³• 3. ä¹Ÿå°±æ˜¯è¯´å¤–éƒ¨ç±»æ— æ³•è®¿é—®å†…éƒ¨ç±»çš„å±æ€§åæˆ–è€…æ–¹æ³• */ public class Inner{ //å†…éƒ¨ç±»ä¹Ÿå¯ä»¥æ˜¯public!!! private int innerId = 20; public void sameOut(){System.out.println(\u0026#34;å†…éƒ¨ç±»åŒåçš„æ–¹æ³•è¢«è°ƒç”¨\u0026#34;);}//ä¸å¤–éƒ¨ç±»æ–¹æ³•åŒåæ²¡æŠ¥é”™ï¼ public void innerOut(){System.out.println(\u0026#34;å†…éƒ¨ç±»éåŒåçš„æ–¹æ³•è¢«è°ƒç”¨\u0026#34;);} /* **********å†…éƒ¨ç±»å¦‚ä½•è°ƒç”¨å¤–éƒ¨ç±»çš„å±æ€§ä¸æ–¹æ³•*********** */ public int getOuterId(){ //outerOut();//æŠ¥é”™ Outer.this.outerOut();//æˆåŠŸ return outerId;//outerIdæ˜¯private,æ‰€ä»¥å†…éƒ¨ç±»å¯ä»¥è·å–å¤–éƒ¨ç±»çš„ç§æœ‰å±æ€§ } /*æˆå‘˜å†…éƒ¨ç±»è°ƒç”¨å¤–éƒ¨ç±»çš„æ€»ç»“ï¼š 1. å¯ä»¥é€šè¿‡å±æ€§åç›´æ¥è·å–å¤–éƒ¨ç±»çš„å±æ€§ï¼Œç”šè‡³åŒ…æ‹¬è®¿é—®æƒé™ä¸ºprivateçš„éƒ¨åˆ†ã€‚å› ä¸ºå†…éƒ¨ç±»ä¹Ÿåœ¨å¤–éƒ¨ç±»å£°æ˜ä¸­ 2. ä¸èƒ½é€šè¿‡æ–¹æ³•åç›´æ¥è·å–å¤–éƒ¨ç±»çš„æ–¹æ³•ï¼Œè¿™ç‚¹ä¸ç»§æ‰¿ä¸åŒã€‚ä»æˆå‘˜çš„è§’åº¦çœ‹åº”è¯¥èƒ½è®¿é—®åˆ°æ‰å¯¹ï¼Œæ‰€ä»¥javaæä¾›äº†ä»¥ä¸‹3.ä¸­çš„æ˜¯å®ç°æ–¹å¼ã€‚ 3. å¯ä»¥é€šè¿‡ `å¤–éƒ¨ç±»å.this.å¤–éƒ¨æ–¹æ³•()` æ¥ç›´æ¥è°ƒç”¨å¤–éƒ¨ç±»çš„æ–¹æ³• 4. å†…éƒ¨ç±»ä¸­çš„ this æŒ‡å†…éƒ¨ç±»è‡ªå·±çš„å¼•ç”¨ï¼›å¤–éƒ¨ç±»å.this æ‰æ˜¯å†…éƒ¨ç±»å¯¹åº”å¤–éƒ¨ç±»çš„å¼•ç”¨ */ }ï¼› } 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 public class main { public static void main(String[] args) { /* ***********åŒååŒå‚æ–¹æ³•çš„è°ƒç”¨*************** */ Outer outer = new Outer(); //å†é€šè¿‡è¿™ä¸ªå¤–éƒ¨ç±»çš„å®ä¾‹æ¥å®ä¾‹åŒ–å†…éƒ¨ç±» Outer.Inner inner = outer.new Inner(); outer.sameOut();//å¤–éƒ¨ç±»åŒåçš„æ–¹æ³•è¢«è°ƒç”¨ inner.sameOut();//å†…éƒ¨ç±»åŒåçš„æ–¹æ³•è¢«è°ƒç”¨ /* ***********ä¸åŒåæ–¹æ³•çš„è°ƒç”¨*************** */ //è‡ªå·±è°ƒç”¨ outer.outerOut();//å¤–éƒ¨ç±»éåŒåçš„æ–¹æ³•è¢«è°ƒç”¨ inner.innerOut();//å†…éƒ¨ç±»éåŒåçš„æ–¹æ³•è¢«è°ƒç”¨ //äº¤å‰è°ƒç”¨ //inner.outerOut();//æŠ¥é”™ //outer.innerOut();//æŠ¥é”™ inner.getOuterId();//å¤–éƒ¨ç±»éåŒåçš„æ–¹æ³•è¢«è°ƒç”¨ outer.getInnerId(inner);//å†…éƒ¨ç±»éåŒåçš„æ–¹æ³•è¢«è°ƒç”¨ /*æˆå‘˜å†…éƒ¨ç±»ä¸å¤–éƒ¨ç±»çš„è°ƒç”¨çš„æ€»ç»“ï¼š 1. å¤–éƒ¨ç±»ä¸æˆå‘˜å†…éƒ¨ç±»å¯ä»¥æœ‰åŒååŒå‚çš„æ–¹æ³•ï¼Œä¸ä¼šæŠ¥é”™ 2. ç”¨æ–¹æ³•åè°ƒç”¨åŒååŒå‚æ–¹æ³•ï¼Œå¤–éƒ¨ç±»ã€å†…éƒ¨ç±»å¼•ç”¨ä¼šè°ƒç”¨å„è‡ªçš„æ–¹æ³• 3. å¤–éƒ¨ç±»åªèƒ½é€šè¿‡æˆå‘˜å†…éƒ¨ç±»çš„å®ä¾‹æ¥è°ƒç”¨å†…éƒ¨ç±»çš„æ–¹æ³•ï¼Œæ— è®ºæ˜¯å¦åŒååŒå‚ 4. æˆå‘˜å†…éƒ¨ç±»å¯ä»¥é€šè¿‡ `å¤–éƒ¨ç±»å.this.å¤–éƒ¨æ–¹æ³•()` æ¥ç›´æ¥è°ƒç”¨å¤–éƒ¨ç±»çš„æ–¹æ³• */ } } 3.2 é™æ€å†…éƒ¨ç±»ï¼ˆç¼–è¯‘å™¨æºç ç”¨çš„æ¯”è¾ƒå¤šï¼‰ staticå¯ä»¥ä¿®é¥°å†…éƒ¨ç±»ï¼Œéå†…éƒ¨ç±»ä¸èƒ½è¢«å®ƒä¿®é¥°\nä½¿ç”¨staticä¿®é¥°ç¬¦ä¿®é¥°çš„å†…éƒ¨ç±»ç§°ä¹‹ä¸ºé™æ€å†…éƒ¨ç±»ï¼Œä¹Ÿæœ‰äººç§°é™æ€å†…éƒ¨ç±»ä¸ºé™æ€åµŒå¥—ç±»ï¼ˆå…¶ä»–ä¸‰è€…ä¸ºéé™æ€åµŒå¥—ç±»ï¼‰\nåˆ›å»ºé™æ€å†…éƒ¨ç±»ä¸ä¼šåŠ è½½å¤–éƒ¨ç±»çš„é™æ€ä»£ç å—ï¼Œä¸ä¼šè°ƒç”¨å¤–éƒ¨ç±»çš„æ„é€ æ–¹æ³•ï¼Œæ‰€æœ‰å†…éƒ¨ç±»æ— å¦¨è®¿é—®å¤–éƒ¨ç±»éé™æ€æˆå‘˜å±æ€§\nå†…éƒ¨ç±»ä¸­åªæœ‰é™æ€å†…éƒ¨ç±»æ‰å¯ä»¥æœ‰é™æ€å±æ€§æˆ–è€…æ–¹æ³•ï¼ˆJDK16ä¹‹å‰çš„ç‰ˆæœ¬ï¼‰\n1 2 3 4 5 6 7 public class A{//å¤–éƒ¨ç±» private int id; public static class B{//é™æ€å†…éƒ¨ç±» public int getOuterId(){//è·å–å¤–éƒ¨ç±»çš„ç§æœ‰å±æ€§ return id;//æŠ¥é”™ï¼Œé™æ€å†…éƒ¨ç±»æ— æ³•è®¿é—®å¤–éƒ¨ç±»çš„éé™æ€å±æ€§ } } 3.2.1 åŠ è½½é¡ºåº åˆ›å»ºé™æ€å†…éƒ¨ç±»ä¸ä¼šåŠ è½½å¤–éƒ¨ç±»çš„é™æ€ä»£ç å—ï¼Œä¸ä¼šè°ƒç”¨å¤–éƒ¨ç±»çš„æ„é€ æ–¹æ³•\nå…ˆåŠ è½½å†…éƒ¨ç±»çš„é™æ€ä»£ç å—ï¼ˆæŒ‰ç…§ä¸Šä¸‹é¡ºåºï¼‰ åŠ è½½å†…éƒ¨ç±»çš„æ„é€ æ–¹æ³• 3.2.2 å®ä¾‹åŒ–æ ¼å¼ 1 2 3 4 5 6 7 8 9 10 11 12 13 // æ ¼å¼ new å¤–éƒ¨ç±»å.å†…éƒ¨ç±»çš„æ„é€ å‡½æ•°ï¼ˆï¼‰ï¼› public class A{//å¤–éƒ¨ç±» public static class B{//é™æ€å†…éƒ¨ç±» } } public static void main(String[] args) { //ç›´æ¥é€šè¿‡new é™æ€å†…éƒ¨ç±»çš„æ„é€ å‡½æ•°åˆ›å»ºå®ä¾‹ï¼Œä½†æ˜¯éœ€è¦ç”¨`å¤–éƒ¨ç±».å†…éƒ¨ç±»`ä¸ºäº†è¡¨æ˜å†…éƒ¨ç±»çš„å£°æ˜ä½ç½®ï¼Œæ­¤å¤„çš„ `å¤–éƒ¨ç±».`ç›¸å½“äºä½œç”¨åŸŸ Outer.Inner inner2 = new Outer.Inner(); //Warningï¼šé€šè¿‡åŒ¿åå¤–éƒ¨ç±»å®ä¾‹ç›´æ¥ new æˆå‘˜å†…éƒ¨ç±»å®ä¾‹ Outer.Inner inner2 = new Outer().new Inner();//ä¸æ¨èï¼Œé€šè¿‡å®ä¾‹è°ƒç”¨é™æ€å±æ€§æˆ–è€…æ–¹æ³•ç¼–è¯‘å™¨éƒ½ä¼šWarning } 3.2.3 è°ƒç”¨é€»è¾‘ é™æ€å†…éƒ¨ç±»å¯ä»¥ç›´æ¥è®¿é—®å¤–éƒ¨ç±»çš„é™æ€æˆå‘˜ï¼Œå¦‚æœè®¿é—®å¤–éƒ¨ç±»çš„å®ä¾‹æˆå‘˜ï¼Œå¿…é¡»é€šè¿‡å¤–éƒ¨ç±»çš„å®ä¾‹å»è®¿é—®ã€‚ å¯ä»¥é€šè¿‡å®Œæ•´çš„ç±»åç›´æ¥è®¿é—®é™æ€å†…éƒ¨ç±»çš„é™æ€æˆå‘˜ï¼Œå®Œæ•´ç±»åæŒ‡ å¤–éƒ¨ç±»å.å†…éƒ¨ç±»å 3.3. å±€éƒ¨å†…éƒ¨ç±»ï¼ˆå¯ä»¥è®¤ä¸ºæ˜¯å‡½æ•°å†…éƒ¨ç±»ï¼‰ å®šä¹‰åœ¨æ–¹æ³•å†…çš„å†…éƒ¨ç±»ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºå±€éƒ¨å†…éƒ¨ç±»ã€‚\nå±€éƒ¨ç±»ä¸èƒ½ç”¨publicæˆ–privateä¿®é¥°ç¬¦è¿›è¡Œå£°æ˜ã€‚å®ƒçš„ä½œç”¨åŸŸè¢«é™å®šåœ¨å£°æ˜è¿™ä¸ªå±€éƒ¨ç±»çš„å—ä¸­ã€‚\nå±€éƒ¨ç±»æœ‰ä¸€ä¸ªä¼˜åŠ¿, å³å¯¹å¤–éƒ¨ä¸–ç•Œå¯ä»¥å®Œå…¨åœ°éšè—èµ·æ¥ã€‚\n3.4.åŒ¿åå†…éƒ¨ç±» åŒ¿åå†…éƒ¨ç±»å°±æ˜¯ç»§æ‰¿äº†æŸä¸ªæ¥å£æˆ–è€…æŸä¸ªç±»çš„æ²¡æœ‰åå­—çš„å±€éƒ¨å†…éƒ¨ç±»ã€‚ç›¸å½“äºåœ¨å±€éƒ¨ç»™æŸä¸ªæ¥å£æˆ–è€…æŸä¸ªç±»å†™äº†ä¸ªæ²¡æœ‰åå­—çš„å­ç±»ã€‚\nå®ƒæ˜¯å±€éƒ¨å†…éƒ¨ç±»ï¼Œä¸€èˆ¬å†™åœ¨æ–¹æ³•ä½“ä¸­ï¼Œä¸´æ—¶åˆ›å»ºå¹¶è°ƒç”¨ï¼Œä½œç”¨æ—¶é•¿å°±æ˜¯æ–¹æ³•çš„æ—¶é•¿ å®ƒæ˜¯ä¸€ä¸ªæ²¡æœ‰åå­—çš„ç±»ï¼Œé€šå¸¸ç”¨é‡å†™å®ƒçš„çˆ¶ç±»æ¥å®šä¹‰ å®ƒå¿…é¡»æ˜¯æŸä¸ªå·²ç»å®šä¹‰çš„æ¥å£æˆ–ç±»çš„å­ç±»ã€‚ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 public interface MyIntertface{//å®šä¹‰äº†ä¸€ä¸ªæ¥å£ public abstract void fun(); } //åœ¨æµ‹è¯•ç±»çš„æ–¹æ³•ä¸­åˆ›å»ºä¸€ä¸ªè¯¥æ¥å£çš„åŒ¿åå®ç°ç±»ï¼Œå³åŒ¿åå†…éƒ¨ç±» public class Test{ public static void main(String[] args){ //åˆ›å»ºåŒ¿åå†…éƒ¨ç±» MyInterface a = new MyInterface(){ @Override void fun(){System.out.println(\u0026#34;success\u0026#34;);}//é‡å†™æ¥å£çš„æ–¹æ³• } /* æ˜¾ç„¶ Interface æ¥å£ä¸åº”è¯¥æœ‰æ„é€ æ–¹æ³•ï¼Œè€Œä¸”æ¥å£ä¸èƒ½ç›´æ¥åˆ›å»ºå®ç°ç±»ã€‚é‚£ä¹ˆä¸Šè¿°ä»£ç æ€ä¹ˆè§£é‡Šå‘¢ï¼Ÿ *\t1. ç­‰å·å·¦è¾¹çš„ MyInterface a å®é™…ä¸Šæ˜¯åœ¨ç”¨çˆ¶ç±»çš„å¼•ç”¨æŒ‡å‘å­ç±»çš„å¯¹è±¡ *\t2. ç­‰å·åˆè¾¹çš„ new MyInterface(){//é‡å†™} å®è´¨ä¸Šåˆ›å»ºäº†ä¸€ä¸ªæ¥å£çš„æ˜¯å®ç°ç±»ã€‚ * 3. æ˜¾ç„¶ç­‰å·å³è¾¹è¿™ä¸ªç±»æ˜¯æ²¡æœ‰ç±»åçš„ * å¦‚æœæœ‰ç±»åçš„è¯ï¼Œç›¸å½“äºå¦‚ä¸‹ä»£ç ï¼š */ a.fun(); } } //å¦‚ä¸‹ä»£ç å¯ä»¥å®ç°ä¸Šè¿°çš„ç­‰ä»·æ•ˆæœ public interface MyIntertface{//å®šä¹‰äº†ä¸€ä¸ªæ¥å£ public abstract void fun(); } public class MyInterfaceInmpl implements MyInterface{ @Override public void fun(){System.out.println(\u0026#34;success\u0026#34;);}//é‡å†™ } //åœ¨æµ‹è¯•ç±»çš„æ–¹æ³•ä¸­åˆ›å»ºä¸€ä¸ªè¯¥æ¥å£çš„åŒ¿åå®ç°ç±»ï¼Œå³åŒ¿åå†…éƒ¨ç±» public class Test{ public static void main(String[] args){ //åˆ›å»ºå®ç°ç±»å®ä¾‹,ä¸”ç”¨æ¥å£çš„å¼•ç”¨æŒ‡å‘å…¶å®ç°ç±» MyInterface a = new MyInterfaceInmpl(); a.fun(); } } /* åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œå®ç°ç±»MyInterfaceInmplå…¨ç¨‹åªä½¿ç”¨ä¸€æ¬¡ï¼Œ * ä¸ºäº†è¿™ä¸€æ¬¡çš„ä½¿ç”¨è¦å»åˆ›å»ºä¸€ä¸ªç±»ï¼Œæœªå…å¤ªè¿‡éº»çƒ¦ã€‚é‚£ä¹ˆæˆ‘ä»¬å¯ä»¥ä½¿ç”¨åŒ¿åå†…éƒ¨ç±» */ ","date":"0001-01-01T00:00:00Z","permalink":"http://localhost:1313/p/","title":""},{"content":"1. å¼‚å¸¸çš„æ¦‚è¿° åœ¨ç¼–ç¨‹ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸é‡åˆ°å„ç§ä¸å¯é¢„è§çš„é—®é¢˜ï¼Œä¾‹å¦‚ï¼šæ–‡ä»¶æ‰¾ä¸åˆ°ã€ç½‘ç»œè¿æ¥å¤±è´¥ã€æ•°ç»„è¶Šç•Œç­‰ã€‚è¿™äº›é—®é¢˜æˆ‘ä»¬é€šå¸¸ç§°ä¹‹ä¸ºâ€œå¼‚å¸¸â€ï¼ˆExceptionï¼‰ã€‚\njava æŠŠå¼‚å¸¸å½“ä½œå¯¹è±¡æ¥å¤„ç†ï¼Œå¹¶å®šä¹‰äº†ä¸€ä¸ªåŸºç±» java.lang.Throwableä½œä¸ºæ‰€æœ‰å¼‚å¸¸çš„è¶…ç±»ã€‚ java.lang.Throwableä¸»è¦åˆ†ä¸ºä¸¤ç±» é”™è¯¯Error å’Œ Exception ã€‚\nå¸¸ç”¨æ¦‚å¿µï¼š\nå¼‚å¸¸ç±»ï¼ˆException classï¼‰: Java ä¸­çš„æ‰€æœ‰å¼‚å¸¸ç±»éƒ½ç»§æ‰¿è‡ª java.lang.Throwable ç±»ã€‚ Errorï¼šè¿™æ˜¯ Throwable çš„ä¸€ä¸ªå­ç±»ï¼Œé”™è¯¯é€šå¸¸åŒ…å«é‚£äº›ä¸åº”ç”±åº”ç”¨ç¨‹åºå¤„ç†çš„ä¸¥é‡é—®é¢˜ã€‚ Exceptionï¼šè¿™æ˜¯ Throwable çš„å¦ä¸€ä¸ªå­ç±»ï¼Œå®ƒè¡¨ç¤ºç¨‹åºå¯ ä»¥å¤„ç†çš„é—®é¢˜ã€‚æ¯”å¦‚å°è¯•æ‰“å¼€ä¸€ä¸ªä¸å­˜åœ¨çš„æ–‡ä»¶ç­‰ã€‚ æŠ›å‡ºå¼‚å¸¸ï¼ˆThrowing an exceptionï¼‰ï¼šå½“ç¨‹åºå‘ç”Ÿä¸€ä¸ªå¼‚å¸¸æ—¶ï¼Œä¼šåˆ›å»ºä¸€ä¸ªå¼‚å¸¸å¯¹è±¡ï¼Œå¹¶å°†å…¶æŠ›å‡ºï¼Œæäº¤ç»™ Java è¿è¡Œæ—¶ç³»ç»Ÿã€‚ æ•è·å¼‚å¸¸ï¼ˆCatching an exceptionï¼‰ï¼šè¿™æ˜¯å¯¹æŠ›å‡ºå¼‚å¸¸çš„å“åº”ã€‚å½“ä¸€ä¸ªæ–¹æ³•æŠ›å‡ºä¸€ä¸ªå¼‚å¸¸æ—¶ï¼Œè¿™ä¸ªå¼‚å¸¸å¯ä»¥è¢«å¦ä¸€ä¸ªæ–¹æ³•æ•è·å¹¶å¤„ç† æ£€æŸ¥å¼‚å¸¸ï¼ˆChecked Exceptionsï¼‰ï¼šç¼–è¯‘å™¨è¦æ±‚å¿…é¡»å¤„ç½®çš„å¼‚å¸¸ã€‚å¯¹äº Exception åŠå…¶å­ç±»ï¼ˆä¸åŒ…æ‹¬ RuntimeException åŠå…¶å­ç±»ï¼‰ï¼Œç¼–è¯‘å™¨å¼ºåˆ¶æˆ‘ä»¬åœ¨å¯èƒ½æŠ›å‡ºå¼‚å¸¸çš„ä»£ç ä¸­ä½¿ç”¨ try-catch è¯­å¥ï¼Œæˆ–è€…å°†å¼‚å¸¸ä¼ é€’ç»™è°ƒç”¨è€…ï¼ˆé€šè¿‡åœ¨æ–¹æ³•ç­¾åä¸­æ·»åŠ  throws å­å¥ï¼‰ éæ£€æŸ¥å¼‚å¸¸ï¼ˆUnchecked Exceptionsï¼‰ï¼šå¯¹äº RuntimeException åŠå…¶å­ç±»ï¼Œç¼–è¯‘å™¨å¹¶ä¸å¼ºåˆ¶æˆ‘ä»¬å¤„ç†æˆ–å£°æ˜å®ƒä»¬ã€‚æˆ‘ä»¬å¯ä»¥é€‰æ‹©æ•è·å®ƒä»¬ï¼Œä½†ä¹Ÿå¯ä»¥å¿½ç•¥å®ƒä»¬ï¼Œè®©å®ƒä»¬åœ¨ç¨‹åºè¿è¡Œæ—¶è‡ªåŠ¨æŠ›å‡ºã€‚éæ£€æŸ¥å¼‚å¸¸é€šå¸¸ç”±ç¨‹åºé€»è¾‘é”™è¯¯å¼•èµ·ï¼Œæˆ‘ä»¬åº”è¯¥é€šè¿‡æ”¹æ­£ç¨‹åºæ¥é¿å…å®ƒä»¬ï¼Œè€Œä¸æ˜¯è¯•å›¾æ¢å¤ 2.å¼‚å¸¸çš„ä½“ç³»ç»“æ„ ä»»ä½•å¯ä»¥ä½œä¸ºå‚æ•°ä¼ é€’ç»™ catch å­å¥çš„ç±»éƒ½å¿…é¡»æ˜¯ java.lang.Throwable ç±»æˆ–è€…å…¶çš„å­ç±»\nException ç±»ä¸»è¦æœ‰ä¸¤ä¸ªå­ç±»ï¼šIOException å’Œ RuntimeExceptionã€‚IOException ç±»æ˜¯é‚£äº›å¯èƒ½ä¼šå¯¼è‡´è¾“å…¥è¾“å‡ºæ“ä½œå¤±è´¥çš„å¼‚å¸¸ï¼Œä¾‹å¦‚è¯»å–ä¸å­˜åœ¨çš„æ–‡ä»¶ã€‚è€Œ RuntimeException åˆ™åŒ…æ‹¬ç¨‹åºé€»è¾‘é”™è¯¯ï¼Œå¦‚æ•°ç»„è¶Šç•Œã€ç©ºæŒ‡é’ˆè®¿é—®ç­‰\n3.å¼‚å¸¸çš„ç”¨é€” é”™è¯¯å¤„ç†ï¼šæœ€ç›´æ¥çš„ç”¨é€”å°±æ˜¯å¤„ç†é”™è¯¯ã€‚ä¾‹å¦‚ï¼Œå½“ä½ å°è¯•æ‰“å¼€ä¸€ä¸ªä¸å­˜åœ¨çš„æ–‡ä»¶æˆ–è€…å°è¯•è¿æ¥ä¸€ä¸ªæ— æ³•å“åº”çš„ç½‘ç»œæœåŠ¡æ—¶ï¼ŒJava ä¼šæŠ›å‡ºä¸€ä¸ªå¼‚å¸¸ã€‚ä½ å¯ä»¥æ•è·è¿™ä¸ªå¼‚å¸¸å¹¶å†³å®šå¦‚ä½•å¤„ç†å®ƒï¼Œä¾‹å¦‚ï¼Œé‡æ–°å°è¯•æ“ä½œï¼Œæˆ–è€…æ˜¾ç¤ºä¸€æ¡é”™è¯¯ä¿¡æ¯ã€‚ é€šè¿‡é”™è¯¯å¤„ç†å¯ä»¥é¿å… JVM ç›´æ¥åœæ­¢ï¼Œé˜²æ­¢ç¨‹åºç›´æ¥å´©äº† æµç¨‹æ§åˆ¶ï¼šè™½ç„¶ä½¿ç”¨å¼‚å¸¸æ¥åšæµç¨‹æ§åˆ¶ä¸æ˜¯ä¸€ä¸ªè‰¯å¥½çš„ç¼–ç¨‹ä¹ æƒ¯ï¼Œä½†åœ¨æŸäº›ç‰¹æ®Šæƒ…å†µä¸‹ï¼Œå®ƒå¯ä»¥ä½œä¸ºä¸€ç§å¾ˆæœ‰æ•ˆçš„æµç¨‹æ§åˆ¶æ‰‹æ®µã€‚ä¾‹å¦‚ï¼Œåœ¨ä¸€ä¸ªå¤§çš„å¾ªç¯ç»“æ„ä¸­ï¼Œå½“æ»¡è¶³ç‰¹å®šæ¡ä»¶æ—¶ï¼Œä½ å¯èƒ½å¸Œæœ›é€€å‡ºå¾ªç¯ï¼Œè¿™æ—¶å¯ä»¥æŠ›å‡ºä¸€ä¸ªå¼‚å¸¸ã€‚ 4.Throwable ç±» 4.1Throwable ç±»é‡Œå¸¸ç”¨æ–¹æ³•åŒ…æ‹¬ï¼š public String getMessage()ï¼šè¿”å›å…³äºå‘ç”Ÿçš„å¼‚å¸¸çš„è¯¦ç»†ä¿¡æ¯ã€‚è¿™ä¸ªä¿¡æ¯åœ¨ Throwable å¯¹è±¡è¢«åˆ›å»ºæ—¶é€šè¿‡å…¶æ„é€ å‡½æ•°è®¾ç½®ã€‚ public Throwable getCause()ï¼šè¿”å›å¯¼è‡´å¼‚å¸¸çš„åŸå› ï¼Œæˆ–è€…å¦‚æœåŸå› ä¸å­˜åœ¨æˆ–æœªçŸ¥ï¼Œåˆ™è¿”å› nullã€‚ public String toString()ï¼šè¿”å›ä¸€ä¸ªç®€çŸ­çš„æè¿°ï¼ŒåŒ…å«å¼‚å¸¸çš„ç±»å‹å’Œè¯¦æƒ…ä¿¡æ¯ã€‚ public void printStackTrace()ï¼šå°†æ­¤ Throwable åŠå…¶å›æº¯æ‰“å°åˆ°æ ‡å‡†é”™è¯¯æµã€‚ 4.2 æŠ›å‡ºå¼‚å¸¸çš„è¿‡ç¨‹ é€šè¿‡ä½¿ç”¨ new å…³é”®å­— + Throwable ç±»æˆ–å…¶å­ç±»çš„æ„é€ å‡½æ•°æ¥åˆ›å»ºä¸€ä¸ª Throwable ï¼ˆå­ç±»ï¼‰å¯¹è±¡ ä½¿ç”¨ throw å…³é”®å­—æ¥æŠ›å‡º Throwableï¼ˆå­ç±»ï¼‰å¯¹è±¡ã€‚ throwsç”¨äºè¿›è¡Œå¼‚å¸¸ç±»çš„å£°æ˜ï¼Œè‹¥è¯¥æ–¹æ³•å¯èƒ½æœ‰å¤šç§å¼‚å¸¸æƒ…å†µäº§ç”Ÿï¼Œé‚£ä¹ˆåœ¨throwsåé¢å¯ä»¥å†™å¤šä¸ªå¼‚å¸¸ç±»ï¼Œç”¨é€—å·éš”å¼€ 1 2 3 4 5 6 7 8 9 10 11 12 ä¿®é¥°ç¬¦ è¿”å›å€¼ç±»å‹ æ–¹æ³•å() throws å¼‚å¸¸ç±»å‹1,å¼‚å¸¸ç±»å‹2{ //æ³¨æ„ä¸Šé¢è¿™é‡Œæ˜¯throws,ä¸æ˜¯throwã€‚è€Œä¸”æ˜¯å¼‚å¸¸ç±»å‹ï¼Œä¸æ˜¯å¯¹è±¡ if (åˆ¤æ–­æ¡ä»¶) { //æ³¨æ„æ­¤å¤„æ˜¯throw,ä¸æ˜¯throwsï¼Œè€Œä¸”æ˜¯å¼‚å¸¸å¯¹è±¡ throw new å¼‚å¸¸å¯¹è±¡(\u0026#34;å¼‚å¸¸çš„åŸå› \u0026#34;); } //æ–¹æ³•ä½“ } //ç”Ÿæˆå¼‚å¸¸å¯¹è±¡æ˜¯å®ä¾‹ï¼Œè¿™é‡Œçš„Throwableä¹Ÿå¯ä»¥ç”¨å…¶å­ç±»ä»£æ›¿ Throwable throwable = new Throwable(â€å‘ç°ä¸€ä¸ªå¼‚å¸¸ï¼â€œ); throw throwable;//æ³¨æ„æ­¤å¤„æ˜¯throw,ä¸æ˜¯throws 4.3 æ•è·å¼‚å¸¸ä¸å¤„ç†å¼‚å¸¸ try-catch è¯­å¥ ä½¿ç”¨ try-catch è¯­å¥æ¥æ•è·å’Œå¤„ç†å¼‚å¸¸ã€‚åœ¨ try å—ä¸­ï¼Œæˆ‘ä»¬æ”¾å…¥å¯èƒ½ä¼šæŠ›å‡ºå¼‚å¸¸çš„ä»£ç ï¼Œç„¶ååœ¨åé¢çš„ catch å—ä¸­æ•è·æŠ›å‡ºçš„å¼‚å¸¸å¯¹è±¡å¹¶å¤„ç†è¿™äº›å¼‚å¸¸ã€‚\n1 2 3 4 5 6 /*å¤šä¸ªå¼‚å¸¸ä¸€æ¬¡æ•è·ä¸€æ¬¡å¤„ç† + æ²¡å†™finally*/ try{ //å¯èƒ½ä¼šæŠ›å‡ºå¼‚å¸¸çš„ä»£ç å— }catch(å¼‚å¸¸ç±»å‹**å¯¹è±¡**){ //å¤„ç†å¼‚å¸¸çš„ä»£ç å— } try-catch-finally è¯­å¥ 1 2 3 4 5 6 7 8 9 10 /*å¤šä¸ªå¼‚å¸¸ä¸€æ¬¡æ•è·å¤šæ¬¡å¤„ç† + fianlly*/ try { // å¯èƒ½æŠ›å‡ºå¼‚å¸¸çš„ä»£ç  } catch (ExceptionType1 e) { // å¤„ç† ExceptionType1 å¼‚å¸¸ } catch (ExceptionType2 e) { // å¤„ç† ExceptionType2 å¼‚å¸¸ } finally { // æ— è®ºæ˜¯å¦æŠ›å‡ºå¼‚å¸¸ï¼Œéƒ½å°†æ‰§è¡Œçš„ä»£ç  } å¤šæ¬¡å¤„ç†å®é™…ä¸Šæ˜¯ä¸€æ¬¡å¤„ç†\nå¤šä¸ªcatchçš„æ•ˆæœåƒ if \u0026hellip; else if ä¸€æ ·ï¼Œæ‰€ä»¥åœ¨å‰é¢çš„åˆ¤æ–­æ¡ä»¶éœ€è¦å¼±äºåé¢çš„ï¼Œä¸ç„¶åé¢çš„catchæ°¸è¿œä¸ä¼šæ‰§è¡Œã€‚æ‰€ä»¥ å‰é¢çš„å¼‚å¸¸ç±»å‹ ä¸èƒ½æ˜¯ åé¢å¼‚å¸¸ç±»å‹çš„çˆ¶ç±»ã€‚\næœ‰å…³ finally { }ï¼š\næ— è®ºå¼‚å¸¸æ˜¯å¦å‘ç”Ÿï¼Œfinally å†…çš„è¯­å¥éƒ½éœ€è¦æ‰§è¡Œã€‚å› ä¸ºå¼‚å¸¸ä¼šå¼•å‘ç¨‹åºè·³è½¬ï¼Œå¯¼è‡´æœ‰äº›è¯­å¥æ‰§è¡Œä¸åˆ°ã€‚è€Œ finally å°±æ˜¯è§£å†³è¿™ä¸ªé—®é¢˜çš„ï¼Œåœ¨finallyä»£ç å—ä¸­å­˜æ”¾çš„ä»£ç éƒ½æ˜¯ä¸€å®šä¼šè¢«æ‰§è¡Œçš„\nfinallyä¸èƒ½å•ç‹¬ä½¿ç”¨ã€‚å¿…é¡»é…åˆç€tryâ€¦catchä½¿ç”¨\nå½“åªæœ‰åœ¨tryæˆ–è€…catchä¸­è°ƒç”¨é€€å‡ºJVMçš„ç›¸å…³æ–¹æ³•,æ­¤æ—¶finallyæ‰ä¸ä¼šæ‰§è¡Œ,å¦åˆ™finallyæ°¸è¿œä¼šæ‰§è¡Œã€‚\né€šå¸¸åœ¨finally ä»£ç å—å†…æ·»åŠ è¯­å¥æ¥é‡Šæ”¾å ç”¨çš„èµ„æº\nå¤šä¸ªå¼‚å¸¸ä½¿ç”¨æ•è·åˆè¯¥å¦‚ä½•å¤„ç†å‘¢ï¼Ÿ\nå¤šä¸ªå¼‚å¸¸åˆ†åˆ«å¤„ç†\nå¤šä¸ªå¼‚å¸¸ä¸€æ¬¡æ•è·å¤šæ¬¡å¤„ç†\nå¤šä¸ªå¼‚å¸¸ä¸€æ¬¡æ•è·ä¸€æ¬¡å¤„ç†\n4.4 assert æ–­è¨€ 1 2 3 4 assert condition : error message; // condition æ˜¯ä¸€ä¸ªå¸ƒå°”ç±»å‹çš„æ¡ä»¶è¡¨è¾¾å¼ï¼Œè¡¨ç¤ºéœ€è¦æ£€æŸ¥çš„æ¡ä»¶ //error message æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ç±»å‹çš„é”™è¯¯æç¤ºä¿¡æ¯ //å¦‚æœ condition çš„å€¼ä¸º falseï¼Œåˆ™ç¨‹åºä¼šåœ¨æ­¤å¤„æŠ›å‡º AssertionError å¼‚å¸¸ï¼Œè¾“å‡º error message æŒ‡å®šçš„é”™è¯¯æç¤ºä¿¡æ¯ã€‚ æ–­è¨€æ˜¯ç¼–ç¨‹ä¸­å¸¸ç”¨çš„ä¸€ç§æŠ€æœ¯æ‰‹æ®µï¼Œå®ƒç”¨äºåœ¨ç¨‹åºæ‰§è¡Œæ—¶éªŒè¯æŸäº›æ¡ä»¶æ˜¯å¦æ»¡è¶³ã€‚å¦‚æœæ¡ä»¶æˆç«‹ï¼Œåˆ™ç¨‹åºç»§ç»­æ‰§è¡Œï¼›å¦åˆ™ç¨‹åºæŠ›å‡ºAssertionError å¼‚å¸¸ï¼Œç›´æ¥ç»ˆæ­¢ã€‚ æ³¨æ„ï¼ï¼ï¼AssertionError ç»§æ‰¿è‡ª Error ç±»ï¼Œæ˜¯ä¸€ä¸ªä¸¥é‡çš„é”™è¯¯ï¼Œè¡¨ç¤ºç¨‹åºå·²ç»å‡ºç°äº†æ— æ³•å¤„ç†çš„å¼‚å¸¸æƒ…å†µï¼Œä¼šå¯¼è‡´ç¨‹åºç›´æ¥ç»ˆæ­¢ æ–­è¨€çš„ä¸»è¦ä½œç”¨æ˜¯åœ¨å¼€å‘å’Œè°ƒè¯•é˜¶æ®µå¿«é€Ÿå®šä½å’Œè§£å†³é—®é¢˜ï¼Œæœ‰æ•ˆé¿å…å› ä¸ºç¨‹åºä¸­å­˜åœ¨éé¢„æœŸçš„é€»è¾‘é”™è¯¯è€Œå¯¼è‡´ç¨‹åºå´©æºƒæˆ–äº§ç”Ÿè¯¯åˆ¤çš„æƒ…å†µã€‚ç›¸å¯¹äºä¼ ç»Ÿçš„ if/else æˆ– try/catch æ–¹å¼ï¼Œä½¿ç”¨ assert æ–­è¨€å¯ä»¥æ›´åŠ ç®€æ´æ˜äº†åœ°è¡¨è¾¾ç¨‹åºçš„çŠ¶æ€æˆ–é€»è¾‘å…³ç³»ï¼Œæé«˜ç¨‹åºçš„å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚ åœ¨ä½¿ç”¨ assert æ–­è¨€æ—¶ï¼Œéœ€è¦æ³¨æ„æ–­è¨€è¯­å¥åªæ˜¯ä¸€ç§è¾…åŠ©æ‰‹æ®µï¼Œä¸èƒ½æ›¿ä»£å¼‚å¸¸æ£€æŸ¥ã€‚å¦‚æœæŸä¸ªæ¡ä»¶éªŒè¯å¤±è´¥ä¼šäº§ç”Ÿæ­£å¸¸å¼‚å¸¸ï¼Œé‚£ä¹ˆåº”è¯¥ä½¿ç”¨ä¼ ç»Ÿçš„å¼‚å¸¸å¤„ç†æœºåˆ¶æ¥å¤„ç†ï¼Œå¹¶ä¸åº”è¯¥ä½¿ç”¨æ–­è¨€è¯­å¥ã€‚ 5.è‡ªå®šä¹‰å¼‚å¸¸ - è‡ªå®šä¹‰å¼‚å¸¸ç±» å…¶å®å¾ˆç®€å•ï¼Œ åªéœ€è¦ç»§æ‰¿ Exception ç±»å°±è¡Œäº†\r1 2 3 4 5 public class MyException extends Exception{ //æ„é€ å™¨ //å¸¦å‚æ„é€ å™¨ //é‡å†™toString() } æºç ç¤ºä¾‹ï¼š ArrayIndexOutOfBoundsExceptionç±»ï¼ˆæ•°ç»„ç´¢å¼•è¶Šç•Œï¼‰\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 public class ArrayIndexOutOfBoundsException extends IndexOutOfBoundsException { private static final long serialVersionUID = -5116101128118950844L; /** * Constructs an \u0026lt;code\u0026gt;ArrayIndexOutOfBoundsException\u0026lt;/code\u0026gt; with no * detail message. */ public ArrayIndexOutOfBoundsException() { super();//æºç æº¯æºä¼šå‘ç°æ˜¯åœ¨å¥—å¨ƒè°ƒç”¨ Exception ç±»å†…çš„æ–¹æ³• } /** * Constructs a new \u0026lt;code\u0026gt;ArrayIndexOutOfBoundsException\u0026lt;/code\u0026gt; * class with an argument indicating the illegal index. * * @param index the illegal index. */ public ArrayIndexOutOfBoundsException(int index) { //å®é™…ä¸Šå°±æ˜¯toSting() super(\u0026#34;Array index out of range: \u0026#34; + index); } /** * Constructs an \u0026lt;code\u0026gt;ArrayIndexOutOfBoundsException\u0026lt;/code\u0026gt; class * with the specified detail message. * * @param s the detail message. */ public ArrayIndexOutOfBoundsException(String s) { super(s);//æœ¬è´¨è¿˜æ˜¯toString,ä¸è¿‡è¿™ä¸ªæ˜¯ä¸ºäº†è®©å…¶å­ç±»å¥—å¨ƒè°ƒç”¨ } } 6.æ—¥å¿— ","date":"0001-01-01T00:00:00Z","permalink":"http://localhost:1313/p/","title":""},{"content":"1. æšä¸¾ç±» enum å¼€å‘ä¸­å»ºè®®ï¼Œæœ‰é™çš„ä¸”ç¡®å®šçš„ç±»å¯ä»¥å®šä¹‰ä¸ºæšä¸¾ç±»ã€‚å¦‚æ€§åˆ«ã€æ˜ŸæœŸã€æœˆä»½ã€å­£èŠ‚ã€æ”¯ä»˜æ–¹å¼ç­‰\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 //JDK5ä»¥å‰,ç”¨classã€finalã€staticé…åˆè‡ªå·±å®šä¹‰ //ä¸¾ä¾‹: class Gender{ // 2.å£°æ˜å½“å‰ç±»çš„å®ä¾‹å˜é‡ï¼Œéœ€è¦æ˜¯private,final /*å…³äºï¼ˆå®ä¾‹/ç±»ï¼‰å˜é‡çš„ä¿®é¥°ç¬¦ç”¨é€”ï¼š *å®šä¹‰ä¸ºfinalç¡®ä¿å®šä¹‰åä¸ä¼šè¢«ä¿®æ”¹ï¼› *å®šä¹‰æˆprivateæ˜¯é˜²æ­¢è¢«å¤–éƒ¨ä¿®æ”¹ï¼› *ä¸å®šä¹‰ä¸ºstaticæ˜¯å› ä¸ºæ­¤å¤„çš„æ€§åˆ«å®šä¹‰æœ‰å¤šä¸ªï¼Œä¸æ˜¯å…±äº«çš„ã€‚å•ä¾‹æ—¶å¯ä»¥è€ƒè™‘ç”¨staticï¼› */ private final String GenderName; private final String GenderDesc; //1.ç§æœ‰åŒ–æ„é€ å™¨,éœ€è¦æ˜¯private /*å…³äºæ„é€ å™¨çš„ä¿®é¥°ç¬¦ç”¨é€”ï¼š * private ç§æœ‰åŒ–æ„é€ å™¨åï¼Œåªèƒ½åœ¨ç±»å†…å®šä¹‰å®ä¾‹å¯¹è±¡ï¼› * è¿™ä¹Ÿæ„å‘³ç€å¯ä»¥æ˜¯å•ä¾‹æ¨¡å¼ï¼› */ private Gender(String GenderName,String GenderDesc){ this.GenderName = GenderName; this.GenderDesc = GenderDesc; } //3.æä¾›å®ä¾‹å˜é‡çš„getæ–¹æ³•, éœ€è¦æ˜¯publicã€‚alt+insertå¿«æ·é”®å¿«é€Ÿè®¾è®¡ public String getGenderName(){return this.GenderName;}//åªæ˜¯getæ–¹æ³•çš„ä¸¾ä¾‹ã€‚æ³¨æ„å› ä¸ºå®ä¾‹å˜é‡æ˜¯finalï¼Œæ‰€æœ‰æ²¡æœ‰setæ–¹æ³• // 4.ç±»å†…åˆ›å»ºå®ä¾‹ï¼Œéœ€è¦æ˜¯public, static, finalã€‚å»ºè®®å®ä¾‹åå…¨å¤§å†™ï¼Œå› ä¸ºæ˜¯å¸¸é‡ /*å…³äºï¼ˆå®ä¾‹/å¯¹è±¡ï¼‰çš„ä¿®é¥°ç¬¦ç”¨é€”ï¼š * å®šä¹‰ä¸º public æ˜¯ç¡®ä¿ç±»å¤–å¯ä»¥éšä¾¿è°ƒç”¨ï¼› * å®šä¹‰ä¸º static ç¡®ä¿å¯ä»¥é€šè¿‡ç±»åå¯ä»¥ç›´æ¥è°ƒç”¨ï¼› * å®šä¹‰ä¸ºfinal æ˜¯ä¸ºäº†é˜²æ­¢åœ¨ç±»å¤–è¢«ä¿®æ”¹ã€‚è™½ç„¶ï¼ˆå˜é‡ï¼‰å€¼å·²ç»æ˜¯finaläº†ï¼Œä½†æ˜¯å¯¹è±¡æ˜¯å¯ä»¥æŒ‡å‘nullçš„ï¼ŒåŠ ä¸Šfinalæ˜¯é˜²æ­¢è¢«ä¿®æ”¹æŒ‡å‘ï¼› */ public static final Gender MALE = new Gender(\u0026#34;male\u0026#34;,\u0026#34;é›„æ€§\u0026#34;); public static final Gender FEMALE = new Gendr(\u0026#34;female\u0026#34;,\u0026#34;é›Œæ€§\u0026#34;); //ç±»å¤–ç›´æ¥é€šè¿‡`ç±»å.å¯¹è±¡` è°ƒç”¨å³å¯ã€‚å¦‚ Gender.MALE } //JDK5åŠä»¥åï¼Œä½¿ç”¨å…³é”®å­—enum enum Gender1{//æ­¤å¤„ä¸å†æ˜¯class //1.éœ€è¦æŠŠå®ä¾‹æ”¾åœ¨æšä¸¾ç±»çš„æœ€å‰é¢ /*å…³äºï¼ˆå®ä¾‹/å¯¹è±¡ï¼‰åˆ›å»ºçš„æ–°æ ¼å¼ï¼š * 1. å®ä¾‹ç±»å‹ä¸ä¿®é¥°ç¬¦å¿…é¡»å®šä¹‰ä¸º public static final [æšä¸¾ç±»ç±»å]ï¼Œæ‰€ä»¥JDKå¹²è„†è¦æ±‚ä¸å†™ï¼› * 2. å®ä¾‹åˆ›å»ºç”¨çš„éƒ½æ˜¯ new [æšä¸¾ç±»ç±»å]ï¼Œæ‰€ä»¥JDKå¹²è„†è¦æ±‚ä¸å†™ã€‚æ”¹ä¸º å®ä¾‹åï¼ˆå®å‚åˆ—è¡¨ï¼‰ï¼› * 3. å¤šä¸ªå®ä¾‹ä¹‹é—´ç”¨`é€—å·`éš”å¼€ï¼Œæœ«å°¾å®ä¾‹æ‰åŠ `åˆ†å·` */ MALE = (\u0026#34;male\u0026#34;,\u0026#34;é›„æ€§\u0026#34;), FEMALE = new Gendr1(\u0026#34;female\u0026#34;,\u0026#34;é›Œæ€§\u0026#34;); // 3.å£°æ˜å½“å‰ç±»çš„å®ä¾‹å˜é‡ï¼Œéœ€è¦æ˜¯private,final åŒä¸Š private final String GenderName; private final String GenderDesc; //2.ç§æœ‰åŒ–æ„é€ å™¨,éœ€è¦æ˜¯private åŒä¸Š private Gender1(String GenderName,String GenderDesc){ this.GenderName = GenderName; this.GenderDesc = GenderDesc; } //4.æä¾›å®ä¾‹å˜é‡çš„getæ–¹æ³•, éœ€è¦æ˜¯publicã€‚alt+insertå¿«æ·é”®å¿«é€Ÿè®¾è®¡ public String getGenderName(){return this.GenderName;}//åªæ˜¯getæ–¹æ³•çš„ä¸¾ä¾‹ã€‚æ³¨æ„å› ä¸ºå®ä¾‹å˜é‡æ˜¯finalï¼Œæ‰€æœ‰æ²¡æœ‰setæ–¹æ³• //ç±»å¤–ç›´æ¥é€šè¿‡`ç±»å.å¯¹è±¡` è°ƒç”¨å³å¯ã€‚å¦‚ Gender.MALE } /*å‡è®¾ä¸¤ç§æ–¹æ³•åˆ†åˆ«ç®€ç§°ä¸ºclassæ³•ï¼ˆå‰è€…ï¼‰ å’Œ enumæ³•ï¼ˆåè€…ï¼‰ * classæ³•çš„é»˜è®¤çˆ¶ç±»æ˜¯Object; enumæ³•çš„é»˜è®¤çˆ¶ç±»æ˜¯java.lang.Enum(æ— æ³•æ”¹ï¼‰; Enumçš„çˆ¶ç±»æ˜¯Object * enumæ³•å®šä¹‰çš„æšä¸¾ç±»ï¼Œä¸è¦å†æ˜¾å¼åœ°ä¿®æ”¹å…¶çˆ¶ç±»ï¼Œå› ä¸ºå¿…é¡»è¦æ˜¯Enumï¼Œå¦åˆ™æŠ¥é”™ */ 1.1 Enumç±»ä¸­çš„å¸¸ç”¨æ–¹æ³• String toString( )ï¼› é»˜è®¤è¿”å›çš„æ˜¯æšä¸¾å¸¸é‡(å®ä¾‹)çš„åï¼Œå¯ä»¥è‡ªå·±é‡å†™ static æšä¸¾ç±»å‹ [ ] values( )ï¼› è¿”å›æšä¸¾ç±»å‹çš„å¸¸é‡(å®ä¾‹)æ•°ç»„ã€‚è¯¥æ–¹æ³•å¯ä»¥ç”¨äºå¿«é€Ÿéå†æ‰€æœ‰æšä¸¾å€¼ã€‚é™æ€æ–¹æ³•ä¸å¯é‡å†™ static æšä¸¾ç±»å‹ valueOf (String name)ï¼›å¯ä»¥æŠŠå­—ç¬¦ä¸²è½¬åŒ–ä¸ºå¯¹åº”çš„æšä¸¾å¸¸é‡(å®ä¾‹)ï¼Œè¦æ±‚å½¢å‚ä¸­çš„å­—ç¬¦ä¸²å¿…é¡»æ˜¯æšä¸¾ç±»å‹ä¸­å¸¸é‡(å®ä¾‹)çš„åå­— String name ( )ï¼›å¾—åˆ°å½“å‰æšä¸¾å¸¸é‡çš„åç§°ï¼Œå»ºè®®ç”¨toStingå–ä»£è¯¥æ–¹æ³• int ordinal ( )ï¼›è¿”å›å½“å‰æšä¸¾å¸¸é‡(å®ä¾‹)çš„æ¬¡åºå·ã€‚é»˜è®¤ä»0å¼€å§‹ã€‚ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 //è°ƒç”¨ä¸Šè¿° enum Gender1 æµ‹è¯•ä¸¾ä¾‹ // toString() System.out.println(Gender.MALE);//MALE,souté»˜è®¤è°ƒç”¨toString()3 System.out.println(Gender.MALE.toString());//MALE //name() System.out.println(Gender.MALE.name());//MALE //values() Gender1[] gen = Gender1.values();//è¿”å›æ•´ä¸ªæ•°ç»„ for(int i=0;i\u0026lt;gen.length;++i){System.out.print(gen[i])};//(è°ƒç”¨äº†toString()) è¾“å‡ºMALE FEMALE //valueOf() Gender unknowgen = Gender1.valeOf(\u0026#34;MALE\u0026#34;);//unknowgen æŒ‡å‘WINTERå¯¹è±¡ Gender unknowgen1 = Gender1.valeOf(\u0026#34;aaa\u0026#34;);//ä¸å­˜åœ¨è¿™ä¸ªaaaç±»ï¼ŒæŠ¥é”™ //ordinal() System.out.println(Gender1.FEMAL.ordinal());// 2ï¼Œè¿™ä¸ªæ–¹æ³•ä¸å¸¸ç”¨ 2 åŒ…è£…ç±» åŒ…è£…ç±»ç”¨äºæŠŠæ™®é€šæ•°æ®ç±»å‹è½¬æ¢ä¸ºå¼•ç”¨ç±»å‹ã€‚é»˜è®¤åˆå§‹åŒ–å€¼ä¸º nullï¼Œ ä¸æ˜¯0ã€falseç­‰å€¼ï¼Œæ‰€ä»¥åˆ«å†™é”™å¤§å°å†™ï¼ï¼\næ•°æ®ç±»å‹ å¯¹åº”çš„åŒ…è£…ç±» cacheå¤§å° çˆ¶ç±»ä¸ºObjectçš„æœ‰2ç§ï¼š \u0026mdash;\u0026mdash;\u0026mdash;\u0026mdash;\u0026mdash;- \u0026mdash;\u0026mdash;\u0026mdash;\u0026mdash;\u0026mdash;- boolean Boolean true å’Œ false char Character 0 ~ 127 çˆ¶ç±»ä¸ºNumberçš„æœ‰6ç§ï¼š \u0026mdash;\u0026mdash;\u0026mdash;\u0026mdash;\u0026mdash;- \u0026mdash;\u0026mdash;\u0026mdash;\u0026mdash;\u0026mdash;- byte Byte -128 ~ 127 short Short -128 ~ 127 int Integer -128 ~ 127 long Long -128 ~ 127 float Float æ—  äº«å…ƒæ¨¡å¼ï¼šjava é¢„å…ˆåˆ›å»ºä¸€äº›å¯¹è±¡cacheï¼Œ(æœ‰ç‚¹åƒå¸¸é‡ä¸€æ ·)ï¼Œç”¨æˆ·éœ€è¦åˆ›å»ºå¯¹è±¡æ—¶ï¼Œç›´æ¥è¿”å›è¿™äº›å¯¹è±¡ï¼Œè€Œä¸éœ€è¦å®æ—¶æ–°å»ºï¼Œæå‰åŠ è½½äº†æ‰€ä»¥ä¼˜åŒ–äº†æ€§èƒ½ã€‚ ä¾‹å¦‚ Integerç±»ä½¿ç”¨äº†ä¸€ä¸ªé™æ€å†…éƒ¨ç±»ï¼ˆStatic Nested Classï¼‰ï¼Œå®ƒåœ¨é¦–æ¬¡ä½¿ç”¨Integerç±»æ—¶è¢«åŠ è½½ã€‚è¯¥å†…éƒ¨ç±»é¢„å…ˆåˆ›å»ºäº†ä¸€ä¸ªä¸€ä¸ªIntegerå¯¹è±¡çš„ç¼“å­˜æ•°ç»„ï¼ˆcacheï¼‰ã€‚å½“ä½¿ç”¨Integer.valueOf()æ–¹æ³•åˆ›å»ºIntegerå¯¹è±¡æ—¶ï¼Œå¦‚æœæ•°å€¼åœ¨-128åˆ°127èŒƒå›´å†…ï¼Œæ–¹æ³•ä¼šç›´æ¥è¿”å›ç¼“å­˜æ•°ç»„ä¸­çš„å¯¹åº”å¯¹è±¡ï¼Œè€Œä¸ä¼šæ–°å»ºå¯¹è±¡ã€‚ æ³¨æ„ï¼Œç›´æ¥ä½¿ç”¨newå…³é”®å­—åˆ›å»ºå¯¹è±¡æ—¶ï¼Œæ— è®ºæ•°å€¼æ˜¯å¦åœ¨-128åˆ°127èŒƒå›´å†…ï¼Œéƒ½ä¼šæ–°å»ºä¸€ä¸ªå¯¹è±¡ï¼Œè€Œä¸æ˜¯ä½¿ç”¨ç¼“å­˜ä¸­çš„å¯¹è±¡ã€‚è¿™ç‚¹äºvalueOf() 2.1 è£…ç®±æ‹†ç®± è£…ç®±å³æŠŠæ™®é€šæ•°æ®ç±»å‹è£…æ¬¢æˆå¯¹åº”çš„å¼•ç”¨ç±»å‹å¯¹è±¡ï¼›æ‹†ç®±ç›¸åã€‚äº†è§£åŒ…è£…ç±»ä¹‹å‰è¯·å…ˆçœ‹Stringç±»å‹ï¼å› ä¸ºåŸºæœ¬æ•°æ®ç±»å‹ã€åŒ…è£…ç±»ã€Stringå¸¸å¸¸è¦ç±»å‹è½¬æ¢ï¼\n** è£…ç®±æ‹†ç®±çš„ä½œç”¨ï¼š**\nä¸€æ–¹é¢ï¼Œå¾ˆå¤šæƒ…å†µä¸‹ï¼Œéœ€è¦ä½¿ç”¨åŸºæœ¬æ•°æ®ç±»å‹å¯¹åº”çš„åŒ…è£…ç±»çš„å¯¹è±¡ã€‚ä¾‹å¦‚æŸäº›å‡½æ•°æ¥å£çš„å‚æ•°åˆ—è¡¨æ˜¯Object ç±»å‹ï¼Œæ­¤æ—¶å°±éœ€è¦å°†åŸºæœ¬æ•°æ®ç±»å‹çš„å˜é‡è½¬æ¢ä¸ºåŒ…è£…ç±»çš„å¯¹è±¡ã€‚æ¯”å¦‚:ArrayListçš„add(object obj)ï¼›0bjectç±»çš„equals(0bject obj)\nå¦ä¸€æ–¹é¢ï¼Œå¯¹äºåŒ…è£…ç±»æ¥è®²ï¼Œæ—¢ç„¶æˆ‘ä»¬ä½¿ç”¨çš„æ˜¯å¯¹è±¡ï¼Œé‚£ä¹ˆå¯¹è±¡æ˜¯ä¸èƒ½è¿›è¡Œ+* /ç­‰è¿ç®—çš„ã€‚ä¸ºäº†èƒ½å¤Ÿè¿›è¡Œè¿™äº›è¿ç®—ï¼Œå°±éœ€è¦å°†åŒ…è£…ç±»çš„å¯¹è±¡è½¬æ¢ä¸ºåŸºæœ¬æ•°æ®ç±»å‹çš„å˜é‡ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 //ä»¥Intç±»å‹ä¸ºä¾‹ï¼š //JDK 5.0ä»¥å‰éœ€è¦æ‰‹åŠ¨æ“ä½œ //è£…ç®±ï¼š int i = 10; Integer ii1 = new Integer(i);//æ–¹å¼ä¸€ï¼šç”¨æ„é€ å™¨ï¼ˆè¿‡æ—¶ï¼‰ Integer ii2 = new Integer(\u0026#34;10\u0026#34;);//æ–¹å¼äºŒï¼šç”¨å­—ç¬¦ä¸²å‚æ•°çš„æ„é€ å™¨ Integer ii3 = Integer.valueOf(i);//æ–¹å¼ä¸‰ï¼šç”¨é™æ€æ–¹æ³• valueOf(); ï¼ˆæ¨èï¼‰ //æ‹†ç®±ï¼šç”¨ `å¯¹è±¡.[ç±»å‹]Value()`æ–¹æ³• int i2 = ii1.intValue(); //JDK5.0åŠå…¶ä¹‹åè‡ªåŠ¨è£…ç®±è‡ªåŠ¨æ‹†ç®± Integer ii4 = 10; //è‡ªåŠ¨è£…ç®±æœ¬è´¨ä¸Šç”¨çš„æ˜¯valueOf() int i3 = ii4; //è‡ªåŠ¨æ‹†ç®±æœ¬è´¨ç”¨çš„è¿˜æ˜¯[ç±»å‹]Value() 2.2 åŸºæœ¬æ•°æ®ç±»å‹ã€åŒ…è£…ç±»ã€Stringé—´çš„ç±»å‹è½¬æ¢ 3.String ç±» 4. Thread ç±» thread ä¹Ÿå°±æ˜¯çº¿ç¨‹çš„æ„æ€ 4.1 åˆ›å»ºçº¿ç¨‹ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 /* æ–¹å¼ä¸€ï¼š è‡ªå®šä¹‰ç±»ç»§æ‰¿ Thread ç±» 1.è‡ªå®šä¹‰ç±» MyThread ç±» ç»§æ‰¿ Threadç±»ã€‚ 2.åœ¨ MyThreadç±» ä¸­é‡å†™ run() å…¥å£æ–¹æ³•ã€‚ 3.åœ¨ main ä¸­newMyThreadç±» çš„å®ä¾‹ t ã€‚ 4.é€šè¿‡ t è°ƒç”¨ start() æ–¹æ³•ï¼Œå¯åŠ¨çº¿ç¨‹ã€‚ */ /*æ–¹å¼äºŒï¼š è‡ªå®šä¹‰å®ç°ç±»å®ç°Runableæ¥å£ 1.è‡ªå®šä¹‰å®ç°ç±»å®ç° Runnable æ¥å£ã€‚ 2.é‡å†™run()æ–¹æ³•ã€‚ 3.åˆ›å»ºå®ç°ç±»å¯¹è±¡ r 3.é€šè¿‡ Thread ç±»çš„å¸¦å‚æ„é€ å‡½æ•°ä¼ å…¥Runnableå®ç°ç±»å¯¹è±¡r æ¥åˆ›å»º Thread ç±»å®ä¾‹ /* æ–¹å¼ä¸‰ï¼š è‡ªå®šä¹‰å®ç°ç±»å®ç°Callableæ¥å£ 1.åˆ›å»ºä¸€ä¸ªCallableæ¥å£çš„å®ç°ç±» 2.é‡å†™call()æ–¹æ³• //call()å¯ä»¥throws å¼‚å¸¸ä¸”æœ‰æ³›å‹è¿”å›å€¼ 3.åˆ›å»ºCallableå®ç°ç±»å¯¹è±¡ c 4.å°†æ­¤å¯¹è±¡c ä¼ é€’åˆ° FutureTaskçš„æ„é€ å™¨ä¸­ï¼Œåˆ›å»º FutureTask å¯¹è±¡f //æœ¬è´¨æ˜¯é—´æ¥é€šè¿‡FutureTaskä½¿ç”¨Runable 5.é€šè¿‡ Thread ç±»çš„å¸¦å‚æ„é€ å‡½æ•°ä¼ å…¥ FutureTask å¯¹è±¡f æ¥åˆ›å»º Thread ç±»å®ä¾‹ */ /*æ–¹å¼å›› çº¿ç¨‹æ±  */ 4.2 å¸¸ç”¨æ¥å£ å¸¸ç”¨æ„é€ å‡½æ•°ï¼š\nThread()\tåˆ›å»ºçº¿ç¨‹å¯¹è±¡ Thread(Runnable target)\tä½¿ç”¨ Runnableå®ç°ç±»å¯¹è±¡åˆ›å»ºçº¿ç¨‹å¯¹è±¡ Thread(String name)\tåˆ›å»ºçº¿ç¨‹å¯¹è±¡ï¼Œå¹¶å‘½å Thread(Runnable target, String name)\tä½¿ç”¨ Runnable å¯¹è±¡åˆ›å»ºçº¿ç¨‹å¯¹è±¡ï¼Œå¹¶å‘½å å…¶ä»–å¸¸ç”¨æ–¹æ³•ï¼š\nè¿”å›ç±»å‹ æè¿° static Thread currentThread() è¿”å›å¯¹å½“å‰æ­£åœ¨æ‰§è¡Œçš„çº¿ç¨‹å¯¹è±¡çš„å¼•ç”¨ã€‚ String getName() è¿”å›æ­¤çº¿ç¨‹çš„åç§°ã€‚ void setName(String name)è®¾ç½®æ­¤çº¿ç¨‹çš„åç§°ã€‚ int getPriority() è¿”å›æ­¤çº¿ç¨‹çš„ä¼˜å…ˆçº§ã€‚(1è‡³10ï¼Œé»˜è®¤5) void setPriority(int newPriority)è®¾ç½®æ­¤çº¿ç¨‹çš„ä¼˜å…ˆçº§ã€‚(1è‡³10ï¼Œé»˜è®¤5) boolean isAlive() æµ‹è¯•è¿™ä¸ªçº¿ç¨‹æ˜¯å¦æ´»ç€ã€‚ void join() å½“å‰ç¨‹åºblockï¼Œç›´è‡³è°ƒç”¨è¯¥å‡½æ•°çš„çº¿ç¨‹æ‰§è¡Œå®Œ static void sleep(long millis) ä½¿å½“å‰æ­£åœ¨æ‰§è¡Œçš„çº¿ç¨‹ä»¥æŒ‡å®šçš„æ¯«ç§’æ•°æš‚åœï¼ˆæš‚æ—¶åœæ­¢æ‰§è¡Œï¼‰ï¼Œå…·ä½“å–å†³äºç³»ç»Ÿå®šæ—¶å™¨å’Œè°ƒåº¦ç¨‹åºçš„ç²¾åº¦å’Œå‡†ç¡®æ€§ã€‚ void start() å¯¼è‡´æ­¤çº¿ç¨‹å¼€å§‹æ‰§è¡Œ; Javaè™šæ‹Ÿæœºè°ƒç”¨æ­¤çº¿ç¨‹çš„runæ–¹æ³•ã€‚ static void yield() å½“å‰çº¿ç¨‹è®©å‡ºå¤„ç†å™¨ String toString()è¿”å›æ­¤çº¿ç¨‹çš„å­—ç¬¦ä¸²è¡¨ç¤ºï¼ŒåŒ…æ‹¬çº¿ç¨‹çš„åç§°ï¼Œä¼˜å…ˆçº§å’Œçº¿ç¨‹ç»„ã€‚ void run()å¦‚æœè¿™ä¸ªçº¿ç¨‹ä½¿ç”¨å•ç‹¬çš„Runnableè¿è¡Œå¯¹è±¡æ„é€ ï¼Œåˆ™è°ƒç”¨è¯¥Runnableå¯¹è±¡çš„runæ–¹æ³•; å¦åˆ™ï¼Œæ­¤æ–¹æ³•ä¸æ‰§è¡Œä»»ä½•æ“ä½œå¹¶è¿”å›ã€‚ å…³äºrunï¼ˆï¼‰\nçº¿ç¨‹è°ƒç”¨çš„æ˜¯Thread ç±»çš„ run()æ–¹æ³•ï¼Œå¯ä»¥è¢«é‡å†™ï¼Œé‡å†™åç›´æ¥æ‰§è¡Œé‡å†™çš„æ–¹æ³•ï¼Œè¿™ä¸€ç‚¹ç”±ç»§æ‰¿æ€§ä¸å¤šæ€æ€§å†³å®šã€‚ä½†æ˜¯ä¸é‡å†™åˆæ˜¯æ€ä¹ˆæ‰§è¡Œçš„å‘¢ï¼Ÿï¼ˆä¹Ÿå°±æ˜¯ä½¿ç”¨Runnableå®ç°ç±»åˆ›å»ºçº¿ç¨‹æ˜¯æ€ä¹ˆå®ç°runçš„å‘¢ï¼‰\nThread æ–°å¢å®ä¾‹å˜é‡private Runnable targetã€‚é»˜è®¤æŒ‡å‘ç©º\nä½¿ç”¨Thread(Runnable target)åˆ›å»ºçº¿ç¨‹å¯¹è±¡å¯ä»¥è®© this.target = tatgetï¼›\nåœ¨çœ‹run()æºç \n1 2 3 4 5 6 @Override public void run() { if (target != null) {//æœ‰ä¼ Runnableå®ç°ç±»å°±ä¸ä¸ºç©ºï¼Œå¦åˆ™ä¹ˆæœ‰è¿è¡Œæ•ˆæœ target.run(); } } æ€è€ƒé¢˜ï¼š\n1 2 3 4 5 6 7 8 9 10 11 new Thread(new Runnable(){void run(){System.out.println(\u0026#34;a\u0026#34;);}}){ void run(){ System.out.println(\u0026#34;b\u0026#34;); } }.start();//è¾“å‡ºçš„æ˜¯b //æ‰§è¡Œçš„æ˜¯a new Thread(new Runnable(){void run(){System.out.println(\u0026#34;a\u0026#34;);}}){ // }.start();//è¾“å‡ºçš„æ˜¯b å…³äºstart()\nè°ƒç”¨start()æ‰ä¼šç”Ÿæˆçº¿ç¨‹ï¼Œç„¶åjvmå†æ‰§è¡Œrun()æ–¹æ³•\nç›´æ¥è°ƒç”¨run()åªæ˜¯åœ¨å½“å‰çº¿ç¨‹ä¸­è°ƒç”¨æ–¹æ³•ï¼Œæ²¡æœ‰ç”Ÿæˆæ–°çº¿ç¨‹\n4.2 çº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸ ","date":"0001-01-01T00:00:00Z","permalink":"http://localhost:1313/p/","title":""},{"content":"åå°„ ï¼ˆ1ï¼‰Javaåå°„æœºåˆ¶çš„æ ¸å¿ƒæ˜¯åœ¨ç¨‹åºè¿è¡Œæ—¶åŠ¨æ€åŠ è½½ç±»å¹¶è·å–ç±»çš„è¯¦ç»†ä¿¡æ¯ï¼Œä»è€Œæ“ä½œç±»æˆ–å¯¹è±¡çš„å±æ€§å’Œæ–¹æ³•ã€‚æœ¬è´¨æ˜¯JVMå¾—åˆ°classå¯¹è±¡ä¹‹åï¼Œå†é€šè¿‡classå¯¹è±¡è¿›è¡Œåç¼–è¯‘ï¼Œä»è€Œè·å–å¯¹è±¡çš„å„ç§ä¿¡æ¯ã€‚\nï¼ˆ2ï¼‰Javaå±äºå…ˆç¼–è¯‘å†è¿è¡Œçš„è¯­è¨€ï¼Œç¨‹åºä¸­å¯¹è±¡çš„ç±»å‹åœ¨ç¼–è¯‘æœŸå°±ç¡®å®šä¸‹æ¥äº†ï¼Œ**è€Œå½“ç¨‹åºåœ¨è¿è¡Œæ—¶å¯èƒ½éœ€è¦åŠ¨æ€åŠ è½½æŸäº›ç±»ï¼Œè¿™äº›ç±»å› ä¸ºä¹‹å‰ç”¨ä¸åˆ°ï¼Œæ‰€ä»¥æ²¡æœ‰è¢«åŠ è½½åˆ°JVMã€‚**é€šè¿‡åå°„ï¼Œå¯ä»¥åœ¨è¿è¡Œæ—¶åŠ¨æ€åœ°è·å–ç±»ã€åˆ›å»ºå…¶å¯¹è±¡å¹¶è°ƒç”¨å…¶å±æ€§ï¼Œä¸éœ€è¦æå‰åœ¨ç¼–è¯‘æœŸçŸ¥é“è¿è¡Œçš„å¯¹è±¡æ˜¯è°ã€‚\n1.è·å–Classå®ä¾‹çš„å‡ ç§æ–¹æ³• 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 //1.è°ƒç”¨è¿è¡Œæ—¶ç±»çš„é™æ€æ–¹æ³• Class myClass1 = String.class; /* *æ³¨æ„ä¸€å¼€å§‹æ˜¯Classè€Œä¸æ˜¯classã€‚Classæ˜¯ä¸€ä¸ªç±»ï¼Œæ¯ä¸€ä¸ªæ™®é€šç±»åŠ è½½åˆ°æ–¹æ³•åŒºåéƒ½æ˜¯ *ä¸€ä¸ªClasså®ä¾‹ã€‚ */ //2.è°ƒç”¨è¿è¡Œæ—¶ç±»çš„å¯¹è±¡çš„getClass()æ–¹æ³• //getClass()æ–¹æ³•å®šä¹‰åœ¨Objectç±»ä¸­ String str= new String(); Class myClass2 =str.getClass(); //3.è°ƒç”¨Classç±»çš„é™æ€æ–¹æ³•forName(String className) //String source = \u0026#34;packageName.className\u0026#34;;//å…¨ç±»åï¼Œå³ç±»åœ¨åŒ…ä¸­çš„è·¯å¾„+ç±»å//ä¸ç”¨å†™åç¼€ String source = \u0026#34;java.lang.String\u0026#34;; Class\u0026lt;?\u0026gt; myClass3=Class.forName(source); //ä¸Šè¿°ä¸‰ç§myClassæŒ‡å‘éƒ½æ˜¯ç›¸åŒçš„ã€‚ä¸‹é¢ç¬¬å››ç§å’Œç¬¬ä¸‰ç§å·®ä¸å¤šï¼Œä½¿ç”¨åœºæ™¯å·®ä¸å¤š //4.ä½¿ç”¨ç±»çš„è®°è½½å™¨ //source = \u0026#34;java.lang.String\u0026#34;; Class\u0026lt;?\u0026gt;myClass4=ClassLoader.getSystemClassLoader().loadClass(source); ä¸‰ç§æ–¹æ³•ä¸­ï¼Œç¬¬ä¸‰ç§åº”ç”¨è¾ƒå¹¿ã€‚ç¬¬ä¸€ç§éœ€è¦classå·²ç»åŠ è½½åˆ°äº†å†…å­˜ä¸­ï¼Œé™åˆ¶è¾ƒå¤§ã€‚ç¬¬äºŒç§éƒ½å·²ç»èƒ½åˆ›å»ºå¯¹è±¡äº†ï¼Œå†åè¿‡æ¥è·å–ç±»ï¼Œæœ‰ç‚¹å¤šæ­¤ä¸€ä¸¾çš„æ„å‘³ã€‚\nä½¿ç”¨ç¬¬ä¸‰ç§æ–¹å¼ï¼Œå°±ç®—sourceå¯¹åº”çš„ç±»ä¸å­˜åœ¨ï¼ŒIDEAä¸­ä¹Ÿä¸ä¼šæŠ¥é”™ï¼Œåªæœ‰è¿è¡Œåˆ°æ­¤å¤„æ‰ä¼šå‘ç°é—®é¢˜ã€‚è¿è¡Œæ—¶å†åŠ è½½è¿™ä¸€ç‚¹ä½“ç°äº†é¢å‘å¯¹è±¡çš„åŠ¨æ€æ€§ã€‚\n2. Classç±»çš„å®ä¾‹ Classç±»æ˜¯åå°„çš„åŸºç¡€\nå“ªäº›ç±»å‹å¯ä»¥æ˜¯Classçš„å¯¹è±¡ æ‰€æœ‰çš„ java ç±»å‹ï¼š\nclass : å¤–éƒ¨ç±»ã€æˆå‘˜ï¼ˆæˆå‘˜å†…éƒ¨ç±»ã€é™æ€å†…éƒ¨ç±»ï¼‰ï¼Œå±€éƒ¨å†…éƒ¨ç±»ã€åŒ¿åå†…éƒ¨ç±»\ninterface: æ¥å£\n[] : æ•°ç»„\næ•°ç»„åªè¦å…ƒç´ ç±»å‹ä¸ç»´åº¦ä¸€æ ·å°±æ˜¯åŒä¸€ä¸ªClasså®ä¾‹ï¼Œä¸æ•°ç»„é•¿åº¦æ— å…³ enum : æšä¸¾\nannotation : æ³¨è§£\nprimitive type : åŸºæœ¬æ•°æ®ç±»å‹\nvoid ï¼š void.class ä¹Ÿæ˜¯ï¼\nClass : æœ¬èº«\n3. ç±»çš„åŠ è½½è¿‡ç¨‹ è¿‡ç¨‹1:ç±»çš„è£…è½½(loading) å°†ç±»çš„classæ–‡ä»¶è¯»å…¥å†…å­˜ï¼Œå¹¶ä¸ºä¹‹åˆ›å»ºä¸€ä¸ªjava.lang.classå¯¹è±¡ã€‚æ­¤è¿‡ç¨‹ç”±ç±»åŠ è½½å™¨å®Œæˆ è¿‡ç¨‹2:é“¾æ¥(linking) éªŒè¯(Verify):ç¡®ä¿åŠ è½½çš„ç±»ä¿¡æ¯ç¬¦åˆJVMè§„èŒƒï¼Œä¾‹å¦‚:ä»¥cafebabeå¼€å¤´ï¼Œæ²¡æœ‰å®‰å…¨æ–¹é¢çš„é—®é¢˜ã€‚ å‡†å¤‡(Prepare):æ­£å¼ä¸ºç±»å˜é‡(static)åˆ†é…å†…å­˜å¹¶è®¾ç½®ç±»å˜é‡é»˜è®¤åˆå§‹å€¼çš„é˜¶æ®µï¼Œè¿™äº›å†…å­˜éƒ½å°†åœ¨æ–¹æ³•åŒºä¸­è¿›è¡Œåˆ†é…ã€‚ è§£æ(Resolve):è™šæ‹Ÿæœºå¸¸é‡æ± å†…çš„ç¬¦å·å¼•ç”¨(å¸¸é‡å)æ›¿æ¢ä¸ºç›´æ¥å¼•ç”¨(åœ°å€)çš„è¿‡ç¨‹ã€‚ è¿‡ç¨‹3:åˆå§‹åŒ–(initialization) æ‰§è¡Œç±»æ„é€ å™¨()æ–¹æ³•çš„è¿‡ç¨‹ã€‚ ç±»æ„é€ å™¨()æ–¹æ³•æ˜¯ç”±ç¼–è¯‘æœŸè‡ªåŠ¨æ”¶é›†ç±»ä¸­æ‰€æœ‰ç±»å˜é‡çš„èµ‹å€¼åŠ¨ä½œå’Œé™æ€ä»£ç å—ä¸­çš„è¯­å¥åˆå¹¶äº§ç”Ÿçš„ã€‚ 4.ä½¿ç”¨ç±»çš„åŠ è½½å™¨è·å–æµï¼Œå¹¶è¯»å–é…ç½®æ–‡ä»¶ä¿¡æ¯ é€šè¿‡ClassLoaderåŠ è½½æŒ‡å®šçš„é…ç½®æ–‡ä»¶\né€šè¿‡ç±»çš„åŠ è½½å™¨è¯»å–çš„æ–‡ä»¶çš„é»˜è®¤çš„è·¯å¾„ä¸º:å½“å‰moduleä¸‹çš„srcä¸‹ 1 2 3 4 5 6 7 8 9 10 11 12 /*æ–°æ–¹å¼*/ Properties pros = new Propertities(); /*æ–‡ä»¶çš„é»˜è®¤çš„è·¯å¾„ä¸º:å½“å‰moduleä¸‹çš„srcä¸‹*/ InputStream is = ClassLoader.getSystemclassLoader().getResourceAsStream(\u0026#34;filesource\u0026#34;) ; pros.load(is); pros.getPropertity(\u0026#34;name\u0026#34;) ; /*ä»¥å‰çš„æ–¹å¼*/ Properties pros = new Propertities(); /*æ–‡ä»¶çš„é»˜è®¤çš„è·¯å¾„ä¸º:å½“å‰moduleä¸‹*/ InputStream is = new InputStream(\u0026#34;filesource\u0026#34;);/**/ pros.load(is); pros.getPropertity(\u0026#34;name\u0026#34;) ; 5.è·å–å¸¦æ³›å‹çš„çˆ¶ç±»çš„æ³›å‹ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 /** *è·å–å¸¦æ³›å‹çš„çˆ¶ç±»çš„æ³›å‹ * @input: String source //å…¨ç±»åï¼Œå³ç±»åœ¨åŒ…ä¸­çš„è·¯å¾„+ç±»å//ä¸ç”¨å†™åç¼€ * @return Type[] æ³›å‹çš„æ•°ç»„ */ public Type[] getParaTypeOfSuperClass (String source)throws ClassNotFoundException { Class clazz = Class.forName( className:source); //è·å–å¸¦æ³›å‹çš„çˆ¶ç±»(Typeæ˜¯ä¸€ä¸ªæ¥å£ï¼ŒClasså®ç°äº†æ­¤æ¥å£ Type superclass =clazz.getGenericSuperclass(); //å¦‚æœçˆ¶ç±»æ˜¯å¸¦æ³›å‹çš„ï¼Œåˆ™å¯ä»¥å¼ºè½¬ä¸ºParameterizedType ParameterizedType paramType=(ParameterizedType)superclass; //è°ƒç”¨getActualTypeArguments()è·å–æ³›å‹çš„å‚æ•°ï¼Œç»“æœæ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œå› ä¸ºå¯èƒ½æœ‰å¤šä¸ªæ³›å‹å‚æ•°ã€‚ Type[] arguments = paramType.getActualTypeArguments(); //è¿”å›æ³›å‹å‚æ•°çš„åç§° return arguments; } ","date":"0001-01-01T00:00:00Z","permalink":"http://localhost:1313/p/","title":""},{"content":"apache å¼€æºé¡¹ç›®æ¸…å•\n1. mavençš„ä½œç”¨ 1.ä¾èµ–ç®¡ç† ç›´æ¥åœ¨pop.xmlä¸­ç®¡ç†ä¾èµ–çš„ä¿¡æ¯ã€‚mavenè‡ªåŠ¨ä¸‹è½½æ›¿æ¢\n2. ç»Ÿä¸€é¡¹ç›®ç»“æ„ å„ç§ä¸åŒçš„IDEä¸­æ‹¥æœ‰ç›¸åŒçš„é¡¹ç›®ç»“æ„ï¼Œå®ç°è·¨IDEå¯¼å…¥å¯¼å‡º\n3. é¡¹ç›®æ„å»º æ ‡å‡†è·¨å¹³å°ï¼ˆLinuxã€Winã€Macï¼‰çš„è‡ªåŠ¨åŒ–é¡¹ç›®æ„å»ºæ–¹å¼ã€‚æ¸…ç†ã€ç¼–è¯‘ã€æµ‹è¯•ã€æ‰“åŒ…ã€å‘å¸ƒ\n2. mavençš„ä»‹ç» maven åŸºäºé¡¹ç›®å¯¹è±¡æ¨¡å‹POMï¼ˆproject object modelï¼‰çš„æ¦‚å¿µï¼Œé€šè¿‡ä¸€å°æ®µæè¿°ä¿¡æ¯ï¼Œæ¥ç®¡ç†é¡¹ç›®çš„æ„å»ºã€‚ mavenå®˜ç½‘ ä»“åº“:ç”¨äºå­˜å‚¨èµ„æºï¼Œç®¡ç†å„ç§jaråŒ…ã€‚\næœ¬åœ°ä»“åº“:è‡ªå·±è®¡ç®—æœºä¸Šçš„ä¸€ä¸ªç›®å½•ã€‚ D:\\JavaProject\\Maven\\repository ä¸­å¤®ä»“åº“:ç”±Mavenå›¢é˜Ÿç»´æŠ¤çš„å…¨çƒå”¯ä¸€çš„ã€‚ä»“åº“åœ°å€:https://repo1.maven.org/maven2/ è¿œç¨‹ä»“åº“(ç§æœ):ä¸€èˆ¬ç”±å…¬å¸å›¢é˜Ÿæ­å»ºçš„ç§æœ‰ä»“åº“ã€‚ 3.mavençš„å®‰è£… å®‰è£…æ­¥éª¤:\nä¸‹è½½æºç åŒ…ã€‚ä»¥apache-maven-3.6.1-bin.zipä¸ºä¾‹å­\nè§£å‹ apache-maven-3.6.1-bin.zipã€‚\né…ç½®æœ¬åœ°ä»“åº“:ä¿®æ”¹ conf/settings.xmlä¸­çš„ä¸ºä¸€ä¸ªæŒ‡å®šç›®å½•\n1 2 3 4 //ä¾‹å­ï¼šæ¨èæ ¼å¼ï¼š \u0026lt;localRepository\u0026gt;E:\\apache-maven-3.6.1\\mvn_repo\u0026lt;/localRepository\u0026gt; //ä¾‹å­ï¼šè‡ªç”¨çš„è®°å½• \u0026lt;localRepository\u0026gt;D:\\JavaProject\\Maven\\repository\u0026lt;/localRepository\u0026gt; é…ç½®é˜¿é‡Œäº‘ç§æœ(è¿œç¨‹ä»“åº“):ä¿®æ”¹ conf/settings.xmlä¸­çš„æ ‡ç­¾ï¼Œä¸ºå…¶æ·»åŠ å¦‚ä¸‹å­æ ‡ç­¾\n1 2 3 4 5 \u0026lt;mirror\u0026gt; \u0026lt;id\u0026gt;alimaven\u0026lt;/id\u0026gt; \u0026lt;name\u0026gt;aliyun maven\u0026lt;/name\u0026gt; \u0026lt;url\u0026gt;http://maven.aliyun.com/nexus/content/groups/public/\u0026lt;/url\u0026gt;\t\u0026lt;mirrorOf\u0026gt;centrals/mirrorOf\u0026gt;\u0026lt;/mirrorOf\u0026gt; \u0026lt;/mirror\u0026gt; é…ç½®ç¯å¢ƒå˜é‡:MAVEN HOMEä¸ºmavençš„è§£å‹ç›®å½•ï¼Œå¹¶å°†å…¶binç›®å½•åŠ å…¥PATHç¯å¢ƒå˜é‡ã€‚\né…ç½®ç¯å¢ƒå˜é‡ MAVEN_HOME å’Œ mavenåŒ…ä¸‹ %MAVEN_HOME%\\bin\næµ‹è¯•\n1 2 3 4 5 6 C:\\Users\\Administrator\u0026gt;mvn -v Apache Maven 3.6.1 (d66c9c0b3152b2e69ee9bac180bb8fcc8e6af555; 2019-04-05T03:00:29+08:00) Maven home: D:\\JavaProject\\Maven\\apache-maven-3.6.1\\bin\\.. Java version: 1.8.0_391, vendor: Oracle Corporation, runtime: D:\\Java\\jdk-1.8\\jre Default locale: zh_CN, platform encoding: GBK OS name: \u0026#34;windows 10\u0026#34;, version: \u0026#34;10.0\u0026#34;, arch: \u0026#34;amd64\u0026#34;, family: \u0026#34;windows\u0026#34; 4. IDEAä¸­åˆ›å»ºmavené¡¹ç›® 4.1 ä¸ä½¿ç”¨æ¨¡æ¿çš„è¯å¯ä»¥åœ¨new projectä¸­æŒ‰ä¸‹å›¾æ“ä½œ\nä½¿ç”¨æ¨¡æ¿ archetype æŒ‰ä¸‹è¿°åšå®¢æ“ä½œ å¦‚ä½•åœ¨IDEA2022ä¸­åˆ›å»ºmaven\nmaven åæ ‡ï¼š æ˜¯èµ„æºçš„å”¯ä¸€æ ‡è¯†ï¼Œé€šè¿‡è¯¥åæ ‡å¯ä»¥ä¸ºä¸€å®šä½èµ„æºä½ç½®\nGroupId : å½“å‰é¡¹ç›®éš¶å±ç»„ç»‡åï¼ˆé€šå¸¸æ˜¯åŸŸååå†™ï¼‰ ArtifactId : å½“å‰é¡¹ç›®åï¼ˆé€šå¸¸æ˜¯æ¨¡å—åï¼Œå¦‚order-serviceï¼‰ Version : å½“å‰é¡¹ç›®ç‰ˆæœ¬å· 1 2 3 \u0026lt;groupId\u0026gt;org.None\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;projcet01\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;1.0-SNAPSHOT\u0026lt;/version\u0026gt; 4.4 å¯¼å…¥mavenå·¥ç¨‹ æœ‰ä¸¤ç§æ–¹å¼ï¼Œé€‰ä¸­pom.xmlæ–‡ä»¶å³å¯ã€‚ 4.5 IDEAä¾èµ–é…ç½® ä¾èµ–ï¼šæŒ‡å½“å‰é¡¹ç›®è¿è¡Œæ‰€éœ€çš„ jaråŒ…ï¼Œä¸€ä¸ªé¡¹ç›®å¯ä»¥å¼•å…¥å¤šä¸ªä¾èµ–ã€‚\né…ç½®æ­¥éª¤ï¼š\n1. åœ¨pom.xmlä¸­ç¼–å†™ \u0026lt;dependencies\u0026gt;æ ‡ç­¾\r2. åœ¨\u0026lt;dependencise\u0026gt;æ ‡ç­¾ä¸­ä½¿ç”¨ \u0026lt;dependency\u0026gt;å¼•å…¥mavenåæ ‡\r3. å¡«å†™mavenåæ ‡ï¼ˆ\u0026lt;groupId\u0026gt;\u0026lt;artifactId\u0026gt;\u0026lt;version\u0026gt;ï¼‰\r4. ç‚¹å‡»åˆ·æ–°æŒ‰é’®ï¼Œå®ç°ä¸‹è½½æ›¿æ¢\r1 2 3 4 5 6 7 8 \u0026lt;dependencies\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;ch.qos.logback\u0026lt;/groupId\u0026gt; //å¦‚æœæœ¬åœ°ä»“åº“æœ‰ï¼Œå¡«artifactIdåè‡ªåŠ¨æç¤ºå…¶ä»–ä¸¤ä¸ª \u0026lt;artifactId\u0026gt;logback-classic\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;1.2.10\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;/dependencies\u0026gt; å¦‚æœæœ¬åœ°ä»“åº“æœ‰ï¼Œå¡«artifactIdåè‡ªåŠ¨æç¤ºå…¶ä»–ä¸¤ä¸ª\né€šè¿‡ä¸€äº›ç½‘ç«™æœç´¢ä¾èµ–çš„mavenåæ ‡\nmaven ä»“åº“ç½‘ç«™\n5. ä¾èµ–ä¼ é€’ åœ¨pom.xmlæ–‡ä»¶ä¸­å³é”® \u0026gt; Diagrams \u0026gt; Show Dependencieså°±å¯ä»¥çœ‹ç±»ä¼¼ä¸‹é¢çš„æ ‘çŠ¶å›¾ã€‚ 5.1 æ’é™¤ä¾èµ–ï¼š æ’é™¤ä¾èµ–ï¼šæŒ‡ä¸»åŠ¨æ–­å¼€ä¼ é€’è¿‡æ¥çš„ä¾èµ–çš„èµ„æºï¼Œè¢«æ’é™¤çš„èµ„æºæ— åºæŒ‡å®šç‰ˆæœ¬ã€‚é€šè¿‡æ ‡ç­¾å®ç°\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 \u0026lt;dependencies\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.None\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;ProjectB\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;1.0\u0026lt;/version\u0026gt; \u0026lt;exclusions\u0026gt; \u0026lt;exclusion\u0026gt;//æ–­å¼€ä»ProjectBä¼ é€’è¿‡æ¥çš„ä¾èµ–APartOfProjectB \u0026lt;groupId\u0026gt;org.None\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;APartOfProjectB\u0026lt;/artifactId\u0026gt; //ä¸éœ€è¦å¡«å†™version \u0026lt;/exclusion\u0026gt; \u0026lt;/exclusions\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;/dependencies\u0026gt; 6. ä¾èµ–èŒƒå›´ ä¾èµ–çš„jaråŒ…ï¼Œåœ¨é¡¹ç›®ä¸­å¯¼å…¥ä¾èµ–çš„jaråŒ…åï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œå¯ä»¥åœ¨ä»»ä½•åœ°æ–¹ä½¿ç”¨ã€‚\nå¦‚æœå¸Œæœ›é™åˆ¶ä¾èµ–çš„ä½¿ç”¨èŒƒå›´ï¼Œå¯ä»¥é€šè¿‡æ ‡ç­¾è®¾ç½®å…¶ä½œç”¨èŒƒå›´ã€‚\nä½œç”¨èŒƒå›´ï¼š\nä¸»ç¨‹åºèŒƒå›´æœ‰æ•ˆï¼ˆmainæ–‡ä»¶å¤¹èŒƒå›´å†…ï¼‰\næµ‹è¯•ç¨‹åºèŒƒå›´æœ‰æ•ˆï¼ˆtestæ–‡ä»¶å¤¹èŒƒå›´å†…ï¼‰\næ˜¯å¦å‚ä¸æ‰“åŒ…è¿è¡Œï¼ˆpackageæŒ‡ä»¤èŒƒå›´å†…ï¼‰\nscopeæ ‡ç­¾çš„å–å€¼èŒƒå›´ï¼š\nscopeå€¼ ä¸»ç¨‹åº æµ‹è¯•ç¨‹åº æ‰“åŒ…ï¼ˆè¿è¡Œï¼‰ èŒƒä¾‹ compileï¼ˆé»˜è®¤ï¼‰ Y Y Y log4j test - Y - junit provided Y Y - servlet-api runtime - Y Y jdbcé©±åŠ¨ 1 2 3 4 5 6 7 8 \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;ch.qos.logback\u0026lt;/groupId\u0026gt; //å¦‚æœæœ¬åœ°ä»“åº“æœ‰ï¼Œå¡«artifactIdåè‡ªåŠ¨æç¤ºå…¶ä»–ä¸¤ä¸ª \u0026lt;artifactId\u0026gt;logback-classic\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;1.2.10\u0026lt;/version\u0026gt; //é€šè¿‡\u0026lt;scope\u0026gt;æ ‡ç­¾è®¾ç½®å…¶ä½œç”¨èŒƒå›´ã€‚ \u0026lt;scope\u0026gt;test\u0026lt;/scope\u0026gt; \u0026lt;/dependency\u0026gt; 7. maven ç”Ÿå‘½å‘¨æœŸ Mavençš„ç”Ÿå‘½å‘¨æœŸå°±æ˜¯ä¸ºäº†å¯¹æ‰€æœ‰çš„æ„å»ºè¿‡ç¨‹è¿›è¡ŒæŠ½è±¡å’Œç»Ÿä¸€ã€‚ æè¿°äº†ä¸€æ¬¡é¡¹ç›®æ„å»ºï¼Œç»å†å“ªäº›é˜¶æ®µã€‚åœ¨Mavenå‡ºç°ä¹‹å‰ï¼Œé¡¹ç›®æ„å»ºçš„ç”Ÿå‘½å‘¨æœŸå°±å·²ç»å­˜åœ¨ï¼Œè½¯ä»¶å¼€å‘äººå‘˜æ¯å¤©éƒ½åœ¨å¯¹é¡¹ç›®è¿›è¡Œæ¸…ç†ï¼Œç¼–è¯‘ï¼Œæµ‹è¯•åŠéƒ¨ç½²ã€‚\n7.1 mavençš„ä¸‰å¥—ç”Ÿå‘½å‘¨æœŸ Mavenå¯¹é¡¹ç›®æ„å»ºçš„ç”Ÿå‘½å‘¨æœŸåˆ’åˆ†ä¸º3å¥—ï¼ˆç›¸äº’ç‹¬ç«‹ï¼‰ï¼š\ncleanï¼šæ¸…ç†å·¥ä½œã€‚\ndefaultï¼šæ ¸å¿ƒå·¥ä½œã€‚å¦‚ï¼šç¼–è¯‘ã€æµ‹è¯•ã€æ‰“åŒ…ã€å®‰è£…ã€éƒ¨ç½²ç­‰ã€‚\nsiteï¼šç”ŸæˆæŠ¥å‘Šã€å‘å¸ƒç«™ç‚¹ç­‰ã€‚\næˆ‘ä»¬çœ‹åˆ°è¿™ä¸‰å¥—ç”Ÿå‘½å‘¨æœŸï¼Œé‡Œé¢æœ‰å¾ˆå¤šå¾ˆå¤šçš„é˜¶æ®µï¼Œè¿™ä¹ˆå¤šç”Ÿå‘½å‘¨æœŸé˜¶æ®µï¼Œå…¶å®æˆ‘ä»¬å¸¸ç”¨çš„å¹¶ä¸å¤šï¼Œä¸»è¦å…³æ³¨ä»¥ä¸‹å‡ ä¸ªï¼š\nâ€¢ cleanï¼šç§»é™¤ä¸Šä¸€æ¬¡æ„å»ºç”Ÿæˆçš„æ–‡ä»¶\nâ€¢ compileï¼šç¼–è¯‘é¡¹ç›®æºä»£ç \nâ€¢ testï¼šä½¿ç”¨åˆé€‚çš„å•å…ƒæµ‹è¯•æ¡†æ¶è¿è¡Œæµ‹è¯•(junit)\nâ€¢ packageï¼šå°†ç¼–è¯‘åçš„æ–‡ä»¶æ‰“åŒ…ï¼Œå¦‚ï¼šjarã€warç­‰\nâ€¢ installï¼šå®‰è£…é¡¹ç›®åˆ°æœ¬åœ°ä»“åº“\n7.2 mavenç”Ÿå‘½å‘¨æœŸçš„è¿è¡Œ æ–¹å¼ä¸€ ï¼š å‘½ä»¤è¡Œè¾“å…¥ mvn [å‘¨æœŸå]\næ–¹å¼äºŒï¼šIDEAå·¥å…·ä¸ºäº†æ–¹ä¾¿ç¨‹åºå‘˜ä½¿ç”¨mavenç”Ÿå‘½å‘¨æœŸï¼Œåœ¨å³ä¾§çš„mavenå·¥å…·æ ä¸­ï¼Œå·²ç»™å‡ºå¿«é€Ÿè®¿é—®é€šé“\nç”Ÿå‘½å‘¨æœŸçš„é¡ºåºæ˜¯ï¼šclean \u0026ndash;\u0026gt; validate \u0026ndash;\u0026gt; compile \u0026ndash;\u0026gt; test \u0026ndash;\u0026gt; package \u0026ndash;\u0026gt; verify \u0026ndash;\u0026gt; install \u0026ndash;\u0026gt; site \u0026ndash;\u0026gt; deploy .\nè¯´æ˜ï¼šåœ¨åŒä¸€å¥—ç”Ÿå‘½å‘¨æœŸä¸­ï¼Œæˆ‘ä»¬åœ¨æ‰§è¡Œåé¢çš„ç”Ÿå‘½å‘¨æœŸæ—¶ï¼Œå‰é¢çš„ç”Ÿå‘½å‘¨æœŸéƒ½ä¼šæ‰§è¡Œã€‚\næ€è€ƒï¼šå½“è¿è¡Œpackageç”Ÿå‘½å‘¨æœŸæ—¶ï¼Œcleanã€compileç”Ÿå‘½å‘¨æœŸä¼šä¸ä¼šè¿è¡Œï¼Ÿ\nâ€‹\tcleanä¸ä¼šè¿è¡Œï¼Œcompileä¼šè¿è¡Œã€‚ å› ä¸ºcompileä¸packageå±äºåŒä¸€å¥—ç”Ÿå‘½å‘¨æœŸï¼Œè€Œcleanä¸packageä¸å±äºåŒä¸€å¥—ç”Ÿå‘½å‘¨æœŸã€‚\n","date":"0001-01-01T00:00:00Z","permalink":"http://localhost:1313/p/","title":""},{"content":"","date":"0001-01-01T00:00:00Z","permalink":"http://localhost:1313/p/","title":""},{"content":" æ§åˆ¶åè½¬ï¼šInversion of control ç®€ç§°IOC\nå¯¹è±¡çš„åˆ›å»ºæ§åˆ¶ç”±ç¨‹åºè‡ªèº«è½¬ç§»åˆ°å¤–éƒ¨ç¨‹åºã€‚springå®¹å™¨æˆ–è€…IOCå®¹å™¨\nä¾èµ–æ³¨å…¥ï¼šDependecncy Injection ç®€ç§°DI\nå®¹å™¨ä¸ºç¨‹åºæä¾› è¿è¡Œæ—¶çš„æ‰€ä»¥æ¥çš„èµ„æº\nBean å¯¹è±¡ï¼š IOCå®¹å™¨ä¸­åˆ›å»ºçš„ã€ç®¡ç†çš„å¯¹è±¡ç§°ä¸ºbean\n","date":"0001-01-01T00:00:00Z","permalink":"http://localhost:1313/p/","title":""},{"content":"1. yumæ–¹å¼Centos7å®‰è£…Mysql8æ•™ç¨‹ 1.ç”±äºcentOS7ä¸­é»˜è®¤å®‰è£…äº†MariaDB,éœ€è¦å…ˆè¿›è¡Œå¸è½½\nrpm -qa | grep -i mariadb rpm -e \u0026ndash;nodeps mariadb-libs-5.5.64-1.el7.x86_64\næŸ¥è¯¢ä¸‹æœ¬æœºmysqlæ˜¯å¦å¸è½½å¹²å‡€ï¼Œè‹¥æœ‰æ®‹ç•™ä¹Ÿéœ€è¦å¸è½½\nrpm -qa | grep mysql\n2.ä¸‹è½½MySQLä»“åº“å¹¶å®‰è£…\nwget https://repo.mysql.com//mysql80-community-release-el7-7.noarch.rpm yum -y install mysql80-community-release-el7-7.noarch.rpm\nrpm \u0026ndash;import https://repo.mysql.com/RPM-GPG-KEY-mysql-2023\nyum -y install mysql80-community-release-el7-3.noarch.rpm\n3.å®‰è£…MySQLæ•°æ®åº“\nyum -y install mysql-community-server\n4.å¼€å¯mysqlæœåŠ¡\nsystemctl start mysqld.service\n5.æŸ¥çœ‹mysqlé»˜è®¤å¯†ç å¹¶ç™»é™†\ncat /var/log/mysqld.log | grep password\n1 2 [root@localhost tools]# cat /var/log/mysqld.log | grep password 2024-03-11T14:41:25.592058Z 6 [Note] [MY-010454] [Server] A temporary password is generated for root@localhost: uBj\u0026gt;f5tC\u0026gt;VQ! ç¬¬ä¸€æ¬¡è¿›å»æç¤ºéœ€è¦ä¿®æ”¹å¯†ç ERROR 1820 (HY000): You must reset your password using ALTER USER statement before executing this statement.\nalter user \u0026lsquo;root\u0026rsquo;@\u0026rsquo;localhost\u0026rsquo; identified by \u0026lsquo;yourpassword\u0026rsquo;;\nalter user \u0026lsquo;root\u0026rsquo;@\u0026rsquo;localhost\u0026rsquo; identified by \u0026lsquo;uBj\u0026gt;f5tC\u0026gt;VQ!\u0026rsquo;;\nflush privileges;\nä¿®æ”¹åˆå§‹å¯†ç ï¼ˆè‹¥æƒ³æ”¹ä¸ºå¼±å¯†ç ï¼‰\nSHOW variables LIKE \u0026lsquo;validate_password%\u0026rsquo;;\næ³¨ï¼šå¦‚æœé‡åˆ°éœ€è¦å¼ºå¯†ç çš„æŠ¥é”™ï¼Œæ­¤æ—¶å…ˆä¿®æ”¹å¯†ç ä¸ºå¼ºå¯†ç ï¼Œä¾¿å¯ä»¥ç»§ç»­è¿›è¡Œä¿®æ”¹å¯†ç éªŒè¯ç­–ç•¥æ“ä½œã€‚å°†å¯†ç éªŒè¯ç­–ç•¥æ”¹ä¸ºLOWï¼Œå¯†ç é•¿åº¦4ä½ä»¥ä¸Š\nset global validate_password.policy=0; #æœ‰çš„MySQLç‰ˆæœ¬ä¸ºvalidate_password_policy,æ­¤å¤„è¯·ä»¥ä¸Šä¸€æ­¥æŸ¥è¯¢åˆ°çš„å­—æ®µåç§°ä¸ºå‡† set global validate_password.length=4; #é‡å¯MySQLåå¤±æ•ˆ\næ­¤æ—¶å†è¿›è¡Œä¿®æ”¹å¯†ç æ“ä½œï¼Œå¯ä»¥ä¿®æ”¹ä¸ºå¼±å¯†ç äº†\nALTER USER \u0026lsquo;root\u0026rsquo;@\u0026rsquo;localhost\u0026rsquo; IDENTIFIED BY \u0026lsquo;your password\u0026rsquo;;\n6.è®¾ç½®è¿œç¨‹è¿æ¥(å‰æï¼šå…³é—­é˜²ç«å¢™æˆ–å¼€æ”¾3306ç«¯å£) åœ¨å®é™…å·¥ä½œä¸­ï¼Œç»å¸¸ä¼šè¿œç¨‹è¿æ¥mysqlæ•°æ®åº“ï¼Œéœ€è¦è®¾ç½®å…è®¸è¿œç¨‹è¿æ¥ã€‚\nåœ¨mysqlæ•°æ®åº“çš„userè¡¨ä¸­æŸ¥çœ‹hostï¼Œé»˜è®¤åªå…è®¸localhostè®¿é—®ï¼Œåªéœ€å°†localhostæ”¹ä¸º%å…è®¸ä»»æ„åœ°å€è®¿é—®å³å¯\nuse mysql; update user set host = \u0026lsquo;%\u0026rsquo; where user = \u0026lsquo;root\u0026rsquo;; flush privileges; # åˆ·æ–°æƒé™ æƒé™æ›´æ–°ååˆ·æ–°æ‰ä¼šèµ·ä½œç”¨\næ³¨ï¼šå¦‚æœä½¿ç”¨å®¢æˆ·ç«¯è¿æ¥æç¤ºäº†plugin caching_sha2_passwordé”™è¯¯ï¼Œè¿™æ˜¯å› ä¸ºMySQL8.0çš„å¯†ç ç­–ç•¥é»˜è®¤ä¸ºcaching_sha2_password(MySQL5.7æ— æ­¤é—®é¢˜)\nå°†userè¡¨ä¸­rootå¯¹åº”çš„è®°å½•é‡Œpluginå­—æ®µï¼ˆåŠ å¯†è§„åˆ™ï¼‰çš„å€¼ä¿®æ”¹æˆmysql_native_password\nupdate user set plugin = \u0026lsquo;mysql_native_password\u0026rsquo; where user = \u0026lsquo;root\u0026rsquo;; flush privileges; # åˆ·æ–°æƒé™ æƒé™æ›´æ–°ååˆ·æ–°æ‰ä¼šèµ·ä½œç”¨\n8.0ä»¥ä¸Šç‰ˆæœ¬MySQLéªŒè¯æ–¹å¼å‘ç”Ÿæ”¹å˜ï¼Œå¦‚æœæ›´æ”¹æˆmysql_native_passwordå¹¶ä¸èƒ½è§£å†³é—®é¢˜çš„è¯ï¼Œè¯·ç›´æ¥è·³åˆ°ç¬¬ä¸‹é¢è¿™æ ·ä¸€æ­¥ï¼Œå¹¶æŠŠè¯­å¥ä¸­çš„mysql_native_passwordæ›¿æ¢æˆcaching_sha2_passwordè¿›è¡Œå°è¯•ã€‚\nupdate user set plugin = \u0026lsquo;caching_sha2_password\u0026rsquo; where user = \u0026lsquo;root\u0026rsquo;;\nï¼ˆå¿…è¦ï¼‰ä¿®æ”¹rootè´¦æˆ·å¯†ç ä»¥åŠéªŒè¯æ–¹å¼ï¼š\nalter user \u0026lsquo;root\u0026rsquo;@\u0026rsquo;localhost\u0026rsquo; identified with caching_sha2_password by \u0026lsquo;1234\u0026rsquo;;\nupdate user set authentication_string=password(\u0026lsquo;1234\u0026rsquo;) where user=\u0026lsquo;root\u0026rsquo; and host=\u0026rsquo;%\u0026rsquo;;\n2. æ— å¯†ç ç™»å½• vim /etc/my.cnf\n- åœ¨[mysqld]åæ·»åŠ \r- skip-grant-tables\r- esc :wqä¿å­˜é€€å‡º\ré‡å¯mysql\nservice mysqld restart ä¿®æ”¹å¯†ç ååˆ é™¤skip-grant-tables\nvimç¼–è¾‘å™¨çš„ä½¿ç”¨\n3.åˆ›å»ºè´¦æˆ· åœ¨MySQLä¸­ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨CREATE USERè¯­å¥åˆ›å»ºä¸€ä¸ªæ–°ç”¨æˆ·å¹¶è®¾ç½®å¯†ç ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªç¤ºä¾‹å‘½ä»¤ï¼šåœ¨MySQLä¸­ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨CREATE USERè¯­å¥åˆ›å»ºä¸€ä¸ªæ–°ç”¨æˆ·å¹¶è®¾ç½®å¯†ç ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªç¤ºä¾‹å‘½ä»¤ï¼š\n1 2 CREATE USER \u0026#39;username\u0026#39;@\u0026#39;localhost\u0026#39; IDENTIFIED BY \u0026#39;password\u0026#39;; CREATE USER \u0026#39;admin\u0026#39;@\u0026#39;%\u0026#39; IDENTIFIED BY \u0026#39;admin\u0026#39;; è¿™é‡Œçš„usernameæ˜¯æ‚¨æƒ³è¦åˆ›å»ºçš„ç”¨æˆ·åï¼ŒlocalhostæŒ‡å®šç”¨æˆ·å¯ä»¥ä»æœ¬åœ°ä¸»æœºè¿æ¥åˆ°MySQLæœåŠ¡å™¨ï¼Œpasswordæ˜¯æ‚¨æƒ³è¦ä¸ºæ–°ç”¨æˆ·è®¾ç½®çš„å¯†ç ã€‚\nè¯·ç¡®ä¿æ‚¨æœ‰è¶³å¤Ÿçš„æƒé™æ¥æ‰§è¡Œè¿™ä¸ªå‘½ä»¤ï¼Œé€šå¸¸éœ€è¦å…·æœ‰CREATE USERæƒé™çš„è´¦æˆ·æ¥æ‰§è¡Œå®ƒã€‚\nåœ¨æ‰§è¡Œè¿™ä¸ªå‘½ä»¤ä¹‹åï¼Œæ‚¨å¯èƒ½è¿˜éœ€è¦ä¸ºæ–°ç”¨æˆ·æˆæƒæƒé™ï¼Œä¾‹å¦‚ï¼š\n1 2 GRANT ALL PRIVILEGES ON database_name.* TO \u0026#39;username\u0026#39;@\u0026#39;localhost\u0026#39;; GRANT ALL PRIVILEGES ON *.* TO \u0026#39;admin\u0026#39;@\u0026#39;%\u0026#39;; è¿™å°†æˆäºˆusernameåœ¨database_nameæ•°æ®åº“ä¸Šçš„æ‰€æœ‰æƒé™ã€‚æ‚¨å¯ä»¥æ ¹æ®éœ€è¦æ›´æ”¹æ•°æ®åº“åå’Œæˆäºˆçš„æƒé™ã€‚è¿™é‡Œçš„usernameæ˜¯æ‚¨æƒ³è¦åˆ›å»ºçš„ç”¨æˆ·åï¼ŒlocalhostæŒ‡å®šç”¨æˆ·å¯ä»¥ä»æœ¬åœ°ä¸»æœºè¿æ¥åˆ°MySQLæœåŠ¡å™¨ï¼Œpasswordæ˜¯æ‚¨æƒ³è¦ä¸ºæ–°ç”¨æˆ·è®¾ç½®çš„å¯†ç ã€‚\n","date":"0001-01-01T00:00:00Z","permalink":"http://localhost:1313/p/","title":""},{"content":"1.ä»£ç† Javaä»£ç†æ˜¯ä¸€ç§è®¾è®¡æ¨¡å¼ï¼Œå®ƒå…è®¸åœ¨ä¸æ”¹å˜åŸå§‹ç±»æˆ–æ¥å£çš„æƒ…å†µä¸‹å¯¹å…¶è¿›è¡Œå¢å¼ºæˆ–ä¿®æ”¹ã€‚åœ¨è¿è¡Œæ—¶é€šè¿‡åˆ›å»ºä¸€ä¸ªä»£ç†å¯¹è±¡æ¥æ§åˆ¶å¯¹åŸå§‹å¯¹è±¡çš„è®¿é—®ï¼Œå¹¶å…è®¸æˆ‘ä»¬åœ¨è®¿é—®åŸå§‹å¯¹è±¡ä¹‹å‰æˆ–ä¹‹åæ‰§è¡Œä¸€äº›é¢å¤–çš„é€»è¾‘ï¼Œä»è€Œå®ç°ä¸€äº›ç‰¹å®šçš„åŠŸèƒ½ï¼Œå¦‚æ—¥å¿—è®°å½•ã€å®‰å…¨æ§åˆ¶ã€ç¼“å­˜å¤„ç†ã€è¿œç¨‹è°ƒç”¨ã€å»¶è¿ŸåŠ è½½å’Œäº‹åŠ¡å¤„ç†ç­‰ã€‚\n[ä»£ç†](https://blog.csdn.net/x_xhuashui/article/details/129292297\n","date":"0001-01-01T00:00:00Z","permalink":"http://localhost:1313/p/","title":""},{"content":"1. lambdaè¡¨è¾¾å¼ 1.ä»€ä¹ˆæ˜¯Lambdaè¡¨è¾¾å¼ Lambdaè¡¨è¾¾å¼ï¼Œä¹Ÿå¯ç§°ä¸ºé—­åŒ…ã€‚ç±»ä¼¼äºJavaScriptä¸­çš„é—­åŒ…ï¼Œå®ƒæ˜¯æ¨åŠ¨Java8å‘å¸ƒçš„æœ€é‡è¦çš„æ–°ç‰¹æ€§ã€‚\n2.ä¸ºä»€ä¹ˆä½¿ç”¨Lambdaè¡¨è¾¾å¼ æˆ‘ä»¬å¯ä»¥æŠŠLambdaè¡¨è¾¾å¼ç†è§£ä¸ºä¸€æ®µå¯ä»¥ä¼ é€’çš„ä»£ç ï¼ˆå°†ä»£ç åƒæ•°æ®ä¸€æ ·è¿›è¡Œä¼ é€’ï¼‰ã€‚Lambdaå…è®¸æŠŠå‡½æ•°ä½œä¸ºä¸€ä¸ªæ–¹æ³•çš„å‚æ•°ï¼Œä½¿ç”¨Lambdaè¡¨è¾¾å¼å¯ä»¥å†™å‡ºæ›´ç®€æ´ã€æ›´çµæ´»çš„ä»£ç ï¼Œè€Œå…¶ä½œä¸ºä¸€ç§æ›´ç´§å‡‘çš„ä»£ç é£æ ¼ï¼Œä½¿Javaçš„è¯­è¨€è¡¨è¾¾èƒ½åŠ›å¾—åˆ°äº†æå‡ã€‚\nä¸€ä¸ªç®€å•ç¤ºä¾‹ï¼š\nåˆ†åˆ«ä½¿ç”¨æˆå‘˜å†…éƒ¨ç±»ã€å±€éƒ¨å†…éƒ¨ç±»ã€é™æ€å†…éƒ¨ç±»ã€åŒ¿åå†…éƒ¨ç±»æ–¹å¼å®ç°Runnableçš„run()æ–¹æ³•å¹¶åˆ›å»ºå’Œå¯åŠ¨çº¿ç¨‹,å¦‚ä¸‹æ‰€ç¤º:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 public class LambdaDemo { /** * æˆå‘˜å†…éƒ¨ç±» */ class MyThread01 implements Runnable{ @Override public void run() { System.out.println(\u0026#34;æˆå‘˜å†…éƒ¨ç±»ï¼šç”¨Lambdaè¯­æ³•åˆ›å»ºçº¿ç¨‹å§!\u0026#34;); } } /** * é™æ€å†…éƒ¨ç±» */ static class MyThread02 implements Runnable{ @Override public void run() { System.out.println(\u0026#34;é™æ€å†…éƒ¨ç±»ï¼šå¯¹å•Šï¼Œç”¨Lambdaè¯­æ³•åˆ›å»ºçº¿ç¨‹å§!\u0026#34;); } } public static void main(String[] args) { /** * å±€éƒ¨å†…éƒ¨ç±» */ class MyThread03 implements Runnable{ @Override public void run() { System.out.println(\u0026#34;å±€éƒ¨å†…éƒ¨ç±»ï¼šç”¨Lambdaè¯­æ³•åˆ›å»ºçº¿ç¨‹å§!\u0026#34;); } } /** * åŒ¿åå†…éƒ¨ç±» */ Runnable runnable = new Runnable(){ @Override public void run() { System.out.println(\u0026#34;åŒ¿åå†…éƒ¨ç±»ï¼šæ±‚æ±‚ä½ ï¼Œç”¨Lambdaè¯­æ³•åˆ›å»ºçº¿ç¨‹å§!\u0026#34;); } }; //æˆå‘˜å†…éƒ¨ç±»æ–¹å¼ LambdaDemo lambdaDemo = new LambdaDemo(); MyThread01 myThread01 =lambdaDemo.new MyThread01(); new Thread(myThread01).start(); //é™æ€å†…éƒ¨ç±»æ–¹å¼ MyThread02 myThread02 = new MyThread02(); new Thread(myThread02).start(); //å±€éƒ¨å†…éƒ¨ç±» MyThread03 myThread03 = new MyThread03(); new Thread(myThread03).start(); //åŒ¿åå†…éƒ¨ç±»çš„æ–¹å¼ new Thread(runnable).start(); } å¯ä»¥çœ‹åˆ°ä¸Šé¢åˆ›å»ºæ–¹å¼ï¼Œä»£ç é‡éƒ½ä¸å°‘ï¼Œä½¿ç”¨Lambdaè¡¨è¾¾å¼å®ç°ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š\n1 2 3 4 //Lambdaæ–¹å¼ new Thread(() -\u0026gt; System.out.println(\u0026#34;ä½¿ç”¨Lambdaå°±å¯¹äº†\u0026#34;)).start(); å¯ä»¥çœ‹åˆ°ä»£ç æ˜æ˜¾ç®€æ´äº†è®¸å¤šã€‚ 3.Lambdaè¡¨è¾¾å¼è¯­æ³• Lambdaè¡¨è¾¾å¼åœ¨Javaè¯­è¨€ä¸­å¼•å…¥äº†ä¸€ä¸ªæ“ä½œç¬¦**â€œ-\u0026gt;â€**ï¼Œè¯¥æ“ä½œç¬¦è¢«ç§°ä¸ºLambdaæ“ä½œç¬¦æˆ–ç®­å¤´æ“ä½œç¬¦ã€‚å®ƒå°†Lambdaåˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†ï¼š\nå·¦ä¾§ï¼šæŒ‡å®šäº†Lambdaè¡¨è¾¾å¼éœ€è¦çš„æ‰€æœ‰å‚æ•° å³ä¾§ï¼šåˆ¶å®šäº†Lambdaä½“ï¼Œå³Lambdaè¡¨è¾¾å¼è¦æ‰§è¡Œçš„åŠŸèƒ½ã€‚ åƒè¿™æ ·ï¼š (parameters) -\u0026gt; expression æˆ–\n(parameters) -\u0026gt;{ statements; }\nä»¥ä¸‹æ˜¯lambdaè¡¨è¾¾å¼çš„é‡è¦ç‰¹å¾:\nå¯é€‰ç±»å‹å£°æ˜ï¼šä¸éœ€è¦å£°æ˜å‚æ•°ç±»å‹ï¼Œç¼–è¯‘å™¨å¯ä»¥ç»Ÿä¸€è¯†åˆ«å‚æ•°å€¼ã€‚ å¯é€‰çš„å‚æ•°åœ†æ‹¬å·ï¼šä¸€ä¸ªå‚æ•°æ— éœ€å®šä¹‰åœ†æ‹¬å·ï¼Œä½†æ— å‚æ•°æˆ–å¤šä¸ªå‚æ•°éœ€è¦å®šä¹‰åœ†æ‹¬å·ã€‚ å¯é€‰çš„å¤§æ‹¬å·ï¼šå¦‚æœä¸»ä½“åŒ…å«äº†ä¸€ä¸ªè¯­å¥ï¼Œå°±ä¸éœ€è¦ä½¿ç”¨å¤§æ‹¬å·ã€‚ å¯é€‰çš„è¿”å›å…³é”®å­—ï¼šå¦‚æœä¸»ä½“åªæœ‰ä¸€ä¸ªè¡¨è¾¾å¼è¿”å›å€¼åˆ™ç¼–è¯‘å™¨ä¼šè‡ªåŠ¨è¿”å›å€¼ï¼Œå¤§æ‹¬å·éœ€è¦æŒ‡å®šæ˜è¡¨è¾¾å¼è¿”å›äº†ä¸€ä¸ªæ•°å€¼ã€‚\nä¸‹é¢å¯¹æ¯ä¸ªè¯­æ³•æ ¼å¼çš„ç‰¹å¾è¿›è¡Œä¸¾ä¾‹è¯´æ˜ï¼š\n(1)è¯­æ³•æ ¼å¼ä¸€ï¼šæ— å‚ï¼Œæ— è¿”å›å€¼ï¼ŒLambdaä½“åªéœ€ä¸€æ¡è¯­å¥ã€‚å¦‚ä¸‹ï¼š\n1 2 3 4 @Test public void test01(){ Runnable runnable=()-\u0026gt; System.out.println(\u0026#34;Runnable è¿è¡Œ\u0026#34;); runnable.run();//ç»“æœï¼šRunnable è¿è¡Œ (2)è¯­æ³•æ ¼å¼äºŒï¼šLambdaéœ€è¦ä¸€ä¸ªå‚æ•°ï¼Œæ— è¿”å›å€¼ã€‚å¦‚ä¸‹ï¼š\n1 2 3 4 5 @Test public void test02(){ Consumer\u0026lt;String\u0026gt; consumer=(x)-\u0026gt; System.out.println(x); consumer.accept(\u0026#34;Hello Consumer\u0026#34;);//ç»“æœï¼šHello Consumer } (3)è¯­æ³•æ ¼å¼ä¸‰ï¼šLambdaåªéœ€è¦ä¸€ä¸ªå‚æ•°æ—¶ï¼Œå‚æ•°çš„å°æ‹¬å·å¯ä»¥çœç•¥ï¼Œå¦‚ä¸‹ï¼š\n1 2 3 4 public void test02(){ Consumer\u0026lt;String\u0026gt; consumer=x-\u0026gt; System.out.println(x); consumer.accept(\u0026#34;Hello Consumer\u0026#34;);//ç»“æœï¼šHello Consumer } (4)è¯­æ³•æ ¼å¼å››ï¼šLambdaéœ€è¦ä¸¤ä¸ªå‚æ•°ï¼Œå¹¶ä¸”Lambdaä½“ä¸­æœ‰å¤šæ¡è¯­å¥ã€‚\n1 2 3 4 5 6 7 8 @Test public void test04(){ Comparator\u0026lt;Integer\u0026gt; com=(x, y)-\u0026gt;{ System.out.println(\u0026#34;å‡½æ•°å¼æ¥å£\u0026#34;); return Integer.compare(x,y); }; System.out.println(com.compare(2,4));//ç»“æœï¼š-1 } ï¼ˆ5ï¼‰è¯­æ³•æ ¼å¼äº”ï¼šæœ‰ä¸¤ä¸ªä»¥ä¸Šå‚æ•°ï¼Œæœ‰è¿”å›å€¼ï¼Œè‹¥Lambdaä½“ä¸­åªæœ‰ä¸€æ¡è¯­å¥ï¼Œreturnå’Œå¤§æ‹¬å·éƒ½å¯ä»¥çœç•¥ä¸å†™\n1 2 3 4 5 @Test public void test05(){ Comparator\u0026lt;Integer\u0026gt; com=(x, y)-\u0026gt; Integer.compare(x,y); System.out.println(com.compare(4,2));//ç»“æœï¼š1 } (6)Lambdaè¡¨è¾¾å¼çš„å‚æ•°åˆ—è¡¨çš„æ•°æ®ç±»å‹å¯ä»¥çœç•¥ä¸å†™ï¼Œå› ä¸ºJVMå¯ä»¥é€šè¿‡ä¸Šä¸‹æ–‡æ¨æ–­å‡ºæ•°æ®ç±»å‹ï¼Œå³â€œç±»å‹æ¨æ–­â€\n1 2 3 4 5 @Test public void test06(){ Comparator\u0026lt;Integer\u0026gt; com=(Integer x, Integer y)-\u0026gt; Integer.compare(x,y); System.out.println(com.compare(4,2));//ç»“æœï¼š1 } ç±»å‹æ¨æ–­ï¼šåœ¨æ‰§è¡Œjavacç¼–è¯‘ç¨‹åºæ—¶ï¼ŒJVMæ ¹æ®ç¨‹åºçš„ä¸Šä¸‹æ–‡æ¨æ–­å‡ºäº†å‚æ•°çš„ç±»å‹ã€‚Lambdaè¡¨è¾¾å¼ä¾èµ–äºä¸Šä¸‹æ–‡ç¯å¢ƒã€‚\nè¯­æ³•èƒŒè¯µå£è¯€ï¼šå·¦å³é‡ä¸€æ‹¬å·çœï¼Œå·¦ä¾§æ¨æ–­ç±»å‹çœï¼Œèƒ½çœåˆ™çœã€‚\n4.å‡½æ•°å¼æ¥å£ 4.1 ä»€ä¹ˆæ˜¯å‡½æ•°å¼æ¥å£ åªåŒ…å«ä¸€ä¸ªæŠ½è±¡æ–¹æ³•çš„æ¥å£ï¼Œå°±ç§°ä¸ºå‡½æ•°å¼æ¥å£ã€‚\næˆ‘ä»¬å¯ä»¥é€šè¿‡Lambdaè¡¨è¾¾å¼æ¥åˆ›å»ºè¯¥æ¥å£çš„å®ç°å¯¹è±¡ã€‚ æˆ‘ä»¬å¯ä»¥åœ¨ä»»æ„å‡½æ•°å¼æ¥å£ä¸Šä½¿ç”¨@FunctionalInterfaceæ³¨è§£ï¼Œè¿™æ ·åšå¯ä»¥ç”¨äºæ£€æµ‹å®ƒæ˜¯å¦æ˜¯ä¸€ä¸ªå‡½æ•°å¼æ¥å£ï¼ŒåŒæ—¶javadocä¹Ÿä¼šåŒ…å«ä¸€æ¡å£°æ˜ï¼Œè¯´æ˜è¿™ä¸ªæ¥å£æ˜¯ä¸€ä¸ªå‡½æ•°å¼æ¥å£ã€‚\n4.2 è‡ªå®šä¹‰å‡½æ•°å¼æ¥å£ æŒ‰ç…§å‡½æ•°å¼æ¥å£çš„å®šä¹‰ï¼Œè‡ªå®šä¹‰ä¸€ä¸ªå‡½æ•°å¼æ¥å£ï¼Œå¦‚ä¸‹ï¼š\n1 2 3 4 @FunctionalInterface public interface MyFuncInterf\u0026lt;T\u0026gt; { public T getValue(String origin); } å®šä¹‰ä¸€ä¸ªæ–¹æ³•å°†å‡½æ•°å¼æ¥å£ä½œä¸ºæ–¹æ³•å‚æ•°ã€‚\n1 2 3 public String toLowerString(MyFuncInterf\u0026lt;String\u0026gt; mf,String origin){ return mf.getValue(origin); } å°†Lambdaè¡¨è¾¾å¼å®ç°çš„æ¥å£ä½œä¸ºå‚æ•°ä¼ é€’ã€‚\n1 2 3 4 5 6 public void test07(){ String value=toLowerString((str)-\u0026gt;{ return str.toLowerCase(); },\u0026#34;ABC\u0026#34;); System.out.println(value);//ç»“æœABC } 4.3 Javaå†…ç½®å‡½æ•°å¼æ¥å£ å››å¤§æ ¸å¿ƒå‡½æ•°å¼æ¥å£çš„ä»‹ç»ï¼Œå¦‚å›¾æ‰€ç¤ºï¼š\nä½¿ç”¨ç¤ºä¾‹ï¼š 1.Consumer:æ¶ˆè´¹å‹æ¥å£ void accept(T t)\n1 2 3 4 5 6 7 public void makeMoney(Integer money, Consumer\u0026lt;Integer\u0026gt; consumer){ consumer.accept(money); } @Test public void test01(){ makeMoney(100,t-\u0026gt; System.out.println(\u0026#34;ä»Šå¤©èµšäº†\u0026#34;+t));//ç»“æœï¼šä»Šå¤©èµšäº†100 } 2.Supplierï¼šä¾›ç»™å‹æ¥å£ T get()\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 List list = addNumInList(10, () -\u0026gt; (int) (Math.random() * 100)); list.forEach(t-\u0026gt; System.out.println(t));/** * äº§ç”ŸæŒ‡å®šçš„æ•´æ•°é›†åˆæ”¾åˆ°é›†åˆä¸­ * Iterableæ¥å£çš„forEachæ–¹æ³•çš„å®šä¹‰ï¼šæ–¹æ³•ä¸­ä½¿ç”¨åˆ°äº†Consumeræ¶ˆè´¹å‹æ¥å£ï¼Œ * default void forEach(Consumer\u0026lt;? super T\u0026gt; action) { * Objects.requireNonNull(action); * for (T t : this) { * action.accept(t); * } * } */ @Test public void test02(){ List list = addNumInList(10, () -\u0026gt; (int) (Math.random() * 100)); list.forEach(t-\u0026gt; System.out.println(t)); } public List addNumInList(int size, Supplier\u0026lt;Integer\u0026gt; supplier){ List\u0026lt;Integer\u0026gt; list=new ArrayList(); for (int i = 0; i \u0026lt; size; i++) { list.add(supplier.get()); } return list; } 3.Function\u0026lt;T,R\u0026gt;:å‡½æ•°å‹æ¥å£ R apply(T t)\n1 2 3 4 5 6 7 8 9 10 11 12 /** * * ä½¿ç”¨å‡½æ•°å¼æ¥å£å¤„ç†å­—ç¬¦ä¸²ã€‚ */ public String handleStr(String s,Function\u0026lt;String,String\u0026gt; f){ return f.apply(s); } @Test public void test03(){ System.out.println(handleStr(\u0026#34;abc\u0026#34;,(String s)-\u0026gt;s.toUpperCase())); } //ç»“æœï¼šABC 4.Predicate:æ–­è¨€å‹æ¥å£ boolean test(T t)\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 /** * è‡ªå®šä¹‰æ¡ä»¶è¿‡æ»¤å­—ç¬¦ä¸²é›†åˆ */ @Test public void test04(){ List\u0026lt;String\u0026gt; strings = Arrays.asList(\u0026#34;å•Šå•Šå•Š\u0026#34;, \u0026#34;2333\u0026#34;, \u0026#34;666\u0026#34;, \u0026#34;?????????\u0026#34;); List\u0026lt;String\u0026gt; stringList = filterStr(strings, (s) -\u0026gt; s.length() \u0026gt; 3); for (String s : stringList) { System.out.println(s); } } public List\u0026lt;String\u0026gt; filterStr(List\u0026lt;String\u0026gt; list, Predicate\u0026lt;String\u0026gt; predicate){ ArrayList result = new ArrayList(); for (int i = 0; i \u0026lt; list.size(); i++) { if (predicate.test(list.get(i))){ result.add(list.get(i)); } } return result; } å…¶ä»–æ¥å£çš„å®šä¹‰ï¼Œå¦‚å›¾æ‰€ç¤ºï¼š\n5.æ–¹æ³•å¼•ç”¨ å½“è¦ä¼ é€’ç»™Lambdaä½“çš„æ“ä½œï¼Œå·²ç»æœ‰å®ç°çš„æ–¹æ³•äº†ï¼Œå°±å¯ä»¥ä½¿ç”¨æ–¹æ³•å¼•ç”¨ï¼ï¼ˆå®ç°æŠ½è±¡æ–¹æ³•çš„å‚æ•°åˆ—è¡¨ï¼Œå¿…é¡»ä¸æ–¹æ³•å¼•ç”¨çš„å‚æ•°åˆ—è¡¨ä¸€è‡´ï¼Œæ–¹æ³•çš„è¿”å›å€¼ä¹Ÿå¿…é¡»ä¸€è‡´ï¼Œå³æ–¹æ³•çš„ç­¾åä¸€è‡´ï¼‰ã€‚æ–¹æ³•å¼•ç”¨å¯ä»¥ç†è§£ä¸ºæ–¹æ³•å¼•ç”¨æ˜¯Lambdaè¡¨è¾¾å¼çš„å¦å¤–ä¸€ç§è¡¨ç°å½¢å¼ã€‚ æ–¹æ³•å¼•ç”¨çš„è¯­æ³•ï¼šä½¿ç”¨æ“ä½œç¬¦â€œ::â€å°†å¯¹è±¡æˆ–ç±»å’Œæ–¹æ³•ååˆ†éš”å¼€ã€‚ æ–¹æ³•å¼•ç”¨çš„ä½¿ç”¨æƒ…å†µå…±åˆ†ä¸ºä»¥ä¸‹ä¸‰ç§ï¼š\nå¯¹è±¡::å®ä¾‹æ–¹æ³•å ç±»::é™æ€æ–¹æ³•å ç±»::å®ä¾‹æ–¹æ³•å\nä½¿ç”¨ç¤ºä¾‹ï¼š 1.å¯¹è±¡::å®ä¾‹æ–¹æ³•å\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 /** *PrintStreamä¸­çš„printlnæ–¹æ³•å®šä¹‰ * public void println(String x) { * synchronized (this) { * print(x); * newLine(); * } * } */ //å¯¹è±¡::å®ä¾‹æ–¹æ³•å @Test public void test1(){ PrintStream out = System.out; Consumer\u0026lt;String\u0026gt; consumer=out::println; consumer.accept(\u0026#34;hello\u0026#34;); } 2.ç±»::é™æ€æ–¹æ³•å\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 /** * Integerç±»ä¸­çš„é™æ€æ–¹æ³•compareçš„å®šä¹‰ï¼š * public static int compare(int x, int y) { * return (x \u0026lt; y) ? -1 : ((x == y) ? 0 : 1); * } */ @Test public void test2(){ Comparator\u0026lt;Integer\u0026gt; comparable=(x,y)-\u0026gt;Integer.compare(x,y); //ä½¿ç”¨æ–¹æ³•å¼•ç”¨å®ç°ç›¸åŒæ•ˆæœ Comparator\u0026lt;Integer\u0026gt; integerComparable=Integer::compare; System.out.println(integerComparable.compare(4,2));//ç»“æœï¼š1 System.out.println(comparable.compare(4,2));//ç»“æœï¼š1 } 3.ç±»::å®ä¾‹æ–¹æ³•å\n1 2 3 4 5 6 7 8 @Test public void test3(){ BiPredicate\u0026lt;String,String\u0026gt; bp=(x,y)-\u0026gt;x.equals(y); //ä½¿ç”¨æ–¹æ³•å¼•ç”¨å®ç°ç›¸åŒæ•ˆæœ BiPredicate\u0026lt;String,String\u0026gt; bp2=String::equals; System.out.println(bp.test(\u0026#34;1\u0026#34;,\u0026#34;2\u0026#34;));//ç»“æœï¼šfalse System.out.println(bp.test(\u0026#34;1\u0026#34;,\u0026#34;2\u0026#34;));//ç»“æœï¼šfalse } 6.æ„é€ å™¨å¼•ç”¨ æ ¼å¼ï¼šç±»å::new ä¸å‡½æ•°å¼æ¥å£ç›¸ç»“åˆï¼Œè‡ªåŠ¨ä¸å‡½æ•°å¼æ¥å£ä¸­æ–¹æ³•å…¼å®¹ï¼Œå¯ä»¥æŠŠæ„é€ å™¨å¼•ç”¨èµ‹å€¼ç»™å®šä¹‰çš„æ–¹æ³•ã€‚éœ€è¦æ³¨æ„æ„é€ å™¨å‚æ•°åˆ—è¡¨è¦ä¸æ¥å£ä¸­æŠ½è±¡æ–¹æ³•çš„å‚æ•°åˆ—è¡¨ä¸€è‡´ã€‚ä½¿ç”¨ç¤ºä¾‹ï¼š åˆ›å»ºä¸€ä¸ªå®ä½“ç±»Employeeï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 public class Employee { private Integer id; private String name; private Integer age; @Override public String toString() { return \u0026#34;Employee{\u0026#34; + \u0026#34;id=\u0026#34; + id + \u0026#34;, name=\u0026#39;\u0026#34; + name + \u0026#39;\\\u0026#39;\u0026#39; + \u0026#34;, age=\u0026#34; + age + \u0026#39;}\u0026#39;; } public Employee(){ } public Employee(Integer id) { this.id = id; } public Employee(Integer id, Integer age) { this.id = id; this.age = age; } public Employee(int id, String name, int age) { this.id = id; this.name = name; this.age = age; } } ä½¿ç”¨æ„é€ å™¨å¼•ç”¨ä¸å‡½æ•°å¼æ¥å£ç›¸ç»“åˆ\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 @Test public void test01(){ //å¼•ç”¨æ— å‚æ„é€ å™¨ Supplier\u0026lt;Employee\u0026gt; supplier=Employee::new; System.out.println(supplier.get()); //å¼•ç”¨æœ‰å‚æ„é€ å™¨ Function\u0026lt;Integer,Employee\u0026gt; function=Employee::new; System.out.println(function.apply(21)); BiFunction\u0026lt;Integer,Integer,Employee\u0026gt; biFunction=Employee::new; System.out.println(biFunction.apply(8,24)); } è¾“å‡ºç»“æœï¼š Employee{id=null, name=\u0026#39;null\u0026#39;, age=null} Employee{id=21, name=\u0026#39;null\u0026#39;, age=null} Employee{id=8, name=\u0026#39;null\u0026#39;, age=24} 7.æ•°ç»„å¼•ç”¨ æ•°ç»„å¼•ç”¨çš„æ ¼å¼ï¼štype[]:new ä½¿ç”¨ç¤ºä¾‹ï¼š\n1 2 3 4 5 6 @Test public void test02(){ Function\u0026lt;Integer,String[]\u0026gt; function=String[]::new; String[] apply = function.apply(10); System.out.println(apply.length);//ç»“æœï¼š10 } 8.Lambdaè¡¨è¾¾å¼çš„ä½œç”¨åŸŸ Lambdaè¡¨è¾¾å¼å¯ä»¥çœ‹ä½œæ˜¯åŒ¿åå†…éƒ¨ç±»å®ä¾‹åŒ–çš„å¯¹è±¡ï¼ŒLambdaè¡¨è¾¾å¼å¯¹å˜é‡çš„è®¿é—®é™åˆ¶å’ŒåŒ¿åå†…éƒ¨ç±»ä¸€æ ·ï¼Œå› æ­¤Lambdaè¡¨è¾¾å¼å¯ä»¥è®¿é—®å±€éƒ¨å˜é‡ã€å±€éƒ¨å¼•ç”¨ï¼Œé™æ€å˜é‡ï¼Œå®ä¾‹å˜é‡ã€‚\n8.1 è®¿é—®å±€éƒ¨å˜é‡ åœ¨Lambdaè¡¨è¾¾å¼ä¸­è§„å®šåªèƒ½å¼•ç”¨æ ‡è®°äº†finalçš„å¤–å±‚å±€éƒ¨å˜é‡ã€‚æˆ‘ä»¬ä¸èƒ½åœ¨lambda å†…éƒ¨ä¿®æ”¹å®šä¹‰åœ¨åŸŸå¤–çš„å±€éƒ¨å˜é‡ï¼Œå¦åˆ™ä¼šç¼–è¯‘é”™è¯¯ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 public class TestFinalVariable { interface VarTestInterface{ Integer change(String str); } public static void main(String[] args) { //å±€éƒ¨å˜é‡ä¸ä½¿ç”¨finalä¿®é¥° Integer tempInt = 1; VarTestInterface var = (str -\u0026gt; Integer.valueOf(str+tempInt)); //å†æ¬¡ä¿®æ”¹,ä¸ç¬¦åˆéšå¼finalå®šä¹‰ tempInt =2; Integer str =var.change(\u0026#34;111\u0026#34;) ; System.out.println(str); } } ä¸Šé¢ä»£ç ä¼šå‡ºç°ç¼–è¯‘é”™è¯¯ï¼Œå‡ºç°å¦‚ä¸‹æç¤ºï¼š\nç‰¹æ®Šæƒ…å†µä¸‹ï¼Œå±€éƒ¨å˜é‡ä¹Ÿå¯ä»¥ä¸ç”¨å£°æ˜ä¸º finalï¼Œä½†æ˜¯å¿…é¡»ä¸å¯è¢«åé¢çš„ä»£ç ä¿®æ”¹ï¼ˆå³éšæ€§çš„å…·æœ‰ final çš„è¯­ä¹‰ï¼‰\nä¾‹å¦‚ä¸Šé¢çš„ä»£ç ç¡®ä¿Lambdaè¡¨è¾¾å¼åå±€éƒ¨å˜é‡åé¢ä¸åšä¿®æ”¹ï¼Œå°±å¯ä»¥æˆåŠŸå•¦ï¼\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 public class TestFinalVariable { interface VarTestInterface{ Integer change(String str); } public static void main(String[] args) { //å±€éƒ¨å˜é‡ä¸ä½¿ç”¨finalä¿®é¥° Integer tempInt = 1; VarTestInterface var = (str -\u0026gt; Integer.valueOf(str+tempInt)); Integer str =var.change(\u0026#34;111\u0026#34;) ; System.out.println(str); } } 8.2 è®¿é—®å±€éƒ¨å¼•ç”¨ï¼Œé™æ€å˜é‡ï¼Œå®ä¾‹å˜é‡ Lambdaè¡¨è¾¾å¼ä¸é™åˆ¶è®¿é—®å±€éƒ¨å¼•ç”¨å˜é‡ï¼Œé™æ€å˜é‡ï¼Œå®ä¾‹å˜é‡ã€‚ä»£ç æµ‹è¯•éƒ½å¯æ­£å¸¸æ‰§è¡Œï¼Œä»£ç ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 public class LambdaScopeTest { /** * é™æ€å˜é‡ */ private static String staticVar; /** * å®ä¾‹å˜é‡ */ private String instanceVar; @FunctionalInterface interface VarChangeInterface{ Integer change(String str); } /** * æµ‹è¯•å¼•ç”¨å˜é‡ */ private void testReferenceVar(){ ArrayList\u0026lt;String\u0026gt; list = new ArrayList\u0026lt;\u0026gt;(); list.add(\u0026#34;111\u0026#34;); //è®¿é—®å¤–éƒ¨å¼•ç”¨å±€éƒ¨å¼•ç”¨å˜é‡ VarChangeInterface varChangeInterface = ((str) -\u0026gt; Integer.valueOf(list.get(0))); //ä¿®æ”¹å±€éƒ¨å¼•ç”¨å˜é‡ list.set(0,\u0026#34;222\u0026#34;); Integer str =varChangeInterface.change(\u0026#34;\u0026#34;); System.out.println(str); } /** * æµ‹è¯•é™æ€å˜é‡ */ void testStaticVar(){ staticVar=\u0026#34;222\u0026#34;; VarChangeInterface varChangeInterface = (str -\u0026gt; Integer.valueOf(str+staticVar)); staticVar=\u0026#34;333\u0026#34;; Integer str =varChangeInterface.change(\u0026#34;111\u0026#34;) ; System.out.println(str); } /** * æµ‹è¯•å®ä¾‹å˜é‡ */ void testInstanceVar(){ instanceVar=\u0026#34;222\u0026#34;; VarChangeInterface varChangeInterface = (str -\u0026gt; Integer.valueOf(str+instanceVar)); instanceVar=\u0026#34;333\u0026#34;; Integer str =varChangeInterface.change(\u0026#34;111\u0026#34;) ; System.out.println(str); } public static void main(String[] args) { new LambdaScopeTest().testReferenceVar();//222 new LambdaScopeTest().testStaticVar();//111333 new LambdaScopeTest().testInstanceVar();//111333 } } Lambdaè¡¨è¾¾å¼é‡Œä¸å…è®¸å£°æ˜ä¸€ä¸ªä¸å±€éƒ¨å˜é‡åŒåçš„å‚æ•°æˆ–è€…å±€éƒ¨å˜é‡ã€‚\n1 2 3 4 5 6 7 //ç¼–ç¨‹æŠ¥é”™ Integer tempInt = 1; VarTestInterface varTest01 = (tempInt -\u0026gt; Integer.valueOf(tempInt)); VarTestInterface varTest02 = (str -\u0026gt; { Integer tempInt = 1; Integer.valueOf(str); }); 8.3 Lambdaè¡¨è¾¾å¼è®¿é—®å±€éƒ¨å˜é‡ä½œé™åˆ¶çš„åŸå›  Lambdaè¡¨è¾¾å¼ä¸èƒ½è®¿é—®éfinalä¿®é¥°çš„å±€éƒ¨å˜é‡çš„åŸå› æ˜¯ï¼Œå±€éƒ¨å˜é‡æ˜¯ä¿å­˜åœ¨æ ˆå¸§ä¸­çš„ã€‚è€Œåœ¨Javaçš„çº¿ç¨‹æ¨¡å‹ä¸­ï¼Œæ ˆå¸§ä¸­çš„å±€éƒ¨å˜é‡æ˜¯çº¿ç¨‹ç§æœ‰çš„ï¼Œå¦‚æœå…è®¸Lambdaè¡¨è¾¾å¼è®¿é—®åˆ°æ ˆå¸§ä¸­çš„å˜é‡åœ°å€ï¼ˆå¯æ”¹å˜çš„å±€éƒ¨å˜é‡ï¼‰ï¼Œåˆ™ä¼šå¯èƒ½å¯¼è‡´çº¿ç¨‹ç§æœ‰çš„æ•°æ®è¢«å¹¶å‘è®¿é—®ï¼Œé€ æˆçº¿ç¨‹ä¸å®‰å…¨é—®é¢˜ã€‚\nåŸºäºä¸Šè¿°ï¼Œå¯¹äºå¼•ç”¨ç±»å‹çš„å±€éƒ¨å˜é‡ï¼Œå› ä¸ºJavaæ˜¯å€¼ä¼ é€’ï¼Œåˆå› ä¸ºå¼•ç”¨ç±»å‹çš„æŒ‡å‘å†…å®¹æ˜¯ä¿å­˜åœ¨å †ä¸­ï¼Œæ˜¯çº¿ç¨‹å…±äº«çš„ï¼Œå› æ­¤Lambdaè¡¨è¾¾å¼ä¸­å¯ä»¥ä¿®æ”¹å¼•ç”¨ç±»å‹çš„å±€éƒ¨å˜é‡çš„å†…å®¹ï¼Œè€Œä¸èƒ½ä¿®æ”¹è¯¥å˜é‡çš„å¼•ç”¨ã€‚\nå¯¹äºåŸºæœ¬æ•°æ®ç±»å‹çš„å˜é‡ï¼Œåœ¨ Lambdaè¡¨è¾¾å¼ä¸­åªæ˜¯è·å–åˆ°è¯¥å˜é‡çš„å‰¯æœ¬ï¼Œä¸”å±€éƒ¨å˜é‡æ˜¯çº¿ç¨‹ç§æœ‰çš„ï¼Œå› æ­¤æ— æ³•çŸ¥é“å…¶ä»–çº¿ç¨‹å¯¹è¯¥å˜é‡çš„ä¿®æ”¹ï¼Œå¦‚æœè¯¥å˜é‡ä¸åšfinalä¿®é¥°ï¼Œä¼šé€ æˆæ•°æ®ä¸åŒæ­¥çš„é—®é¢˜ã€‚\nä½†æ˜¯å®ä¾‹å˜é‡ï¼Œé™æ€å˜é‡ä¸ä½œé™åˆ¶ï¼Œå› ä¸ºå®ä¾‹å˜é‡ï¼Œé™æ€å˜é‡æ˜¯ä¿å­˜åœ¨å †ä¸­(Java8ä¹‹å)ï¼Œè€Œå †æ˜¯çº¿ç¨‹å…±äº«çš„ã€‚åœ¨Lambdaè¡¨è¾¾å¼å†…éƒ¨æ˜¯å¯ä»¥çŸ¥é“å®ä¾‹å˜é‡ï¼Œé™æ€å˜é‡çš„å˜åŒ–ã€‚\n9.Lambdaè¡¨è¾¾å¼çš„ä¼˜ç¼ºç‚¹ ä¼˜ç‚¹ï¼š ä½¿ä»£ç æ›´ç®€æ´ï¼Œç´§å‡‘ å¯ä»¥ä½¿ç”¨å¹¶è¡Œæµæ¥å¹¶è¡Œå¤„ç†ï¼Œå……åˆ†åˆ©ç”¨å¤šæ ¸CPUçš„ä¼˜åŠ¿ æœ‰åˆ©äºJITç¼–è¯‘å™¨å¯¹ä»£ç è¿›è¡Œä¼˜åŒ– ç¼ºç‚¹ï¼š éå¹¶è¡Œè®¡ç®—æƒ…å†µä¸‹ï¼Œå…¶è®¡ç®—é€Ÿåº¦æ²¡æœ‰æ¯”ä¼ ç»Ÿçš„ for å¾ªç¯å¿« ä¸å®¹æ˜“è°ƒè¯• è‹¥å…¶ä»–ç¨‹åºå‘˜æ²¡æœ‰å­¦è¿‡ Lambda è¡¨è¾¾å¼ï¼Œä»£ç ä¸å®¹æ˜“çœ‹æ‡‚ åœ¨Streamæ“ä½œä¸­ä½¿ç”¨lambdaè¡¨è¾¾å¼ï¼šJava8æ–°ç‰¹æ€§Streamçš„ä½¿ç”¨æ€»ç»“ ","date":"0001-01-01T00:00:00Z","permalink":"http://localhost:1313/p/","title":""},{"content":"1. é˜²ç«å¢™ 1.1 ç›¸å…³å‘½ä»¤ æŸ¥çœ‹é˜²ç«å¢™çŠ¶æ€\n1 systemctl status firewalld 1 2 3 4 5 [root@liangfeifan etc]# systemctl status firewalld â— firewalld.service - firewalld - dynamic firewall daemon Loaded: loaded (/usr/lib/systemd/system/firewalld.service; disabled; vendor preset: enabled) Active: inactive (dead) #deadæ²¡å¼€å¯é˜²ç«å¢™ Docs: man:firewalld(1) å¼€å¯é˜²ç«å¢™\n1 systemctl start firewalld 1 2 3 4 5 6 7 8 9 [root@liangfeifan etc]# systemctl start firewalld [root@liangfeifan etc]# systemctl status firewalld â— firewalld.service - firewalld - dynamic firewall daemon Loaded: loaded (/usr/lib/systemd/system/firewalld.service; disabled; vendor preset: enabled) Active: active (running) since å›› 2024-06-20 03:10:23 CST; 2s ago Docs: man:firewalld(1) Main PID: 15841 (firewalld) CGroup: /system.slice/firewalld.service â””â”€15841 /usr/bin/python2 -Es /usr/sbin/firewalld --nofork --nopid å…³é—­é˜²ç«å¢™\n1 systemctl firewalld stop é‡å¯é˜²ç«å¢™\n1 systemctl firewalld restart æç¤ºé”™è¯¯ FirewallD is not running\næ²¡å¼€é˜²ç«å¢™ï¼Œæ‰§è¡Œ systemctl start firewalld\næŸ¥çœ‹é˜²ç«å¢™è§„åˆ™\n1 2 firewall-cmd --list-all #æŸ¥çœ‹å…¨éƒ¨ä¿¡æ¯ firewall-cmd --list-ports #åªæŸ¥çœ‹ç«¯å£ä¿¡æ¯ å¼€å¯ç«¯å£\n1 2 3 4 5 firewall-cmd --zone=public --add-port=80/tcp --permanent # å‚æ•°å«ä¹‰ --zone #ä½œç”¨åŸŸ --add-port=80/tcp #æ·»åŠ ç«¯å£ã€‚æ ¼å¼ä¸ºç«¯å£/é€šä¿¡åè®® --permanent #æ°¸ä¹…ç”Ÿæ•ˆï¼Œæ²¡æœ‰æ­¤å‚æ•°çš„è¯é‡å¯å¤±æ•ˆ ","date":"0001-01-01T00:00:00Z","permalink":"http://localhost:1313/p/","title":""},{"content":"å¸¸ç”¨å¿«æ·å‘½ä»¤ï¼š ç§»åŠ¨ç±» Ctrl + D ï¼š å¤åˆ¶å½“å‰è¡Œåˆ°ä¸‹ä¸€è¡Œï¼ˆ*é‡ç‚¹ **ï¼‰ Ctrl + Y ï¼š åˆ é™¤å½“å‰è¡Œä»£ç ï¼ˆ*é‡ç‚¹ **ï¼‰ Ctrl + shift + â†‘ ï¼š å‘ä¸Šç§»åŠ¨ä»£ç ï¼ˆæŠŠæŒ‡å®šä»£ç å‘ä¸ŠæŒªä½ç½®ï¼‰ï¼ˆ*é‡ç‚¹ **ï¼‰ Ctrl + shift + â†“ ï¼š å‘ä¸‹ç§»åŠ¨ä»£ç  Alt + shift + â†‘ ï¼š å‘ä¸Šç§»åŠ¨ä¸€è¡Œ ï¼ˆ*é‡ç‚¹ **ï¼‰ Alt + shift + â†“ ï¼š å‘ä¸‹ç§»åŠ¨ä¸€è¡Œ shift + Enter : åˆ‡æ¢åˆ°ä¸‹ä¸€è¡Œä»£ç ç©ºä½ï¼ˆä¾‹å¦‚ï¼šä»å½“å‰è¡Œä»»æ„ä½ç½®è·³è½¬åˆ°å¹¶æ–°å»ºä¸€è¡Œï¼‰ Ctrl + shift + Enter : åˆ‡æ¢åˆ°ä¸Šä¸€è¡Œä»£ç ç©ºä½ï¼ˆä¾‹å¦‚ï¼šä»å½“å‰è¡Œä»»æ„ä½ç½®è·³è½¬å¹¶æ–°å»ºä¸€è¡Œï¼‰ Ctrl + alt + L : æ ¼å¼åŒ–ä»£ç ï¼Œå³è‡ªåŠ¨è°ƒæ ¼å¼ï¼ˆå¦‚å¯¹é½æ“ä½œï¼‰ alt + â† ï¼š åˆ‡æ¢åˆ°å·¦ä¾§æ–‡ä»¶çª—å£ alt + â†’ ï¼šåˆ‡æ¢åˆ°å³ä¾§æ–‡ä»¶çª—å£ Ctrl + alt + â† : æŸ¥çœ‹ä¸Šä¸€ä¸ªè¶…é“¾æ¥ï¼ˆæœ‰ç‚¹åƒæµè§ˆå™¨å‰è¿›åé€€ï¼Œå¸¸åœ¨æº¯æºæºç çš„æ—¶å€™ä½¿ç”¨ï¼‰ Ctrl + alt + â† : æŸ¥çœ‹ä¸‹ä¸€ä¸ªè¶…é“¾æ¥ Ctrl + g : å¿«é€Ÿè·³è½¬åˆ°æŒ‡å®šè¡Œçš„ä»£ç  home : å…‰æ ‡è·³è½¬åˆ°å½“å‰è¡Œè¡Œé¦– end ï¼š å…‰æ ‡è·³è½¬åˆ°å½“å‰è¡Œè¡Œæœ« tap : æŠŠé€‰ä¸­åŒºåŸŸçš„ä»£ç å‘å³ç§» shift + tap : æŠŠé€‰ä¸­åŒºåŸŸçš„ä»£ç å‘å·¦ç§» æ–‡ä»¶æ“ä½œç±» shift + F6 : ï¼ˆæ‰¹é‡ï¼‰æ–‡ä»¶å¿«é€Ÿé‡å‘½åï¼ˆ*é‡ç‚¹ **ï¼‰ï¼ˆ*é‡ç‚¹ **ï¼‰ shift + F6 è¿˜å¯ä»¥ä¿®æ”¹ä»£ç ä¸­æŒ‡å®šçš„å˜é‡åã€æ–¹æ³•åã€ç±»åç­‰ã€‚ä¾‹å¦‚æ•´ä½“ä¿®æ”¹æŸä¸ªå˜é‡çš„åå­—ï¼ˆåƒæŸ¥æ‰¾å…¨æ›¿æ¢ï¼‰ï¼ˆ*é‡ç‚¹ **ï¼‰ï¼ˆ*é‡ç‚¹ **ï¼‰ Ctrl + h : æŸ¥çœ‹ç±»çš„ç»§æ‰¿å…³ç³» Ctrl + alt + m : æŠ½å–ä»£ç é‡æ„æ–¹æ³• (æŠ½å–æŒ‡å®šä»£ç è¿›è¡Œå°è£…ï¼‰ ï¼ˆ*é‡ç‚¹ **ï¼‰ï¼ˆ*é‡ç‚¹ **ï¼‰ Ctrl + q : æŸ¥çœ‹æ–¹æ³•æ–‡æ¡£ Ctrl + alt + u : æŸ¥çœ‹ç±»çš„UMLå…³ç³»å›¾ Ctrl+Nï¼Œå¯ä»¥å¿«é€Ÿæ‰“å¼€ç±»ï¼Œå¯ç”¨äºæŸ¥æ‰¾æºç  å¿«æ·æ³¨é‡Šç±»ï¼ˆé‡ç‚¹*ï¼‰ Ctrl + / : å•è¡Œæ³¨é‡Šä¸å–æ¶ˆ\nCtrl + shift + / : å¤šè¡Œæ³¨é‡Šä¸å–æ¶ˆ\n/** + enter ï¼š æ–¹æ³•æˆ–è€…ç±»çš„è¯´æ˜æ³¨é‡Šï¼Œ è‡ªåŠ¨æ ¹æ®å‚æ•°å’Œè¿”å›å€¼ç”Ÿæˆæ³¨é‡Š\nå¿«æ·ç”Ÿæˆç±» ctrl + alt + t : ç»™é€‰ä¸­åŒºåŸŸå¥—ä¸€å±‚ç»“æ„ï¼ˆ*é‡ç‚¹ **ï¼‰ alt + insert : å¿«é€Ÿç”Ÿæˆgetã€setã€æ„é€ å™¨ç­‰ï¼ˆ*é‡ç‚¹ **ï¼‰\nalt + Enter ï¼š æ™ºèƒ½æç¤º ï¼ˆ*é‡ç‚¹ **ï¼‰\nCtrl + alt + v : è‡ªåŠ¨ç”Ÿæˆè¿”å›å€¼å˜é‡\nCtrl + p : æ–¹æ³•å½¢å‚åˆ—è¡¨æé†’\nnumber.for+ enter: å¿«é€Ÿåˆ›å»ºfor å¾ªç¯ï¼Œå¾ªç¯æ¬¡æ•°ä¸ºnumber ï¼ˆ*é‡ç‚¹ **ï¼‰\n1 2 // 100.for 1for (int i = 0; i \u0026lt; 100; i++) { } soutï¼ˆå°å†™ï¼‰+ enter : å¿«é€Ÿç¼–å†™ ï¼ˆ*é‡ç‚¹ **ï¼‰\n1 System.out.println( ); psvmï¼ˆå°å†™ï¼‰+ enter : å¿«é€Ÿç¼–å†™\n1 2 public static void main(String[] args) { } Ctrl + O : é‡å†™çˆ¶ç±»æ–¹æ³•ï¼ˆæœ‰ç‚¹åƒalt + insert ä¸“ç”¨åŒ–çš„è¡ç”Ÿå“ï¼‰ï¼ˆ*é‡ç‚¹ **ï¼‰\nCtrl + i : å®ç°æ¥å£æ–¹æ³•ï¼ˆ*é‡ç‚¹ **ï¼‰\nCtrl + shift + U ï¼š é€‰ä¸­åŒºåŸŸå¤§å°å†™è½¬æ¢\nä»¥ä¸‹ä¸ºæœªéªŒè¯çš„å¤åˆ¶é»è´´ï¼š Ctrl+Shift + Enterï¼Œè¯­å¥å®Œæˆ â€œï¼â€ï¼Œå¦å®šå®Œæˆï¼Œè¾“å…¥è¡¨è¾¾å¼æ—¶æŒ‰ â€œï¼â€é”® Ctrl+Eï¼Œæœ€è¿‘çš„æ–‡ä»¶ Ctrl+Shift+Eï¼Œæœ€è¿‘æ›´æ”¹çš„æ–‡ä»¶ Shift+Clickï¼Œå¯ä»¥å…³é—­æ–‡ä»¶ Ctrl+[ OR ]ï¼Œå¯ä»¥è·‘åˆ°å¤§æ‹¬å·çš„å¼€å¤´ä¸ç»“å°¾ Ctrl+F12ï¼Œå¯ä»¥æ˜¾ç¤ºå½“å‰æ–‡ä»¶çš„ç»“æ„ Ctrl+F7ï¼Œå¯ä»¥æŸ¥è¯¢å½“å‰å…ƒç´ åœ¨å½“å‰æ–‡ä»¶ä¸­çš„å¼•ç”¨ï¼Œç„¶åæŒ‰ F3 å¯ä»¥é€‰æ‹© Ctrl+Nï¼Œå¯ä»¥å¿«é€Ÿæ‰“å¼€ç±» Ctrl+Shift+Nï¼Œå¯ä»¥å¿«é€Ÿæ‰“å¼€æ–‡ä»¶ Alt+Qï¼Œå¯ä»¥çœ‹åˆ°å½“å‰æ–¹æ³•çš„å£°æ˜ Ctrl+Pï¼Œå¯ä»¥æ˜¾ç¤ºå‚æ•°ä¿¡æ¯ Ctrl+Shift+Insertï¼Œå¯ä»¥é€‰æ‹©å‰ªè´´æ¿å†…å®¹å¹¶æ’å…¥ Alt+Insertï¼Œå¯ä»¥ç”Ÿæˆæ„é€ å™¨/Getter/Setterç­‰ Ctrl+Alt+Vï¼Œå¯ä»¥å¼•å…¥å˜é‡ã€‚ä¾‹å¦‚ï¼šnew String(); è‡ªåŠ¨å¯¼å…¥å˜é‡å®šä¹‰ Ctrl+Alt+Tï¼Œå¯ä»¥æŠŠä»£ç åŒ…åœ¨ä¸€ä¸ªå—å†…ï¼Œä¾‹å¦‚ï¼štry/catch Ctrl+Enterï¼Œå¯¼å…¥åŒ…ï¼Œè‡ªåŠ¨ä¿®æ­£ Ctrl+Alt+Lï¼Œæ ¼å¼åŒ–ä»£ç  Ctrl+Alt+Iï¼Œå°†é€‰ä¸­çš„ä»£ç è¿›è¡Œè‡ªåŠ¨ç¼©è¿›ç¼–æ’ï¼Œè¿™ä¸ªåŠŸèƒ½åœ¨ç¼–è¾‘ JSP æ–‡ä»¶æ—¶ä¹Ÿå¯ä»¥å·¥ä½œ Ctrl+Alt+Oï¼Œä¼˜åŒ–å¯¼å…¥çš„ç±»å’ŒåŒ… Ctrl+Rï¼Œæ›¿æ¢æ–‡æœ¬ Ctrl+Fï¼ŒæŸ¥æ‰¾æ–‡æœ¬ Ctrl+Shift+Spaceï¼Œè‡ªåŠ¨è¡¥å…¨ä»£ç  Ctrl+ç©ºæ ¼ï¼Œä»£ç æç¤ºï¼ˆä¸ç³»ç»Ÿè¾“å…¥æ³•å¿«æ·é”®å†²çªï¼‰ Ctrl+Shift+Alt+Nï¼ŒæŸ¥æ‰¾ç±»ä¸­çš„æ–¹æ³•æˆ–å˜é‡ Alt+Shift+Cï¼Œæœ€è¿‘çš„æ›´æ”¹ Alt+Shift+Up/Downï¼Œä¸Š/ä¸‹ç§»ä¸€è¡Œ Shift+F6ï¼Œé‡æ„ - é‡å‘½å Ctrl+Xï¼Œåˆ é™¤è¡Œ Ctrl+Dï¼Œå¤åˆ¶è¡Œ Ctrl+/æˆ–Ctrl+Shift+/ï¼Œæ³¨é‡Šï¼ˆ//æˆ–è€…/**/ï¼‰ Ctrl+Jï¼Œè‡ªåŠ¨ä»£ç ï¼ˆä¾‹å¦‚ï¼šserrï¼‰ Ctrl+Alt+Jï¼Œç”¨åŠ¨æ€æ¨¡æ¿ç¯ç»• Ctrl+Hï¼Œæ˜¾ç¤ºç±»ç»“æ„å›¾ï¼ˆç±»çš„ç»§æ‰¿å±‚æ¬¡ï¼‰ Ctrl+Qï¼Œæ˜¾ç¤ºæ³¨é‡Šæ–‡æ¡£ Alt+F1ï¼ŒæŸ¥æ‰¾ä»£ç æ‰€åœ¨ä½ç½® Alt+1ï¼Œå¿«é€Ÿæ‰“å¼€æˆ–éšè—å·¥ç¨‹é¢æ¿ Ctrl+Alt+left/rightï¼Œè¿”å›è‡³ä¸Šæ¬¡æµè§ˆçš„ä½ç½® Alt+left/rightï¼Œåˆ‡æ¢ä»£ç è§†å›¾ Alt+Up/Downï¼Œåœ¨æ–¹æ³•é—´å¿«é€Ÿç§»åŠ¨å®šä½ Ctrl+Shift+Up/Downï¼Œå‘ä¸Š/ä¸‹ç§»åŠ¨è¯­å¥ F2 æˆ– Shift+F2ï¼Œé«˜äº®é”™è¯¯æˆ–è­¦å‘Šå¿«é€Ÿå®šä½ Tabï¼Œä»£ç æ ‡ç­¾è¾“å…¥å®Œæˆåï¼ŒæŒ‰ Tabï¼Œç”Ÿæˆä»£ç  Ctrl+Shift+F7ï¼Œé«˜äº®æ˜¾ç¤ºæ‰€æœ‰è¯¥æ–‡æœ¬ï¼ŒæŒ‰ Esc é«˜äº®æ¶ˆå¤± Alt+F3ï¼Œé€ä¸ªå¾€ä¸‹æŸ¥æ‰¾ç›¸åŒæ–‡æœ¬ï¼Œå¹¶é«˜äº®æ˜¾ç¤º Ctrl+Up/Downï¼Œå…‰æ ‡ä¸­è½¬åˆ°ç¬¬ä¸€è¡Œæˆ–æœ€åä¸€è¡Œä¸‹ Ctrl+B/Ctrl+Clickï¼Œå¿«é€Ÿæ‰“å¼€å…‰æ ‡å¤„çš„ç±»æˆ–æ–¹æ³•ï¼ˆè·³è½¬åˆ°å®šä¹‰å¤„ï¼‰ Ctrl+Alt+Bï¼Œè·³è½¬åˆ°æ–¹æ³•å®ç°å¤„ Ctrl+Shift+Backspaceï¼Œè·³è½¬åˆ°ä¸Šæ¬¡ç¼–è¾‘çš„åœ°æ–¹ Ctrl+Oï¼Œé‡å†™æ–¹æ³• Ctrl+Alt+Spaceï¼Œç±»åè‡ªåŠ¨å®Œæˆ Ctrl+Alt+Up/Downï¼Œå¿«é€Ÿè·³è½¬æœç´¢ç»“æœ Ctrl+Shift+Jï¼Œæ•´åˆä¸¤è¡Œ Alt+F8ï¼Œè®¡ç®—å˜é‡å€¼ Ctrl+Shift+Vï¼Œå¯ä»¥å°†æœ€è¿‘ä½¿ç”¨çš„å‰ªè´´æ¿å†…å®¹é€‰æ‹©æ’å…¥åˆ°æ–‡æœ¬ Ctrl+Alt+Shift+Vï¼Œç®€å•ç²˜è´´ Shift+Escï¼Œä¸ä»…å¯ä»¥æŠŠç„¦ç‚¹ç§»åˆ°ç¼–è¾‘å™¨ä¸Šï¼Œè€Œä¸”è¿˜å¯ä»¥éšè—å½“å‰ï¼ˆæˆ–æœ€åæ´»åŠ¨çš„ï¼‰å·¥å…·çª—å£ F12ï¼ŒæŠŠç„¦ç‚¹ä»ç¼–è¾‘å™¨ç§»åˆ°æœ€è¿‘ä½¿ç”¨çš„å·¥å…·çª—å£ Shift+F1ï¼Œè¦æ‰“å¼€ç¼–è¾‘å™¨å…‰æ ‡å­—ç¬¦å¤„ä½¿ç”¨çš„ç±»æˆ–è€…æ–¹æ³• Java æ–‡æ¡£çš„æµè§ˆå™¨ Ctrl+Wï¼Œå¯ä»¥é€‰æ‹©å•è¯ç»§è€Œè¯­å¥ç»§è€Œè¡Œç»§è€Œå‡½æ•° Ctrl+Shift+Wï¼Œå–æ¶ˆé€‰æ‹©å…‰æ ‡æ‰€åœ¨è¯ Alt+F7ï¼ŒæŸ¥æ‰¾æ•´ä¸ªå·¥ç¨‹ä¸­ä½¿ç”¨åœ°æŸä¸€ä¸ªç±»ã€æ–¹æ³•æˆ–è€…å˜é‡çš„ä½ç½® Ctrl+Iï¼Œå®ç°æ–¹æ³• Ctrl+Shift+Uï¼Œå¤§å°å†™è½¬åŒ– Ctrl+Yï¼Œåˆ é™¤å½“å‰è¡Œ Shift+Enterï¼Œå‘ä¸‹æ’å…¥æ–°è¡Œ psvm/soutï¼Œmain/System.out.println(); Ctrl+Jï¼ŒæŸ¥çœ‹æ›´å¤š Ctrl+Shift+Fï¼Œå…¨å±€æŸ¥æ‰¾ Ctrl+Fï¼ŒæŸ¥æ‰¾/Shift+F3ï¼Œå‘ä¸ŠæŸ¥æ‰¾/F3ï¼Œå‘ä¸‹æŸ¥æ‰¾ Ctrl+Shift+Sï¼Œé«˜çº§æœç´¢ Ctrl+Uï¼Œè½¬åˆ°çˆ¶ç±» Ctrl+Alt+Sï¼Œæ‰“å¼€è®¾ç½®å¯¹è¯æ¡† Alt+Shift+Inertï¼Œå¼€å¯/å…³é—­åˆ—é€‰æ‹©æ¨¡å¼ Ctrl+Alt+Shift+Sï¼Œæ‰“å¼€å½“å‰é¡¹ç›®/æ¨¡å—å±æ€§ Ctrl+Gï¼Œå®šä½è¡Œ Alt+Homeï¼Œè·³è½¬åˆ°å¯¼èˆªæ  Ctrl+Enterï¼Œä¸Šæ’ä¸€è¡Œ Ctrl+Backspaceï¼ŒæŒ‰å•è¯åˆ é™¤ Ctrl+\u0026quot;+/-\u0026quot;ï¼Œå½“å‰æ–¹æ³•å±•å¼€ã€æŠ˜å  Ctrl+Shift+\u0026quot;+/-\u0026quot;ï¼Œå…¨éƒ¨å±•å¼€ã€æŠ˜å  ","date":"0001-01-01T00:00:00Z","permalink":"http://localhost:1313/p/","title":""},{"content":"Maven è¯¾ç¨‹å†…å®¹ åˆè¯†Maven Mavenæ¦‚è¿° Mavenæ¨¡å‹ä»‹ç» Mavenä»“åº“ä»‹ç» Mavenå®‰è£…ä¸é…ç½® IDEAé›†æˆMaven ä¾èµ–ç®¡ç† 01. Mavenè¯¾ç¨‹ä»‹ç» 1.1 è¯¾ç¨‹å®‰æ’ å­¦ä¹ å®Œå‰ç«¯Webå¼€å‘æŠ€æœ¯åï¼Œæˆ‘ä»¬å³å°†å¼€å§‹å­¦ä¹ åç«¯Webå¼€å‘æŠ€æœ¯ã€‚åšä¸ºä¸€åJavaå¼€å‘å·¥ç¨‹å¸ˆï¼Œåç«¯Webå¼€å‘æŠ€æœ¯æ˜¯æˆ‘ä»¬å­¦ä¹ çš„é‡ç‚¹ã€‚\nåç«¯Webå¼€å‘æŠ€æœ¯çš„å­¦ä¹ ï¼Œæˆ‘ä»¬ä¼šå…ˆå­¦ä¹ Javaé¡¹ç›®çš„æ„å»ºå·¥å…·ï¼šMaven\n1.2 åˆè¯†Maven 1.2.1 ä»€ä¹ˆæ˜¯Maven Mavenæ˜¯Apacheæ——ä¸‹çš„ä¸€ä¸ªå¼€æºé¡¹ç›®ï¼Œæ˜¯ä¸€æ¬¾ç”¨äºç®¡ç†å’Œæ„å»ºjavaé¡¹ç›®çš„å·¥å…·ã€‚\nå®˜ç½‘ï¼šhttps://maven.apache.org/\nApache è½¯ä»¶åŸºé‡‘ä¼šï¼Œæˆç«‹äº1999å¹´7æœˆï¼Œæ˜¯ç›®å‰ä¸–ç•Œä¸Šæœ€å¤§çš„æœ€å—æ¬¢è¿çš„å¼€æºè½¯ä»¶åŸºé‡‘ä¼šï¼Œä¹Ÿæ˜¯ä¸€ä¸ªä¸“é—¨ä¸ºæ”¯æŒå¼€æºé¡¹ç›®è€Œç”Ÿçš„éç›ˆåˆ©æ€§ç»„ç»‡ã€‚\nå¼€æºé¡¹ç›®ï¼šhttps://www.apache.org/index.html#projects-list\n1.2.2 Mavençš„ä½œç”¨ ä½¿ç”¨Mavenèƒ½å¤Ÿåšä»€ä¹ˆå‘¢ï¼Ÿ\nä¾èµ–ç®¡ç† ç»Ÿä¸€é¡¹ç›®ç»“æ„ é¡¹ç›®æ„å»º ä¾èµ–ç®¡ç†ï¼š\næ–¹ä¾¿å¿«æ·çš„ç®¡ç†é¡¹ç›®ä¾èµ–çš„èµ„æº(jaråŒ…)ï¼Œé¿å…ç‰ˆæœ¬å†²çªé—®é¢˜ å½“ä½¿ç”¨mavenè¿›è¡Œé¡¹ç›®ä¾èµ–(jaråŒ…)ç®¡ç†ï¼Œåˆ™å¾ˆæ–¹ä¾¿çš„å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ æˆ‘ä»¬åªéœ€è¦åœ¨mavené¡¹ç›®çš„pom.xmlæ–‡ä»¶ä¸­ï¼Œæ·»åŠ ä¸€æ®µå¦‚ä¸‹å›¾æ‰€ç¤ºçš„é…ç½®å³å¯å®ç°ã€‚\n**ç»Ÿä¸€é¡¹ç›®ç»“æ„ : **\næä¾›æ ‡å‡†ã€ç»Ÿä¸€çš„é¡¹ç›®ç»“æ„ åœ¨é¡¹ç›®å¼€å‘ä¸­ï¼Œå½“ä½ ä½¿ç”¨ä¸åŒçš„å¼€å‘å·¥å…· (å¦‚ï¼šEclipseã€Idea)ï¼Œåˆ›å»ºé¡¹ç›®å·¥ç¨‹æ—¶ï¼š\nè‹¥æˆ‘ä»¬åˆ›å»ºçš„æ˜¯ä¸€ä¸ªmavenå·¥ç¨‹ï¼Œæ˜¯å¯ä»¥å¸®æˆ‘ä»¬è‡ªåŠ¨ç”Ÿæˆç»Ÿä¸€ã€æ ‡å‡†çš„é¡¹ç›®ç›®å½•ç»“æ„ï¼š\nå…·ä½“çš„ç»Ÿä¸€ç»“æ„å¦‚ä¸‹ï¼š\nç›®å½•è¯´æ˜ï¼š\nsrc/main/java: javaæºä»£ç ç›®å½• src/main/resources: é…ç½®æ–‡ä»¶ä¿¡æ¯ src/test/java: æµ‹è¯•ä»£ç  src/test/resources: æµ‹è¯•é…ç½®æ–‡ä»¶ä¿¡æ¯ é¡¹ç›®æ„å»º :\nmavenæä¾›äº†æ ‡å‡†çš„ã€è·¨å¹³å°(Linuxã€Windowsã€MacOS) çš„è‡ªåŠ¨åŒ–é¡¹ç›®æ„å»ºæ–¹å¼ å¦‚ä¸Šå›¾æ‰€ç¤ºæˆ‘ä»¬å¼€å‘äº†ä¸€å¥—ç³»ç»Ÿï¼Œä»£ç éœ€è¦è¿›è¡Œç¼–è¯‘ã€æµ‹è¯•ã€æ‰“åŒ…ã€å‘å¸ƒï¼Œè¿™äº›æ“ä½œå¦‚æœéœ€è¦åå¤è¿›è¡Œå°±æ˜¾å¾—ç‰¹åˆ«éº»çƒ¦ï¼Œè€ŒMavenæä¾›äº†ä¸€å¥—ç®€å•çš„å‘½ä»¤æ¥å®Œæˆé¡¹ç›®æ„å»ºã€‚\nç»¼ä¸Šæ‰€è¿°ï¼Œå¯ä»¥å¾—åˆ°ä¸€ä¸ªç»“è®ºï¼šMavenæ˜¯ä¸€æ¬¾ç®¡ç†å’Œæ„å»ºjavaé¡¹ç›®çš„å·¥å…·\n02. Mavenæ¦‚è¿° 2.1 Mavenä»‹ç» Apache Mavenæ˜¯ä¸€ä¸ªé¡¹ç›®ç®¡ç†å’Œæ„å»ºå·¥å…·ï¼Œå®ƒåŸºäºé¡¹ç›®å¯¹è±¡æ¨¡å‹(Project Object Model , ç®€ç§°: POM)çš„æ¦‚å¿µï¼Œé€šè¿‡ä¸€å°æ®µæè¿°ä¿¡æ¯æ¥ç®¡ç†é¡¹ç›®çš„æ„å»ºã€æŠ¥å‘Šå’Œæ–‡æ¡£ã€‚\nå®˜ç½‘ï¼šhttps://maven.apache.org/\nMavençš„ä½œç”¨ï¼š\næ–¹ä¾¿çš„ä¾èµ–ç®¡ç† ç»Ÿä¸€çš„é¡¹ç›®ç»“æ„ æ ‡å‡†çš„é¡¹ç›®æ„å»ºæµç¨‹ 2.2 Mavenæ¨¡å‹ é¡¹ç›®å¯¹è±¡æ¨¡å‹ (Project Object Model) ä¾èµ–ç®¡ç†æ¨¡å‹(Dependency) æ„å»ºç”Ÿå‘½å‘¨æœŸ/é˜¶æ®µ(Build lifecycle \u0026amp; phases) 1). æ„å»ºç”Ÿå‘½å‘¨æœŸ/é˜¶æ®µ(Build lifecycle \u0026amp; phases)\nä»¥ä¸Šå›¾ä¸­ç´«è‰²æ¡†èµ·æ¥çš„éƒ¨åˆ†ï¼Œå°±æ˜¯ç”¨æ¥å®Œæˆæ ‡å‡†åŒ–æ„å»ºæµç¨‹ ã€‚å½“æˆ‘ä»¬éœ€è¦ç¼–è¯‘ï¼ŒMavenæä¾›äº†ä¸€ä¸ªç¼–è¯‘æ’ä»¶ä¾›æˆ‘ä»¬ä½¿ç”¨ï¼›å½“æˆ‘ä»¬éœ€è¦æ‰“åŒ…ï¼ŒMavenå°±æä¾›äº†ä¸€ä¸ªæ‰“åŒ…æ’ä»¶ä¾›æˆ‘ä»¬ä½¿ç”¨ç­‰ã€‚\n2). é¡¹ç›®å¯¹è±¡æ¨¡å‹ (Project Object Model)\nä»¥ä¸Šå›¾ä¸­ç´«è‰²æ¡†èµ·æ¥çš„éƒ¨åˆ†å±äºé¡¹ç›®å¯¹è±¡æ¨¡å‹ï¼Œå°±æ˜¯å°†æˆ‘ä»¬è‡ªå·±çš„é¡¹ç›®æŠ½è±¡æˆä¸€ä¸ªå¯¹è±¡æ¨¡å‹ï¼Œæœ‰è‡ªå·±ä¸“å±çš„åæ ‡ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºæ˜¯ä¸€ä¸ªMavené¡¹ç›®ï¼š\nåæ ‡ï¼Œå°±æ˜¯èµ„æº(jaråŒ…)çš„å”¯ä¸€æ ‡è¯†ï¼Œé€šè¿‡åæ ‡å¯ä»¥å®šä½åˆ°æ‰€éœ€èµ„æº(jaråŒ…)ä½ç½®\n3). ä¾èµ–ç®¡ç†æ¨¡å‹(Dependency)\nä»¥ä¸Šå›¾ä¸­ç´«è‰²æ¡†èµ·æ¥çš„éƒ¨åˆ†å±äºä¾èµ–ç®¡ç†æ¨¡å‹ï¼Œæ˜¯ä½¿ç”¨åæ ‡æ¥æè¿°å½“å‰é¡¹ç›®ä¾èµ–å“ªäº›ç¬¬ä¸‰æ–¹jaråŒ…\nä¹‹å‰æˆ‘ä»¬é¡¹ç›®ä¸­éœ€è¦jaråŒ…æ—¶ï¼Œç›´æ¥å°±æŠŠjaråŒ…å¤åˆ¶åˆ°é¡¹ç›®ä¸‹çš„libç›®å½•ï¼Œè€Œç°åœ¨ä¹¦å†™åœ¨pom.xmlæ–‡ä»¶ä¸­çš„åæ ‡åˆæ˜¯æ€ä¹ˆèƒ½æ‰¾åˆ°æ‰€è¦çš„jaråŒ…æ–‡ä»¶çš„å‘¢ï¼Ÿ\nç­”æ¡ˆï¼šMavenä»“åº“\n2.3 Mavenä»“åº“ ä»“åº“ï¼šç”¨äºå­˜å‚¨èµ„æºï¼Œç®¡ç†å„ç§jaråŒ…\nä»“åº“çš„æœ¬è´¨å°±æ˜¯ä¸€ä¸ªç›®å½•(æ–‡ä»¶å¤¹)ï¼Œè¿™ä¸ªç›®å½•è¢«ç”¨æ¥å­˜å‚¨å¼€å‘ä¸­æ‰€æœ‰ä¾èµ–(å°±æ˜¯jaråŒ…)å’Œæ’ä»¶\nMavenä»“åº“åˆ†ä¸ºï¼š\næœ¬åœ°ä»“åº“ï¼šè‡ªå·±è®¡ç®—æœºä¸Šçš„ä¸€ä¸ªç›®å½•(ç”¨æ¥å­˜å‚¨jaråŒ…) ä¸­å¤®ä»“åº“ï¼šç”±Mavenå›¢é˜Ÿç»´æŠ¤çš„å…¨çƒå”¯ä¸€çš„ã€‚ä»“åº“åœ°å€ï¼šhttps://repo1.maven.org/maven2/ è¿œç¨‹ä»“åº“(ç§æœ)ï¼šä¸€èˆ¬ç”±å…¬å¸å›¢é˜Ÿæ­å»ºçš„ç§æœ‰ä»“åº“ å½“é¡¹ç›®ä¸­ä½¿ç”¨åæ ‡å¼•å…¥å¯¹åº”ä¾èµ–jaråŒ…åï¼Œé¦–å…ˆä¼šæŸ¥æ‰¾æœ¬åœ°ä»“åº“ä¸­æ˜¯å¦æœ‰å¯¹åº”çš„jaråŒ…\nå¦‚æœæœ‰ï¼Œåˆ™åœ¨é¡¹ç›®ç›´æ¥å¼•ç”¨\nå¦‚æœæ²¡æœ‰ï¼Œåˆ™å»ä¸­å¤®ä»“åº“ä¸­ä¸‹è½½å¯¹åº”çš„jaråŒ…åˆ°æœ¬åœ°ä»“åº“\nå¦‚æœè¿˜å¯ä»¥æ­å»ºè¿œç¨‹ä»“åº“(ç§æœ)ï¼Œå°†æ¥jaråŒ…çš„æŸ¥æ‰¾é¡ºåºåˆ™å˜ä¸ºï¼š æœ¬åœ°ä»“åº“ \u0026ndash;\u0026gt; è¿œç¨‹ä»“åº“\u0026ndash;\u0026gt; ä¸­å¤®ä»“åº“\n2.4 Mavenå®‰è£… è®¤è¯†äº†Mavenåï¼Œæˆ‘ä»¬å°±è¦å¼€å§‹ä½¿ç”¨Mavenäº†ï¼Œé‚£ä¹ˆé¦–å…ˆæˆ‘ä»¬è¦è¿›è¡ŒMavençš„ä¸‹è½½ä¸å®‰è£…ã€‚\n2.4.1 ä¸‹è½½ ä¸‹è½½åœ°å€ï¼šhttps://maven.apache.org/download.cgi\nåœ¨æä¾›çš„èµ„æ–™ä¸­ï¼Œå·²ç»æä¾›äº†ä¸‹è½½å¥½çš„å®‰è£…åŒ…ã€‚å¦‚ä¸‹ï¼š\n2.4.2 å®‰è£…æ­¥éª¤ Mavenå®‰è£…é…ç½®æ­¥éª¤ï¼š\nè§£å‹å®‰è£… é…ç½®ä»“åº“ é…ç½®Mavenç¯å¢ƒå˜é‡ 1ã€è§£å‹ apache-maven-3.6.1-bin.zipï¼ˆè§£å‹å³å®‰è£…ï¼‰\nå»ºè®®è§£å‹åˆ°æ²¡æœ‰ä¸­æ–‡ã€ç‰¹æ®Šå­—ç¬¦çš„è·¯å¾„ä¸‹ã€‚å¦‚è¯¾ç¨‹ä¸­è§£å‹åˆ° E:\\develop ä¸‹ã€‚\nè§£å‹ç¼©åçš„ç›®å½•ç»“æ„å¦‚ä¸‹ï¼š\nbinç›®å½• ï¼š å­˜æ”¾çš„æ˜¯å¯æ‰§è¡Œå‘½ä»¤ã€‚ï¼ˆmvn å‘½ä»¤é‡ç‚¹å…³æ³¨ï¼‰ confç›®å½• ï¼šå­˜æ”¾Mavençš„é…ç½®æ–‡ä»¶ã€‚ï¼ˆsettings.xmlé…ç½®æ–‡ä»¶åæœŸéœ€è¦ä¿®æ”¹ï¼‰ libç›®å½• ï¼šå­˜æ”¾Mavenä¾èµ–çš„jaråŒ…ã€‚ï¼ˆMavenä¹Ÿæ˜¯ä½¿ç”¨javaå¼€å‘çš„ï¼Œæ‰€ä»¥å®ƒä¹Ÿä¾èµ–å…¶ä»–çš„jaråŒ…ï¼‰ 2ã€é…ç½®æœ¬åœ°ä»“åº“\n2.1ã€åœ¨è‡ªå·±è®¡ç®—æœºä¸Šæ–°ä¸€ä¸ªç›®å½•ï¼ˆæœ¬åœ°ä»“åº“ï¼Œç”¨æ¥å­˜å‚¨jaråŒ…ï¼‰\n2.2ã€è¿›å…¥åˆ°confç›®å½•ä¸‹ä¿®æ”¹settings.xmlé…ç½®æ–‡ä»¶\n1). ä½¿ç”¨è¶…çº§è®°äº‹æœ¬è½¯ä»¶ï¼Œæ‰“å¼€settings.xmlæ–‡ä»¶ï¼Œå®šä½åˆ°53è¡Œ\n2). å¤åˆ¶æ ‡ç­¾ï¼Œç²˜è´´åˆ°æ³¨é‡Šçš„å¤–é¢ï¼ˆ55è¡Œï¼‰\n3). å¤åˆ¶ä¹‹å‰æ–°å»ºçš„ç”¨æ¥å­˜å‚¨jaråŒ…çš„è·¯å¾„ï¼Œæ›¿æ¢æ‰æ ‡ç­¾ä½“å†…å®¹\n3ã€é…ç½®é˜¿é‡Œäº‘ç§æœ\nç”±äºä¸­å¤®ä»“åº“åœ¨å›½å¤–ï¼Œæ‰€ä»¥ä¸‹è½½jaråŒ…é€Ÿåº¦å¯èƒ½æ¯”è¾ƒæ…¢ï¼Œè€Œé˜¿é‡Œå…¬å¸æä¾›äº†ä¸€ä¸ªè¿œç¨‹ä»“åº“ï¼Œé‡Œé¢åŸºæœ¬ä¹Ÿéƒ½æœ‰å¼€æºé¡¹ç›®çš„jaråŒ…ã€‚\nè¿›å…¥åˆ°confç›®å½•ä¸‹ä¿®æ”¹settings.xmlé…ç½®æ–‡ä»¶ï¼š\n1). ä½¿ç”¨è¶…çº§è®°äº‹æœ¬è½¯ä»¶ï¼Œæ‰“å¼€settings.xmlæ–‡ä»¶ï¼Œå®šä½åˆ°160è¡Œå·¦å³\n2). åœ¨æ ‡ç­¾ä¸‹ä¸ºå…¶æ·»åŠ å­æ ‡ç­¾ï¼Œå†…å®¹å¦‚ä¸‹ï¼š\n1 2 3 4 5 6 \u0026lt;mirror\u0026gt; \u0026lt;id\u0026gt;alimaven\u0026lt;/id\u0026gt; \u0026lt;name\u0026gt;aliyun maven\u0026lt;/name\u0026gt; \u0026lt;url\u0026gt;http://maven.aliyun.com/nexus/content/groups/public/\u0026lt;/url\u0026gt; \u0026lt;mirrorOf\u0026gt;central\u0026lt;/mirrorOf\u0026gt; \u0026lt;/mirror\u0026gt; æ³¨æ„é…ç½®çš„ä½ç½®ï¼Œåœ¨ \u0026hellip; ä¸­é—´æ·»åŠ é…ç½®ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š\n==æ³¨: åªå¯é…ç½®ä¸€ä¸ª(å¦ä¸€ä¸ªè¦æ³¨é‡Š!) ï¼Œä¸ç„¶ä¸¤ä¸ªå¯èƒ½å‘ç”Ÿå†²çªï¼Œå¯¼è‡´jaråŒ…æ— æ³•ä¸‹è½½!!!!!!!==\n4ã€é…ç½®ç¯å¢ƒå˜é‡\nMavenç¯å¢ƒå˜é‡çš„é…ç½®ç±»ä¼¼äºJDKç¯å¢ƒå˜é‡é…ç½®ä¸€æ ·\n1). åœ¨ç³»ç»Ÿå˜é‡å¤„æ–°å»ºä¸€ä¸ªå˜é‡MAVEN_HOME\nMAVEN_HOMEç¯å¢ƒå˜é‡çš„å€¼ï¼Œè®¾ç½®ä¸ºmavençš„è§£å‹å®‰è£…ç›®å½• 2). åœ¨Pathä¸­è¿›è¡Œé…ç½®\nPATHç¯å¢ƒå˜é‡çš„å€¼ï¼Œè®¾ç½®ä¸ºï¼š%MAVEN_HOME%\\bin 3). æ‰“å¼€DOSå‘½ä»¤æç¤ºç¬¦è¿›è¡ŒéªŒè¯ï¼Œå‡ºç°å¦‚å›¾æ‰€ç¤ºè¡¨ç¤ºå®‰è£…æˆåŠŸ\n1 mvn -v 03. IDEAé›†æˆMaven æˆ‘ä»¬è¦æƒ³åœ¨IDEAä¸­ä½¿ç”¨Mavenè¿›è¡Œé¡¹ç›®æ„å»ºï¼Œå°±éœ€è¦åœ¨IDEAä¸­é›†æˆMaven\n3.1 é…ç½®Mavenç¯å¢ƒ 3.1.1 å½“å‰å·¥ç¨‹è®¾ç½® 1ã€é€‰æ‹© IDEAä¸­ File =\u0026gt; Settings =\u0026gt; Build,Execution,Deployment =\u0026gt; Build Tools =\u0026gt; Maven\n2ã€è®¾ç½®IDEAä½¿ç”¨æœ¬åœ°å®‰è£…çš„Mavenï¼Œå¹¶ä¿®æ”¹é…ç½®æ–‡ä»¶åŠæœ¬åœ°ä»“åº“è·¯å¾„\nMaven home path ï¼šæŒ‡å®šå½“å‰Mavençš„å®‰è£…ç›®å½•\nUser settings file ï¼šæŒ‡å®šå½“å‰Mavençš„settings.xmlé…ç½®æ–‡ä»¶çš„å­˜æ”¾è·¯å¾„\nLocal repository ï¼šæŒ‡å®šMavençš„æœ¬åœ°ä»“åº“çš„è·¯å¾„ (å¦‚æœæŒ‡å®šäº†settings.xml, è¿™ä¸ªç›®å½•ä¼šè‡ªåŠ¨è¯»å–å‡ºæ¥, å¯ä»¥ä¸ç”¨æ‰‹åŠ¨æŒ‡å®š)\n3ã€é…ç½®å·¥ç¨‹çš„ç¼–è¯‘ç‰ˆæœ¬ä¸º11\nMavené»˜è®¤ä½¿ç”¨çš„ç¼–è¯‘ç‰ˆæœ¬ä¸º5ï¼ˆç‰ˆæœ¬è¿‡ä½ï¼‰ ä¸Šè¿°é…ç½®çš„mavenç¯å¢ƒï¼Œåªæ˜¯é’ˆå¯¹äºå½“å‰å·¥ç¨‹çš„ï¼Œå¦‚æœæˆ‘ä»¬å†åˆ›å»ºä¸€ä¸ªprojectï¼Œåˆæ¢å¤æˆé»˜è®¤çš„é…ç½®äº†ã€‚ è¦è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œ æˆ‘ä»¬å°±éœ€è¦é…ç½®å…¨å±€çš„mavenç¯å¢ƒã€‚\n3.1.2 å…¨å±€è®¾ç½® 1ã€è¿›å…¥åˆ°IDEAæ¬¢è¿é¡µé¢\né€‰æ‹© IDEAä¸­ File =\u0026gt; close project 2ã€æ‰“å¼€ All settings , é€‰æ‹© Build,Execution,Deployment =\u0026gt; Build Tools =\u0026gt; Maven\n3ã€é…ç½®å·¥ç¨‹çš„ç¼–è¯‘ç‰ˆæœ¬ä¸º11\nè¿™é‡Œæ‰€è®¾ç½®çš„mavençš„ç¯å¢ƒä¿¡æ¯ï¼Œå¹¶æœªæŒ‡å®šä»»ä½•ä¸€ä¸ªprojectï¼Œæ­¤æ—¶è®¾ç½®çš„ä¿¡æ¯å°±å±äºå…¨å±€é…ç½®ä¿¡æ¯ã€‚ ä»¥åï¼Œæˆ‘ä»¬å†åˆ›å»ºprojectï¼Œé»˜è®¤å°±æ˜¯ä½¿ç”¨æˆ‘ä»¬å…¨å±€é…ç½®çš„ä¿¡æ¯ã€‚\n3.2 Mavené¡¹ç›® 3.2.1 åˆ›å»ºMavené¡¹ç›® 1ã€åˆ›å»ºä¸€ä¸ªç©ºé¡¹ç›®\n2ã€åˆ›å»ºæ¨¡å—ï¼Œé€‰æ‹©Mavenï¼Œç‚¹å‡»Next\n3ã€å¡«å†™æ¨¡å—åç§°ï¼Œåæ ‡ä¿¡æ¯ï¼Œç‚¹å‡»finishï¼Œåˆ›å»ºå®Œæˆ\n4ã€åœ¨Mavenå·¥ç¨‹ä¸‹ï¼Œåˆ›å»ºHelloWorldç±»\nMavené¡¹ç›®çš„ç›®å½•ç»“æ„:\nmaven-project01 |\u0026mdash; src (æºä»£ç ç›®å½•å’Œæµ‹è¯•ä»£ç ç›®å½•) |\u0026mdash; main (æºä»£ç ç›®å½•) |\u0026mdash; java (æºä»£ç javaæ–‡ä»¶ç›®å½•) |\u0026mdash; resources (æºä»£ç é…ç½®æ–‡ä»¶ç›®å½•) |\u0026mdash; test (æµ‹è¯•ä»£ç ç›®å½•) |\u0026mdash; java (æµ‹è¯•ä»£ç javaç›®å½•) |\u0026mdash; resources (æµ‹è¯•ä»£ç é…ç½®æ–‡ä»¶ç›®å½•) |\u0026mdash; target (ç¼–è¯‘ã€æ‰“åŒ…ç”Ÿæˆæ–‡ä»¶å­˜æ”¾ç›®å½•)\n5ã€ç¼–å†™ HelloWorldï¼Œå¹¶è¿è¡Œ\n1 2 3 4 5 public class HelloWorld { public static void main(String[] args) { System.out.println(\u0026#34;Hello Maven ...\u0026#34;); } } 3.2.2 POMé…ç½®è¯¦è§£ POM (Project Object Model) ï¼šæŒ‡çš„æ˜¯é¡¹ç›®å¯¹è±¡æ¨¡å‹ï¼Œç”¨æ¥æè¿°å½“å‰çš„mavené¡¹ç›®ã€‚\nä½¿ç”¨pom.xmlæ–‡ä»¶æ¥å®ç° pom.xmlæ–‡ä»¶ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 \u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34;?\u0026gt; \u0026lt;project xmlns=\u0026#34;http://maven.apache.org/POM/4.0.0\u0026#34; xmlns:xsi=\u0026#34;http://www.w3.org/2001/XMLSchema-instance\u0026#34; xsi:schemaLocation=\u0026#34;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\u0026#34;\u0026gt; \u0026lt;!-- POMæ¨¡å‹ç‰ˆæœ¬ --\u0026gt; \u0026lt;modelVersion\u0026gt;4.0.0\u0026lt;/modelVersion\u0026gt; \u0026lt;!-- å½“å‰é¡¹ç›®åæ ‡ --\u0026gt; \u0026lt;groupId\u0026gt;com.itheima\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;maven_project1\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;1.0-SNAPSHOT\u0026lt;/version\u0026gt; \u0026lt;!-- æ‰“åŒ…æ–¹å¼ --\u0026gt; \u0026lt;packaging\u0026gt;jar\u0026lt;/packaging\u0026gt; \u0026lt;/project\u0026gt; pomæ–‡ä»¶è¯¦è§£ï¼š\nï¼špomæ–‡ä»¶çš„æ ¹æ ‡ç­¾ï¼Œè¡¨ç¤ºå½“å‰mavené¡¹ç›® ï¼šå£°æ˜é¡¹ç›®æè¿°éµå¾ªå“ªä¸€ä¸ªPOMæ¨¡å‹ç‰ˆæœ¬ è™½ç„¶æ¨¡å‹æœ¬èº«çš„ç‰ˆæœ¬å¾ˆå°‘æ”¹å˜ï¼Œä½†å®ƒä»ç„¶æ˜¯å¿…ä¸å¯å°‘çš„ã€‚ç›®å‰POMæ¨¡å‹ç‰ˆæœ¬æ˜¯4.0.0 åæ ‡ ï¼šã€ã€ å®šä½é¡¹ç›®åœ¨æœ¬åœ°ä»“åº“ä¸­çš„ä½ç½®ï¼Œç”±ä»¥ä¸Šä¸‰ä¸ªæ ‡ç­¾ç»„æˆä¸€ä¸ªåæ ‡ ï¼šmavené¡¹ç›®çš„æ‰“åŒ…æ–¹å¼ï¼Œé€šå¸¸è®¾ç½®ä¸ºjaræˆ–warï¼ˆé»˜è®¤å€¼ï¼šjarï¼‰ 3.2.3 Mavenåæ ‡è¯¦è§£ ä»€ä¹ˆæ˜¯åæ ‡ï¼Ÿ\nMavenä¸­çš„åæ ‡æ˜¯==èµ„æºçš„å”¯ä¸€æ ‡è¯†== , é€šè¿‡è¯¥åæ ‡å¯ä»¥å”¯ä¸€å®šä½èµ„æºä½ç½® ä½¿ç”¨åæ ‡æ¥å®šä¹‰é¡¹ç›®æˆ–å¼•å…¥é¡¹ç›®ä¸­éœ€è¦çš„ä¾èµ– Mavenåæ ‡ä¸»è¦ç»„æˆ\ngroupIdï¼šå®šä¹‰å½“å‰Mavené¡¹ç›®éš¶å±ç»„ç»‡åç§°ï¼ˆé€šå¸¸æ˜¯åŸŸååå†™ï¼Œä¾‹å¦‚ï¼šcom.itheimaï¼‰ artifactIdï¼šå®šä¹‰å½“å‰Mavené¡¹ç›®åç§°ï¼ˆé€šå¸¸æ˜¯æ¨¡å—åç§°ï¼Œä¾‹å¦‚ order-serviceã€goods-serviceï¼‰ versionï¼šå®šä¹‰å½“å‰é¡¹ç›®ç‰ˆæœ¬å· å¦‚ä¸‹å›¾å°±æ˜¯ä½¿ç”¨åæ ‡è¡¨ç¤ºä¸€ä¸ªé¡¹ç›®ï¼š\næ³¨æ„ï¼š\nä¸Šé¢æ‰€è¯´çš„èµ„æºå¯ä»¥æ˜¯æ’ä»¶ã€ä¾èµ–ã€å½“å‰é¡¹ç›®ã€‚ æˆ‘ä»¬çš„é¡¹ç›®å¦‚æœè¢«å…¶ä»–çš„é¡¹ç›®ä¾èµ–æ—¶ï¼Œä¹Ÿæ˜¯éœ€è¦åæ ‡æ¥å¼•å…¥çš„ã€‚ 3.3 å¯¼å…¥Mavené¡¹ç›® æ–¹å¼1ï¼šä½¿ç”¨Mavené¢æ¿ï¼Œå¿«é€Ÿå¯¼å…¥é¡¹ç›® æ‰“å¼€IDEAï¼Œé€‰æ‹©å³ä¾§Mavené¢æ¿ï¼Œç‚¹å‡» + å·ï¼Œé€‰ä¸­å¯¹åº”é¡¹ç›®çš„pom.xmlæ–‡ä»¶ï¼ŒåŒå‡»å³å¯\nè¯´æ˜ï¼šå¦‚æœæ²¡æœ‰Mavené¢æ¿ï¼Œé€‰æ‹© View =\u0026gt; Appearance =\u0026gt; Tool Window Bars\næ–¹å¼2ï¼šä½¿ç”¨ideaå¯¼å…¥æ¨¡å—é¡¹ç›® File =\u0026gt; Project Structure =\u0026gt; Modules =\u0026gt; + =\u0026gt; Import Module\næ‰¾åˆ°è¦å¯¼å…¥å·¥ç¨‹çš„pom.xml\n04. ä¾èµ–ç®¡ç† 4.1 ä¾èµ–é…ç½® ä¾èµ–ï¼šæŒ‡å½“å‰é¡¹ç›®è¿è¡Œæ‰€éœ€è¦çš„jaråŒ…ã€‚ä¸€ä¸ªé¡¹ç›®ä¸­å¯ä»¥å¼•å…¥å¤šä¸ªä¾èµ–ï¼š\nä¾‹å¦‚ï¼šåœ¨å½“å‰å·¥ç¨‹ä¸­ï¼Œæˆ‘ä»¬éœ€è¦ç”¨åˆ°logbackæ¥è®°å½•æ—¥å¿—ï¼Œæ­¤æ—¶å°±å¯ä»¥åœ¨mavenå·¥ç¨‹çš„pom.xmlæ–‡ä»¶ä¸­ï¼Œå¼•å…¥logbackçš„ä¾èµ–ã€‚å…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š\nåœ¨pom.xmlä¸­ç¼–å†™æ ‡ç­¾\nåœ¨æ ‡ç­¾ä¸­ä½¿ç”¨å¼•å…¥åæ ‡\nå®šä¹‰åæ ‡çš„ groupIdã€artifactIdã€version\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 \u0026lt;dependencies\u0026gt; \u0026lt;!-- ç¬¬1ä¸ªä¾èµ– : logback --\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;ch.qos.logback\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;logback-classic\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;1.2.11\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;!-- ç¬¬2ä¸ªä¾èµ– : junit --\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;junit\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;junit\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;4.12\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;/dependencies\u0026gt; ç‚¹å‡»åˆ·æ–°æŒ‰é’®ï¼Œå¼•å…¥æœ€æ–°åŠ å…¥çš„åæ ‡ åˆ·æ–°ä¾èµ–ï¼šä¿è¯æ¯ä¸€æ¬¡å¼•å…¥æ–°çš„ä¾èµ–ï¼Œæˆ–è€…ä¿®æ”¹ç°æœ‰çš„ä¾èµ–é…ç½®ï¼Œéƒ½å¯ä»¥åŠ å…¥æœ€æ–°çš„åæ ‡ æ³¨æ„äº‹é¡¹ï¼š\nå¦‚æœå¼•å…¥çš„ä¾èµ–ï¼Œåœ¨æœ¬åœ°ä»“åº“ä¸­ä¸å­˜åœ¨ï¼Œå°†ä¼šè¿æ¥è¿œç¨‹ä»“åº“ / ä¸­å¤®ä»“åº“ï¼Œç„¶åä¸‹è½½ä¾èµ–ï¼ˆè¿™ä¸ªè¿‡ç¨‹ä¼šæ¯”è¾ƒè€—æ—¶ï¼Œè€å¿ƒç­‰å¾…ï¼‰ å¦‚æœä¸çŸ¥é“ä¾èµ–çš„åæ ‡ä¿¡æ¯ï¼Œå¯ä»¥åˆ°mvnçš„ä¸­å¤®ä»“åº“ï¼ˆhttps://mvnrepository.com/ï¼‰ä¸­æœç´¢ æ·»åŠ ä¾èµ–çš„å‡ ç§æ–¹å¼ï¼š\nåˆ©ç”¨ä¸­å¤®ä»“åº“æœç´¢çš„ä¾èµ–åæ ‡\nåˆ©ç”¨IDEAå·¥å…·æœç´¢ä¾èµ–\nç†Ÿç»ƒä¸Šæ‰‹mavenåï¼Œå¿«é€Ÿå¯¼å…¥ä¾èµ–\n4.2 ä¾èµ–ä¼ é€’ 4.2.1 ä¾èµ–å…·æœ‰ä¼ é€’æ€§ æ—©æœŸæˆ‘ä»¬æ²¡æœ‰ä½¿ç”¨mavenæ—¶ï¼Œå‘é¡¹ç›®ä¸­æ·»åŠ ä¾èµ–çš„jaråŒ…ï¼Œéœ€è¦æŠŠæ‰€æœ‰çš„jaråŒ…éƒ½å¤åˆ¶åˆ°é¡¹ç›®å·¥ç¨‹ä¸‹ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œéœ€è¦logback-classicæ—¶ï¼Œç”±äºlogback-classicåˆä¾èµ–äº†logback-coreå’Œslf4jï¼Œæ‰€ä»¥å¿…é¡»æŠŠè¿™3ä¸ªjaråŒ…å…¨éƒ¨å¤åˆ¶åˆ°é¡¹ç›®å·¥ç¨‹ä¸‹\næˆ‘ä»¬ç°åœ¨ä½¿ç”¨äº†mavenï¼Œå½“é¡¹ç›®ä¸­éœ€è¦ä½¿ç”¨logback-classicæ—¶ï¼Œåªéœ€è¦åœ¨pom.xmlé…ç½®æ–‡ä»¶ä¸­ï¼Œæ·»åŠ logback-classicçš„ä¾èµ–åæ ‡å³å¯ã€‚\nåœ¨pom.xmlæ–‡ä»¶ä¸­åªæ·»åŠ äº†logback-classicä¾èµ–ï¼Œä½†ç”±äºmavençš„ä¾èµ–å…·æœ‰ä¼ é€’æ€§ï¼Œæ‰€ä»¥ä¼šè‡ªåŠ¨æŠŠæ‰€ä¾èµ–çš„å…¶ä»–jaråŒ…ä¹Ÿä¸€èµ·å¯¼å…¥ã€‚\nä¾èµ–ä¼ é€’å¯ä»¥åˆ†ä¸ºï¼š\nç›´æ¥ä¾èµ–ï¼šåœ¨å½“å‰é¡¹ç›®ä¸­é€šè¿‡ä¾èµ–é…ç½®å»ºç«‹çš„ä¾èµ–å…³ç³»\né—´æ¥ä¾èµ–ï¼šè¢«ä¾èµ–çš„èµ„æºå¦‚æœä¾èµ–å…¶ä»–èµ„æºï¼Œå½“å‰é¡¹ç›®é—´æ¥ä¾èµ–å…¶ä»–èµ„æº\næ¯”å¦‚ä»¥ä¸Šå›¾ä¸­ï¼š\nprojectAä¾èµ–äº†projectBã€‚å¯¹äºprojectA æ¥è¯´ï¼ŒprojectB å°±æ˜¯ç›´æ¥ä¾èµ–ã€‚ è€ŒprojectBä¾èµ–äº†projectCåŠå…¶ä»–jaråŒ…ã€‚ é‚£ä¹ˆæ­¤æ—¶ï¼Œåœ¨projectAä¸­ä¹Ÿä¼šå°†projectCçš„ä¾èµ–ä¼ é€’ä¸‹æ¥ã€‚å¯¹äºprojectA æ¥è¯´ï¼ŒprojectCå°±æ˜¯é—´æ¥ä¾èµ–ã€‚ 4.2.2 æ’é™¤ä¾èµ– é—®é¢˜ï¼šä¹‹å‰æˆ‘ä»¬è®²äº†ä¾èµ–å…·æœ‰ä¼ é€’æ€§ã€‚é‚£ä¹ˆAä¾èµ–Bï¼ŒBä¾èµ–Cï¼Œå¦‚æœAä¸æƒ³å°†Cä¾èµ–è¿›æ¥ï¼Œæ˜¯å¦å¯ä»¥åšåˆ°ï¼Ÿ\nç­”æ¡ˆï¼šåœ¨mavené¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æ’é™¤ä¾èµ–æ¥å®ç°ã€‚\nä»€ä¹ˆæ˜¯æ’é™¤ä¾èµ–ï¼Ÿ\næ’é™¤ä¾èµ–ï¼šæŒ‡ä¸»åŠ¨æ–­å¼€ä¾èµ–çš„èµ„æºã€‚ï¼ˆè¢«æ’é™¤çš„èµ„æºæ— éœ€æŒ‡å®šç‰ˆæœ¬ï¼‰ 1 2 3 4 5 6 7 8 9 10 11 12 13 \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;com.itheima\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;maven-projectB\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;1.0-SNAPSHOT\u0026lt;/version\u0026gt; \u0026lt;!--æ’é™¤ä¾èµ–, ä¸»åŠ¨æ–­å¼€ä¾èµ–çš„èµ„æº--\u0026gt; \u0026lt;exclusions\u0026gt; \u0026lt;exclusion\u0026gt; \u0026lt;groupId\u0026gt;junit\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;junit\u0026lt;/artifactId\u0026gt; \u0026lt;/exclusion\u0026gt; \u0026lt;/exclusions\u0026gt; \u0026lt;/dependency\u0026gt; ä¾èµ–æ’é™¤ç¤ºä¾‹ï¼š\nmaven-projectAä¾èµ–äº†maven-projectBï¼Œmaven-projectBä¾èµ–äº†Junitã€‚åŸºäºä¾èµ–çš„ä¼ é€’æ€§ï¼Œæ‰€ä»¥maven-projectAä¹Ÿä¾èµ–äº†Junit ä½¿ç”¨æ’é™¤ä¾èµ–å 4.3 ä¾èµ–èŒƒå›´ åœ¨é¡¹ç›®ä¸­å¯¼å…¥ä¾èµ–çš„jaråŒ…åï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œå¯ä»¥åœ¨ä»»ä½•åœ°æ–¹ä½¿ç”¨ã€‚\nå¦‚æœå¸Œæœ›é™åˆ¶ä¾èµ–çš„ä½¿ç”¨èŒƒå›´ï¼Œå¯ä»¥é€šè¿‡æ ‡ç­¾è®¾ç½®å…¶ä½œç”¨èŒƒå›´ã€‚\nä½œç”¨èŒƒå›´ï¼š\nä¸»ç¨‹åºèŒƒå›´æœ‰æ•ˆï¼ˆmainæ–‡ä»¶å¤¹èŒƒå›´å†…ï¼‰\næµ‹è¯•ç¨‹åºèŒƒå›´æœ‰æ•ˆï¼ˆtestæ–‡ä»¶å¤¹èŒƒå›´å†…ï¼‰\næ˜¯å¦å‚ä¸æ‰“åŒ…è¿è¡Œï¼ˆpackageæŒ‡ä»¤èŒƒå›´å†…ï¼‰\nå¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œç»™junitä¾èµ–é€šè¿‡scopeæ ‡ç­¾æŒ‡å®šä¾èµ–çš„ä½œç”¨èŒƒå›´ã€‚ é‚£ä¹ˆè¿™ä¸ªä¾èµ–å°±åªèƒ½ä½œç”¨åœ¨æµ‹è¯•ç¯å¢ƒï¼Œå…¶ä»–ç¯å¢ƒä¸‹ä¸èƒ½ä½¿ç”¨ã€‚\nscopeæ ‡ç­¾çš„å–å€¼èŒƒå›´ï¼š\nscopeå€¼ ä¸»ç¨‹åº æµ‹è¯•ç¨‹åº æ‰“åŒ…ï¼ˆè¿è¡Œï¼‰ èŒƒä¾‹ compileï¼ˆé»˜è®¤ï¼‰ Y Y Y log4j test - Y - junit provided Y Y - servlet-api runtime - Y Y jdbcé©±åŠ¨ 4.4 ç”Ÿå‘½å‘¨æœŸ 4.4.1 ä»‹ç» Mavençš„ç”Ÿå‘½å‘¨æœŸå°±æ˜¯ä¸ºäº†å¯¹æ‰€æœ‰çš„æ„å»ºè¿‡ç¨‹è¿›è¡ŒæŠ½è±¡å’Œç»Ÿä¸€ã€‚ æè¿°äº†ä¸€æ¬¡é¡¹ç›®æ„å»ºï¼Œç»å†å“ªäº›é˜¶æ®µã€‚\nåœ¨Mavenå‡ºç°ä¹‹å‰ï¼Œé¡¹ç›®æ„å»ºçš„ç”Ÿå‘½å‘¨æœŸå°±å·²ç»å­˜åœ¨ï¼Œè½¯ä»¶å¼€å‘äººå‘˜æ¯å¤©éƒ½åœ¨å¯¹é¡¹ç›®è¿›è¡Œæ¸…ç†ï¼Œç¼–è¯‘ï¼Œæµ‹è¯•åŠéƒ¨ç½²ã€‚è™½ç„¶å¤§å®¶éƒ½åœ¨ä¸åœåœ°åšæ„å»ºå·¥ä½œï¼Œä½†å…¬å¸å’Œå…¬å¸é—´ã€é¡¹ç›®å’Œé¡¹ç›®é—´ï¼Œå¾€å¾€ä½¿ç”¨ä¸åŒçš„æ–¹å¼åšç±»ä¼¼çš„å·¥ä½œã€‚\nMavenä»å¤§é‡é¡¹ç›®å’Œæ„å»ºå·¥å…·ä¸­å­¦ä¹ å’Œåæ€ï¼Œç„¶åæ€»ç»“äº†ä¸€å¥—é«˜åº¦å®Œç¾çš„ï¼Œæ˜“æ‰©å±•çš„é¡¹ç›®æ„å»ºç”Ÿå‘½å‘¨æœŸã€‚è¿™ä¸ªç”Ÿå‘½å‘¨æœŸåŒ…å«äº†é¡¹ç›®çš„æ¸…ç†ï¼Œåˆå§‹åŒ–ï¼Œç¼–è¯‘ï¼Œæµ‹è¯•ï¼Œæ‰“åŒ…ï¼Œé›†æˆæµ‹è¯•ï¼ŒéªŒè¯ï¼Œéƒ¨ç½²å’Œç«™ç‚¹ç”Ÿæˆç­‰å‡ ä¹æ‰€æœ‰æ„å»ºæ­¥éª¤ã€‚\nMavenå¯¹é¡¹ç›®æ„å»ºçš„ç”Ÿå‘½å‘¨æœŸåˆ’åˆ†ä¸º3å¥—ï¼ˆç›¸äº’ç‹¬ç«‹ï¼‰ï¼š\ncleanï¼šæ¸…ç†å·¥ä½œã€‚\ndefaultï¼šæ ¸å¿ƒå·¥ä½œã€‚å¦‚ï¼šç¼–è¯‘ã€æµ‹è¯•ã€æ‰“åŒ…ã€å®‰è£…ã€éƒ¨ç½²ç­‰ã€‚\nsiteï¼šç”ŸæˆæŠ¥å‘Šã€å‘å¸ƒç«™ç‚¹ç­‰ã€‚\nä¸‰å¥—ç”Ÿå‘½å‘¨æœŸåˆåŒ…å«å“ªäº›å…·ä½“çš„é˜¶æ®µå‘¢, æˆ‘ä»¬æ¥çœ‹ä¸‹é¢è¿™å¹…å›¾:\næˆ‘ä»¬çœ‹åˆ°è¿™ä¸‰å¥—ç”Ÿå‘½å‘¨æœŸï¼Œé‡Œé¢æœ‰å¾ˆå¤šå¾ˆå¤šçš„é˜¶æ®µï¼Œè¿™ä¹ˆå¤šç”Ÿå‘½å‘¨æœŸé˜¶æ®µï¼Œå…¶å®æˆ‘ä»¬å¸¸ç”¨çš„å¹¶ä¸å¤šï¼Œä¸»è¦å…³æ³¨ä»¥ä¸‹å‡ ä¸ªï¼š\nâ€¢ cleanï¼šç§»é™¤ä¸Šä¸€æ¬¡æ„å»ºç”Ÿæˆçš„æ–‡ä»¶\nâ€¢ compileï¼šç¼–è¯‘é¡¹ç›®æºä»£ç \nâ€¢ testï¼šä½¿ç”¨åˆé€‚çš„å•å…ƒæµ‹è¯•æ¡†æ¶è¿è¡Œæµ‹è¯•(junit)\nâ€¢ packageï¼šå°†ç¼–è¯‘åçš„æ–‡ä»¶æ‰“åŒ…ï¼Œå¦‚ï¼šjarã€warç­‰\nâ€¢ installï¼šå®‰è£…é¡¹ç›®åˆ°æœ¬åœ°ä»“åº“\nMavençš„ç”Ÿå‘½å‘¨æœŸæ˜¯æŠ½è±¡çš„ï¼Œè¿™æ„å‘³ç€ç”Ÿå‘½å‘¨æœŸæœ¬èº«ä¸åšä»»ä½•å®é™…å·¥ä½œã€‚åœ¨Mavençš„è®¾è®¡ä¸­ï¼Œå®é™…ä»»åŠ¡ï¼ˆå¦‚æºä»£ç ç¼–è¯‘ï¼‰éƒ½äº¤ç”±æ’ä»¶æ¥å®Œæˆã€‚\nIDEAå·¥å…·ä¸ºäº†æ–¹ä¾¿ç¨‹åºå‘˜ä½¿ç”¨mavenç”Ÿå‘½å‘¨æœŸï¼Œåœ¨å³ä¾§çš„mavenå·¥å…·æ ä¸­ï¼Œå·²ç»™å‡ºå¿«é€Ÿè®¿é—®é€šé“\nç”Ÿå‘½å‘¨æœŸçš„é¡ºåºæ˜¯ï¼šclean \u0026ndash;\u0026gt; validate \u0026ndash;\u0026gt; compile \u0026ndash;\u0026gt; test \u0026ndash;\u0026gt; package \u0026ndash;\u0026gt; verify \u0026ndash;\u0026gt; install \u0026ndash;\u0026gt; site \u0026ndash;\u0026gt; deploy\næˆ‘ä»¬éœ€è¦å…³æ³¨çš„å°±æ˜¯ï¼šclean \u0026ndash;\u0026gt; compile \u0026ndash;\u0026gt; test \u0026ndash;\u0026gt; package \u0026ndash;\u0026gt; install\nè¯´æ˜ï¼šåœ¨åŒä¸€å¥—ç”Ÿå‘½å‘¨æœŸä¸­ï¼Œæˆ‘ä»¬åœ¨æ‰§è¡Œåé¢çš„ç”Ÿå‘½å‘¨æœŸæ—¶ï¼Œå‰é¢çš„ç”Ÿå‘½å‘¨æœŸéƒ½ä¼šæ‰§è¡Œã€‚\næ€è€ƒï¼šå½“è¿è¡Œpackageç”Ÿå‘½å‘¨æœŸæ—¶ï¼Œcleanã€compileç”Ÿå‘½å‘¨æœŸä¼šä¸ä¼šè¿è¡Œï¼Ÿ\nâ€‹\tcleanä¸ä¼šè¿è¡Œï¼Œcompileä¼šè¿è¡Œã€‚ å› ä¸ºcompileä¸packageå±äºåŒä¸€å¥—ç”Ÿå‘½å‘¨æœŸï¼Œè€Œcleanä¸packageä¸å±äºåŒä¸€å¥—ç”Ÿå‘½å‘¨æœŸã€‚\n4.4.2 æ‰§è¡Œ åœ¨æ—¥å¸¸å¼€å‘ä¸­ï¼Œå½“æˆ‘ä»¬è¦æ‰§è¡ŒæŒ‡å®šçš„ç”Ÿå‘½å‘¨æœŸæ—¶ï¼Œæœ‰ä¸¤ç§æ‰§è¡Œæ–¹å¼ï¼š\nåœ¨ideaå·¥å…·å³ä¾§çš„mavenå·¥å…·æ ä¸­ï¼Œé€‰æ‹©å¯¹åº”çš„ç”Ÿå‘½å‘¨æœŸï¼ŒåŒå‡»æ‰§è¡Œ åœ¨DOSå‘½ä»¤è¡Œä¸­ï¼Œé€šè¿‡mavenå‘½ä»¤æ‰§è¡Œ æ–¹å¼ä¸€ï¼šåœ¨ideaä¸­æ‰§è¡Œç”Ÿå‘½å‘¨æœŸ\né€‰æ‹©å¯¹åº”çš„ç”Ÿå‘½å‘¨æœŸï¼ŒåŒå‡»æ‰§è¡Œ compileï¼š\ntestï¼š\npackageï¼š\ninstallï¼š\ncleanï¼š\næ–¹å¼äºŒï¼šåœ¨å‘½ä»¤è¡Œä¸­æ‰§è¡Œç”Ÿå‘½å‘¨æœŸ\nè¿›å…¥åˆ°DOSå‘½ä»¤è¡Œ 05. é™„å½• 5.1 æ›´æ–°ä¾èµ–ç´¢å¼• æœ‰æ—¶å€™ç»™ideaé…ç½®å®Œmavenä»“åº“ä¿¡æ¯åï¼Œåœ¨ideaä¸­ä¾ç„¶æœç´¢ä¸åˆ°ä»“åº“ä¸­çš„jaråŒ…ã€‚è¿™æ˜¯å› ä¸ºä»“åº“ä¸­çš„jaråŒ…ç´¢å¼•å°šæœªæ›´æ–°åˆ°ideaä¸­ã€‚è¿™ä¸ªæ—¶å€™æˆ‘ä»¬å°±éœ€è¦æ›´æ–°ideaä¸­mavençš„ç´¢å¼•äº†ï¼Œå…·ä½“åšæ³•å¦‚ä¸‹ï¼š\næ‰“å¼€è®¾ç½®\u0026mdash;-æœç´¢maven\u0026mdash;-Repositories\u0026mdash;-é€‰ä¸­æœ¬åœ°ä»“åº“\u0026mdash;\u0026ndash;ç‚¹å‡»Update\n5.2 æ¸…ç†mavenä»“åº“ åˆå§‹æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬çš„æœ¬åœ°ä»“åº“æ˜¯æ²¡æœ‰ä»»ä½•jaråŒ…çš„ï¼Œæ­¤æ—¶ä¼šä»ç§æœå»ä¸‹è½½ï¼ˆå¦‚æœæ²¡æœ‰é…ç½®ï¼Œå°±ç›´æ¥ä»ä¸­å¤®ä»“åº“å»ä¸‹è½½ï¼‰ï¼Œå¯èƒ½ç”±äºç½‘ç»œçš„åŸå› ï¼ŒjaråŒ…ä¸‹è½½ä¸å®Œå…¨ï¼Œè¿™äº›ä¸å®Œæ•´çš„jaråŒ…éƒ½æ˜¯ä»¥lastUpdatedç»“å°¾ã€‚æ­¤æ—¶ï¼Œmavenä¸ä¼šå†é‡æ–°å¸®ä½ ä¸‹è½½ï¼Œéœ€è¦ä½ åˆ é™¤è¿™äº›ä»¥lastUpdatedç»“å°¾çš„æ–‡ä»¶ï¼Œç„¶åmavenæ‰ä¼šå†æ¬¡è‡ªåŠ¨ä¸‹è½½è¿™äº›jaråŒ…ã€‚\nå¦‚æœæœ¬åœ°ä»“åº“ä¸­æœ‰å¾ˆå¤šè¿™æ ·çš„ä»¥lastUpadtedç»“å°¾çš„æ–‡ä»¶ï¼Œå¯ä»¥å®šä¹‰ä¸€ä¸ªæ‰¹å¤„ç†æ–‡ä»¶ï¼Œåœ¨å…¶ä¸­ç¼–å†™å¦‚ä¸‹è„šæœ¬æ¥åˆ é™¤ï¼š\n1 2 3 4 5 6 7 set REPOSITORY_PATH=E:\\develop\\apache-maven-3.6.1\\mvn_repo rem æ­£åœ¨æœç´¢... del /s /q %REPOSITORY_PATH%\\*.lastUpdated rem æœç´¢å®Œæ¯• pause æ“ä½œæ­¥éª¤å¦‚ä¸‹ï¼š\n1). å®šä¹‰æ‰¹å¤„ç†æ–‡ä»¶del_lastUpdated.bat (ç›´æ¥åˆ›å»ºä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶ï¼Œå‘½åä¸ºdel_lastUpdatedï¼Œåç¼€åç›´æ¥æ”¹ä¸ºbatå³å¯ )\n2). åœ¨ä¸Šé¢çš„batæ–‡ä»¶ä¸Šå³é”®\u0026mdash;ã€‹ç¼–è¾‘ ã€‚ä¿®æ”¹æ–‡ä»¶ï¼š\nä¿®æ”¹å®Œæ¯•åï¼ŒåŒå‡»è¿è¡Œå³å¯åˆ é™¤mavenä»“åº“ä¸­çš„æ®‹ç•™æ–‡ä»¶ã€‚\n","date":"0001-01-01T00:00:00Z","permalink":"http://localhost:1313/p/","title":""},{"content":"Mavené«˜çº§ Webå¼€å‘è®²è§£å®Œæ¯•ä¹‹åï¼Œæˆ‘ä»¬å†æ¥å­¦ä¹ Mavené«˜çº§ã€‚å…¶å®åœ¨å‰é¢çš„è¯¾ç¨‹å½“ä¸­ï¼Œæˆ‘ä»¬å·²ç»å­¦ä¹ äº†Mavenã€‚\næˆ‘ä»¬è®²åˆ° Maven æ˜¯ä¸€æ¬¾æ„å»ºå’Œç®¡ç† Java é¡¹ç›®çš„å·¥å…·ã€‚ç»è¿‡å‰é¢ 10 å¤šå¤© web å¼€å‘çš„å­¦ä¹ ï¼Œç›¸ä¿¡å¤§å®¶å¯¹äº Maven è¿™æ¬¾å·¥å…·çš„åŸºæœ¬ä½¿ç”¨åº”è¯¥æ²¡ä»€ä¹ˆé—®é¢˜äº†ã€‚æˆ‘ä»¬æŒæ¡äº† Maven å·¥å…·çš„åŸºæœ¬ä½¿ç”¨ä¹‹åï¼Œå…¶å®å¯¹äºä¸€äº›ç®€å•çš„é¡¹ç›®çš„æ„å»ºåŠç®¡ç†åŸºæœ¬ä¸Šå°±æ²¡ä»€ä¹ˆé—®é¢˜äº†ã€‚\nä½†æ˜¯å¦‚æœæˆ‘ä»¬éœ€è¦å¼€å‘ä¸€äº›ä¸­å¤§å‹çš„é¡¹ç›®ï¼Œæ­¤æ—¶ä»…å‡­æˆ‘ä»¬å‰é¢æ‰€å­¦ä¹ çš„ Maven çš„åŸºç¡€çŸ¥è¯†å°±æ¯”è¾ƒéš¾ä»¥åº”å¯¹äº†ã€‚æ‰€ä»¥æˆ‘ä»¬æ¥ä¸‹æ¥è¿˜éœ€è¦å­¦ä¹  Maven æä¾›çš„ä¸€äº›é«˜çº§çš„åŠŸèƒ½ï¼Œè¿™äº›åŠŸèƒ½åœ¨æ„å»ºå’Œç®¡ç† Java é¡¹ç›®çš„æ—¶å€™ç”¨çš„ä¹Ÿæ˜¯éå¸¸å¤šçš„ã€‚\nMavené«˜çº§å†…å®¹åŒ…æ‹¬:\nåˆ†æ¨¡å—è®¾è®¡ä¸å¼€å‘ ç»§æ‰¿ä¸èšåˆ ç§æœ 1. åˆ†æ¨¡å—è®¾è®¡ä¸å¼€å‘ 1.1 ä»‹ç» æ‰€è°“åˆ†æ¨¡å—è®¾è®¡ï¼Œé¡¾åæ€ä¹‰æŒ‡çš„å°±æ˜¯æˆ‘ä»¬åœ¨è®¾è®¡ä¸€ä¸ª Java é¡¹ç›®çš„æ—¶å€™ï¼Œå°†ä¸€ä¸ª Java é¡¹ç›®æ‹†åˆ†æˆå¤šä¸ªæ¨¡å—è¿›è¡Œå¼€å‘ã€‚\n1). æœªåˆ†æ¨¡å—è®¾è®¡çš„é—®é¢˜\nå¦‚æœé¡¹ç›®ä¸åˆ†æ¨¡å—ï¼Œä¹Ÿå°±æ„å‘³ç€æ‰€æœ‰çš„ä¸šåŠ¡ä»£ç æ˜¯ä¸æ˜¯éƒ½å†™åœ¨è¿™ä¸€ä¸ª Java é¡¹ç›®å½“ä¸­ã€‚éšç€è¿™ä¸ªé¡¹ç›®çš„ä¸šåŠ¡æ‰©å¼ ï¼Œé¡¹ç›®å½“ä¸­çš„ä¸šåŠ¡åŠŸèƒ½å¯èƒ½ä¼šè¶Šæ¥è¶Šå¤šã€‚\nå‡å¦‚æˆ‘ä»¬å¼€å‘çš„æ˜¯ä¸€ä¸ªå¤§å‹çš„ç”µå•†é¡¹ç›®ï¼Œé‡Œé¢å¯èƒ½å°±åŒ…æ‹¬äº†å•†å“æ¨¡å—çš„åŠŸèƒ½ã€æœç´¢æ¨¡å—çš„åŠŸèƒ½ã€è´­ç‰©è½¦æ¨¡å—ã€è®¢å•æ¨¡å—ã€ç”¨æˆ·ä¸­å¿ƒç­‰ç­‰ã€‚è¿™äº›æ‰€æœ‰çš„ä¸šåŠ¡ä»£ç æˆ‘ä»¬éƒ½åœ¨ä¸€ä¸ª Java é¡¹ç›®å½“ä¸­ç¼–å†™ã€‚\næ­¤æ—¶å¤§å®¶å¯ä»¥è¯•æƒ³ä¸€ä¸‹ï¼Œå‡å¦‚æˆ‘ä»¬å¼€å‘çš„æ˜¯ä¸€ä¸ªå¤§å‹çš„ç”µå•†ç½‘ç«™ï¼Œè¿™ä¸ªé¡¹ç›®ç»„è‡³å°‘å‡ åå·ç”šè‡³å‡ ç™¾å·å¼€å‘äººå‘˜ï¼Œè¿™äº›å¼€å‘äººå‘˜å…¨éƒ¨æ“ä½œè¿™ä¸€ä¸ª Java é¡¹ç›®ã€‚æ­¤æ—¶å¤§å®¶å°±ä¼šå‘ç°æˆ‘ä»¬é¡¹ç›®ç®¡ç†å’Œç»´æŠ¤èµ·æ¥å°†ä¼šéå¸¸çš„å›°éš¾ã€‚è€Œä¸”å¤§å®¶å†æ¥çœ‹ï¼Œå‡å¦‚åœ¨æˆ‘ä»¬çš„é¡¹ç›®å½“ä¸­ï¼Œæˆ‘ä»¬è‡ªå·±å®šä¹‰äº†ä¸€äº›é€šç”¨çš„å·¥å…·ç±»ä»¥åŠé€šç”¨çš„ç»„ä»¶ï¼Œè€Œå…¬å¸è¿˜æœ‰å…¶ä»–çš„é¡¹ç›®ç»„ï¼Œå…¶ä»–é¡¹ç›®ç»„ä¹Ÿæƒ³ä½¿ç”¨æˆ‘ä»¬æ‰€å°è£…çš„è¿™äº›ç»„ä»¶å’Œå·¥å…·ç±»ï¼Œå…¶å®æ˜¯éå¸¸ä¸æ–¹ä¾¿çš„ã€‚å› ä¸º Java é¡¹ç›®å½“ä¸­åŒ…å«äº†å½“å‰é¡¹ç›®çš„æ‰€æœ‰ä¸šåŠ¡ä»£ç ï¼Œæ‰€ä»¥å°±é€ æˆäº†è¿™é‡Œé¢æ‰€å°è£…çš„ä¸€äº›ç»„ä»¶ä¼šéš¾ä»¥å¤ç”¨ã€‚\næ€»ç»“èµ·æ¥ï¼Œä¸»è¦ä¸¤ç‚¹é—®é¢˜ï¼šä¸æ–¹ä¾¿é¡¹ç›®çš„ç»´æŠ¤å’Œç®¡ç†ã€é¡¹ç›®ä¸­çš„é€šç”¨ç»„ä»¶éš¾ä»¥å¤ç”¨ã€‚\n2). åˆ†æ¨¡å—è®¾è®¡\nåˆ†æ¨¡å—è®¾è®¡æˆ‘ä»¬åœ¨è¿›è¡Œé¡¹ç›®è®¾è®¡é˜¶æ®µï¼Œå°±å¯ä»¥å°†ä¸€ä¸ªå¤§çš„é¡¹ç›®æ‹†åˆ†æˆè‹¥å¹²ä¸ªæ¨¡å—ï¼Œæ¯ä¸€ä¸ªæ¨¡å—éƒ½æ˜¯ç‹¬ç«‹çš„ã€‚\næ¯”å¦‚æˆ‘ä»¬å¯ä»¥å°†å•†å“çš„ç›¸å…³åŠŸèƒ½æ”¾åœ¨å•†å“æ¨¡å—å½“ä¸­ï¼Œæœç´¢çš„ç›¸å…³ä¸šåŠ¡åŠŸèƒ½æˆ‘éƒ½å°è£…åœ¨æœç´¢æ¨¡å—å½“ä¸­ï¼Œè¿˜æœ‰åƒè´­ç‰©è½¦æ¨¡å—ã€è®¢å•æ¨¡å—ã€‚è€Œä¸ºäº†ç»„ä»¶çš„å¤ç”¨ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥å°†é¡¹ç›®å½“ä¸­çš„å®ä½“ç±»ã€å·¥å…·ç±»ä»¥åŠæˆ‘ä»¬å®šä¹‰çš„é€šç”¨çš„ç»„ä»¶éƒ½å•ç‹¬çš„æŠ½å–åˆ°ä¸€ä¸ªæ¨¡å—å½“ä¸­ã€‚\nå¦‚æœå½“å‰è¿™ä¸ªæ¨¡å—ï¼Œæ¯”å¦‚è®¢å•æ¨¡å—éœ€è¦ç”¨åˆ°è¿™äº›å®ä½“ç±»ä»¥åŠå·¥å…·ç±»æˆ–è€…è¿™äº›é€šç”¨ç»„ä»¶ï¼Œæ­¤æ—¶ç›´æ¥åœ¨è®¢å•æ¨¡å—å½“ä¸­å¼•å…¥å·¥å…·ç±»çš„åæ ‡å°±å¯ä»¥äº†ã€‚è¿™æ ·æˆ‘ä»¬å°±å°†ä¸€ä¸ªé¡¹ç›®æ‹†åˆ†æˆäº†è‹¥å¹²ä¸ªæ¨¡å—å„¿ï¼Œè¿™å°±æ˜¯åˆ†æ¨¡å—å„¿è®¾è®¡ã€‚\nåˆ†æ¨¡å—å„¿è®¾è®¡ä¹‹åï¼Œå¤§å®¶å†æ¥çœ‹ã€‚æˆ‘ä»¬åœ¨è¿›è¡Œé¡¹ç›®ç®¡ç†çš„æ—¶å€™ï¼Œæˆ‘å°±å¯ä»¥å‡ ä¸ªäººä¸€ç»„ï¼Œå‡ ä¸ªäººæ¥è´Ÿè´£è®¢å•æ¨¡å—å„¿ï¼Œå¦å¤–å‡ ä¸ªäººæ¥è´Ÿè´£è´­ç‰©è½¦æ¨¡å—å„¿ï¼Œè¿™æ ·æ›´åŠ ä¾¿äºé¡¹ç›®çš„ç®¡ç†ä»¥åŠé¡¹ç›®çš„åæœŸç»´æŠ¤ã€‚\nè€Œä¸”åˆ†æ¨¡å—è®¾è®¡ä¹‹åï¼Œå¦‚æœæˆ‘ä»¬éœ€è¦ç”¨åˆ°å¦å¤–ä¸€ä¸ªæ¨¡å—çš„åŠŸèƒ½ï¼Œæˆ‘ä»¬ç›´æ¥ä¾èµ–æ¨¡å—å°±å¯ä»¥äº†ã€‚æ¯”å¦‚å•†å“æ¨¡å—ã€æœç´¢æ¨¡å—ã€è´­ç‰©è½¦è®¢å•æ¨¡å—éƒ½éœ€è¦ä¾èµ–äºé€šç”¨ç»„ä»¶å½“ä¸­å°è£…çš„ä¸€äº›å·¥å…·ç±»ï¼Œæˆ‘åªéœ€è¦å¼•å…¥é€šç”¨ç»„ä»¶çš„åæ ‡å°±å¯ä»¥äº†ã€‚\nåˆ†æ¨¡å—è®¾è®¡å°±æ˜¯å°†é¡¹ç›®æŒ‰ç…§åŠŸèƒ½/ç»“æ„æ‹†åˆ†æˆè‹¥å¹²ä¸ªå­æ¨¡å—ï¼Œæ–¹ä¾¿é¡¹ç›®çš„ç®¡ç†ç»´æŠ¤ã€æ‹“å±•ï¼Œä¹Ÿæ–¹ä¾¿æ¨¡å—é”®çš„ç›¸äº’è°ƒç”¨ã€èµ„æºå…±äº«ã€‚\n1.2 å®è·µ 1.2.1 åˆ†æ å¥½ï¼Œæˆ‘ä»¬æ˜ç™½äº†ä»€ä¹ˆæ˜¯åˆ†æ¨¡å—è®¾è®¡ä»¥åŠåˆ†æ¨¡å—è®¾è®¡çš„ä¼˜åŠ¿ä¹‹åï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°±æ¥çœ‹ä¸€ä¸‹æˆ‘ä»¬ä¹‹å‰æ‰€å¼€å‘çš„æ¡ˆä¾‹å·¥ç¨‹ã€‚\næˆ‘ä»¬å¯ä»¥çœ‹åˆ°åœ¨è¿™ä¸ªé¡¹ç›®å½“ä¸­ï¼Œé™¤äº†æˆ‘ä»¬æ‰€å¼€å‘çš„éƒ¨é—¨ç®¡ç†ä»¥åŠå‘˜å·¥ç®¡ç†ã€ç™»å½•è®¤è¯ç­‰ç›¸å…³ä¸šåŠ¡åŠŸèƒ½ä»¥å¤–ï¼Œæˆ‘ä»¬æ˜¯ä¸æ˜¯ä¹Ÿå®šä¹‰äº†ä¸€äº›å®ä½“ç±»ï¼Œä¹Ÿå°±æ˜¯pojoåŒ…ä¸‹å­˜æ”¾çš„ä¸€äº›ç±»ï¼Œåƒåˆ†é¡µç»“æœçš„å°è£…ç±»PageBeanã€ ç»Ÿä¸€å“åº”ç»“æœResultï¼Œæˆ‘ä»¬è¿˜å®šä¹‰äº†ä¸€äº›é€šç”¨çš„å·¥å…·ç±»ï¼ŒåƒJwtsã€é˜¿é‡Œäº‘OSSæ“ä½œçš„å·¥å…·ç±»ç­‰ç­‰ã€‚\nå¦‚æœåœ¨å½“å‰å…¬å¸çš„å…¶ä»–é¡¹ç›®ç»„å½“ä¸­ï¼Œä¹Ÿæƒ³ä½¿ç”¨æˆ‘ä»¬æ‰€å°è£…çš„è¿™äº›å…¬å…±çš„ç»„ä»¶ï¼Œè¯¥æ€ä¹ˆåŠï¼Ÿå¤§å®¶å¯ä»¥æ€è€ƒä¸€ä¸‹ã€‚\næ–¹æ¡ˆä¸€ï¼šç›´æ¥ä¾èµ–æˆ‘ä»¬å½“å‰é¡¹ç›® tlias-web-management ï¼Œä½†æ˜¯å­˜åœ¨ä¸¤å¤§ç¼ºç‚¹ï¼š\nè¿™ä¸ªé¡¹ç›®å½“ä¸­åŒ…å«æ‰€æœ‰çš„ä¸šåŠ¡åŠŸèƒ½ä»£ç ï¼Œè€Œæƒ³å…±äº«çš„èµ„æºï¼Œä»…ä»…æ˜¯pojoä¸‹çš„å®ä½“ç±»ï¼Œä»¥åŠ utils ä¸‹çš„å·¥å…·ç±»ã€‚å¦‚æœå…¨éƒ¨éƒ½ä¾èµ–è¿›æ¥ï¼Œé¡¹ç›®åœ¨å¯åŠ¨æ—¶å°†ä¼šæŠŠæ‰€æœ‰çš„ç±»éƒ½åŠ è½½è¿›æ¥ï¼Œä¼šå½±å“æ€§èƒ½ã€‚ å¦‚æœç›´æ¥æŠŠè¿™ä¸ªé¡¹ç›®éƒ½ä¾èµ–è¿›æ¥äº†ï¼Œé‚£ä¹Ÿå°±æ„å‘³ç€æˆ‘ä»¬æ‰€æœ‰çš„ä¸šåŠ¡ä»£ç éƒ½å¯¹å¤–å…¬å¼€äº†ï¼Œè¿™ä¸ªæ˜¯éå¸¸ä¸å®‰å…¨çš„ã€‚ æ–¹æ¡ˆäºŒï¼šåˆ†æ¨¡å—è®¾è®¡\nå°†pojoåŒ…ä¸‹çš„å®ä½“ç±»ï¼ŒæŠ½å–åˆ°ä¸€ä¸ªmavenæ¨¡å—ä¸­ tlias-pojo å°†utilsåŒ…ä¸‹çš„å·¥å…·ç±»ï¼ŒæŠ½å–åˆ°ä¸€ä¸ªmavenæ¨¡å—ä¸­ tlias-utils å…¶ä»–çš„ä¸šåŠ¡ä»£ç ï¼Œæ”¾åœ¨tlias-web-managementè¿™ä¸ªæ¨¡å—ä¸­ï¼Œåœ¨è¯¥æ¨¡å—ä¸­éœ€è¦ç”¨åˆ°å®ä½“ç±»pojoã€å·¥å…·ç±»utilsï¼Œç›´æ¥å¼•å…¥å¯¹åº”çš„ä¾èµ–å³å¯ã€‚ â€‹\nâ€‹\tæ³¨æ„ï¼šåˆ†æ¨¡å—å¼€å‘éœ€è¦å…ˆé’ˆå¯¹æ¨¡å—åŠŸèƒ½è¿›è¡Œè®¾è®¡ï¼Œå†è¿›è¡Œç¼–ç ã€‚ä¸ä¼šå…ˆå°†å·¥ç¨‹å¼€å‘å®Œæ¯•ï¼Œç„¶åè¿›è¡Œæ‹†åˆ†ã€‚\nâ€‹\tPSï¼šå½“å‰æˆ‘ä»¬æ˜¯ä¸ºäº†æ¼”ç¤ºåˆ†æ¨¡å—å¼€å‘ï¼Œæ‰€ä»¥æ˜¯åŸºäºæˆ‘ä»¬å‰é¢å¼€å‘çš„æ¡ˆä¾‹é¡¹ç›®è¿›è¡Œæ‹†åˆ†çš„ï¼Œå®é™…ä¸­éƒ½æ˜¯åˆ†æ¨¡å—è®¾è®¡ï¼Œç„¶åå†å¼€å‘çš„ã€‚\n1.2.2 å®ç° æ€è·¯æˆ‘ä»¬åˆ†æå®Œæ¯•ï¼Œæ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±æ ¹æ®æˆ‘ä»¬åˆ†æçš„æ€è·¯ï¼ŒæŒ‰ç…§å¦‚ä¸‹æ¨¡å—è¿›è¡Œæ‹†åˆ†ï¼š\n1. åˆ›å»ºmavenæ¨¡å— tlias-pojoï¼Œå­˜æ”¾å®ä½“ç±»\nA. åˆ›å»ºä¸€ä¸ªæ­£å¸¸çš„Mavenæ¨¡å—ï¼Œæ¨¡å—åtlias-pojo\nB. ç„¶ååœ¨tlias-pojoä¸­åˆ›å»ºä¸€ä¸ªåŒ… com.itheima.pojo (å’ŒåŸæ¥æ¡ˆä¾‹é¡¹ç›®ä¸­çš„pojoåŒ…åä¸€è‡´)\nC. å°†åŸæ¥æ¡ˆä¾‹é¡¹ç›® tlias-web-management ä¸­çš„pojoåŒ…ä¸‹çš„å®ä½“ç±»ï¼Œå¤åˆ¶åˆ°tlias-pojoæ¨¡å—ä¸­\nD. åœ¨ tlias-pojo æ¨¡å—çš„pom.xmlæ–‡ä»¶ä¸­å¼•å…¥ä¾èµ–\n1 2 3 4 5 6 7 \u0026lt;dependencies\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.projectlombok\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;lombok\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;1.18.24\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;/dependencies\u0026gt; E. åˆ é™¤åŸæœ‰æ¡ˆä¾‹é¡¹ç›®tlias-web-managementçš„pojoåŒ…ã€ç›´æ¥åˆ é™¤ä¸è¦çŠ¹è±«ï¼Œæˆ‘ä»¬å·²ç»å°†è¯¥æ¨¡å—æ‹†åˆ†å‡ºå»äº†ã€‘ï¼Œç„¶ååœ¨pom.xmlä¸­å¼•å…¥ tlias-pojoçš„ä¾èµ–\n1 2 3 4 5 \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;com.itheima\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;tlias-pojo\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;1.0-SNAPSHOT\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; 2. åˆ›å»ºMavenæ¨¡å— tlias-utilsï¼Œå­˜æ”¾ç›¸å…³å·¥å…·ç±»\nA. åˆ›å»ºä¸€ä¸ªæ­£å¸¸çš„Mavenæ¨¡å—ï¼Œæ¨¡å—åtlias-utils\nB. ç„¶ååœ¨ tlias-utils ä¸­åˆ›å»ºä¸€ä¸ªåŒ… com.itheima.utils (å’ŒåŸæ¥æ¡ˆä¾‹é¡¹ç›®ä¸­çš„utilsåŒ…åä¸€è‡´)\nC. å°†åŸæ¥æ¡ˆä¾‹é¡¹ç›® tlias-web-management ä¸­çš„utilsåŒ…ä¸‹çš„å®ä½“ç±»ï¼Œå¤åˆ¶åˆ°tlias-utilsæ¨¡å—ä¸­\nD. åœ¨ tlias-utils æ¨¡å—çš„pom.xmlæ–‡ä»¶ä¸­å¼•å…¥ä¾èµ–\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 \u0026lt;dependencies\u0026gt; \u0026lt;!--JWTä»¤ç‰Œ--\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;io.jsonwebtoken\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;jjwt\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;0.9.1\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;!--é˜¿é‡Œäº‘OSS--\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;com.aliyun.oss\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;aliyun-sdk-oss\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;3.15.1\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;javax.xml.bind\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;jaxb-api\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;2.3.1\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;javax.activation\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;activation\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;1.1.1\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;!-- no more than 2.3.3--\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.glassfish.jaxb\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;jaxb-runtime\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;2.3.3\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;!--WEBå¼€å‘--\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.springframework.boot\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;spring-boot-starter-web\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;2.7.5\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.projectlombok\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;lombok\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;1.18.24\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;/dependencies\u0026gt; E. åˆ é™¤åŸæœ‰æ¡ˆä¾‹é¡¹ç›®tlias-web-managementçš„utilsåŒ…ã€ç›´æ¥åˆ é™¤ä¸è¦çŠ¹è±«ï¼Œæˆ‘ä»¬å·²ç»å°†è¯¥æ¨¡å—æ‹†åˆ†å‡ºå»äº†ã€‘ï¼Œç„¶ååœ¨pom.xmlä¸­å¼•å…¥ tlias-utilsçš„ä¾èµ–\n1 2 3 4 5 \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;com.itheima\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;tlias-utils\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;1.0-SNAPSHOT\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; åˆ°æ­¤å‘¢ï¼Œå°±å·²ç»å®Œæˆäº†æ¨¡å—çš„æ‹†åˆ†ï¼Œæ‹†åˆ†å‡ºäº† tlias-pojoã€tlias-utilsã€tlias-web-management ï¼Œå¦‚æœå…¶ä»–é¡¹ç›®ä¸­éœ€è¦ç”¨åˆ° pojoï¼Œæˆ–è€… utilså·¥å…·ç±»ï¼Œå°±å¯ä»¥ç›´æ¥å¼•å…¥ä¾èµ–ã€‚\n1.3 æ€»ç»“ 1). ä»€ä¹ˆæ˜¯åˆ†æ¨¡å—è®¾è®¡ï¼šå°†é¡¹ç›®æŒ‰ç…§åŠŸèƒ½æ‹†åˆ†æˆè‹¥å¹²ä¸ªå­æ¨¡å—\n2). ä¸ºä»€ä¹ˆè¦åˆ†æ¨¡å—è®¾è®¡ï¼šæ–¹ä¾¿é¡¹ç›®çš„ç®¡ç†ç»´æŠ¤ã€æ‰©å±•ï¼Œä¹Ÿæ–¹ä¾¿æ¨¡å—é—´çš„ç›¸äº’è°ƒç”¨ï¼Œèµ„æºå…±äº«\n3). æ³¨æ„äº‹é¡¹ï¼šåˆ†æ¨¡å—è®¾è®¡éœ€è¦å…ˆé’ˆå¯¹æ¨¡å—åŠŸèƒ½è¿›è¡Œè®¾è®¡ï¼Œå†è¿›è¡Œç¼–ç ã€‚ä¸ä¼šå…ˆå°†å·¥ç¨‹å¼€å‘å®Œæ¯•ï¼Œç„¶åè¿›è¡Œæ‹†åˆ†\n2. ç»§æ‰¿ä¸èšåˆ åœ¨æ¡ˆä¾‹é¡¹ç›®åˆ†æ¨¡å—å¼€å‘ä¹‹åå•Šï¼Œæˆ‘ä»¬ä¼šçœ‹åˆ°tlias-pojoã€tlias-utilsã€tlias-web-managementä¸­éƒ½å¼•å…¥äº†ä¸€ä¸ªä¾èµ– lombok çš„ä¾èµ–ã€‚æˆ‘ä»¬åœ¨ä¸‰ä¸ªæ¨¡å—ä¸­åˆ†åˆ«é…ç½®äº†ä¸€æ¬¡ã€‚\nå¦‚æœæ˜¯åšä¸€ä¸ªå¤§å‹çš„é¡¹ç›®ï¼Œè¿™ä¸‰ä¸ªæ¨¡å—å½“ä¸­é‡å¤çš„ä¾èµ–å¯èƒ½ä¼šå¾ˆå¤šå¾ˆå¤šã€‚å¦‚æœæ¯ä¸€ä¸ª Maven æ¨¡å—é‡Œé¢ï¼Œæˆ‘ä»¬éƒ½æ¥å•ç‹¬çš„é…ç½®ä¸€æ¬¡ï¼ŒåŠŸèƒ½è™½ç„¶èƒ½å®ç°ï¼Œä½†æ˜¯é…ç½®æ˜¯æ¯”è¾ƒç¹ççš„ã€‚\nè€Œæ¥ä¸‹æ¥æˆ‘ä»¬è¦è®²è§£çš„ Maven çš„ç»§æ‰¿ç”¨æ¥è§£å†³è¿™é—®é¢˜çš„ã€‚\n2.1 ç»§æ‰¿ æˆ‘ä»¬å¯ä»¥å†åˆ›å»ºä¸€ä¸ªçˆ¶å·¥ç¨‹ tlias-parent ï¼Œç„¶åè®©ä¸Šè¿°çš„ä¸‰ä¸ªæ¨¡å— tlias-pojoã€tlias-utilsã€tlias-web-management éƒ½æ¥ç»§æ‰¿è¿™ä¸ªçˆ¶å·¥ç¨‹ ã€‚ ç„¶åå†å°†å„ä¸ªæ¨¡å—ä¸­éƒ½å…±æœ‰çš„ä¾èµ–ï¼Œéƒ½æå–åˆ°çˆ¶å·¥ç¨‹ tlias-parentä¸­è¿›è¡Œé…ç½®ï¼Œåªè¦å­å·¥ç¨‹ç»§æ‰¿äº†çˆ¶å·¥ç¨‹ï¼Œä¾èµ–å®ƒä¹Ÿä¼šç»§æ‰¿ä¸‹æ¥ï¼Œè¿™æ ·å°±æ— éœ€åœ¨å„ä¸ªå­å·¥ç¨‹ä¸­è¿›è¡Œé…ç½®äº†ã€‚\næ¦‚å¿µï¼šç»§æ‰¿æè¿°çš„æ˜¯ä¸¤ä¸ªå·¥ç¨‹é—´çš„å…³ç³»ï¼Œä¸javaä¸­çš„ç»§æ‰¿ç›¸ä¼¼ï¼Œå­å·¥ç¨‹å¯ä»¥ç»§æ‰¿çˆ¶å·¥ç¨‹ä¸­çš„é…ç½®ä¿¡æ¯ï¼Œå¸¸è§äºä¾èµ–å…³ç³»çš„ç»§æ‰¿ã€‚\nä½œç”¨ï¼šç®€åŒ–ä¾èµ–é…ç½®ã€ç»Ÿä¸€ç®¡ç†ä¾èµ–\nå®ç°ï¼š\n1 2 3 4 5 6 \u0026lt;parent\u0026gt; \u0026lt;groupId\u0026gt;...\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;...\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;...\u0026lt;/version\u0026gt; \u0026lt;relativePath\u0026gt;....\u0026lt;/relativePath\u0026gt; \u0026lt;/parent\u0026gt; è¿™æ˜¯æˆ‘ä»¬åœ¨è¿™é‡Œå…ˆä»‹ç»ä¸€ä¸‹ä»€ä¹ˆæ˜¯ç»§æ‰¿ä»¥åŠç»§æ‰¿çš„ä½œç”¨ï¼Œä»¥åŠåœ¨ maven å½“ä¸­å¦‚ä½•æ¥å®ç°è¿™å±‚ç»§æ‰¿å…³ç³»ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬å°±æ¥åˆ›å»ºè¿™æ ·ä¸€ä¸ª parent çˆ¶å·¥ç¨‹ï¼Œæˆ‘ä»¬å°±å¯ä»¥å°†å„ä¸ªå­å·¥ç¨‹å½“ä¸­å…±æœ‰çš„è¿™éƒ¨åˆ†ä¾èµ–ç»Ÿä¸€çš„å®šä¹‰åœ¨çˆ¶å·¥ç¨‹ parent å½“ä¸­ï¼Œä»è€Œæ¥ç®€åŒ–å­å·¥ç¨‹çš„ä¾èµ–é…ç½®ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹å…·ä½“çš„æ“ä½œæ­¥éª¤ã€‚\næˆ‘ä»¬åœ¨è¿™é‡Œå…ˆä»‹ç»ä¸€ä¸‹ä»€ä¹ˆæ˜¯ç»§æ‰¿ä»¥åŠç»§æ‰¿çš„ä½œç”¨ï¼Œä»¥åŠåœ¨ maven å½“ä¸­å¦‚ä½•æ¥å®ç°è¿™å±‚ç»§æ‰¿å…³ç³»ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬å°±æ¥åˆ›å»ºè¿™æ ·ä¸€ä¸ª parent çˆ¶å·¥ç¨‹ï¼Œæˆ‘ä»¬å°±å¯ä»¥å°†å„ä¸ªå­å·¥ç¨‹å½“ä¸­å…±æœ‰çš„è¿™éƒ¨åˆ†ä¾èµ–ï¼Œç»Ÿä¸€çš„å®šä¹‰åœ¨çˆ¶å·¥ç¨‹ parent å½“ä¸­ï¼Œä»è€Œæ¥ç®€åŒ–å­å·¥ç¨‹çš„ä¾èµ–é…ç½®ã€‚\n2.1.1 ç»§æ‰¿å…³ç³» 2.1.1.1 æ€è·¯åˆ†æ æˆ‘ä»¬å½“å‰çš„é¡¹ç›® tlias-web-managementï¼Œè¿˜ç¨å¾®æœ‰ä¸€ç‚¹ç‰¹æ®Šï¼Œå› ä¸ºæ˜¯ä¸€ä¸ªspringbooté¡¹ç›®ï¼Œè€Œæ‰€æœ‰çš„springbooté¡¹ç›®éƒ½æœ‰ä¸€ä¸ªç»Ÿä¸€çš„çˆ¶å·¥ç¨‹ï¼Œå°±æ˜¯spring-boot-starter-parentã€‚ ä¸javaè¯­è¨€ç±»ä¼¼ï¼ŒMavenä¸æ”¯æŒå¤šç»§æ‰¿ï¼Œä¸€ä¸ªmavené¡¹ç›®åªèƒ½ç»§æ‰¿ä¸€ä¸ªçˆ¶å·¥ç¨‹ï¼Œå¦‚æœç»§æ‰¿äº†spring-boot-starter-parentï¼Œå°±æ²¡æ³•ç»§æ‰¿æˆ‘ä»¬è‡ªå·±å®šä¹‰çš„çˆ¶å·¥ç¨‹ tlias-parentäº†ã€‚\né‚£æˆ‘ä»¬æ€ä¹ˆæ¥è§£å†³è¿™ä¸ªé—®é¢˜å‘¢ï¼Ÿ\né‚£æ­¤æ—¶ï¼Œå¤§å®¶å¯ä»¥æƒ³ä¸€ä¸‹ï¼ŒJavaè™½ç„¶ä¸æ”¯æŒå¤šç»§æ‰¿ï¼Œä½†æ˜¯å¯ä»¥æ”¯æŒå¤šé‡ç»§æ‰¿ï¼Œæ¯”å¦‚ï¼šA ç»§æ‰¿ Bï¼Œ B ç»§æ‰¿Cã€‚ é‚£åœ¨Mavenä¸­ä¹Ÿæ˜¯æ”¯æŒå¤šé‡ç»§æ‰¿çš„ï¼Œæ‰€ä»¥å‘¢ï¼Œæˆ‘ä»¬å°±å¯ä»¥è®© æˆ‘ä»¬è‡ªå·±åˆ›å»ºçš„ä¸‰ä¸ªæ¨¡å—ï¼Œéƒ½ç»§æ‰¿tlias-parentï¼Œè€Œtlias-parent å†ç»§æ‰¿ spring-boot-starter-parentï¼Œå°±å¯ä»¥äº†ã€‚ å…·ä½“ç»“æ„å¦‚ä¸‹ï¼š\n2.1.1.2 å®ç° 1). åˆ›å»ºmavenæ¨¡å— tlias-parent ï¼Œè¯¥å·¥ç¨‹ä¸ºçˆ¶å·¥ç¨‹ï¼Œè®¾ç½®æ‰“åŒ…æ–¹å¼pom(é»˜è®¤jar)ã€‚\nâ€‹\tå·¥ç¨‹ç»“æ„å¦‚ä¸‹ï¼š\nçˆ¶å·¥ç¨‹tlias-parentçš„pom.xmlæ–‡ä»¶é…ç½®å¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 \u0026lt;parent\u0026gt; \u0026lt;groupId\u0026gt;org.springframework.boot\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;spring-boot-starter-parent\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;2.7.5\u0026lt;/version\u0026gt; \u0026lt;relativePath/\u0026gt; \u0026lt;!-- lookup parent from repository --\u0026gt; \u0026lt;/parent\u0026gt; \u0026lt;groupId\u0026gt;com.itheima\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;tlias-parent\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;1.0-SNAPSHOT\u0026lt;/version\u0026gt; \u0026lt;packaging\u0026gt;pom\u0026lt;/packaging\u0026gt; Mavenæ‰“åŒ…æ–¹å¼ï¼š\njarï¼šæ™®é€šæ¨¡å—æ‰“åŒ…ï¼Œspringbooté¡¹ç›®åŸºæœ¬éƒ½æ˜¯jaråŒ…ï¼ˆå†…åµŒtomcatè¿è¡Œï¼‰ warï¼šæ™®é€šwebç¨‹åºæ‰“åŒ…ï¼Œéœ€è¦éƒ¨ç½²åœ¨å¤–éƒ¨çš„tomcatæœåŠ¡å™¨ä¸­è¿è¡Œ pomï¼šçˆ¶å·¥ç¨‹æˆ–èšåˆå·¥ç¨‹ï¼Œè¯¥æ¨¡å—ä¸å†™ä»£ç ï¼Œä»…è¿›è¡Œä¾èµ–ç®¡ç† 2). åœ¨å­å·¥ç¨‹çš„pom.xmlæ–‡ä»¶ä¸­ï¼Œé…ç½®ç»§æ‰¿å…³ç³»ã€‚\n1 2 3 4 5 6 7 8 9 \u0026lt;parent\u0026gt; \u0026lt;groupId\u0026gt;com.itheima\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;tlias-parent\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;1.0-SNAPSHOT\u0026lt;/version\u0026gt; \u0026lt;relativePath\u0026gt;../tlias-parent/pom.xml\u0026lt;/relativePath\u0026gt; \u0026lt;/parent\u0026gt; \u0026lt;artifactId\u0026gt;tlias-utils\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;1.0-SNAPSHOT\u0026lt;/version\u0026gt; è¿™é‡Œæ˜¯ä»¥ tlias-utils ä¸ºä¾‹ï¼ŒæŒ‡å®šäº†å…¶çˆ¶å·¥ç¨‹ã€‚å…¶ä»–çš„æ¨¡å—ï¼Œéƒ½æ˜¯ç›¸åŒçš„é…ç½®æ–¹å¼ã€‚\næ³¨æ„ï¼š\nåœ¨å­å·¥ç¨‹ä¸­ï¼Œé…ç½®äº†ç»§æ‰¿å…³ç³»ä¹‹åï¼Œåæ ‡ä¸­çš„groupIdæ˜¯å¯ä»¥çœç•¥çš„ï¼Œå› ä¸ºä¼šè‡ªåŠ¨ç»§æ‰¿çˆ¶å·¥ç¨‹çš„ ã€‚ relativePathæŒ‡å®šçˆ¶å·¥ç¨‹çš„pomæ–‡ä»¶çš„ç›¸å¯¹ä½ç½®ï¼ˆå¦‚æœä¸æŒ‡å®šï¼Œå°†ä»æœ¬åœ°ä»“åº“/è¿œç¨‹ä»“åº“æŸ¥æ‰¾è¯¥å·¥ç¨‹ï¼‰ã€‚ ../ ä»£è¡¨çš„ä¸Šä¸€çº§ç›®å½• 3). åœ¨çˆ¶å·¥ç¨‹ä¸­é…ç½®å„ä¸ªå·¥ç¨‹å…±æœ‰çš„ä¾èµ–ï¼ˆå­å·¥ç¨‹ä¼šè‡ªåŠ¨ç»§æ‰¿çˆ¶å·¥ç¨‹çš„ä¾èµ–ï¼‰ã€‚\n1 2 3 4 5 6 7 \u0026lt;dependencies\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.projectlombok\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;lombok\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;1.18.24\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;/dependencies\u0026gt; æ­¤æ—¶ï¼Œæˆ‘ä»¬å·²ç»å°†å„ä¸ªå­å·¥ç¨‹ä¸­å…±æœ‰çš„ä¾èµ–ï¼ˆlombokï¼‰ï¼Œéƒ½å®šä¹‰åœ¨äº†çˆ¶å·¥ç¨‹ä¸­ï¼Œå­å·¥ç¨‹ä¸­çš„è¿™ä¸€é¡¹ä¾èµ–ï¼Œå°±å¯ä»¥ç›´æ¥åˆ é™¤äº†ã€‚åˆ é™¤ä¹‹åï¼Œæˆ‘ä»¬ä¼šçœ‹åˆ°çˆ¶å·¥ç¨‹ä¸­é…ç½®çš„ä¾èµ– lombokï¼Œå­å·¥ç¨‹ç›´æ¥ç»§æ‰¿ä¸‹æ¥äº†ã€‚\nå·¥ç¨‹ç»“æ„è¯´æ˜ï¼š\næˆ‘ä»¬å½“å‰çš„é¡¹ç›®ç»“æ„ä¸ºï¼š\nå› ä¸ºæˆ‘ä»¬æ˜¯é¡¹ç›®å¼€å‘å®Œæ¯•ä¹‹åï¼Œç»™å¤§å®¶åŸºäºç°æœ‰é¡¹ç›®æ‹†åˆ†çš„å„ä¸ªæ¨¡å—ï¼Œtlias-web-managementå·²ç»å­˜åœ¨äº†ï¼Œç„¶åå†åˆ›å»ºå„ä¸ªæ¨¡å—ä¸çˆ¶å·¥ç¨‹ï¼Œæ‰€ä»¥çˆ¶å·¥ç¨‹ä¸æ¨¡å—ä¹‹é—´æ˜¯å¹³çº§çš„ã€‚\nè€Œå®é™…é¡¹ç›®ä¸­ï¼Œå¯èƒ½è¿˜ä¼šè§åˆ°ä¸‹é¢çš„å·¥ç¨‹ç»“æ„ï¼š\nè€Œåœ¨çœŸå®çš„ä¼ä¸šå¼€å‘ä¸­ï¼Œéƒ½æ˜¯å…ˆè®¾è®¡å¥½æ¨¡å—ä¹‹åï¼Œå†å¼€å§‹åˆ›å»ºæ¨¡å—ï¼Œå¼€å‘é¡¹ç›®ã€‚ é‚£æ­¤æ—¶å‘¢ï¼Œä¸€èˆ¬éƒ½ä¼šå…ˆåˆ›å»ºçˆ¶å·¥ç¨‹ tlias-parentï¼Œç„¶åå°†åˆ›å»ºçš„å„ä¸ªå­æ¨¡å—ï¼Œéƒ½æ”¾åœ¨çˆ¶å·¥ç¨‹parentä¸‹é¢ã€‚ è¿™æ ·å±‚çº§ç»“æ„ä¼šæ›´åŠ æ¸…æ™°ä¸€äº›ã€‚\nâ€‹\nPSï¼šä¸Šé¢ä¸¤ç§å·¥ç¨‹ç»“æ„ï¼Œéƒ½æ˜¯å¯ä»¥æ­£å¸¸ä½¿ç”¨çš„ï¼Œæ²¡æœ‰ä¸€ç‚¹é—®é¢˜ã€‚ åªä¸è¿‡ï¼Œç¬¬äºŒç§ç»“æ„ï¼Œçœ‹èµ·æ¥ï¼Œçˆ¶å­å·¥ç¨‹ç»“æ„æ›´åŠ æ¸…æ™°ã€æ›´åŠ ç›´è§‚ã€‚\n2.1.2 ç‰ˆæœ¬é”å®š 2.1.2.1 åœºæ™¯ å¦‚æœé¡¹ç›®ä¸­å„ä¸ªæ¨¡å—ä¸­éƒ½å…¬å…±çš„è¿™éƒ¨åˆ†ä¾èµ–ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥å®šä¹‰åœ¨çˆ¶å·¥ç¨‹ä¸­ï¼Œä»è€Œç®€åŒ–å­å·¥ç¨‹çš„é…ç½®ã€‚ ç„¶è€Œåœ¨é¡¹ç›®å¼€å‘ä¸­ï¼Œè¿˜æœ‰ä¸€éƒ¨åˆ†ä¾èµ–ï¼Œå¹¶ä¸æ˜¯å„ä¸ªæ¨¡å—éƒ½å…±æœ‰çš„ï¼Œå¯èƒ½åªæ˜¯å…¶ä¸­çš„ä¸€å°éƒ¨åˆ†æ¨¡å—ä¸­ä½¿ç”¨åˆ°äº†è¿™ä¸ªä¾èµ–ã€‚\næ¯”å¦‚ï¼šåœ¨tlias-web-managementã€tlias-web-systemã€tlias-web-reportè¿™ä¸‰ä¸ªå­å·¥ç¨‹ä¸­ï¼Œéƒ½ä½¿ç”¨åˆ°äº†jwtçš„ä¾èµ–ã€‚ ä½†æ˜¯ tlias-pojoã€tlias-utilsä¸­å¹¶ä¸éœ€è¦è¿™ä¸ªä¾èµ–ï¼Œé‚£æ­¤æ—¶ï¼Œè¿™ä¸ªä¾èµ–ï¼Œæˆ‘ä»¬ä¸ä¼šç›´æ¥é…ç½®åœ¨çˆ¶å·¥ç¨‹ tlias-parentä¸­ï¼Œè€Œæ˜¯å“ªä¸ªæ¨¡å—éœ€è¦ï¼Œå°±åœ¨å“ªä¸ªæ¨¡å—ä¸­é…ç½®ã€‚\nè€Œç”±äºæ˜¯ä¸€ä¸ªé¡¹ç›®ä¸­çš„å¤šä¸ªæ¨¡å—ï¼Œé‚£å¤šä¸ªæ¨¡å—ä¸­ï¼Œæˆ‘ä»¬è¦ä½¿ç”¨çš„åŒä¸€ä¸ªä¾èµ–çš„ç‰ˆæœ¬è¦ä¸€è‡´ï¼Œè¿™æ ·ä¾¿äºé¡¹ç›®ä¾èµ–çš„ç»Ÿä¸€ç®¡ç†ã€‚æ¯”å¦‚ï¼šè¿™ä¸ªjwtä¾èµ–ï¼Œæˆ‘ä»¬éƒ½ä½¿ç”¨çš„æ˜¯ 0.9.1 è¿™ä¸ªç‰ˆæœ¬ã€‚\né‚£å‡å¦‚è¯´ï¼Œæˆ‘ä»¬é¡¹ç›®è¦å‡çº§ï¼Œè¦ä½¿ç”¨åˆ°jwtæœ€æ–°ç‰ˆæœ¬ 0.9.2 ä¸­çš„ä¸€ä¸ªæ–°åŠŸèƒ½ï¼Œé‚£æ­¤æ—¶éœ€è¦å°†ä¾èµ–çš„ç‰ˆæœ¬å‡çº§åˆ°0.9.2ï¼Œé‚£æ­¤æ—¶è¯¥æ€ä¹ˆåšå‘¢ ï¼Ÿ\nç¬¬ä¸€æ­¥ï¼šå»æ‰¾å½“å‰é¡¹ç›®ä¸­æ‰€æœ‰çš„æ¨¡å—çš„pom.xmlé…ç½®æ–‡ä»¶ï¼Œçœ‹å“ªäº›æ¨¡å—ç”¨åˆ°äº†jwtçš„ä¾èµ–ã€‚\nç¬¬äºŒæ­¥ï¼šæ‰¾åˆ°è¿™ä¸ªä¾èµ–ä¹‹åï¼Œå°†å…¶ç‰ˆæœ¬versionï¼Œæ›´æ¢ä¸º 0.9.2ã€‚\né—®é¢˜ï¼šå¦‚æœé¡¹ç›®æ‹†åˆ†çš„æ¨¡å—æ¯”è¾ƒå¤šï¼Œæ¯ä¸€æ¬¡æ›´æ¢ç‰ˆæœ¬ï¼Œæˆ‘ä»¬éƒ½å¾—æ‰¾åˆ°è¿™ä¸ªé¡¹ç›®ä¸­çš„æ¯ä¸€ä¸ªæ¨¡å—ï¼Œä¸€ä¸ªä¸€ä¸ªçš„æ›´æ”¹ã€‚ å¾ˆå®¹æ˜“å°±ä¼šå‡ºç°ï¼Œé—æ¼æ‰ä¸€ä¸ªæ¨¡å—ï¼Œå¿˜è®°æ›´æ¢ç‰ˆæœ¬çš„æƒ…å†µã€‚\né‚£æˆ‘ä»¬åˆè¯¥å¦‚ä½•æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå¦‚ä½•æ¥ç»Ÿä¸€ç®¡ç†å„ä¸ªä¾èµ–çš„ç‰ˆæœ¬å‘¢ï¼Ÿ\nç­”æ¡ˆï¼šMavençš„ç‰ˆæœ¬é”å®šåŠŸèƒ½ã€‚\n2.1.2.2 ä»‹ç» åœ¨mavenä¸­ï¼Œå¯ä»¥åœ¨çˆ¶å·¥ç¨‹çš„pomæ–‡ä»¶ä¸­é€šè¿‡ \u0026lt;dependencyManagement\u0026gt; æ¥ç»Ÿä¸€ç®¡ç†ä¾èµ–ç‰ˆæœ¬ã€‚\nçˆ¶å·¥ç¨‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 \u0026lt;!--ç»Ÿä¸€ç®¡ç†ä¾èµ–ç‰ˆæœ¬--\u0026gt; \u0026lt;dependencyManagement\u0026gt; \u0026lt;dependencies\u0026gt; \u0026lt;!--JWTä»¤ç‰Œ--\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;io.jsonwebtoken\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;jjwt\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;0.9.1\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;/dependencies\u0026gt; \u0026lt;/dependencyManagement\u0026gt; å­å·¥ç¨‹ï¼š\n1 2 3 4 5 6 7 \u0026lt;dependencies\u0026gt; \u0026lt;!--JWTä»¤ç‰Œ--\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;io.jsonwebtoken\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;jjwt\u0026lt;/artifactId\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;/dependencies\u0026gt; æ³¨æ„ï¼š\nåœ¨çˆ¶å·¥ç¨‹ä¸­æ‰€é…ç½®çš„ \u0026lt;dependencyManagement\u0026gt; åªèƒ½ç»Ÿä¸€ç®¡ç†ä¾èµ–ç‰ˆæœ¬ï¼Œå¹¶ä¸ä¼šå°†è¿™ä¸ªä¾èµ–ç›´æ¥å¼•å…¥è¿›æ¥ã€‚ è¿™ç‚¹å’Œ \u0026lt;dependencies\u0026gt; æ˜¯ä¸åŒçš„ã€‚\nå­å·¥ç¨‹è¦ä½¿ç”¨è¿™ä¸ªä¾èµ–ï¼Œè¿˜æ˜¯éœ€è¦å¼•å…¥çš„ï¼Œåªæ˜¯æ­¤æ—¶å°±æ— éœ€æŒ‡å®š \u0026lt;version\u0026gt; ç‰ˆæœ¬å·äº†ï¼Œçˆ¶å·¥ç¨‹ç»Ÿä¸€ç®¡ç†ã€‚å˜æ›´ä¾èµ–ç‰ˆæœ¬ï¼Œåªéœ€åœ¨çˆ¶å·¥ç¨‹ä¸­ç»Ÿä¸€å˜æ›´ã€‚\n2.1.2.3 å®ç° æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±å¯ä»¥å°†tlias-utilsæ¨¡å—ä¸­å•ç‹¬é…ç½®çš„ä¾èµ–ï¼Œå°†å…¶ç‰ˆæœ¬ç»Ÿä¸€äº¤ç»™ tlias-parent è¿›è¡Œç»Ÿä¸€ç®¡ç†ã€‚\nå…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š\n1). tlias-parent ä¸­çš„é…ç½®\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 \u0026lt;!--ç»Ÿä¸€ç®¡ç†ä¾èµ–ç‰ˆæœ¬--\u0026gt; \u0026lt;dependencyManagement\u0026gt; \u0026lt;dependencies\u0026gt; \u0026lt;!--JWTä»¤ç‰Œ--\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;io.jsonwebtoken\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;jjwt\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;0.9.1\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;!--é˜¿é‡Œäº‘OSS--\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;com.aliyun.oss\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;aliyun-sdk-oss\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;3.15.1\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;javax.xml.bind\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;jaxb-api\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;2.3.1\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;javax.activation\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;activation\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;1.1.1\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;!-- no more than 2.3.3--\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.glassfish.jaxb\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;jaxb-runtime\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;2.3.3\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;/dependencies\u0026gt; \u0026lt;/dependencyManagement\u0026gt; 2). tlias-utilsä¸­çš„pom.xmlé…ç½®\nå¦‚æœä¾èµ–çš„ç‰ˆæœ¬å·²ç»åœ¨çˆ¶å·¥ç¨‹è¿›è¡Œäº†ç»Ÿä¸€ç®¡ç†ï¼Œæ‰€ä»¥åœ¨å­å·¥ç¨‹ä¸­å°±æ— éœ€å†é…ç½®ä¾èµ–çš„ç‰ˆæœ¬äº†ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 \u0026lt;dependencies\u0026gt; \u0026lt;!--JWTä»¤ç‰Œ--\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;io.jsonwebtoken\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;jjwt\u0026lt;/artifactId\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;!--é˜¿é‡Œäº‘OSS--\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;com.aliyun.oss\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;aliyun-sdk-oss\u0026lt;/artifactId\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;javax.xml.bind\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;jaxb-api\u0026lt;/artifactId\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;javax.activation\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;activation\u0026lt;/artifactId\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;!-- no more than 2.3.3--\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.glassfish.jaxb\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;jaxb-runtime\u0026lt;/artifactId\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;!--WEBå¼€å‘--\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.springframework.boot\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;spring-boot-starter-web\u0026lt;/artifactId\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;/dependencies\u0026gt; æˆ‘ä»¬ä¹‹æ‰€ä»¥ï¼Œåœ¨springbooté¡¹ç›®ä¸­å¾ˆå¤šæ—¶å€™ï¼Œå¼•å…¥ä¾èµ–åæ ‡ï¼Œéƒ½ä¸éœ€è¦æŒ‡å®šä¾èµ–çš„ç‰ˆæœ¬ \u0026lt;version\u0026gt; ï¼Œæ˜¯å› ä¸ºåœ¨çˆ¶å·¥ç¨‹ spring-boot-starter-parentä¸­å·²ç»é€šè¿‡ \u0026lt;dependencyManagement\u0026gt;å¯¹ä¾èµ–çš„ç‰ˆæœ¬è¿›è¡Œäº†ç»Ÿä¸€çš„ç®¡ç†ç»´æŠ¤ã€‚\n2.1.2.4 å±æ€§é…ç½® æˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡è‡ªå®šä¹‰å±æ€§åŠå±æ€§å¼•ç”¨çš„å½¢å¼ï¼Œåœ¨çˆ¶å·¥ç¨‹ä¸­å°†ä¾èµ–çš„ç‰ˆæœ¬å·è¿›è¡Œé›†ä¸­ç®¡ç†ç»´æŠ¤ã€‚ å…·ä½“è¯­æ³•ä¸ºï¼š\n1). è‡ªå®šä¹‰å±æ€§\n1 2 3 \u0026lt;properties\u0026gt; \u0026lt;lombok.version\u0026gt;1.18.24\u0026lt;/lombok.version\u0026gt; \u0026lt;/properties\u0026gt; 2). å¼•ç”¨å±æ€§\n1 2 3 4 5 \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.projectlombok\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;lombok\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;${lombok.version}\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨çˆ¶å·¥ç¨‹ä¸­ï¼Œå°†æ‰€æœ‰çš„ç‰ˆæœ¬å·ï¼Œéƒ½é›†ä¸­ç®¡ç†ç»´æŠ¤èµ·æ¥ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 \u0026lt;properties\u0026gt; \u0026lt;maven.compiler.source\u0026gt;11\u0026lt;/maven.compiler.source\u0026gt; \u0026lt;maven.compiler.target\u0026gt;11\u0026lt;/maven.compiler.target\u0026gt; \u0026lt;lombok.version\u0026gt;1.18.24\u0026lt;/lombok.version\u0026gt; \u0026lt;jjwt.version\u0026gt;0.9.1\u0026lt;/jjwt.version\u0026gt; \u0026lt;aliyun.oss.version\u0026gt;3.15.1\u0026lt;/aliyun.oss.version\u0026gt; \u0026lt;jaxb.version\u0026gt;2.3.1\u0026lt;/jaxb.version\u0026gt; \u0026lt;activation.version\u0026gt;1.1.1\u0026lt;/activation.version\u0026gt; \u0026lt;jaxb.runtime.version\u0026gt;2.3.3\u0026lt;/jaxb.runtime.version\u0026gt; \u0026lt;/properties\u0026gt; \u0026lt;dependencies\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.projectlombok\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;lombok\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;${lombok.version}\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;/dependencies\u0026gt; \u0026lt;!--ç»Ÿä¸€ç®¡ç†ä¾èµ–ç‰ˆæœ¬--\u0026gt; \u0026lt;dependencyManagement\u0026gt; \u0026lt;dependencies\u0026gt; \u0026lt;!--JWTä»¤ç‰Œ--\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;io.jsonwebtoken\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;jjwt\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;${jjwt.version}\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;!--é˜¿é‡Œäº‘OSS--\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;com.aliyun.oss\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;aliyun-sdk-oss\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;${aliyun.oss.version}\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;javax.xml.bind\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;jaxb-api\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;${jaxb.version}\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;javax.activation\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;activation\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;${activation.version}\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;!-- no more than 2.3.3--\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.glassfish.jaxb\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;jaxb-runtime\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;${jaxb.runtime.version}\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;/dependencies\u0026gt; \u0026lt;/dependencyManagement\u0026gt; ç‰ˆæœ¬é›†ä¸­ç®¡ç†ä¹‹åï¼Œæˆ‘ä»¬è¦æƒ³ä¿®æ”¹ä¾èµ–çš„ç‰ˆæœ¬ï¼Œå°±åªéœ€è¦åœ¨çˆ¶å·¥ç¨‹ä¸­è‡ªå®šä¹‰å±æ€§çš„ä½ç½®ï¼Œä¿®æ”¹å¯¹åº”çš„å±æ€§å€¼å³å¯ã€‚\né¢è¯•é¢˜ï¼š\u0026lt;dependencyManagement\u0026gt; ä¸ \u0026lt;dependencies\u0026gt; çš„åŒºåˆ«æ˜¯ä»€ä¹ˆ?\n\u0026lt;dependencies\u0026gt; æ˜¯ç›´æ¥ä¾èµ–ï¼Œåœ¨çˆ¶å·¥ç¨‹é…ç½®äº†ä¾èµ–ï¼Œå­å·¥ç¨‹ä¼šç›´æ¥ç»§æ‰¿ä¸‹æ¥ã€‚ \u0026lt;dependencyManagement\u0026gt; æ˜¯ç»Ÿä¸€ç®¡ç†ä¾èµ–ç‰ˆæœ¬ï¼Œä¸ä¼šç›´æ¥ä¾èµ–ï¼Œè¿˜éœ€è¦åœ¨å­å·¥ç¨‹ä¸­å¼•å…¥æ‰€éœ€ä¾èµ–(æ— éœ€æŒ‡å®šç‰ˆæœ¬) 2.2 èšåˆ åˆ†æ¨¡å—è®¾è®¡ä¸å¼€å‘ä¹‹åå•Šï¼Œæˆ‘ä»¬çš„é¡¹ç›®è¢«æ‹†åˆ†ä¸ºå¤šä¸ªæ¨¡å—ï¼Œè€Œæ¨¡å—ä¹‹é—´çš„å…³ç³»ï¼Œå¯èƒ½é”™ç»¼å¤æ‚ã€‚ é‚£å°±æ¯”å¦‚æˆ‘ä»¬å½“å‰çš„æ¡ˆä¾‹é¡¹ç›®ï¼Œç»“æ„å¦‚ä¸‹ï¼ˆç›¸å¯¹è¿˜æ˜¯æ¯”è¾ƒç®€å•çš„ï¼‰ï¼š\næ­¤æ—¶ï¼Œtlias-web-management æ¨¡å—çš„çˆ¶å·¥ç¨‹æ˜¯ tlias-parentï¼Œè¯¥æ¨¡å—åˆä¾èµ–äº†tlias-pojoã€tlias-utilsæ¨¡å—ã€‚ é‚£æ­¤æ—¶ï¼Œæˆ‘ä»¬è¦æƒ³å°† tlias-web-management æ¨¡å—æ‰“åŒ…ï¼Œæ˜¯æ¯”è¾ƒç¹ççš„ã€‚å› ä¸ºåœ¨è¿›è¡Œé¡¹ç›®æ‰“åŒ…æ—¶ï¼Œmavenä¼šä»æœ¬åœ°ä»“åº“ä¸­æ¥æŸ¥æ‰¾tlias-parentçˆ¶å·¥ç¨‹ï¼Œä»¥åŠå®ƒæ‰€ä¾èµ–çš„æ¨¡å—tlias-pojoã€tlias-utilsï¼Œè€Œæœ¬åœ°ä»“åº“ç›®å‰æ˜¯æ²¡æœ‰è¿™å‡ ä¸ªä¾èµ–çš„ã€‚\næ‰€ä»¥ï¼Œæˆ‘ä»¬å†æ‰“åŒ…tlias-web-management æ¨¡å—å‰ï¼Œéœ€è¦å°† tlias-parentã€tlias-pojoã€tlias-utilsåˆ†åˆ«æ‰§è¡Œinstallç”Ÿå‘½å‘¨æœŸå®‰è£…åˆ°mavençš„æœ¬åœ°ä»“åº“ï¼Œç„¶åå†é’ˆå¯¹äº tlias-web-management æ¨¡å—æ‰§è¡Œpackageè¿›è¡Œæ‰“åŒ…æ“ä½œã€‚\né‚£æ­¤æ—¶ï¼Œå¤§å®¶è¯•æƒ³ä¸€ä¸‹ï¼Œå¦‚æœå¼€å‘ä¸€ä¸ªå¤§å‹é¡¹ç›®ï¼Œæ‹†åˆ†çš„æ¨¡å—å¾ˆå¤šï¼Œæ¨¡å—ä¹‹é—´çš„ä¾èµ–å…³ç³»é”™ç»¼å¤æ‚ï¼Œé‚£æ­¤æ—¶è¦è¿›è¡Œé¡¹ç›®çš„æ‰“åŒ…ã€å®‰è£…æ“ä½œï¼Œæ˜¯éå¸¸ç¹ççš„ã€‚ è€Œæˆ‘ä»¬æ¥ä¸‹æ¥ï¼Œè¦è®²è§£çš„mavençš„èšåˆå°±æ˜¯æ¥è§£å†³è¿™ä¸ªé—®é¢˜çš„ï¼Œé€šè¿‡mavençš„èšåˆå°±å¯ä»¥è½»æ¾å®ç°é¡¹ç›®çš„ä¸€é”®æ„å»ºï¼ˆæ¸…ç†ã€ç¼–è¯‘ã€æµ‹è¯•ã€æ‰“åŒ…ã€å®‰è£…ç­‰ï¼‰ã€‚\n2.2.1 ä»‹ç» **èšåˆï¼š**å°†å¤šä¸ªæ¨¡å—ç»„ç»‡æˆä¸€ä¸ªæ•´ä½“ï¼ŒåŒæ—¶è¿›è¡Œé¡¹ç›®çš„æ„å»ºã€‚ **èšåˆå·¥ç¨‹ï¼š**ä¸€ä¸ªä¸å…·æœ‰ä¸šåŠ¡åŠŸèƒ½çš„â€œç©ºâ€å·¥ç¨‹ï¼ˆæœ‰ä¸”ä»…æœ‰ä¸€ä¸ªpomæ–‡ä»¶ï¼‰ ã€PSï¼šä¸€èˆ¬æ¥è¯´ï¼Œç»§æ‰¿å…³ç³»ä¸­çš„çˆ¶å·¥ç¨‹ä¸èšåˆå…³ç³»ä¸­çš„èšåˆå·¥ç¨‹æ˜¯åŒä¸€ä¸ªã€‘ **ä½œç”¨ï¼š**å¿«é€Ÿæ„å»ºé¡¹ç›®ï¼ˆæ— éœ€æ ¹æ®ä¾èµ–å…³ç³»æ‰‹åŠ¨æ„å»ºï¼Œç›´æ¥åœ¨èšåˆå·¥ç¨‹ä¸Šæ„å»ºå³å¯ï¼‰ 2.2.2 å®ç° åœ¨mavenä¸­ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨èšåˆå·¥ç¨‹ä¸­é€šè¿‡ \u0026lt;moudules\u0026gt; è®¾ç½®å½“å‰èšåˆå·¥ç¨‹æ‰€åŒ…å«çš„å­æ¨¡å—çš„åç§°ã€‚æˆ‘ä»¬å¯ä»¥åœ¨ tlias-parentä¸­ï¼Œæ·»åŠ å¦‚ä¸‹é…ç½®ï¼Œæ¥æŒ‡å®šå½“å‰èšåˆå·¥ç¨‹ï¼Œéœ€è¦èšåˆçš„æ¨¡å—ï¼š\n1 2 3 4 5 6 \u0026lt;!--èšåˆå…¶ä»–æ¨¡å—--\u0026gt; \u0026lt;modules\u0026gt; \u0026lt;module\u0026gt;../tlias-pojo\u0026lt;/module\u0026gt; \u0026lt;module\u0026gt;../tlias-utils\u0026lt;/module\u0026gt; \u0026lt;module\u0026gt;../tlias-web-management\u0026lt;/module\u0026gt; \u0026lt;/modules\u0026gt; é‚£æ­¤æ—¶ï¼Œæˆ‘ä»¬è¦è¿›è¡Œç¼–è¯‘ã€æ‰“åŒ…ã€å®‰è£…æ“ä½œï¼Œå°±æ— éœ€åœ¨æ¯ä¸€ä¸ªæ¨¡å—ä¸Šæ“ä½œäº†ã€‚åªéœ€è¦åœ¨èšåˆå·¥ç¨‹ä¸Šï¼Œç»Ÿä¸€è¿›è¡Œæ“ä½œå°±å¯ä»¥äº†ã€‚\n**æµ‹è¯•ï¼š**æ‰§è¡Œåœ¨èšåˆå·¥ç¨‹ tlias-parent ä¸­æ‰§è¡Œ package æ‰“åŒ…æŒ‡ä»¤\né‚£ tlias-parent ä¸­æ‰€èšåˆçš„å…¶ä»–æ¨¡å—å…¨éƒ¨éƒ½ä¼šæ‰§è¡Œ package æŒ‡ä»¤ï¼Œè¿™å°±æ˜¯é€šè¿‡èšåˆå®ç°é¡¹ç›®çš„ä¸€é”®æ„å»ºï¼ˆä¸€é”®æ¸…ç†cleanã€ä¸€é”®ç¼–è¯‘compileã€ä¸€é”®æµ‹è¯•testã€ä¸€é”®æ‰“åŒ…packageã€ä¸€é”®å®‰è£…installç­‰ï¼‰ã€‚\n2.3 ç»§æ‰¿ä¸èšåˆå¯¹æ¯” ä½œç”¨\nèšåˆç”¨äºå¿«é€Ÿæ„å»ºé¡¹ç›®\nç»§æ‰¿ç”¨äºç®€åŒ–ä¾èµ–é…ç½®ã€ç»Ÿä¸€ç®¡ç†ä¾èµ–\nç›¸åŒç‚¹ï¼š\nèšåˆä¸ç»§æ‰¿çš„pom.xmlæ–‡ä»¶æ‰“åŒ…æ–¹å¼å‡ä¸ºpomï¼Œé€šå¸¸å°†ä¸¤ç§å…³ç³»åˆ¶ä½œåˆ°åŒä¸€ä¸ªpomæ–‡ä»¶ä¸­\nèšåˆä¸ç»§æ‰¿å‡å±äºè®¾è®¡å‹æ¨¡å—ï¼Œå¹¶æ— å®é™…çš„æ¨¡å—å†…å®¹\nä¸åŒç‚¹ï¼š\nèšåˆæ˜¯åœ¨èšåˆå·¥ç¨‹ä¸­é…ç½®å…³ç³»ï¼Œèšåˆå¯ä»¥æ„ŸçŸ¥åˆ°å‚ä¸èšåˆçš„æ¨¡å—æœ‰å“ªäº›\nç»§æ‰¿æ˜¯åœ¨å­æ¨¡å—ä¸­é…ç½®å…³ç³»ï¼Œçˆ¶æ¨¡å—æ— æ³•æ„ŸçŸ¥å“ªäº›å­æ¨¡å—ç»§æ‰¿äº†è‡ªå·±\n3. ç§æœ å‰é¢æˆ‘ä»¬åœ¨è®²è§£å¤šæ¨¡å—å¼€å‘çš„æ—¶å€™ï¼Œæˆ‘ä»¬è®²åˆ°æˆ‘ä»¬æ‰€æ‹†åˆ†çš„æ¨¡å—æ˜¯å¯ä»¥åœ¨åŒä¸€ä¸ªå…¬å¸å„ä¸ªé¡¹ç›®ç»„ä¹‹é—´è¿›è¡Œèµ„æºå…±äº«çš„ã€‚è¿™ä¸ªæ¨¡å—çš„èµ„æºå…±äº«ï¼Œå°±éœ€è¦é€šè¿‡æˆ‘ä»¬æ¥ä¸‹æ¥æ‰€è®²è§£çš„ Maven çš„ç§æœæ¥å®ç°ã€‚\né¦–å…ˆæˆ‘ä»¬å…ˆä»‹ç»ä¸€ä¸‹ä»€ä¹ˆæ˜¯ç§æœï¼Œä»¥åŠå®ƒçš„ä½œç”¨æ˜¯ä»€ä¹ˆã€‚å†æ¥ä»‹ç»ä¸€ä¸‹æˆ‘ä»¬å¦‚ä½•å°†æ¯ä½æ¨¡å—æ‰“åŒ…ä¸Šä¼ åˆ°ç§æœï¼Œä»¥åŠä»ç§æœå½“ä¸­æ¥ä¸‹è½½ã€‚\n3.1 åœºæ™¯ åœ¨ä»‹ç»ä»€ä¹ˆæ˜¯ç§æœä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥åˆ†æä¸€ä¸‹åŒä¸€ä¸ªå…¬å¸ï¼Œä¸¤ä¸ªé¡¹ç›®ç»„ä¹‹é—´å¦‚ä½•åŸºäºç§æœè¿›è¡Œèµ„æºçš„å…±äº«ã€‚\nå‡è®¾ç°åœ¨æœ‰ä¸¤ä¸ªå›¢é˜Ÿï¼ŒA å’Œ Bã€‚ A å¼€å‘äº†ä¸€ä¸ªæ¨¡å— tlias-utilsï¼Œæ¨¡å—å¼€å‘å®Œæ¯•ä¹‹åï¼Œå°†æ¨¡å—æ‰“æˆjaråŒ…ï¼Œå¹¶å®‰è£…åˆ°äº†Açš„æœ¬åœ°ä»“åº“ã€‚\né‚£æ­¤æ—¶ï¼Œè¯¥å…¬å¸çš„Bå›¢é˜Ÿå¼€å‘é¡¹ç›®æ—¶ï¼Œè¦æƒ³ä½¿ç”¨ tlias-utils ä¸­æä¾›çš„å·¥å…·ç±»ï¼Œè¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿ å¯¹äºmavené¡¹ç›®æ¥è¯´ï¼Œæ˜¯ä¸æ˜¯åœ¨pom.xmlæ–‡ä»¶ä¸­å¼•å…¥ tlias-utilsçš„åæ ‡å°±å¯ä»¥äº†å‘¢ï¼Ÿ\nå¤§å®¶å¯ä»¥æ€è€ƒä¸€ä¸‹ï¼Œå½“Bå›¢é˜Ÿåœ¨mavené¡¹ç›®çš„pom.xmlé…ç½®æ–‡ä»¶ä¸­å¼•å…¥äº†ä¾èµ–çš„åæ ‡ä¹‹åï¼Œmavenæ˜¯å¦‚ä½•æŸ¥æ‰¾è¿™ä¸ªä¾èµ–çš„ï¼Ÿ æŸ¥æ‰¾é¡ºåºä¸ºï¼š\n1). æœ¬åœ°ä»“åº“ï¼šæœ¬åœ°ä»“åº“ä¸­æ˜¯æ²¡æœ‰è¿™ä¸ªä¾èµ–jaråŒ…çš„ã€‚\n2). è¿œç¨‹ä¸­å¤®ä»“åº“ï¼šç”±äºè¯¥æ¨¡å—æ—¶è‡ªå·±å…¬å¸å¼€å‘çš„ï¼Œè¿œç¨‹ä»“åº“ä¸­ä¹Ÿæ²¡æœ‰è¿™ä¸ªä¾èµ–ã€‚\nå› ä¸ºç›®å‰tlias-utilsè¿™ä¸ªä¾èµ–ï¼Œè¿˜åœ¨Açš„æœ¬åœ°ä»“åº“ä¸­çš„ã€‚ Bç”µè„‘ä¸Šçš„mavené¡¹ç›®ï¼Œæ˜¯ä¸å¯èƒ½æ‰¾å¾—åˆ°Aç”µè„‘ä¸Šmavenæœ¬åœ°ä»“åº“çš„jaråŒ…çš„ã€‚ é‚£æ­¤æ—¶ï¼Œå¤§å®¶å¯èƒ½ä¼šæœ‰ä¸€ä¸ªæƒ³æ³•ï¼šå› ä¸ºAå’ŒBéƒ½ä¼šè¿æ¥ä¸­å¤®ä»“åº“ï¼Œæˆ‘ä»¬å¯ä»¥å°†Aæœ¬åœ°ä»“åº“çš„jaråŒ…ï¼Œç›´æ¥ä¸Šä¼ åˆ°ä¸­å¤®ä»“åº“ï¼Œç„¶åBä»ä¸­å¤®ä»“åº“ä¸­ä¸‹è½½tlias-utilsè¿™ä¸ªä¾èµ–ã€‚\nè¿™ä¸ªæƒ³æ³•å¾ˆç¾å¥½ï¼Œä½†æ˜¯ç°å®å¾ˆæ®‹é…·ã€‚è¿™ä¸ªæ–¹æ¡ˆæ˜¯è¡Œä¸é€šçš„ï¼Œå› ä¸ºä¸­å¤®ä»“åº“å…¨çƒåªæœ‰ä¸€ä¸ªï¼Œä¸æ˜¯ä»€ä¹ˆäººéƒ½å¯ä»¥å¾€ä¸­å¤®ä»“åº“ä¸­æ¥ä¸Šä¼ jaråŒ…çš„ï¼Œæˆ‘ä»¬æ˜¯æ²¡æœ‰æƒé™æ“ä½œçš„ã€‚\né‚£æ­¤æ—¶ï¼Œmavençš„ç§æœå°±å‡ºåœºäº†ï¼Œç§æœå…¶å®å°±æ˜¯æ¶è®¾åœ¨å…¬å¸å±€åŸŸç½‘å†…éƒ¨çš„ä¸€å°æœåŠ¡å™¨ï¼Œå°±æ˜¯ä¸€ç§ç‰¹æ®Šçš„è¿œç¨‹ä»“åº“ã€‚\næœ‰äº†ç§æœä¹‹åï¼Œå„ä¸ªå›¢é˜Ÿå°±å¯ä»¥ç›´æ¥æ¥è¿æ¥ç§æœäº†ã€‚ A è¿æ¥ä¸Šç§æœä¹‹åï¼Œä»–å°±å¯ä»¥æŠŠjaråŒ…ç›´æ¥ä¸Šä¼ åˆ°ç§æœå½“ä¸­ã€‚æˆ‘å…¬å¸è‡ªå·±å†…éƒ¨æ­å»ºçš„æœåŠ¡å™¨ï¼Œæˆ‘æ˜¯ä¸æ˜¯æœ‰æƒé™æ“ä½œå‘€ï¼ŒæŠŠjaråŒ…ä¸Šä¼ åˆ°ç§æœä¹‹åï¼Œæˆ‘è®© B å›¢é˜Ÿçš„æ‰€æœ‰å¼€å‘äººå‘˜ä¹Ÿè¿æ¥åŒä¸€å°ç§æœã€‚è¿æ¥ä¸Šè¿™ä¸€å°ç§æœä¹‹åï¼Œä»–å°±ä¼šæ ¹æ®åæ ‡çš„ä¿¡æ¯ï¼Œç›´æ¥ä»ç§æœå½“ä¸­å°†å¯¹åº”çš„jaråŒ…ä¸‹è½½åˆ°è‡ªå·±çš„æœ¬åœ°ä»“åº“ï¼Œè¿™æ ·å°±å¯ä»¥ä½¿ç”¨åˆ°ä¾èµ–å½“ä¸­æ‰€æä¾›çš„ä¸€äº›å·¥å…·ç±»äº†ã€‚è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥é€šè¿‡ç§æœæ¥å®Œæˆèµ„æºçš„å…±äº«ã€‚\nè€Œå¦‚æœæˆ‘ä»¬åœ¨é¡¹ç›®ä¸­éœ€è¦ä½¿ç”¨å…¶ä»–ç¬¬ä¸‰æ–¹æä¾›çš„ä¾èµ–ï¼Œå¦‚æœæœ¬åœ°ä»“åº“æ²¡æœ‰ï¼Œä¹Ÿä¼šè‡ªåŠ¨è¿æ¥ç§æœä¸‹è½½ï¼Œå¦‚æœç§æœæ²¡æœ‰ï¼Œç§æœæ­¤æ—¶ä¼šè‡ªåŠ¨è¿æ¥ä¸­å¤®ä»“åº“ï¼Œå»ä¸­å¤®ä»“åº“ä¸­ä¸‹è½½ä¾èµ–ï¼Œç„¶åå°†ä¸‹è½½çš„ä¾èµ–å­˜å‚¨åœ¨ç§æœä»“åº“åŠæœ¬åœ°ä»“åº“ä¸­ã€‚\n3.2 ä»‹ç» **ç§æœï¼š**æ˜¯ä¸€ç§ç‰¹æ®Šçš„è¿œç¨‹ä»“åº“ï¼Œå®ƒæ˜¯æ¶è®¾åœ¨å±€åŸŸç½‘å†…çš„ä»“åº“æœåŠ¡ï¼Œç”¨æ¥ä»£ç†ä½äºå¤–éƒ¨çš„ä¸­å¤®ä»“åº“ï¼Œç”¨äºè§£å†³å›¢é˜Ÿå†…éƒ¨çš„èµ„æºå…±äº«ä¸èµ„æºåŒæ­¥é—®é¢˜ã€‚ ä¾èµ–æŸ¥æ‰¾é¡ºåºï¼š æœ¬åœ°ä»“åº“ ç§æœä»“åº“ ä¸­å¤®ä»“åº“ **æ³¨æ„äº‹é¡¹ï¼š**ç§æœåœ¨ä¼ä¸šé¡¹ç›®å¼€å‘ä¸­ï¼Œä¸€ä¸ªé¡¹ç›®/å…¬å¸ï¼Œåªéœ€è¦ä¸€å°å³å¯ï¼ˆæ— éœ€æˆ‘ä»¬è‡ªå·±æ­å»ºï¼Œä¼šä½¿ç”¨å³å¯ï¼‰ã€‚ 3.3 èµ„æºä¸Šä¼ ä¸ä¸‹è½½ 3.3.1 æ­¥éª¤åˆ†æ èµ„æºä¸Šä¼ ä¸ä¸‹è½½ï¼Œæˆ‘ä»¬éœ€è¦åšä¸‰æ­¥é…ç½®ï¼Œæ‰§è¡Œä¸€æ¡æŒ‡ä»¤ã€‚\nç¬¬ä¸€æ­¥é…ç½®ï¼šåœ¨mavençš„é…ç½®æ–‡ä»¶ä¸­é…ç½®è®¿é—®ç§æœçš„ç”¨æˆ·åã€å¯†ç ã€‚\nç¬¬äºŒæ­¥é…ç½®ï¼šåœ¨mavençš„é…ç½®æ–‡ä»¶ä¸­é…ç½®è¿æ¥ç§æœçš„åœ°å€(urlåœ°å€)ã€‚\nç¬¬ä¸‰æ­¥é…ç½®ï¼šåœ¨é¡¹ç›®çš„pom.xmlæ–‡ä»¶ä¸­é…ç½®ä¸Šä¼ èµ„æºçš„ä½ç½®(urlåœ°å€)ã€‚\né…ç½®å¥½äº†ä¸Šè¿°ä¸‰æ­¥ä¹‹åï¼Œè¦ä¸Šä¼ èµ„æºåˆ°ç§æœä»“åº“ï¼Œå°±æ‰§è¡Œæ‰§è¡Œmavenç”Ÿå‘½å‘¨æœŸï¼šdeployã€‚\nç§æœä»“åº“è¯´æ˜ï¼š\nRELEASEï¼šå­˜å‚¨è‡ªå·±å¼€å‘çš„RELEASEå‘å¸ƒç‰ˆæœ¬çš„èµ„æºã€‚ SNAPSHOTï¼šå­˜å‚¨è‡ªå·±å¼€å‘çš„SNAPSHOTå‘å¸ƒç‰ˆæœ¬çš„èµ„æºã€‚ Centralï¼šå­˜å‚¨çš„æ˜¯ä»ä¸­å¤®ä»“åº“ä¸‹è½½ä¸‹æ¥çš„ä¾èµ–ã€‚ é¡¹ç›®ç‰ˆæœ¬è¯´æ˜ï¼š\nRELEASE(å‘å¸ƒç‰ˆæœ¬)ï¼šåŠŸèƒ½è¶‹äºç¨³å®šã€å½“å‰æ›´æ–°åœæ­¢ï¼Œå¯ä»¥ç”¨äºå‘è¡Œçš„ç‰ˆæœ¬ï¼Œå­˜å‚¨åœ¨ç§æœä¸­çš„RELEASEä»“åº“ä¸­ã€‚ SNAPSHOT(å¿«ç…§ç‰ˆæœ¬)ï¼šåŠŸèƒ½ä¸ç¨³å®šã€å°šå¤„äºå¼€å‘ä¸­çš„ç‰ˆæœ¬ï¼Œå³å¿«ç…§ç‰ˆæœ¬ï¼Œå­˜å‚¨åœ¨ç§æœçš„SNAPSHOTä»“åº“ä¸­ã€‚ 3.3.2 å…·ä½“æ“ä½œ ä¸ºäº†æ¨¡æ‹Ÿä¼ä¸šå¼€å‘ï¼Œè¿™é‡Œæˆ‘å‡†å¤‡å¥½äº†ä¸€å°æœåŠ¡å™¨ï¼ˆ192.168.150.101ï¼‰ï¼Œç§æœå·²ç»æ­å»ºå¥½äº†ï¼Œæˆ‘ä»¬å¯ä»¥è®¿é—®ç§æœæµ‹è¯•ï¼šhttp://192.168.150.101:8081\nç§æœå‡†å¤‡å¥½äº†ä¹‹åï¼Œæˆ‘ä»¬è¦åšå¦‚ä¸‹å‡ æ­¥é…ç½®ï¼š\n1.è®¾ç½®ç§æœçš„è®¿é—®ç”¨æˆ·å/å¯†ç ï¼ˆåœ¨è‡ªå·±mavenå®‰è£…ç›®å½•ä¸‹çš„conf/settings.xmlä¸­çš„serversä¸­é…ç½®ï¼‰\n1 2 3 4 5 6 7 8 9 10 11 \u0026lt;server\u0026gt; \u0026lt;id\u0026gt;maven-releases\u0026lt;/id\u0026gt; \u0026lt;username\u0026gt;admin\u0026lt;/username\u0026gt; \u0026lt;password\u0026gt;admin\u0026lt;/password\u0026gt; \u0026lt;/server\u0026gt; \u0026lt;server\u0026gt; \u0026lt;id\u0026gt;maven-snapshots\u0026lt;/id\u0026gt; \u0026lt;username\u0026gt;admin\u0026lt;/username\u0026gt; \u0026lt;password\u0026gt;admin\u0026lt;/password\u0026gt; \u0026lt;/server\u0026gt; 2.è®¾ç½®ç§æœä¾èµ–ä¸‹è½½çš„ä»“åº“ç»„åœ°å€ï¼ˆåœ¨è‡ªå·±mavenå®‰è£…ç›®å½•ä¸‹çš„conf/settings.xmlä¸­çš„mirrorsã€profilesä¸­é…ç½®ï¼‰\n1 2 3 4 5 \u0026lt;mirror\u0026gt; \u0026lt;id\u0026gt;maven-public\u0026lt;/id\u0026gt; \u0026lt;mirrorOf\u0026gt;*\u0026lt;/mirrorOf\u0026gt; \u0026lt;url\u0026gt;http://192.168.150.101:8081/repository/maven-public/\u0026lt;/url\u0026gt; \u0026lt;/mirror\u0026gt; 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 \u0026lt;profile\u0026gt; \u0026lt;id\u0026gt;allow-snapshots\u0026lt;/id\u0026gt; \u0026lt;activation\u0026gt; \u0026lt;activeByDefault\u0026gt;true\u0026lt;/activeByDefault\u0026gt; \u0026lt;/activation\u0026gt; \u0026lt;repositories\u0026gt; \u0026lt;repository\u0026gt; \u0026lt;id\u0026gt;maven-public\u0026lt;/id\u0026gt; \u0026lt;url\u0026gt;http://192.168.150.101:8081/repository/maven-public/\u0026lt;/url\u0026gt; \u0026lt;releases\u0026gt; \u0026lt;enabled\u0026gt;true\u0026lt;/enabled\u0026gt; \u0026lt;/releases\u0026gt; \u0026lt;snapshots\u0026gt; \u0026lt;enabled\u0026gt;true\u0026lt;/enabled\u0026gt; \u0026lt;/snapshots\u0026gt; \u0026lt;/repository\u0026gt; \u0026lt;/repositories\u0026gt; \u0026lt;/profile\u0026gt; 3.IDEAçš„mavenå·¥ç¨‹çš„pomæ–‡ä»¶ä¸­é…ç½®ä¸Šä¼ ï¼ˆå‘å¸ƒï¼‰åœ°å€(ç›´æ¥åœ¨tlias-parentä¸­é…ç½®å‘å¸ƒåœ°å€)\n1 2 3 4 5 6 7 8 9 10 11 12 13 \u0026lt;distributionManagement\u0026gt; \u0026lt;!-- releaseç‰ˆæœ¬çš„å‘å¸ƒåœ°å€ --\u0026gt; \u0026lt;repository\u0026gt; \u0026lt;id\u0026gt;maven-releases\u0026lt;/id\u0026gt; \u0026lt;url\u0026gt;http://192.168.150.101:8081/repository/maven-releases/\u0026lt;/url\u0026gt; \u0026lt;/repository\u0026gt; \u0026lt;!-- snapshotç‰ˆæœ¬çš„å‘å¸ƒåœ°å€ --\u0026gt; \u0026lt;snapshotRepository\u0026gt; \u0026lt;id\u0026gt;maven-snapshots\u0026lt;/id\u0026gt; \u0026lt;url\u0026gt;http://192.168.150.101:8081/repository/maven-snapshots/\u0026lt;/url\u0026gt; \u0026lt;/snapshotRepository\u0026gt; \u0026lt;/distributionManagement\u0026gt; é…ç½®å®Œæˆä¹‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨tlias-parentä¸­æ‰§è¡Œdeployç”Ÿå‘½å‘¨æœŸï¼Œå°†é¡¹ç›®å‘å¸ƒåˆ°ç§æœä»“åº“ä¸­ã€‚\né€šè¿‡æ—¥å¿—ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œè¿™å‡ ä¸ªæ¨¡å—æ‰“çš„jaråŒ…ç¡®å®å·²ç»ä¸Šä¼ åˆ°äº†ç§æœä»“åº“ä¸­ï¼ˆç”±äºå½“å‰æˆ‘ä»¬çš„é¡¹ç›®æ˜¯SNAPSHOTç‰ˆæœ¬ï¼Œæ‰€ä»¥jaråŒ…æ˜¯ä¸Šä¼ åˆ°äº†snapshotä»“åº“ä¸­ï¼‰ã€‚\né‚£æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å†æ¥æ‰“å¼€ç§æœæ¥çœ‹ä¸€ä¸‹ï¼š\næˆ‘ä»¬çœ‹åˆ°ï¼Œæˆ‘ä»¬é¡¹ç›®ä¸­çš„è¿™å‡ ä¸ªæ¨¡å—ï¼Œåœ¨ç§æœä¸­éƒ½æœ‰äº†ã€‚ é‚£æ¥ä¸‹æ¥ï¼Œå½“å…¶ä»–é¡¹ç›®ç»„çš„å¼€å‘äººå‘˜åœ¨é¡¹ç›®ä¸­ï¼Œå°±å¯ä»¥ç›´æ¥é€šè¿‡ä¾èµ–çš„åæ ‡ï¼Œå°±å¯ä»¥å®Œæˆå¼•å…¥å¯¹åº”çš„ä¾èµ–ï¼Œæ­¤æ—¶æœ¬åœ°ä»“åº“æ²¡æœ‰ï¼Œå°±ä¼šè‡ªåŠ¨ä»ç§æœä»“åº“ä¸­ä¸‹è½½ã€‚\nå¤‡æ³¨è¯´æ˜ï¼š\nè¯¾ä¸Šæ¼”ç¤ºçš„æ—¶å€™ï¼Œä¸ºäº†æ¨¡æ‹ŸçœŸå®çš„çº¿ä¸Šç¯å¢ƒï¼Œè€å¸ˆä½¿ç”¨äº†ä¸€å°æœåŠ¡å™¨192.168.150.101ï¼Œå¹¶åœ¨æœåŠ¡å™¨ä¸Šå®‰è£…äº†mavençš„ç§æœã€‚ è€Œè¿™å°æœåŠ¡å™¨å¤§å®¶å¹¶ä¸èƒ½ç›´æ¥è®¿é—®ã€‚\nåŒå­¦ä»¬å¦‚æœè¦æµ‹è¯•ä½¿ç”¨ç§æœè¿›è¡Œèµ„æºçš„ä¸Šä¼ å’Œä¸‹è½½ã€‚å¯ä»¥å‚ç…§å¦‚ä¸‹æ­¥éª¤ï¼Œå¯åŠ¨ç»™å¤§å®¶å‡†å¤‡çš„æœ¬åœ°ç§æœæ“ä½œï¼š\nè§£å‹ï¼š èµ„æ–™ä¸­æä¾›çš„å‹ç¼©åŒ… apache-maven-nexus.zip\nè¿›å…¥ç›®å½•ï¼š apache-maven-nexus\\nexus-3.39.0-01\\bin\nå¯åŠ¨æœåŠ¡ï¼šåŒå‡» start.bat\nè®¿é—®æœåŠ¡ï¼šlocalhost:8081\nç§æœé…ç½®è¯´æ˜ï¼šå°†ä¸Šè¿°é…ç½®ç§æœä¿¡æ¯çš„ 192.168.150.101 æ”¹ä¸º localhost\n","date":"0001-01-01T00:00:00Z","permalink":"http://localhost:1313/p/","title":""},{"content":"Mybatiså…¥é—¨ å‰è¨€ åœ¨å‰é¢æˆ‘ä»¬å­¦ä¹ MySQLæ•°æ®åº“æ—¶ï¼Œéƒ½æ˜¯åˆ©ç”¨å›¾å½¢åŒ–å®¢æˆ·ç«¯å·¥å…·(å¦‚ï¼šideaã€datagrip)ï¼Œæ¥æ“ä½œæ•°æ®åº“çš„ã€‚\nåœ¨å®¢æˆ·ç«¯å·¥å…·ä¸­ï¼Œç¼–å†™å¢åˆ æ”¹æŸ¥çš„SQLè¯­å¥ï¼Œå‘ç»™MySQLæ•°æ®åº“ç®¡ç†ç³»ç»Ÿï¼Œç”±æ•°æ®åº“ç®¡ç†ç³»ç»Ÿæ‰§è¡ŒSQLè¯­å¥å¹¶è¿”å›æ‰§è¡Œç»“æœã€‚\nå¢åˆ æ”¹æ“ä½œï¼šè¿”å›å—å½±å“è¡Œæ•°\næŸ¥è¯¢æ“ä½œï¼šè¿”å›ç»“æœé›†(æŸ¥è¯¢çš„ç»“æœ)\næˆ‘ä»¬åšä¸ºåç«¯ç¨‹åºå¼€å‘äººå‘˜ï¼Œé€šå¸¸ä¼šä½¿ç”¨Javaç¨‹åºæ¥å®Œæˆå¯¹æ•°æ®åº“çš„æ“ä½œã€‚Javaç¨‹åºæ“ä½œæ•°æ®åº“ï¼Œç°åœ¨ä¸»æµçš„æ–¹å¼æ˜¯ï¼šMybatisã€‚\nä»€ä¹ˆæ˜¯MyBatis?\nMyBatisæ˜¯ä¸€æ¬¾ä¼˜ç§€çš„ æŒä¹…å±‚ æ¡†æ¶ï¼Œç”¨äºç®€åŒ–JDBCçš„å¼€å‘ã€‚\nMyBatisæœ¬æ˜¯ Apacheçš„ä¸€ä¸ªå¼€æºé¡¹ç›®iBatisï¼Œ2010å¹´è¿™ä¸ªé¡¹ç›®ç”±apacheè¿ç§»åˆ°äº†google codeï¼Œå¹¶ä¸”æ”¹åä¸ºMyBatis ã€‚2013å¹´11æœˆè¿ç§»åˆ°Githubã€‚\nå®˜ç½‘ï¼šhttps://mybatis.org/mybatis-3/zh/index.html\nåœ¨ä¸Šé¢æˆ‘ä»¬æåˆ°äº†ä¸¤ä¸ªè¯ï¼šä¸€ä¸ªæ˜¯æŒä¹…å±‚ï¼Œå¦ä¸€ä¸ªæ˜¯æ¡†æ¶ã€‚\næŒä¹…å±‚ï¼šæŒ‡çš„æ˜¯å°±æ˜¯æ•°æ®è®¿é—®å±‚(dao)ï¼Œæ˜¯ç”¨æ¥æ“ä½œæ•°æ®åº“çš„ã€‚ æ¡†æ¶ï¼šæ˜¯ä¸€ä¸ªåŠæˆå“è½¯ä»¶ï¼Œæ˜¯ä¸€å¥—å¯é‡ç”¨çš„ã€é€šç”¨çš„ã€è½¯ä»¶åŸºç¡€ä»£ç æ¨¡å‹ã€‚åœ¨æ¡†æ¶çš„åŸºç¡€ä¸Šè¿›è¡Œè½¯ä»¶å¼€å‘æ›´åŠ é«˜æ•ˆã€è§„èŒƒã€é€šç”¨ã€å¯æ‹“å±•ã€‚ Mybatisè¯¾ç¨‹å®‰æ’ï¼š\nMybatiså…¥é—¨\nMybatisåŸºç¡€å¢åˆ æ”¹æŸ¥\nMybatisåŠ¨æ€SQL\næ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±é€šè¿‡ä¸€ä¸ªå…¥é—¨ç¨‹åºï¼Œè®©å¤§å®¶å¿«é€Ÿæ„Ÿå—ä¸€ä¸‹é€šè¿‡Mybatiså¦‚ä½•æ¥æ“ä½œæ•°æ®åº“ã€‚\n1. å¿«é€Ÿå…¥é—¨ éœ€æ±‚ï¼šä½¿ç”¨MybatisæŸ¥è¯¢æ‰€æœ‰ç”¨æˆ·æ•°æ®ã€‚\n1.1 å…¥é—¨ç¨‹åºåˆ†æ ä»¥å‰æˆ‘ä»¬æ˜¯åœ¨å›¾å½¢åŒ–å®¢æˆ·ç«¯å·¥å…·ä¸­ç¼–å†™SQLæŸ¥è¯¢ä»£ç ï¼Œå‘é€ç»™æ•°æ®åº“æ‰§è¡Œï¼Œæ•°æ®åº“æ‰§è¡Œåè¿”å›æ“ä½œç»“æœã€‚\nå›¾å½¢åŒ–å·¥å…·ä¼šæŠŠæ•°æ®åº“æ‰§è¡Œçš„æŸ¥è¯¢ç»“æœï¼Œä½¿ç”¨è¡¨æ ¼çš„å½¢å¼å±•ç°å‡ºæ¥\nç°åœ¨ä½¿ç”¨Mybatisæ“ä½œæ•°æ®åº“ï¼Œå°±æ˜¯åœ¨Mybatisä¸­ç¼–å†™SQLæŸ¥è¯¢ä»£ç ï¼Œå‘é€ç»™æ•°æ®åº“æ‰§è¡Œï¼Œæ•°æ®åº“æ‰§è¡Œåè¿”å›ç»“æœã€‚\nMybatisä¼šæŠŠæ•°æ®åº“æ‰§è¡Œçš„æŸ¥è¯¢ç»“æœï¼Œä½¿ç”¨å®ä½“ç±»å°è£…èµ·æ¥ï¼ˆä¸€è¡Œè®°å½•å¯¹åº”ä¸€ä¸ªå®ä½“ç±»å¯¹è±¡ï¼‰\nMybatisæ“ä½œæ•°æ®åº“çš„æ­¥éª¤ï¼š\nå‡†å¤‡å·¥ä½œ(åˆ›å»ºspringbootå·¥ç¨‹ã€æ•°æ®åº“è¡¨userã€å®ä½“ç±»User)\nå¼•å…¥Mybatisçš„ç›¸å…³ä¾èµ–ï¼Œé…ç½®Mybatis(æ•°æ®åº“è¿æ¥ä¿¡æ¯)\nç¼–å†™SQLè¯­å¥(æ³¨è§£/XML)\n1.2 å…¥é—¨ç¨‹åºå®ç° 1.2.1 å‡†å¤‡å·¥ä½œ 1.2.1.1 åˆ›å»ºspringbootå·¥ç¨‹ åˆ›å»ºspringbootå·¥ç¨‹ï¼Œå¹¶å¯¼å…¥ mybatisçš„èµ·æ­¥ä¾èµ–ã€mysqlçš„é©±åŠ¨åŒ…ã€‚\né¡¹ç›®å·¥ç¨‹åˆ›å»ºå®Œæˆåï¼Œè‡ªåŠ¨åœ¨pom.xmlæ–‡ä»¶ä¸­ï¼Œå¯¼å…¥Mybatisä¾èµ–å’ŒMySQLé©±åŠ¨ä¾èµ–\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 \u0026lt;!-- ä»…ä¾›å‚è€ƒï¼šåªç²˜è´´äº†pom.xmlä¸­éƒ¨åˆ†å†…å®¹ --\u0026gt; \u0026lt;dependencies\u0026gt; \u0026lt;!-- mybatisèµ·æ­¥ä¾èµ– --\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.mybatis.spring.boot\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;mybatis-spring-boot-starter\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;2.3.0\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;!-- mysqlé©±åŠ¨åŒ…ä¾èµ– --\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;com.mysql\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;mysql-connector-j\u0026lt;/artifactId\u0026gt; \u0026lt;scope\u0026gt;runtime\u0026lt;/scope\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;!-- springå•å…ƒæµ‹è¯• (é›†æˆäº†junit) --\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.springframework.boot\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;spring-boot-starter-test\u0026lt;/artifactId\u0026gt; \u0026lt;scope\u0026gt;test\u0026lt;/scope\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;/dependencies\u0026gt; 1.2.1.2 æ•°æ®å‡†å¤‡ åˆ›å»ºç”¨æˆ·è¡¨userï¼Œå¹¶åˆ›å»ºå¯¹åº”çš„å®ä½“ç±»Userã€‚\nç”¨æˆ·è¡¨ï¼š 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 -- ç”¨æˆ·è¡¨ create table user( id int unsigned primary key auto_increment comment \u0026#39;ID\u0026#39;, name varchar(100) comment \u0026#39;å§“å\u0026#39;, age tinyint unsigned comment \u0026#39;å¹´é¾„\u0026#39;, gender tinyint unsigned comment \u0026#39;æ€§åˆ«, 1:ç”·, 2:å¥³\u0026#39;, phone varchar(11) comment \u0026#39;æ‰‹æœºå·\u0026#39; ) comment \u0026#39;ç”¨æˆ·è¡¨\u0026#39;; -- æµ‹è¯•æ•°æ® insert into user(id, name, age, gender, phone) VALUES (null,\u0026#39;ç™½çœ‰é¹°ç‹\u0026#39;,55,\u0026#39;1\u0026#39;,\u0026#39;18800000000\u0026#39;); insert into user(id, name, age, gender, phone) VALUES (null,\u0026#39;é‡‘æ¯›ç‹®ç‹\u0026#39;,45,\u0026#39;1\u0026#39;,\u0026#39;18800000001\u0026#39;); insert into user(id, name, age, gender, phone) VALUES (null,\u0026#39;é’ç¿¼è ç‹\u0026#39;,38,\u0026#39;1\u0026#39;,\u0026#39;18800000002\u0026#39;); insert into user(id, name, age, gender, phone) VALUES (null,\u0026#39;ç´«è¡«é¾™ç‹\u0026#39;,42,\u0026#39;2\u0026#39;,\u0026#39;18800000003\u0026#39;); insert into user(id, name, age, gender, phone) VALUES (null,\u0026#39;å…‰æ˜å·¦ä½¿\u0026#39;,37,\u0026#39;1\u0026#39;,\u0026#39;18800000004\u0026#39;); insert into user(id, name, age, gender, phone) VALUES (null,\u0026#39;å…‰æ˜å³ä½¿\u0026#39;,48,\u0026#39;1\u0026#39;,\u0026#39;18800000005\u0026#39;); å®ä½“ç±»\nå®ä½“ç±»çš„å±æ€§åä¸è¡¨ä¸­çš„å­—æ®µåä¸€ä¸€å¯¹åº”ã€‚ 1 2 3 4 5 6 7 8 9 public class User { private Integer id; //idï¼ˆä¸»é”®ï¼‰ private String name; //å§“å private Short age; //å¹´é¾„ private Short gender; //æ€§åˆ« private String phone; //æ‰‹æœºå· //çœç•¥GET, SETæ–¹æ³• } 1.2.2 é…ç½®Mybatis åœ¨ä¹‹å‰ä½¿ç”¨å›¾å½¢åŒ–å®¢æˆ·ç«¯å·¥å…·ï¼Œè¿æ¥MySQLæ•°æ®åº“æ—¶ï¼Œéœ€è¦é…ç½®ï¼š\nè¿æ¥æ•°æ®åº“çš„å››å¤§å‚æ•°ï¼š\nMySQLé©±åŠ¨ç±» ç™»å½•å å¯†ç  æ•°æ®åº“è¿æ¥å­—ç¬¦ä¸² åŸºäºä¸Šè¿°åˆ†æï¼Œåœ¨Mybatisä¸­è¦è¿æ¥æ•°æ®åº“ï¼ŒåŒæ ·ä¹Ÿéœ€è¦ä»¥ä¸Š4ä¸ªå‚æ•°é…ç½®ã€‚\nåœ¨springbooté¡¹ç›®ä¸­ï¼Œå¯ä»¥ç¼–å†™application.propertiesæ–‡ä»¶ï¼Œé…ç½®æ•°æ®åº“è¿æ¥ä¿¡æ¯ã€‚æˆ‘ä»¬è¦è¿æ¥æ•°æ®åº“ï¼Œå°±éœ€è¦é…ç½®æ•°æ®åº“è¿æ¥çš„åŸºæœ¬ä¿¡æ¯ï¼ŒåŒ…æ‹¬ï¼šdriver-class-nameã€url ã€usernameï¼Œpasswordã€‚\nåœ¨å…¥é—¨ç¨‹åºä¸­ï¼Œå¤§å®¶å¯ä»¥ç›´æ¥è¿™ä¹ˆé…ç½®ï¼Œåé¢ä¼šä»‹ç»ä»€ä¹ˆæ˜¯é©±åŠ¨ã€‚\napplication.properties:\n1 2 3 4 5 6 7 8 #é©±åŠ¨ç±»åç§° spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver #æ•°æ®åº“è¿æ¥çš„url spring.datasource.url=jdbc:mysql://localhost:3306/mybatis #è¿æ¥æ•°æ®åº“çš„ç”¨æˆ·å spring.datasource.username=root #è¿æ¥æ•°æ®åº“çš„å¯†ç  spring.datasource.password=1234 ä¸Šè¿°çš„é…ç½®ï¼Œå¯ä»¥ç›´æ¥å¤åˆ¶è¿‡å»ï¼Œä¸è¦æ•²é”™äº†ã€‚ å…¨éƒ¨éƒ½æ˜¯ spring.datasource.xxxx å¼€å¤´ã€‚\n1.2.3 ç¼–å†™SQLè¯­å¥ åœ¨åˆ›å»ºå‡ºæ¥çš„springbootå·¥ç¨‹ä¸­ï¼Œåœ¨å¼•å¯¼ç±»æ‰€åœ¨åŒ…ä¸‹ï¼Œåœ¨åˆ›å»ºä¸€ä¸ªåŒ… mapperã€‚åœ¨mapperåŒ…ä¸‹åˆ›å»ºä¸€ä¸ªæ¥å£ UserMapper ï¼Œè¿™æ˜¯ä¸€ä¸ªæŒä¹…å±‚æ¥å£ï¼ˆMybatisçš„æŒä¹…å±‚æ¥å£è§„èŒƒä¸€èˆ¬éƒ½å« XxxMapperï¼‰ã€‚\nUserMapperï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 import com.itheima.pojo.User; import org.apache.ibatis.annotations.Mapper; import org.apache.ibatis.annotations.Select; import java.util.List; @Mapper public interface UserMapper { //æŸ¥è¯¢æ‰€æœ‰ç”¨æˆ·æ•°æ® @Select(\u0026#34;select id, name, age, gender, phone from user\u0026#34;) public List\u0026lt;User\u0026gt; list(); } @Mapperæ³¨è§£ï¼šè¡¨ç¤ºæ˜¯mybatisä¸­çš„Mapperæ¥å£\nç¨‹åºè¿è¡Œæ—¶ï¼šæ¡†æ¶ä¼šè‡ªåŠ¨ç”Ÿæˆæ¥å£çš„å®ç°ç±»å¯¹è±¡(ä»£ç†å¯¹è±¡)ï¼Œå¹¶ç»™äº¤Springçš„IOCå®¹å™¨ç®¡ç† @Selectæ³¨è§£ï¼šä»£è¡¨çš„å°±æ˜¯selectæŸ¥è¯¢ï¼Œç”¨äºä¹¦å†™selectæŸ¥è¯¢è¯­å¥\n1.2.4 å•å…ƒæµ‹è¯• åœ¨åˆ›å»ºå‡ºæ¥çš„SpringBootå·¥ç¨‹ä¸­ï¼Œåœ¨srcä¸‹çš„testç›®å½•ä¸‹ï¼Œå·²ç»è‡ªåŠ¨å¸®æˆ‘ä»¬åˆ›å»ºå¥½äº†æµ‹è¯•ç±» ï¼Œå¹¶ä¸”åœ¨æµ‹è¯•ç±»ä¸Šå·²ç»æ·»åŠ äº†æ³¨è§£ @SpringBootTestï¼Œä»£è¡¨è¯¥æµ‹è¯•ç±»å·²ç»ä¸SpringBootæ•´åˆã€‚\nè¯¥æµ‹è¯•ç±»åœ¨è¿è¡Œæ—¶ï¼Œä¼šè‡ªåŠ¨é€šè¿‡å¼•å¯¼ç±»åŠ è½½Springçš„ç¯å¢ƒï¼ˆIOCå®¹å™¨ï¼‰ã€‚æˆ‘ä»¬è¦æµ‹è¯•é‚£ä¸ªbeanå¯¹è±¡ï¼Œå°±å¯ä»¥ç›´æ¥é€šè¿‡@Autowiredæ³¨è§£ç›´æ¥å°†å…¶æ³¨å…¥è¿›è¡Œï¼Œç„¶åå°±å¯ä»¥æµ‹è¯•äº†ã€‚\næµ‹è¯•ç±»ä»£ç å¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 @SpringBootTest public class MybatisQuickstartApplicationTests { @Autowired private UserMapper userMapper; @Test public void testList(){ List\u0026lt;User\u0026gt; userList = userMapper.list(); for (User user : userList) { System.out.println(user); } } } è¿è¡Œç»“æœï¼š\n1 2 3 4 5 6 User{id=1, name=\u0026#39;ç™½çœ‰é¹°ç‹\u0026#39;, age=55, gender=1, phone=\u0026#39;18800000000\u0026#39;} User{id=2, name=\u0026#39;é‡‘æ¯›ç‹®ç‹\u0026#39;, age=45, gender=1, phone=\u0026#39;18800000001\u0026#39;} User{id=3, name=\u0026#39;é’ç¿¼è ç‹\u0026#39;, age=38, gender=1, phone=\u0026#39;18800000002\u0026#39;} User{id=4, name=\u0026#39;ç´«è¡«é¾™ç‹\u0026#39;, age=42, gender=2, phone=\u0026#39;18800000003\u0026#39;} User{id=5, name=\u0026#39;å…‰æ˜å·¦ä½¿\u0026#39;, age=37, gender=1, phone=\u0026#39;18800000004\u0026#39;} User{id=6, name=\u0026#39;å…‰æ˜å³ä½¿\u0026#39;, age=48, gender=1, phone=\u0026#39;18800000005\u0026#39;} 1.3 è§£å†³SQLè­¦å‘Šä¸æç¤º é»˜è®¤æˆ‘ä»¬åœ¨UserMapperæ¥å£ä¸ŠåŠ çš„@Selectæ³¨è§£ä¸­ç¼–å†™SQLè¯­å¥æ˜¯æ²¡æœ‰æç¤ºçš„ã€‚ å¦‚æœæƒ³è®©ideaç»™æˆ‘ä»¬æç¤ºå¯¹åº”çš„SQLè¯­å¥ï¼Œæˆ‘ä»¬éœ€è¦åœ¨IDEAä¸­é…ç½®ä¸MySQLæ•°æ®åº“çš„é“¾æ¥ã€‚\né»˜è®¤æˆ‘ä»¬åœ¨UserMapperæ¥å£ä¸Šçš„@Selectæ³¨è§£ä¸­ç¼–å†™SQLè¯­å¥æ˜¯æ²¡æœ‰æç¤ºçš„ã€‚å¦‚æœæƒ³è®©ideaç»™å‡ºæç¤ºï¼Œå¯ä»¥åšå¦‚ä¸‹é…ç½®ï¼š\né…ç½®å®Œæˆä¹‹åï¼Œå‘ç°SQLè¯­å¥ä¸­çš„å…³é”®å­—æœ‰æç¤ºäº†ï¼Œä½†è¿˜å­˜åœ¨ä¸è¯†åˆ«è¡¨å(åˆ—å)çš„æƒ…å†µï¼š\näº§ç”ŸåŸå› ï¼šIdeaå’Œæ•°æ®åº“æ²¡æœ‰å»ºç«‹è¿æ¥ï¼Œä¸è¯†åˆ«è¡¨ä¿¡æ¯\nè§£å†³æ–¹æ¡ˆï¼šåœ¨Ideaä¸­é…ç½®MySQLæ•°æ®åº“è¿æ¥\nåœ¨é…ç½®çš„æ—¶å€™æŒ‡å®šè¿æ¥é‚£ä¸ªæ•°æ®åº“ï¼Œå¦‚ä¸Šå›¾æ‰€ç¤ºè¿æ¥çš„å°±æ˜¯mybatisæ•°æ®åº“ã€‚\n2. JDBCä»‹ç»(äº†è§£) 2.1 ä»‹ç» é€šè¿‡Mybatisçš„å¿«é€Ÿå…¥é—¨ï¼Œæˆ‘ä»¬æ˜ç™½äº†ï¼Œé€šè¿‡Mybatiså¯ä»¥å¾ˆæ–¹ä¾¿çš„è¿›è¡Œæ•°æ®åº“çš„è®¿é—®æ“ä½œã€‚ä½†æ˜¯å¤§å®¶è¦æ˜ç™½ï¼Œå…¶å®javaè¯­è¨€æ“ä½œæ•°æ®åº“å‘¢ï¼Œåªèƒ½é€šè¿‡ä¸€ç§æ–¹å¼ï¼šä½¿ç”¨sunå…¬å¸æä¾›çš„ JDBC è§„èŒƒã€‚\nMybatisæ¡†æ¶ï¼Œå°±æ˜¯å¯¹åŸå§‹çš„JDBCç¨‹åºçš„å°è£…ã€‚\né‚£åˆ°åº•ä»€ä¹ˆæ˜¯JDBCå‘¢ï¼Œæ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±æ¥ä»‹ç»ä¸€ä¸‹ã€‚\nJDBCï¼š ( Java DataBase Connectivity )ï¼Œå°±æ˜¯ä½¿ç”¨Javaè¯­è¨€æ“ä½œå…³ç³»å‹æ•°æ®åº“çš„ä¸€å¥—APIã€‚\næœ¬è´¨ï¼š\nsunå…¬å¸å®˜æ–¹å®šä¹‰çš„ä¸€å¥—æ“ä½œæ‰€æœ‰å…³ç³»å‹æ•°æ®åº“çš„è§„èŒƒï¼Œå³æ¥å£ã€‚\nå„ä¸ªæ•°æ®åº“å‚å•†å»å®ç°è¿™å¥—æ¥å£ï¼Œæä¾›æ•°æ®åº“é©±åŠ¨jaråŒ…ã€‚\næˆ‘ä»¬å¯ä»¥ä½¿ç”¨è¿™å¥—æ¥å£(JDBC)ç¼–ç¨‹ï¼ŒçœŸæ­£æ‰§è¡Œçš„ä»£ç æ˜¯é©±åŠ¨jaråŒ…ä¸­çš„å®ç°ç±»ã€‚\n2.2 ä»£ç  ä¸‹é¢æˆ‘ä»¬çœ‹çœ‹åŸå§‹çš„JDBCç¨‹åºæ˜¯å¦‚ä½•æ“ä½œæ•°æ®åº“çš„ã€‚æ“ä½œæ­¥éª¤å¦‚ä¸‹ï¼š\næ³¨å†Œé©±åŠ¨ è·å–è¿æ¥å¯¹è±¡ æ‰§è¡ŒSQLè¯­å¥ï¼Œè¿”å›æ‰§è¡Œç»“æœ å¤„ç†æ‰§è¡Œç»“æœ é‡Šæ”¾èµ„æº åœ¨pom.xmlæ–‡ä»¶ä¸­å·²å¼•å…¥MySQLé©±åŠ¨ä¾èµ–ï¼Œæˆ‘ä»¬ç›´æ¥ç¼–å†™JDBCä»£ç å³å¯\nJDBCå…·ä½“ä»£ç å®ç°ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 import com.itheima.pojo.User; import org.junit.jupiter.api.Test; import java.sql.Connection; import java.sql.DriverManager; import java.sql.ResultSet; import java.sql.Statement; import java.util.ArrayList; import java.util.List; public class JdbcTest { @Test public void testJdbc() throws Exception { //1. æ³¨å†Œé©±åŠ¨ Class.forName(\u0026#34;com.mysql.cj.jdbc.Driver\u0026#34;); //2. è·å–æ•°æ®åº“è¿æ¥ String url=\u0026#34;jdbc:mysql://127.0.0.1:3306/mybatis\u0026#34;; String username = \u0026#34;root\u0026#34;; String password = \u0026#34;1234\u0026#34;; Connection connection = DriverManager.getConnection(url, username, password); //3. æ‰§è¡ŒSQL Statement statement = connection.createStatement(); //æ“ä½œSQLçš„å¯¹è±¡ String sql=\u0026#34;select id,name,age,gender,phone from user\u0026#34;; ResultSet rs = statement.executeQuery(sql);//SQLæŸ¥è¯¢ç»“æœä¼šå°è£…åœ¨ResultSetå¯¹è±¡ä¸­ List\u0026lt;User\u0026gt; userList = new ArrayList\u0026lt;\u0026gt;();//é›†åˆå¯¹è±¡ï¼ˆç”¨äºå­˜å‚¨Userå¯¹è±¡ï¼‰ //4. å¤„ç†SQLæ‰§è¡Œç»“æœ while (rs.next()){ //å–å‡ºä¸€è¡Œè®°å½•ä¸­idã€nameã€ageã€genderã€phoneä¸‹çš„æ•°æ® int id = rs.getInt(\u0026#34;id\u0026#34;); String name = rs.getString(\u0026#34;name\u0026#34;); short age = rs.getShort(\u0026#34;age\u0026#34;); short gender = rs.getShort(\u0026#34;gender\u0026#34;); String phone = rs.getString(\u0026#34;phone\u0026#34;); //æŠŠä¸€è¡Œè®°å½•ä¸­çš„æ•°æ®ï¼Œå°è£…åˆ°Userå¯¹è±¡ä¸­ User user = new User(id,name,age,gender,phone); userList.add(user);//Userå¯¹è±¡æ·»åŠ åˆ°é›†åˆ } //5. é‡Šæ”¾èµ„æº statement.close(); connection.close(); rs.close(); //éå†é›†åˆ for (User user : userList) { System.out.println(user); } } } DriverManager(ç±»)ï¼šæ•°æ®åº“é©±åŠ¨ç®¡ç†ç±»ã€‚\nä½œç”¨ï¼š\næ³¨å†Œé©±åŠ¨\nåˆ›å»ºjavaä»£ç å’Œæ•°æ®åº“ä¹‹é—´çš„è¿æ¥ï¼Œå³è·å–Connectionå¯¹è±¡\nConnection(æ¥å£)ï¼šå»ºç«‹æ•°æ®åº“è¿æ¥çš„å¯¹è±¡\nä½œç”¨ï¼šç”¨äºå»ºç«‹javaç¨‹åºå’Œæ•°æ®åº“ä¹‹é—´çš„è¿æ¥ Statement(æ¥å£)ï¼š æ•°æ®åº“æ“ä½œå¯¹è±¡(æ‰§è¡ŒSQLè¯­å¥çš„å¯¹è±¡)ã€‚\nä½œç”¨ï¼šç”¨äºå‘æ•°æ®åº“å‘é€sqlè¯­å¥ ResultSet(æ¥å£)ï¼šç»“æœé›†å¯¹è±¡ï¼ˆä¸€å¼ è™šæ‹Ÿè¡¨ï¼‰\nä½œç”¨ï¼šsqlæŸ¥è¯¢è¯­å¥çš„æ‰§è¡Œç»“æœä¼šå°è£…åœ¨ResultSetä¸­ é€šè¿‡ä¸Šè¿°ä»£ç ï¼Œæˆ‘ä»¬çœ‹åˆ°ç›´æ¥åŸºäºJDBCç¨‹åºæ¥æ“ä½œæ•°æ®åº“ï¼Œä»£ç å®ç°éå¸¸ç¹çï¼Œæ‰€ä»¥åœ¨é¡¹ç›®å¼€å‘ä¸­ï¼Œæˆ‘ä»¬å¾ˆå°‘ä½¿ç”¨ã€‚ åœ¨é¡¹ç›®å¼€å‘ä¸­ï¼Œé€šå¸¸ä¼šä½¿ç”¨Mybatisè¿™ç±»çš„é«˜çº§æŠ€æœ¯æ¥æ“ä½œæ•°æ®åº“ï¼Œä»è€Œç®€åŒ–æ•°æ®åº“æ“ä½œã€æé«˜å¼€å‘æ•ˆç‡ã€‚\n2.3 é—®é¢˜åˆ†æ åŸå§‹çš„JDBCç¨‹åºï¼Œå­˜åœ¨ä»¥ä¸‹å‡ ç‚¹é—®é¢˜ï¼š\næ•°æ®åº“é“¾æ¥çš„å››è¦ç´ (é©±åŠ¨ã€é“¾æ¥ã€ç”¨æˆ·åã€å¯†ç )å…¨éƒ¨ç¡¬ç¼–ç åœ¨javaä»£ç ä¸­ æŸ¥è¯¢ç»“æœçš„è§£æåŠå°è£…éå¸¸ç¹ç æ¯ä¸€æ¬¡æŸ¥è¯¢æ•°æ®åº“éƒ½éœ€è¦è·å–è¿æ¥,æ“ä½œå®Œæ¯•åé‡Šæ”¾è¿æ¥, èµ„æºæµªè´¹, æ€§èƒ½é™ä½ 2.4 æŠ€æœ¯å¯¹æ¯” åˆ†æäº†JDBCçš„ç¼ºç‚¹ä¹‹åï¼Œæˆ‘ä»¬å†æ¥çœ‹ä¸€ä¸‹åœ¨mybatisä¸­ï¼Œæ˜¯å¦‚ä½•è§£å†³è¿™äº›é—®é¢˜çš„ï¼š\næ•°æ®åº“è¿æ¥å››è¦ç´ (é©±åŠ¨ã€é“¾æ¥ã€ç”¨æˆ·åã€å¯†ç )ï¼Œéƒ½é…ç½®åœ¨springbooté»˜è®¤çš„é…ç½®æ–‡ä»¶ application.propertiesä¸­\næŸ¥è¯¢ç»“æœçš„è§£æåŠå°è£…ï¼Œç”±mybatisè‡ªåŠ¨å®Œæˆæ˜ å°„å°è£…ï¼Œæˆ‘ä»¬æ— éœ€å…³æ³¨\nåœ¨mybatisä¸­ä½¿ç”¨äº†æ•°æ®åº“è¿æ¥æ± æŠ€æœ¯ï¼Œä»è€Œé¿å…äº†é¢‘ç¹çš„åˆ›å»ºè¿æ¥ã€é”€æ¯è¿æ¥è€Œå¸¦æ¥çš„èµ„æºæµªè´¹ã€‚\nä½¿ç”¨SpringBoot+Mybatisçš„æ–¹å¼æ“ä½œæ•°æ®åº“ï¼Œèƒ½å¤Ÿæå‡å¼€å‘æ•ˆç‡ã€é™ä½èµ„æºæµªè´¹\nè€Œå¯¹äºMybatisæ¥è¯´ï¼Œæˆ‘ä»¬åœ¨å¼€å‘æŒä¹…å±‚ç¨‹åºæ“ä½œæ•°æ®åº“æ—¶ï¼Œéœ€è¦é‡ç‚¹å…³æ³¨ä»¥ä¸‹ä¸¤ä¸ªæ–¹é¢ï¼š\napplication.properties\n1 2 3 4 5 6 7 8 #é©±åŠ¨ç±»åç§° spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver #æ•°æ®åº“è¿æ¥çš„url spring.datasource.url=jdbc:mysql://localhost:3306/mybatis #è¿æ¥æ•°æ®åº“çš„ç”¨æˆ·å spring.datasource.username=root #è¿æ¥æ•°æ®åº“çš„å¯†ç  spring.datasource.password=1234 Mapperæ¥å£ï¼ˆç¼–å†™SQLè¯­å¥ï¼‰\n1 2 3 4 5 @Mapper public interface UserMapper { @Select(\u0026#34;select id, name, age, gender, phone from user\u0026#34;) public List\u0026lt;User\u0026gt; list(); } 3. æ•°æ®åº“è¿æ¥æ±  åœ¨å‰é¢æˆ‘ä»¬æ‰€è®²è§£çš„mybatisä¸­ï¼Œä½¿ç”¨äº†æ•°æ®åº“è¿æ¥æ± æŠ€æœ¯ï¼Œé¿å…é¢‘ç¹çš„åˆ›å»ºè¿æ¥ã€é”€æ¯è¿æ¥è€Œå¸¦æ¥çš„èµ„æºæµªè´¹ã€‚\nä¸‹é¢æˆ‘ä»¬å°±å…·ä½“çš„äº†è§£ä¸‹æ•°æ®åº“è¿æ¥æ± ã€‚\n3.1 ä»‹ç» æ²¡æœ‰ä½¿ç”¨æ•°æ®åº“è¿æ¥æ± ï¼š\nå®¢æˆ·ç«¯æ‰§è¡ŒSQLè¯­å¥ï¼šè¦å…ˆåˆ›å»ºä¸€ä¸ªæ–°çš„è¿æ¥å¯¹è±¡ï¼Œç„¶åæ‰§è¡ŒSQLè¯­å¥ï¼ŒSQLè¯­å¥æ‰§è¡Œååˆéœ€è¦å…³é—­è¿æ¥å¯¹è±¡ä»è€Œé‡Šæ”¾èµ„æºï¼Œæ¯æ¬¡æ‰§è¡ŒSQLæ—¶éƒ½éœ€è¦åˆ›å»ºè¿æ¥ã€é”€æ¯é“¾æ¥ï¼Œè¿™ç§é¢‘ç¹çš„é‡å¤åˆ›å»ºé”€æ¯çš„è¿‡ç¨‹æ˜¯æ¯”è¾ƒè€—è´¹è®¡ç®—æœºçš„æ€§èƒ½ã€‚ æ•°æ®åº“è¿æ¥æ± æ˜¯ä¸ªå®¹å™¨ï¼Œè´Ÿè´£åˆ†é…ã€ç®¡ç†æ•°æ®åº“è¿æ¥(Connection)\nç¨‹åºåœ¨å¯åŠ¨æ—¶ï¼Œä¼šåœ¨æ•°æ®åº“è¿æ¥æ± (å®¹å™¨)ä¸­ï¼Œåˆ›å»ºä¸€å®šæ•°é‡çš„Connectionå¯¹è±¡ å…è®¸åº”ç”¨ç¨‹åºé‡å¤ä½¿ç”¨ä¸€ä¸ªç°æœ‰çš„æ•°æ®åº“è¿æ¥ï¼Œè€Œä¸æ˜¯å†é‡æ–°å»ºç«‹ä¸€ä¸ª\nå®¢æˆ·ç«¯åœ¨æ‰§è¡ŒSQLæ—¶ï¼Œå…ˆä»è¿æ¥æ± ä¸­è·å–ä¸€ä¸ªConnectionå¯¹è±¡ï¼Œç„¶ååœ¨æ‰§è¡ŒSQLè¯­å¥ï¼ŒSQLè¯­å¥æ‰§è¡Œå®Œä¹‹åï¼Œé‡Šæ”¾Connectionæ—¶å°±ä¼šæŠŠConnectionå¯¹è±¡å½’è¿˜ç»™è¿æ¥æ± ï¼ˆConnectionå¯¹è±¡å¯ä»¥å¤ç”¨ï¼‰ é‡Šæ”¾ç©ºé—²æ—¶é—´è¶…è¿‡æœ€å¤§ç©ºé—²æ—¶é—´çš„è¿æ¥ï¼Œæ¥é¿å…å› ä¸ºæ²¡æœ‰é‡Šæ”¾è¿æ¥è€Œå¼•èµ·çš„æ•°æ®åº“è¿æ¥é—æ¼\nå®¢æˆ·ç«¯è·å–åˆ°Connectionå¯¹è±¡äº†ï¼Œä½†æ˜¯Connectionå¯¹è±¡å¹¶æ²¡æœ‰å»è®¿é—®æ•°æ®åº“(å¤„äºç©ºé—²)ï¼Œæ•°æ®åº“è¿æ¥æ± å‘ç°Connectionå¯¹è±¡çš„ç©ºé—²æ—¶é—´ \u0026gt; è¿æ¥æ± ä¸­é¢„è®¾çš„æœ€å¤§ç©ºé—²æ—¶é—´ï¼Œæ­¤æ—¶æ•°æ®åº“è¿æ¥æ± å°±ä¼šè‡ªåŠ¨é‡Šæ”¾æ‰è¿™ä¸ªè¿æ¥å¯¹è±¡ æ•°æ®åº“è¿æ¥æ± çš„å¥½å¤„ï¼š\nèµ„æºé‡ç”¨ æå‡ç³»ç»Ÿå“åº”é€Ÿåº¦ é¿å…æ•°æ®åº“è¿æ¥é—æ¼ 3.2 äº§å“ è¦æ€ä¹ˆæ ·å®ç°æ•°æ®åº“è¿æ¥æ± å‘¢ï¼Ÿ\nå®˜æ–¹(sun)æä¾›äº†æ•°æ®åº“è¿æ¥æ± æ ‡å‡†ï¼ˆjavax.sql.DataSourceæ¥å£ï¼‰\nåŠŸèƒ½ï¼šè·å–è¿æ¥\n1 public Connection getConnection() throws SQLException; ç¬¬ä¸‰æ–¹ç»„ç»‡å¿…é¡»æŒ‰ç…§DataSourceæ¥å£å®ç°\nå¸¸è§çš„æ•°æ®åº“è¿æ¥æ± ï¼š\nC3P0 DBCP Druid Hikari (springbooté»˜è®¤) ç°åœ¨ä½¿ç”¨æ›´å¤šçš„æ˜¯ï¼šHikariã€Druid ï¼ˆæ€§èƒ½æ›´ä¼˜è¶Šï¼‰\nHikariï¼ˆè¿½å…‰è€…ï¼‰ [é»˜è®¤çš„è¿æ¥æ± ] Druidï¼ˆå¾·é²ä¼Šï¼‰\nDruidè¿æ¥æ± æ˜¯é˜¿é‡Œå·´å·´å¼€æºçš„æ•°æ®åº“è¿æ¥æ± é¡¹ç›®\nåŠŸèƒ½å¼ºå¤§ï¼Œæ€§èƒ½ä¼˜ç§€ï¼Œæ˜¯Javaè¯­è¨€æœ€å¥½çš„æ•°æ®åº“è¿æ¥æ± ä¹‹ä¸€\nâ€‹\nå¦‚æœæˆ‘ä»¬æƒ³æŠŠé»˜è®¤çš„æ•°æ®åº“è¿æ¥æ± åˆ‡æ¢ä¸ºDruidæ•°æ®åº“è¿æ¥æ± ï¼Œåªéœ€è¦å®Œæˆä»¥ä¸‹ä¸¤æ­¥æ“ä½œå³å¯ï¼š\nå‚è€ƒå®˜æ–¹åœ°å€ï¼šhttps://github.com/alibaba/druid/tree/master/druid-spring-boot-starter\nåœ¨pom.xmlæ–‡ä»¶ä¸­å¼•å…¥ä¾èµ– 1 2 3 4 5 6 \u0026lt;dependency\u0026gt; \u0026lt;!-- Druidè¿æ¥æ± ä¾èµ– --\u0026gt; \u0026lt;groupId\u0026gt;com.alibaba\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;druid-spring-boot-starter\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;1.2.8\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; åœ¨application.propertiesä¸­å¼•å…¥æ•°æ®åº“è¿æ¥é…ç½® æ–¹å¼1ï¼š\n1 2 3 4 spring.datasource.druid.driver-class-name=com.mysql.cj.jdbc.Driver spring.datasource.druid.url=jdbc:mysql://localhost:3306/mybatis spring.datasource.druid.username=root spring.datasource.druid.password=1234 æ–¹å¼2ï¼š\n1 2 3 4 spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver spring.datasource.url=jdbc:mysql://localhost:3306/mybatis spring.datasource.username=root spring.datasource.password=1234 4. lombok 4.1 ä»‹ç» Lombokæ˜¯ä¸€ä¸ªå®ç”¨çš„Javaç±»åº“ï¼Œå¯ä»¥é€šè¿‡ç®€å•çš„æ³¨è§£æ¥ç®€åŒ–å’Œæ¶ˆé™¤ä¸€äº›å¿…é¡»æœ‰ä½†æ˜¾å¾—å¾ˆè‡ƒè‚¿çš„Javaä»£ç ã€‚\né€šè¿‡æ³¨è§£çš„å½¢å¼è‡ªåŠ¨ç”Ÿæˆæ„é€ å™¨ã€getter/setterã€equalsã€hashcodeã€toStringç­‰æ–¹æ³•ï¼Œå¹¶å¯ä»¥è‡ªåŠ¨åŒ–ç”Ÿæˆæ—¥å¿—å˜é‡ï¼Œç®€åŒ–javaå¼€å‘ã€æé«˜æ•ˆç‡ã€‚\næ³¨è§£ ä½œç”¨ @Getter/@Setter ä¸ºæ‰€æœ‰çš„å±æ€§æä¾›get/setæ–¹æ³• @ToString ä¼šç»™ç±»è‡ªåŠ¨ç”Ÿæˆæ˜“é˜…è¯»çš„ toString æ–¹æ³• @EqualsAndHashCode æ ¹æ®ç±»æ‰€æ‹¥æœ‰çš„éé™æ€å­—æ®µè‡ªåŠ¨é‡å†™ equals æ–¹æ³•å’Œ hashCode æ–¹æ³• @Data æä¾›äº†æ›´ç»¼åˆçš„ç”Ÿæˆä»£ç åŠŸèƒ½ï¼ˆ@Getter + @Setter + @ToString + @EqualsAndHashCodeï¼‰ @NoArgsConstructor ä¸ºå®ä½“ç±»ç”Ÿæˆæ— å‚çš„æ„é€ å™¨æ–¹æ³• @AllArgsConstructor ä¸ºå®ä½“ç±»ç”Ÿæˆé™¤äº†staticä¿®é¥°çš„å­—æ®µä¹‹å¤–å¸¦æœ‰å„å‚æ•°çš„æ„é€ å™¨æ–¹æ³•ã€‚ 4.2 ä½¿ç”¨ ç¬¬1æ­¥ï¼šåœ¨pom.xmlæ–‡ä»¶ä¸­å¼•å…¥ä¾èµ–\n1 2 3 4 5 \u0026lt;!-- åœ¨springbootçš„çˆ¶å·¥ç¨‹ä¸­ï¼Œå·²ç»é›†æˆäº†lombokå¹¶æŒ‡å®šäº†ç‰ˆæœ¬å·ï¼Œæ•…å½“å‰å¼•å…¥ä¾èµ–æ—¶ä¸éœ€è¦æŒ‡å®šversion --\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.projectlombok\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;lombok\u0026lt;/artifactId\u0026gt; \u0026lt;/dependency\u0026gt; ç¬¬2æ­¥ï¼šåœ¨å®ä½“ç±»ä¸Šæ·»åŠ æ³¨è§£\n1 2 3 4 5 6 7 8 9 10 import lombok.Data; @Data public class User { private Integer id; private String name; private Short age; private Short gender; private String phone; } åœ¨å®ä½“ç±»ä¸Šæ·»åŠ äº†@Dataæ³¨è§£ï¼Œé‚£ä¹ˆè¿™ä¸ªç±»åœ¨ç¼–è¯‘æ—¶æœŸï¼Œå°±ä¼šç”Ÿæˆgetter/setterã€equalsã€hashcodeã€toStringç­‰æ–¹æ³•ã€‚\nè¯´æ˜ï¼š@Dataæ³¨è§£ä¸­ä¸åŒ…å«å…¨å‚æ„é€ æ–¹æ³•ï¼Œé€šå¸¸åœ¨å®ä½“ç±»ä¸Šï¼Œè¿˜ä¼šæ·»åŠ ä¸Šï¼šå…¨å‚æ„é€ ã€æ— å‚æ„é€ \n1 2 3 4 5 6 7 8 9 10 11 12 import lombok.Data; @Data //getteræ–¹æ³•ã€setteræ–¹æ³•ã€toStringæ–¹æ³•ã€hashCodeæ–¹æ³•ã€equalsæ–¹æ³• @NoArgsConstructor //æ— å‚æ„é€  @AllArgsConstructor//å…¨å‚æ„é€  public class User { private Integer id; private String name; private Short age; private Short gender; private String phone; } Lombokçš„æ³¨æ„äº‹é¡¹ï¼š\nLombokä¼šåœ¨ç¼–è¯‘æ—¶ï¼Œä¼šè‡ªåŠ¨ç”Ÿæˆå¯¹åº”çš„javaä»£ç  åœ¨ä½¿ç”¨lombokæ—¶ï¼Œè¿˜éœ€è¦å®‰è£…ä¸€ä¸ªlombokçš„æ’ä»¶ï¼ˆæ–°ç‰ˆæœ¬çš„IDEAä¸­è‡ªå¸¦ï¼‰ or\n","date":"0001-01-01T00:00:00Z","permalink":"http://localhost:1313/p/","title":""},{"content":"1. MybatisåŸºç¡€æ“ä½œ å­¦ä¹ å®Œmybatiså…¥é—¨åï¼Œæˆ‘ä»¬ç»§ç»­å­¦ä¹ mybatisåŸºç¡€æ“ä½œã€‚\n1.1 éœ€æ±‚ éœ€æ±‚è¯´æ˜ï¼š\næ ¹æ®èµ„æ–™ä¸­æä¾›çš„ã€Štliasæ™ºèƒ½å­¦ä¹ è¾…åŠ©ç³»ç»Ÿã€‹é¡µé¢åŸå‹åŠéœ€æ±‚ï¼Œå®Œæˆå‘˜å·¥ç®¡ç†çš„éœ€æ±‚å¼€å‘ã€‚ é€šè¿‡åˆ†æä»¥ä¸Šçš„é¡µé¢åŸå‹å’Œéœ€æ±‚ï¼Œæˆ‘ä»¬ç¡®å®šäº†åŠŸèƒ½åˆ—è¡¨ï¼š\næŸ¥è¯¢\næ ¹æ®ä¸»é”®IDæŸ¥è¯¢ æ¡ä»¶æŸ¥è¯¢ æ–°å¢\næ›´æ–°\nåˆ é™¤\næ ¹æ®ä¸»é”®IDåˆ é™¤ æ ¹æ®ä¸»é”®IDæ‰¹é‡åˆ é™¤ 1.2 å‡†å¤‡ å®æ–½å‰çš„å‡†å¤‡å·¥ä½œï¼š\nå‡†å¤‡æ•°æ®åº“è¡¨ åˆ›å»ºä¸€ä¸ªæ–°çš„springbootå·¥ç¨‹ï¼Œé€‰æ‹©å¼•å…¥å¯¹åº”çš„èµ·æ­¥ä¾èµ–ï¼ˆmybatisã€mysqlé©±åŠ¨ã€lombokï¼‰ application.propertiesä¸­å¼•å…¥æ•°æ®åº“è¿æ¥ä¿¡æ¯ åˆ›å»ºå¯¹åº”çš„å®ä½“ç±» Empï¼ˆå®ä½“ç±»å±æ€§é‡‡ç”¨é©¼å³°å‘½åï¼‰ å‡†å¤‡Mapperæ¥å£ EmpMapper å‡†å¤‡æ•°æ®åº“è¡¨\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 -- éƒ¨é—¨ç®¡ç† create table dept ( id int unsigned primary key auto_increment comment \u0026#39;ä¸»é”®ID\u0026#39;, name varchar(10) not null unique comment \u0026#39;éƒ¨é—¨åç§°\u0026#39;, create_time datetime not null comment \u0026#39;åˆ›å»ºæ—¶é—´\u0026#39;, update_time datetime not null comment \u0026#39;ä¿®æ”¹æ—¶é—´\u0026#39; ) comment \u0026#39;éƒ¨é—¨è¡¨\u0026#39;; -- éƒ¨é—¨è¡¨æµ‹è¯•æ•°æ® insert into dept (id, name, create_time, update_time) values (1, \u0026#39;å­¦å·¥éƒ¨\u0026#39;, now(), now()), (2, \u0026#39;æ•™ç ”éƒ¨\u0026#39;, now(), now()), (3, \u0026#39;å’¨è¯¢éƒ¨\u0026#39;, now(), now()), (4, \u0026#39;å°±ä¸šéƒ¨\u0026#39;, now(), now()), (5, \u0026#39;äººäº‹éƒ¨\u0026#39;, now(), now()); -- å‘˜å·¥ç®¡ç† create table emp ( id int unsigned primary key auto_increment comment \u0026#39;ID\u0026#39;, username varchar(20) not null unique comment \u0026#39;ç”¨æˆ·å\u0026#39;, password varchar(32) default \u0026#39;123456\u0026#39; comment \u0026#39;å¯†ç \u0026#39;, name varchar(10) not null comment \u0026#39;å§“å\u0026#39;, gender tinyint unsigned not null comment \u0026#39;æ€§åˆ«, è¯´æ˜: 1 ç”·, 2 å¥³\u0026#39;, image varchar(300) comment \u0026#39;å›¾åƒ\u0026#39;, job tinyint unsigned comment \u0026#39;èŒä½, è¯´æ˜: 1 ç­ä¸»ä»»,2 è®²å¸ˆ, 3 å­¦å·¥ä¸»ç®¡, 4 æ•™ç ”ä¸»ç®¡, 5 å’¨è¯¢å¸ˆ\u0026#39;, entrydate date comment \u0026#39;å…¥èŒæ—¶é—´\u0026#39;, dept_id int unsigned comment \u0026#39;éƒ¨é—¨ID\u0026#39;, create_time datetime not null comment \u0026#39;åˆ›å»ºæ—¶é—´\u0026#39;, update_time datetime not null comment \u0026#39;ä¿®æ”¹æ—¶é—´\u0026#39; ) comment \u0026#39;å‘˜å·¥è¡¨\u0026#39;; -- å‘˜å·¥è¡¨æµ‹è¯•æ•°æ® INSERT INTO emp (id, username, password, name, gender, image, job, entrydate, dept_id, create_time, update_time) VALUES (1, \u0026#39;jinyong\u0026#39;, \u0026#39;123456\u0026#39;, \u0026#39;é‡‘åº¸\u0026#39;, 1, \u0026#39;1.jpg\u0026#39;, 4, \u0026#39;2000-01-01\u0026#39;, 2, now(), now()), (2, \u0026#39;zhangwuji\u0026#39;, \u0026#39;123456\u0026#39;, \u0026#39;å¼ æ— å¿Œ\u0026#39;, 1, \u0026#39;2.jpg\u0026#39;, 2, \u0026#39;2015-01-01\u0026#39;, 2, now(), now()), (3, \u0026#39;yangxiao\u0026#39;, \u0026#39;123456\u0026#39;, \u0026#39;æ¨é€\u0026#39;, 1, \u0026#39;3.jpg\u0026#39;, 2, \u0026#39;2008-05-01\u0026#39;, 2, now(), now()), (4, \u0026#39;weiyixiao\u0026#39;, \u0026#39;123456\u0026#39;, \u0026#39;éŸ¦ä¸€ç¬‘\u0026#39;, 1, \u0026#39;4.jpg\u0026#39;, 2, \u0026#39;2007-01-01\u0026#39;, 2, now(), now()), (5, \u0026#39;changyuchun\u0026#39;, \u0026#39;123456\u0026#39;, \u0026#39;å¸¸é‡æ˜¥\u0026#39;, 1, \u0026#39;5.jpg\u0026#39;, 2, \u0026#39;2012-12-05\u0026#39;, 2, now(), now()), (6, \u0026#39;xiaozhao\u0026#39;, \u0026#39;123456\u0026#39;, \u0026#39;å°æ˜­\u0026#39;, 2, \u0026#39;6.jpg\u0026#39;, 3, \u0026#39;2013-09-05\u0026#39;, 1, now(), now()), (7, \u0026#39;jixiaofu\u0026#39;, \u0026#39;123456\u0026#39;, \u0026#39;çºªæ™“èŠ™\u0026#39;, 2, \u0026#39;7.jpg\u0026#39;, 1, \u0026#39;2005-08-01\u0026#39;, 1, now(), now()), (8, \u0026#39;zhouzhiruo\u0026#39;, \u0026#39;123456\u0026#39;, \u0026#39;å‘¨èŠ·è‹¥\u0026#39;, 2, \u0026#39;8.jpg\u0026#39;, 1, \u0026#39;2014-11-09\u0026#39;, 1, now(), now()), (9, \u0026#39;dingminjun\u0026#39;, \u0026#39;123456\u0026#39;, \u0026#39;ä¸æ•å›\u0026#39;, 2, \u0026#39;9.jpg\u0026#39;, 1, \u0026#39;2011-03-11\u0026#39;, 1, now(), now()), (10, \u0026#39;zhaomin\u0026#39;, \u0026#39;123456\u0026#39;, \u0026#39;èµµæ•\u0026#39;, 2, \u0026#39;10.jpg\u0026#39;, 1, \u0026#39;2013-09-05\u0026#39;, 1, now(), now()), (11, \u0026#39;luzhangke\u0026#39;, \u0026#39;123456\u0026#39;, \u0026#39;é¹¿æ–å®¢\u0026#39;, 1, \u0026#39;11.jpg\u0026#39;, 5, \u0026#39;2007-02-01\u0026#39;, 3, now(), now()), (12, \u0026#39;hebiweng\u0026#39;, \u0026#39;123456\u0026#39;, \u0026#39;é¹¤ç¬”ç¿\u0026#39;, 1, \u0026#39;12.jpg\u0026#39;, 5, \u0026#39;2008-08-18\u0026#39;, 3, now(), now()), (13, \u0026#39;fangdongbai\u0026#39;, \u0026#39;123456\u0026#39;, \u0026#39;æ–¹ä¸œç™½\u0026#39;, 1, \u0026#39;13.jpg\u0026#39;, 5, \u0026#39;2012-11-01\u0026#39;, 3, now(), now()), (14, \u0026#39;zhangsanfeng\u0026#39;, \u0026#39;123456\u0026#39;, \u0026#39;å¼ ä¸‰ä¸°\u0026#39;, 1, \u0026#39;14.jpg\u0026#39;, 2, \u0026#39;2002-08-01\u0026#39;, 2, now(), now()), (15, \u0026#39;yulianzhou\u0026#39;, \u0026#39;123456\u0026#39;, \u0026#39;ä¿è²èˆŸ\u0026#39;, 1, \u0026#39;15.jpg\u0026#39;, 2, \u0026#39;2011-05-01\u0026#39;, 2, now(), now()), (16, \u0026#39;songyuanqiao\u0026#39;, \u0026#39;123456\u0026#39;, \u0026#39;å®‹è¿œæ¡¥\u0026#39;, 1, \u0026#39;16.jpg\u0026#39;, 2, \u0026#39;2010-01-01\u0026#39;, 2, now(), now()), (17, \u0026#39;chenyouliang\u0026#39;, \u0026#39;123456\u0026#39;, \u0026#39;é™ˆå‹è°…\u0026#39;, 1, \u0026#39;17.jpg\u0026#39;, NULL, \u0026#39;2015-03-21\u0026#39;, NULL, now(), now()); åˆ›å»ºä¸€ä¸ªæ–°çš„springbootå·¥ç¨‹ï¼Œé€‰æ‹©å¼•å…¥å¯¹åº”çš„èµ·æ­¥ä¾èµ–ï¼ˆmybatisã€mysqlé©±åŠ¨ã€lombokï¼‰\napplication.propertiesä¸­å¼•å…¥æ•°æ®åº“è¿æ¥ä¿¡æ¯\næç¤ºï¼šå¯ä»¥æŠŠä¹‹å‰é¡¹ç›®ä¸­å·²æœ‰çš„é…ç½®ä¿¡æ¯å¤åˆ¶è¿‡æ¥å³å¯\n1 2 3 4 5 6 7 8 #é©±åŠ¨ç±»åç§° spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver #æ•°æ®åº“è¿æ¥çš„url spring.datasource.url=jdbc:mysql://localhost:3306/mybatis #è¿æ¥æ•°æ®åº“çš„ç”¨æˆ·å spring.datasource.username=root #è¿æ¥æ•°æ®åº“çš„å¯†ç  spring.datasource.password=1234 åˆ›å»ºå¯¹åº”çš„å®ä½“ç±»Empï¼ˆå®ä½“ç±»å±æ€§é‡‡ç”¨é©¼å³°å‘½åï¼‰\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 @Data @NoArgsConstructor @AllArgsConstructor public class Emp { private Integer id; private String username; private String password; private String name; private Short gender; private String image; private Short job; private LocalDate entrydate; //LocalDateç±»å‹å¯¹åº”æ•°æ®è¡¨ä¸­çš„dateç±»å‹ private Integer deptId; private LocalDateTime createTime;//LocalDateTimeç±»å‹å¯¹åº”æ•°æ®è¡¨ä¸­çš„datetimeç±»å‹ private LocalDateTime updateTime; } å‡†å¤‡Mapperæ¥å£ï¼šEmpMapper\n1 2 3 4 5 6 7 /*@Mapperæ³¨è§£ï¼šè¡¨ç¤ºå½“å‰æ¥å£ä¸ºmybatisä¸­çš„Mapperæ¥å£ ç¨‹åºè¿è¡Œæ—¶ä¼šè‡ªåŠ¨åˆ›å»ºæ¥å£çš„å®ç°ç±»å¯¹è±¡(ä»£ç†å¯¹è±¡)ï¼Œå¹¶äº¤ç»™Springçš„IOCå®¹å™¨ç®¡ç† */ @Mapper public interface EmpMapper { } å®Œæˆä»¥ä¸Šæ“ä½œåï¼Œé¡¹ç›®å·¥ç¨‹ç»“æ„ç›®å½•å¦‚ä¸‹ï¼š\n1.3 åˆ é™¤ 1.3.1 åŠŸèƒ½å®ç° é¡µé¢åŸå‹ï¼š\nå½“æˆ‘ä»¬ç‚¹å‡»åé¢çš„\u0026quot;åˆ é™¤\u0026quot;æŒ‰é’®æ—¶ï¼Œå‰ç«¯é¡µé¢ä¼šç»™æœåŠ¡ç«¯ä¼ é€’ä¸€ä¸ªå‚æ•°ï¼Œä¹Ÿå°±æ˜¯è¯¥è¡Œæ•°æ®çš„IDã€‚ æˆ‘ä»¬æ¥æ”¶åˆ°IDåï¼Œæ ¹æ®IDåˆ é™¤æ•°æ®å³å¯ã€‚\nåŠŸèƒ½ï¼šæ ¹æ®ä¸»é”®åˆ é™¤æ•°æ®\nSQLè¯­å¥ 1 2 -- åˆ é™¤id=17çš„æ•°æ® delete from emp where id = 17; Mybatisæ¡†æ¶è®©ç¨‹åºå‘˜æ›´å…³æ³¨äºSQLè¯­å¥\næ¥å£æ–¹æ³• 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 @Mapper public interface EmpMapper { //@Delete(\u0026#34;delete from emp where id = 17\u0026#34;) //public void delete(); //ä»¥ä¸Šdeleteæ“ä½œçš„SQLè¯­å¥ä¸­çš„idå€¼å†™æˆå›ºå®šçš„17ï¼Œå°±è¡¨ç¤ºåªèƒ½åˆ é™¤id=17çš„ç”¨æˆ·æ•°æ® //SQLè¯­å¥ä¸­çš„idå€¼ä¸èƒ½å†™æˆå›ºå®šæ•°å€¼ï¼Œéœ€è¦å˜ä¸ºåŠ¨æ€çš„æ•°å€¼ //è§£å†³æ–¹æ¡ˆï¼šåœ¨deleteæ–¹æ³•ä¸­æ·»åŠ ä¸€ä¸ªå‚æ•°(ç”¨æˆ·id)ï¼Œå°†æ–¹æ³•ä¸­çš„å‚æ•°ï¼Œä¼ ç»™SQLè¯­å¥ /** * æ ¹æ®idåˆ é™¤æ•°æ® * @param id ç”¨æˆ·id */ @Delete(\u0026#34;delete from emp where id = #{id}\u0026#34;)//ä½¿ç”¨#{key}æ–¹å¼è·å–æ–¹æ³•ä¸­çš„å‚æ•°å€¼ public void delete(Integer id); } @Deleteæ³¨è§£ï¼šç”¨äºç¼–å†™deleteæ“ä½œçš„SQLè¯­å¥\nå¦‚æœmapperæ¥å£æ–¹æ³•å½¢å‚åªæœ‰ä¸€ä¸ªæ™®é€šç±»å‹çš„å‚æ•°ï¼Œ#{â€¦} é‡Œé¢çš„å±æ€§åå¯ä»¥éšä¾¿å†™ï¼Œå¦‚ï¼š#{id}ã€#{value}ã€‚ä½†æ˜¯å»ºè®®ä¿æŒåå­—ä¸€è‡´ã€‚\næµ‹è¯• åœ¨å•å…ƒæµ‹è¯•ç±»ä¸­é€šè¿‡@Autowiredæ³¨è§£æ³¨å…¥EmpMapperç±»å‹å¯¹è±¡ 1 2 3 4 5 6 7 8 9 10 11 12 @SpringBootTest class SpringbootMybatisCrudApplicationTests { @Autowired //ä»Springçš„IOCå®¹å™¨ä¸­ï¼Œè·å–ç±»å‹æ˜¯EmpMapperçš„å¯¹è±¡å¹¶æ³¨å…¥ private EmpMapper empMapper; @Test public void testDel(){ //è°ƒç”¨åˆ é™¤æ–¹æ³• empMapper.delete(16); } } 1.3.2 æ—¥å¿—è¾“å…¥ åœ¨Mybatiså½“ä¸­æˆ‘ä»¬å¯ä»¥å€ŸåŠ©æ—¥å¿—ï¼ŒæŸ¥çœ‹åˆ°sqlè¯­å¥çš„æ‰§è¡Œã€æ‰§è¡Œä¼ é€’çš„å‚æ•°ä»¥åŠæ‰§è¡Œç»“æœã€‚å…·ä½“æ“ä½œå¦‚ä¸‹ï¼š\næ‰“å¼€application.propertiesæ–‡ä»¶\nå¼€å¯mybatisçš„æ—¥å¿—ï¼Œå¹¶æŒ‡å®šè¾“å‡ºåˆ°æ§åˆ¶å°\n1 2 #æŒ‡å®šmybatisè¾“å‡ºæ—¥å¿—çš„ä½ç½®, è¾“å‡ºæ§åˆ¶å° mybatis.configuration.log-impl=org.apache.ibatis.logging.stdout.StdOutImpl å¼€å¯æ—¥å¿—ä¹‹åï¼Œæˆ‘ä»¬å†æ¬¡è¿è¡Œå•å…ƒæµ‹è¯•ï¼Œå¯ä»¥çœ‹åˆ°åœ¨æ§åˆ¶å°ä¸­ï¼Œè¾“å‡ºäº†ä»¥ä¸‹çš„SQLè¯­å¥ä¿¡æ¯ï¼š\nä½†æ˜¯æˆ‘ä»¬å‘ç°è¾“å‡ºçš„SQLè¯­å¥ï¼šdelete from emp where id = ?ï¼Œæˆ‘ä»¬è¾“å…¥çš„å‚æ•°16å¹¶æ²¡æœ‰åœ¨åé¢æ‹¼æ¥ï¼Œidçš„å€¼æ˜¯ä½¿ç”¨?è¿›è¡Œå ä½ã€‚é‚£è¿™ç§SQLè¯­å¥æˆ‘ä»¬ç§°ä¸ºé¢„ç¼–è¯‘SQLã€‚\n1.3.3 é¢„ç¼–è¯‘SQL 1.3.3.1 ä»‹ç» é¢„ç¼–è¯‘SQLæœ‰ä¸¤ä¸ªä¼˜åŠ¿ï¼š\næ€§èƒ½æ›´é«˜ æ›´å®‰å…¨(é˜²æ­¢SQLæ³¨å…¥) æ€§èƒ½æ›´é«˜ï¼šé¢„ç¼–è¯‘SQLï¼Œç¼–è¯‘ä¸€æ¬¡ä¹‹åä¼šå°†ç¼–è¯‘åçš„SQLè¯­å¥ç¼“å­˜èµ·æ¥ï¼Œåé¢å†æ¬¡æ‰§è¡Œè¿™æ¡è¯­å¥æ—¶ï¼Œä¸ä¼šå†æ¬¡ç¼–è¯‘ã€‚ï¼ˆåªæ˜¯è¾“å…¥çš„å‚æ•°ä¸åŒï¼‰\næ›´å®‰å…¨(é˜²æ­¢SQLæ³¨å…¥)ï¼šå°†æ•æ„Ÿå­—è¿›è¡Œè½¬ä¹‰ï¼Œä¿éšœSQLçš„å®‰å…¨æ€§ã€‚\n1.3.3.2 SQLæ³¨å…¥ SQLæ³¨å…¥ï¼šæ˜¯é€šè¿‡æ“ä½œè¾“å…¥çš„æ•°æ®æ¥ä¿®æ”¹äº‹å…ˆå®šä¹‰å¥½çš„SQLè¯­å¥ï¼Œä»¥è¾¾åˆ°æ‰§è¡Œä»£ç å¯¹æœåŠ¡å™¨è¿›è¡Œæ”»å‡»çš„æ–¹æ³•ã€‚\nç”±äºæ²¡æœ‰å¯¹ç”¨æˆ·è¾“å…¥è¿›è¡Œå……åˆ†æ£€æŸ¥ï¼Œè€ŒSQLåˆæ˜¯æ‹¼æ¥è€Œæˆï¼Œåœ¨ç”¨æˆ·è¾“å…¥å‚æ•°æ—¶ï¼Œåœ¨å‚æ•°ä¸­æ·»åŠ ä¸€äº›SQLå…³é”®å­—ï¼Œè¾¾åˆ°æ”¹å˜SQLè¿è¡Œç»“æœçš„ç›®çš„ï¼Œä¹Ÿå¯ä»¥å®Œæˆæ¶æ„æ”»å‡»ã€‚\næµ‹è¯•1ï¼šä½¿ç”¨èµ„æ–™ä¸­æä¾›çš„ç¨‹åºï¼Œæ¥éªŒè¯SQLæ³¨å…¥é—®é¢˜\nç¬¬1æ­¥ï¼šè¿›å…¥åˆ°DOS\nç¬¬2æ­¥ï¼šæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œå¯åŠ¨ç¨‹åº\n1 2 #å¯åŠ¨å­˜åœ¨SQLæ³¨å…¥çš„ç¨‹åº java -jar sql_Injection_demo-0.0.1-SNAPSHOT.jar ç¬¬3æ­¥ï¼šæ‰“å¼€æµè§ˆå™¨è¾“å…¥http://localhost:9090/login.html\nå‘ç°ç«Ÿç„¶èƒ½å¤Ÿç™»å½•æˆåŠŸï¼š\nä»¥ä¸Šæ“ä½œä¸ºä»€ä¹ˆèƒ½å¤Ÿç™»å½•æˆåŠŸå‘¢ï¼Ÿ\nç”±äºæ²¡æœ‰å¯¹ç”¨æˆ·è¾“å…¥å†…å®¹è¿›è¡Œå……åˆ†æ£€æŸ¥ï¼Œè€ŒSQLåˆæ˜¯å­—ç¬¦ä¸²æ‹¼æ¥æ–¹å¼è€Œæˆï¼Œåœ¨ç”¨æˆ·è¾“å…¥å‚æ•°æ—¶ï¼Œåœ¨å‚æ•°ä¸­æ·»åŠ ä¸€äº›SQLå…³é”®å­—ï¼Œè¾¾åˆ°æ”¹å˜SQLè¿è¡Œç»“æœçš„ç›®çš„ï¼Œä»è€Œå®Œæˆæ¶æ„æ”»å‡»ã€‚ ç”¨æˆ·åœ¨é¡µé¢æäº¤æ•°æ®çš„æ—¶å€™äººä¸ºçš„æ·»åŠ ä¸€äº›ç‰¹æ®Šå­—ç¬¦ï¼Œä½¿å¾—sqlè¯­å¥çš„ç»“æ„å‘ç”Ÿäº†å˜åŒ–ï¼Œæœ€ç»ˆå¯ä»¥åœ¨æ²¡æœ‰ç”¨æˆ·åæˆ–è€…å¯†ç çš„æƒ…å†µä¸‹è¿›è¡Œç™»å½•ã€‚\næµ‹è¯•2ï¼šä½¿ç”¨èµ„æ–™ä¸­æä¾›çš„ç¨‹åºï¼Œæ¥éªŒè¯SQLæ³¨å…¥é—®é¢˜\nç¬¬1æ­¥ï¼šè¿›å…¥åˆ°DOS\nç¬¬2æ­¥ï¼šæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œå¯åŠ¨ç¨‹åºï¼š\n1 2 #å¯åŠ¨è§£å†³äº†SQLæ³¨å…¥çš„ç¨‹åº java -jar sql_prepared_demo-0.0.1-SNAPSHOT.jar ç¬¬3æ­¥ï¼šæ‰“å¼€æµè§ˆå™¨è¾“å…¥http://localhost:9090/login.html\nå‘ç°æ— æ³•ç™»å½•ï¼š\nä»¥ä¸Šæ“ä½œSQLè¯­å¥çš„æ‰§è¡Œï¼š\næŠŠæ•´ä¸ª' or '1'='1ä½œä¸ºä¸€ä¸ªå®Œæ•´çš„å‚æ•°ï¼Œèµ‹å€¼ç»™ç¬¬2ä¸ªé—®å·ï¼ˆ' or '1'='1è¿›è¡Œäº†è½¬ä¹‰ï¼Œåªå½“åšå­—ç¬¦ä¸²ä½¿ç”¨ï¼‰\n1.3.3.3 å‚æ•°å ä½ç¬¦ åœ¨Mybatisä¸­æä¾›çš„å‚æ•°å ä½ç¬¦æœ‰ä¸¤ç§ï¼š${\u0026hellip;} ã€#{\u0026hellip;}\n#{\u0026hellip;}\næ‰§è¡ŒSQLæ—¶ï¼Œä¼šå°†#{â€¦}æ›¿æ¢ä¸º?ï¼Œç”Ÿæˆé¢„ç¼–è¯‘SQLï¼Œä¼šè‡ªåŠ¨è®¾ç½®å‚æ•°å€¼ ä½¿ç”¨æ—¶æœºï¼šå‚æ•°ä¼ é€’ï¼Œéƒ½ä½¿ç”¨#{â€¦} ${\u0026hellip;}\næ‹¼æ¥SQLã€‚ç›´æ¥å°†å‚æ•°æ‹¼æ¥åœ¨SQLè¯­å¥ä¸­ï¼Œå­˜åœ¨SQLæ³¨å…¥é—®é¢˜ ä½¿ç”¨æ—¶æœºï¼šå¦‚æœå¯¹è¡¨åã€åˆ—è¡¨è¿›è¡ŒåŠ¨æ€è®¾ç½®æ—¶ä½¿ç”¨ æ³¨æ„äº‹é¡¹ï¼šåœ¨é¡¹ç›®å¼€å‘ä¸­ï¼Œå»ºè®®ä½¿ç”¨#{\u0026hellip;}ï¼Œç”Ÿæˆé¢„ç¼–è¯‘SQLï¼Œé˜²æ­¢SQLæ³¨å…¥å®‰å…¨ã€‚\n1.4 æ–°å¢ åŠŸèƒ½ï¼šæ–°å¢å‘˜å·¥ä¿¡æ¯\n1.4.1 åŸºæœ¬æ–°å¢ å‘˜å·¥è¡¨ç»“æ„ï¼š\nSQLè¯­å¥ï¼š\n1 insert into emp(username, name, gender, image, job, entrydate, dept_id, create_time, update_time) values (\u0026#39;songyuanqiao\u0026#39;,\u0026#39;å®‹è¿œæ¡¥\u0026#39;,1,\u0026#39;1.jpg\u0026#39;,2,\u0026#39;2012-10-09\u0026#39;,2,\u0026#39;2022-10-01 10:00:00\u0026#39;,\u0026#39;2022-10-01 10:00:00\u0026#39;); æ¥å£æ–¹æ³•ï¼š\n1 2 3 4 5 6 7 @Mapper public interface EmpMapper { @Insert(\u0026#34;insert into emp(username, name, gender, image, job, entrydate, dept_id, create_time, update_time) values (#{username}, #{name}, #{gender}, #{image}, #{job}, #{entrydate}, #{deptId}, #{createTime}, #{updateTime})\u0026#34;) public void insert(Emp emp); } è¯´æ˜ï¼š#{\u0026hellip;} é‡Œé¢å†™çš„åç§°æ˜¯å¯¹è±¡çš„å±æ€§å\næµ‹è¯•ç±»ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 import com.itheima.mapper.EmpMapper; import com.itheima.pojo.Emp; import org.junit.jupiter.api.Test; import org.springframework.beans.factory.annotation.Autowired; import org.springframework.boot.test.context.SpringBootTest; import java.time.LocalDate; import java.time.LocalDateTime; @SpringBootTest class SpringbootMybatisCrudApplicationTests { @Autowired private EmpMapper empMapper; @Test public void testInsert(){ //åˆ›å»ºå‘˜å·¥å¯¹è±¡ Emp emp = new Emp(); emp.setUsername(\u0026#34;tom\u0026#34;); emp.setName(\u0026#34;æ±¤å§†\u0026#34;); emp.setImage(\u0026#34;1.jpg\u0026#34;); emp.setGender((short)1); emp.setJob((short)1); emp.setEntrydate(LocalDate.of(2000,1,1)); emp.setCreateTime(LocalDateTime.now()); emp.setUpdateTime(LocalDateTime.now()); emp.setDeptId(1); //è°ƒç”¨æ·»åŠ æ–¹æ³• empMapper.insert(emp); } } æ—¥å¿—è¾“å‡ºï¼š\n1.4.2 ä¸»é”®è¿”å› æ¦‚å¿µï¼šåœ¨æ•°æ®æ·»åŠ æˆåŠŸåï¼Œéœ€è¦è·å–æ’å…¥æ•°æ®åº“æ•°æ®çš„ä¸»é”®ã€‚\nå¦‚ï¼šæ·»åŠ å¥—é¤æ•°æ®æ—¶ï¼Œè¿˜éœ€è¦ç»´æŠ¤å¥—é¤èœå“å…³ç³»è¡¨æ•°æ®ã€‚\nä¸šåŠ¡åœºæ™¯ï¼šåœ¨å‰é¢è®²è§£åˆ°çš„è‹ç©¹å¤–å–èœå“ä¸å¥—é¤æ¨¡å—çš„è¡¨ç»“æ„ï¼Œèœå“ä¸å¥—é¤æ˜¯å¤šå¯¹å¤šçš„å…³ç³»ï¼Œä¸€ä¸ªå¥—é¤å¯¹åº”å¤šä¸ªèœå“ã€‚æ—¢ç„¶æ˜¯å¤šå¯¹å¤šçš„å…³ç³»ï¼Œæ˜¯ä¸æ˜¯æœ‰ä¸€å¼ å¥—é¤èœå“ä¸­é—´è¡¨æ¥ç»´æŠ¤å®ƒä»¬ä¹‹é—´çš„å…³ç³»ã€‚\nåœ¨æ·»åŠ å¥—é¤çš„æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦åœ¨ç•Œé¢å½“ä¸­æ¥å½•å…¥å¥—é¤çš„åŸºæœ¬ä¿¡æ¯ï¼Œè¿˜éœ€è¦æ¥å½•å…¥å¥—é¤ä¸èœå“çš„å…³è”ä¿¡æ¯ã€‚è¿™äº›ä¿¡æ¯å½•å…¥å®Œæ¯•ä¹‹åï¼Œæˆ‘ä»¬ä¸€ç‚¹ä¿å­˜ï¼Œå°±éœ€è¦å°†å¥—é¤çš„ä¿¡æ¯ä»¥åŠå¥—é¤ä¸èœå“çš„å…³è”ä¿¡æ¯éƒ½éœ€è¦ä¿å­˜åˆ°æ•°æ®åº“å½“ä¸­ã€‚å…¶å®å…·ä½“çš„è¿‡ç¨‹åŒ…æ‹¬ä¸¤æ­¥ï¼Œé¦–å…ˆç¬¬ä¸€æ­¥å…ˆéœ€è¦å°†å¥—é¤çš„åŸºæœ¬ä¿¡æ¯ä¿å­˜äº†ï¼Œæ¥ä¸‹æ¥ç¬¬äºŒæ­¥å†æ¥ä¿å­˜å¥—é¤ä¸èœå“çš„å…³è”ä¿¡æ¯ã€‚å¥—é¤ä¸èœå“çš„å…³è”ä¿¡æ¯å°±æ˜¯å¾€ä¸­é—´è¡¨å½“ä¸­æ¥æ’å…¥æ•°æ®ï¼Œæ¥ç»´æŠ¤å®ƒä»¬ä¹‹é—´çš„å…³ç³»ã€‚è€Œä¸­é—´è¡¨å½“ä¸­æœ‰ä¸¤ä¸ªå¤–é”®å­—æ®µï¼Œä¸€ä¸ªæ˜¯èœå“çš„IDï¼Œå°±æ˜¯å½“å‰èœå“çš„IDï¼Œè¿˜æœ‰ä¸€ä¸ªå°±æ˜¯å¥—é¤çš„IDï¼Œè€Œè¿™ä¸ªå¥—é¤çš„ ID æŒ‡çš„å°±æ˜¯æ­¤æ¬¡æˆ‘æ‰€æ·»åŠ çš„å¥—é¤çš„IDï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨ç¬¬ä¸€æ­¥ä¿å­˜å®Œå¥—é¤çš„åŸºæœ¬ä¿¡æ¯ä¹‹åï¼Œå°±éœ€è¦å°†å¥—é¤çš„ä¸»é”®å€¼è¿”å›æ¥ä¾›ç¬¬äºŒæ­¥è¿›è¡Œä½¿ç”¨ã€‚è¿™ä¸ªæ—¶å€™å°±éœ€è¦ç”¨åˆ°ä¸»é”®è¿”å›åŠŸèƒ½ã€‚\né‚£è¦å¦‚ä½•å®ç°åœ¨æ’å…¥æ•°æ®ä¹‹åè¿”å›æ‰€æ’å…¥è¡Œçš„ä¸»é”®å€¼å‘¢ï¼Ÿ\né»˜è®¤æƒ…å†µä¸‹ï¼Œæ‰§è¡Œæ’å…¥æ“ä½œæ—¶ï¼Œæ˜¯ä¸ä¼šä¸»é”®å€¼è¿”å›çš„ã€‚å¦‚æœæˆ‘ä»¬æƒ³è¦æ‹¿åˆ°ä¸»é”®å€¼ï¼Œéœ€è¦åœ¨Mapperæ¥å£ä¸­çš„æ–¹æ³•ä¸Šæ·»åŠ ä¸€ä¸ªOptionsæ³¨è§£ï¼Œå¹¶åœ¨æ³¨è§£ä¸­æŒ‡å®šå±æ€§useGeneratedKeys=trueå’ŒkeyProperty=\u0026ldquo;å®ä½“ç±»å±æ€§å\u0026rdquo; ä¸»é”®è¿”å›ä»£ç å®ç°ï¼š\n1 2 3 4 5 6 7 8 9 @Mapper public interface EmpMapper { //ä¼šè‡ªåŠ¨å°†ç”Ÿæˆçš„ä¸»é”®å€¼ï¼Œèµ‹å€¼ç»™empå¯¹è±¡çš„idå±æ€§ @Options(useGeneratedKeys = true,keyProperty = \u0026#34;id\u0026#34;) @Insert(\u0026#34;insert into emp(username, name, gender, image, job, entrydate, dept_id, create_time, update_time) values (#{username}, #{name}, #{gender}, #{image}, #{job}, #{entrydate}, #{deptId}, #{createTime}, #{updateTime})\u0026#34;) public void insert(Emp emp); } æµ‹è¯•ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 @SpringBootTest class SpringbootMybatisCrudApplicationTests { @Autowired private EmpMapper empMapper; @Test public void testInsert(){ //åˆ›å»ºå‘˜å·¥å¯¹è±¡ Emp emp = new Emp(); emp.setUsername(\u0026#34;jack\u0026#34;); emp.setName(\u0026#34;æ°å…‹\u0026#34;); emp.setImage(\u0026#34;1.jpg\u0026#34;); emp.setGender((short)1); emp.setJob((short)1); emp.setEntrydate(LocalDate.of(2000,1,1)); emp.setCreateTime(LocalDateTime.now()); emp.setUpdateTime(LocalDateTime.now()); emp.setDeptId(1); //è°ƒç”¨æ·»åŠ æ–¹æ³• empMapper.insert(emp); System.out.println(emp.getDeptId()); } } 1.5 æ›´æ–° åŠŸèƒ½ï¼šä¿®æ”¹å‘˜å·¥ä¿¡æ¯\nç‚¹å‡»\u0026quot;ç¼–è¾‘\u0026quot;æŒ‰é’®åï¼Œä¼šæŸ¥è¯¢æ‰€åœ¨è¡Œè®°å½•çš„å‘˜å·¥ä¿¡æ¯ï¼Œå¹¶æŠŠå‘˜å·¥ä¿¡æ¯å›æ˜¾åœ¨ä¿®æ”¹å‘˜å·¥çš„çª—ä½“ä¸Š(ä¸‹ä¸ªçŸ¥è¯†ç‚¹å­¦ä¹ )\nåœ¨ä¿®æ”¹å‘˜å·¥çš„çª—ä½“ä¸Šï¼Œå¯ä»¥ä¿®æ”¹çš„å‘˜å·¥æ•°æ®ï¼šç”¨æˆ·åã€å‘˜å·¥å§“åã€æ€§åˆ«ã€å›¾åƒã€èŒä½ã€å…¥èŒæ—¥æœŸã€å½’å±éƒ¨é—¨\næ€è€ƒï¼šåœ¨ä¿®æ”¹å‘˜å·¥æ•°æ®æ—¶ï¼Œè¦ä»¥ä»€ä¹ˆåšä¸ºæ¡ä»¶å‘¢ï¼Ÿ\nç­”æ¡ˆï¼šå‘˜å·¥id\nSQLè¯­å¥ï¼š\n1 update emp set username = \u0026#39;linghushaoxia\u0026#39;, name = \u0026#39;ä»¤ç‹å°‘ä¾ \u0026#39;, gender = 1 , image = \u0026#39;1.jpg\u0026#39; , job = 2, entrydate = \u0026#39;2012-01-01\u0026#39;, dept_id = 2, update_time = \u0026#39;2022-10-01 12:12:12\u0026#39; where id = 18; æ¥å£æ–¹æ³•ï¼š\n1 2 3 4 5 6 7 8 9 10 @Mapper public interface EmpMapper { /** * æ ¹æ®idä¿®æ”¹å‘˜å·¥ä¿¡æ¯ * @param emp */ @Update(\u0026#34;update emp set username=#{username}, name=#{name}, gender=#{gender}, image=#{image}, job=#{job}, entrydate=#{entrydate}, dept_id=#{deptId}, update_time=#{updateTime} where id=#{id}\u0026#34;) public void update(Emp emp); } æµ‹è¯•ç±»ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 @SpringBootTest class SpringbootMybatisCrudApplicationTests { @Autowired private EmpMapper empMapper; @Test public void testUpdate(){ //è¦ä¿®æ”¹çš„å‘˜å·¥ä¿¡æ¯ Emp emp = new Emp(); emp.setId(23); emp.setUsername(\u0026#34;songdaxia\u0026#34;); emp.setPassword(null); emp.setName(\u0026#34;è€å®‹\u0026#34;); emp.setImage(\u0026#34;2.jpg\u0026#34;); emp.setGender((short)1); emp.setJob((short)2); emp.setEntrydate(LocalDate.of(2012,1,1)); emp.setCreateTime(null); emp.setUpdateTime(LocalDateTime.now()); emp.setDeptId(2); //è°ƒç”¨æ–¹æ³•ï¼Œä¿®æ”¹å‘˜å·¥æ•°æ® empMapper.update(emp); } } 1.6 æŸ¥è¯¢ 1.6.1 æ ¹æ®IDæŸ¥è¯¢ åœ¨å‘˜å·¥ç®¡ç†çš„é¡µé¢ä¸­ï¼Œå½“æˆ‘ä»¬è¿›è¡Œæ›´æ–°æ•°æ®æ—¶ï¼Œä¼šç‚¹å‡» â€œç¼–è¾‘â€ æŒ‰é’®ï¼Œç„¶åæ­¤æ—¶ä¼šå‘é€ä¸€ä¸ªè¯·æ±‚åˆ°æœåŠ¡ç«¯ï¼Œä¼šæ ¹æ®IdæŸ¥è¯¢è¯¥å‘˜å·¥ä¿¡æ¯ï¼Œå¹¶å°†å‘˜å·¥æ•°æ®å›æ˜¾åœ¨é¡µé¢ä¸Šã€‚\nSQLè¯­å¥ï¼š\n1 select id, username, password, name, gender, image, job, entrydate, dept_id, create_time, update_time from emp; æ¥å£æ–¹æ³•ï¼š\n1 2 3 4 5 @Mapper public interface EmpMapper { @Select(\u0026#34;select id, username, password, name, gender, image, job, entrydate, dept_id, create_time, update_time from emp where id=#{id}\u0026#34;) public Emp getById(Integer id); } æµ‹è¯•ç±»ï¼š\n1 2 3 4 5 6 7 8 9 10 11 @SpringBootTest class SpringbootMybatisCrudApplicationTests { @Autowired private EmpMapper empMapper; @Test public void testGetById(){ Emp emp = empMapper.getById(1); System.out.println(emp); } } æ‰§è¡Œç»“æœï¼š\nè€Œåœ¨æµ‹è¯•çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬ä¼šå‘ç°æœ‰å‡ ä¸ªå­—æ®µ(deptIdã€createTimeã€updateTime)æ˜¯æ²¡æœ‰æ•°æ®å€¼çš„\n1.6.2 æ•°æ®å°è£… æˆ‘ä»¬çœ‹åˆ°æŸ¥è¯¢è¿”å›çš„ç»“æœä¸­å¤§éƒ¨åˆ†å­—æ®µæ˜¯æœ‰å€¼çš„ï¼Œä½†æ˜¯deptIdï¼ŒcreateTimeï¼ŒupdateTimeè¿™å‡ ä¸ªå­—æ®µæ˜¯æ²¡æœ‰å€¼çš„ï¼Œè€Œæ•°æ®åº“ä¸­æ˜¯æœ‰å¯¹åº”çš„å­—æ®µå€¼çš„ï¼Œè¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ\nåŸå› å¦‚ä¸‹ï¼š\nå®ä½“ç±»å±æ€§åå’Œæ•°æ®åº“è¡¨æŸ¥è¯¢è¿”å›çš„å­—æ®µåä¸€è‡´ï¼Œmybatisä¼šè‡ªåŠ¨å°è£…ã€‚ å¦‚æœå®ä½“ç±»å±æ€§åå’Œæ•°æ®åº“è¡¨æŸ¥è¯¢è¿”å›çš„å­—æ®µåä¸ä¸€è‡´ï¼Œä¸èƒ½è‡ªåŠ¨å°è£…ã€‚ è§£å†³æ–¹æ¡ˆï¼š\nèµ·åˆ«å ç»“æœæ˜ å°„ å¼€å¯é©¼å³°å‘½å èµ·åˆ«åï¼šåœ¨SQLè¯­å¥ä¸­ï¼Œå¯¹ä¸ä¸€æ ·çš„åˆ—åèµ·åˆ«åï¼Œåˆ«åå’Œå®ä½“ç±»å±æ€§åä¸€æ ·\n1 2 3 4 5 @Select(\u0026#34;select id, username, password, name, gender, image, job, entrydate, \u0026#34; + \u0026#34;dept_id AS deptId, create_time AS createTime, update_time AS updateTime \u0026#34; + \u0026#34;from emp \u0026#34; + \u0026#34;where id=#{id}\u0026#34;) public Emp getById(Integer id); å†æ¬¡æ‰§è¡Œæµ‹è¯•ç±»ï¼š\næ‰‹åŠ¨ç»“æœæ˜ å°„ï¼šé€šè¿‡ @ResultsåŠ@Result è¿›è¡Œæ‰‹åŠ¨ç»“æœæ˜ å°„\n1 2 3 4 5 @Results({@Result(column = \u0026#34;dept_id\u0026#34;, property = \u0026#34;deptId\u0026#34;), @Result(column = \u0026#34;create_time\u0026#34;, property = \u0026#34;createTime\u0026#34;), @Result(column = \u0026#34;update_time\u0026#34;, property = \u0026#34;updateTime\u0026#34;)}) @Select(\u0026#34;select id, username, password, name, gender, image, job, entrydate, dept_id, create_time, update_time from emp where id=#{id}\u0026#34;) public Emp getById(Integer id); @Resultsæºä»£ç ï¼š\n1 2 3 4 5 6 7 8 @Documented @Retention(RetentionPolicy.RUNTIME) @Target({ElementType.METHOD}) public @interface Results { String id() default \u0026#34;\u0026#34;; Result[] value() default {}; //Resultç±»å‹çš„æ•°ç»„ } @Resultæºä»£ç ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 @Documented @Retention(RetentionPolicy.RUNTIME) @Target({ElementType.METHOD}) @Repeatable(Results.class) public @interface Result { boolean id() default false;//è¡¨ç¤ºå½“å‰åˆ—æ˜¯å¦ä¸ºä¸»é”®ï¼ˆtrue:æ˜¯ä¸»é”®ï¼‰ String column() default \u0026#34;\u0026#34;;//æŒ‡å®šè¡¨ä¸­å­—æ®µå String property() default \u0026#34;\u0026#34;;//æŒ‡å®šç±»ä¸­å±æ€§å Class\u0026lt;?\u0026gt; javaType() default void.class; JdbcType jdbcType() default JdbcType.UNDEFINED; Class\u0026lt;? extends TypeHandler\u0026gt; typeHandler() default UnknownTypeHandler.class; One one() default @One; Many many() default @Many; } å¼€å¯é©¼å³°å‘½å(æ¨è)ï¼šå¦‚æœå­—æ®µåä¸å±æ€§åç¬¦åˆé©¼å³°å‘½åè§„åˆ™ï¼Œmybatisä¼šè‡ªåŠ¨é€šè¿‡é©¼å³°å‘½åè§„åˆ™æ˜ å°„\né©¼å³°å‘½åè§„åˆ™ï¼š abc_xyz =\u0026gt; abcXyz\nè¡¨ä¸­å­—æ®µåï¼šabc_xyz ç±»ä¸­å±æ€§åï¼šabcXyz 1 2 # åœ¨application.propertiesä¸­æ·»åŠ ï¼š mybatis.configuration.map-underscore-to-camel-case=true è¦ä½¿ç”¨é©¼å³°å‘½åå‰ææ˜¯ å®ä½“ç±»çš„å±æ€§ ä¸ æ•°æ®åº“è¡¨ä¸­çš„å­—æ®µåä¸¥æ ¼éµå®ˆé©¼å³°å‘½åã€‚\n1.6.3 æ¡ä»¶æŸ¥è¯¢ åœ¨å‘˜å·¥ç®¡ç†çš„åˆ—è¡¨é¡µé¢ä¸­ï¼Œæˆ‘ä»¬éœ€è¦æ ¹æ®æ¡ä»¶æŸ¥è¯¢å‘˜å·¥ä¿¡æ¯ï¼ŒæŸ¥è¯¢æ¡ä»¶åŒ…æ‹¬ï¼šå§“åã€æ€§åˆ«ã€å…¥èŒæ—¶é—´ã€‚\né€šè¿‡é¡µé¢åŸå‹ä»¥åŠéœ€æ±‚æè¿°æˆ‘ä»¬è¦å®ç°çš„æŸ¥è¯¢ï¼š\nå§“åï¼šè¦æ±‚æ”¯æŒæ¨¡ç³ŠåŒ¹é… æ€§åˆ«ï¼šè¦æ±‚ç²¾ç¡®åŒ¹é… å…¥èŒæ—¶é—´ï¼šè¦æ±‚è¿›è¡ŒèŒƒå›´æŸ¥è¯¢ æ ¹æ®æœ€åä¿®æ”¹æ—¶é—´è¿›è¡Œé™åºæ’åº SQLè¯­å¥ï¼š\n1 2 3 4 5 6 select id, username, password, name, gender, image, job, entrydate, dept_id, create_time, update_time from emp where name like \u0026#39;%å¼ %\u0026#39; and gender = 1 and entrydate between \u0026#39;2010-01-01\u0026#39; and \u0026#39;2020-01-01 \u0026#39; order by update_time desc; æ¥å£æ–¹æ³•ï¼š\næ–¹å¼ä¸€ 1 2 3 4 5 6 7 8 9 @Mapper public interface EmpMapper { @Select(\u0026#34;select * from emp \u0026#34; + \u0026#34;where name like \u0026#39;%${name}%\u0026#39; \u0026#34; + \u0026#34;and gender = #{gender} \u0026#34; + \u0026#34;and entrydate between #{begin} and #{end} \u0026#34; + \u0026#34;order by update_time desc\u0026#34;) public List\u0026lt;Emp\u0026gt; list(String name, Short gender, LocalDate begin, LocalDate end); } ä»¥ä¸Šæ–¹å¼æ³¨æ„äº‹é¡¹ï¼š\næ–¹æ³•ä¸­çš„å½¢å‚åå’ŒSQLè¯­å¥ä¸­çš„å‚æ•°å ä½ç¬¦åä¿æŒä¸€è‡´\næ¨¡ç³ŠæŸ¥è¯¢ä½¿ç”¨${\u0026hellip;}è¿›è¡Œå­—ç¬¦ä¸²æ‹¼æ¥ï¼Œè¿™ç§æ–¹å¼å‘¢ï¼Œç”±äºæ˜¯å­—ç¬¦ä¸²æ‹¼æ¥ï¼Œå¹¶ä¸æ˜¯é¢„ç¼–è¯‘çš„å½¢å¼ï¼Œæ‰€ä»¥æ•ˆç‡ä¸é«˜ã€ä¸”å­˜åœ¨sqlæ³¨å…¥é£é™©ã€‚\næ–¹å¼äºŒï¼ˆè§£å†³SQLæ³¨å…¥é£é™©ï¼‰ ä½¿ç”¨MySQLæä¾›çš„å­—ç¬¦ä¸²æ‹¼æ¥å‡½æ•°ï¼šconcat(\u0026rsquo;%\u0026rsquo; , \u0026lsquo;å…³é”®å­—\u0026rsquo; , \u0026lsquo;%\u0026rsquo;) 1 2 3 4 5 6 7 8 9 10 11 @Mapper public interface EmpMapper { @Select(\u0026#34;select * from emp \u0026#34; + \u0026#34;where name like concat(\u0026#39;%\u0026#39;,#{name},\u0026#39;%\u0026#39;) \u0026#34; + \u0026#34;and gender = #{gender} \u0026#34; + \u0026#34;and entrydate between #{begin} and #{end} \u0026#34; + \u0026#34;order by update_time desc\u0026#34;) public List\u0026lt;Emp\u0026gt; list(String name, Short gender, LocalDate begin, LocalDate end); } æ‰§è¡Œç»“æœï¼šç”Ÿæˆçš„SQLéƒ½æ˜¯é¢„ç¼–è¯‘çš„SQLè¯­å¥ï¼ˆæ€§èƒ½é«˜ã€å®‰å…¨ï¼‰\n1.6.4 å‚æ•°åè¯´æ˜ åœ¨ä¸Šé¢æˆ‘ä»¬æ‰€ç¼–å†™çš„æ¡ä»¶æŸ¥è¯¢åŠŸèƒ½ä¸­ï¼Œæˆ‘ä»¬éœ€è¦ä¿è¯æ¥å£ä¸­æ–¹æ³•çš„å½¢å‚åå’ŒSQLè¯­å¥ä¸­çš„å‚æ•°å ä½ç¬¦åç›¸åŒã€‚\nå½“æ–¹æ³•ä¸­çš„å½¢å‚åå’ŒSQLè¯­å¥ä¸­çš„å ä½ç¬¦å‚æ•°åä¸ç›¸åŒæ—¶ï¼Œå°±ä¼šå‡ºç°ä»¥ä¸‹é—®é¢˜ï¼š\nå‚æ•°ååœ¨ä¸åŒçš„SpringBootç‰ˆæœ¬ä¸­ï¼Œå¤„ç†æ–¹æ¡ˆè¿˜ä¸åŒï¼š\nåœ¨springBootçš„2.xç‰ˆæœ¬ï¼ˆä¿è¯å‚æ•°åä¸€è‡´ï¼‰ springBootçš„çˆ¶å·¥ç¨‹å¯¹compilerç¼–è¯‘æ’ä»¶è¿›è¡Œäº†é»˜è®¤çš„å‚æ•°parametersé…ç½®ï¼Œä½¿å¾—åœ¨ç¼–è¯‘æ—¶ï¼Œä¼šåœ¨ç”Ÿæˆçš„å­—èŠ‚ç æ–‡ä»¶ä¸­ä¿ç•™åŸæ–¹æ³•å½¢å‚çš„åç§°ï¼Œæ‰€ä»¥#{â€¦}é‡Œé¢å¯ä»¥ç›´æ¥é€šè¿‡å½¢å‚åè·å–å¯¹åº”çš„å€¼\nåœ¨springBootçš„1.xç‰ˆæœ¬/å•ç‹¬ä½¿ç”¨mybatisï¼ˆä½¿ç”¨@Paramæ³¨è§£æ¥æŒ‡å®šSQLè¯­å¥ä¸­çš„å‚æ•°åï¼‰ åœ¨ç¼–è¯‘æ—¶ï¼Œç”Ÿæˆçš„å­—èŠ‚ç æ–‡ä»¶å½“ä¸­ï¼Œä¸ä¼šä¿ç•™Mapperæ¥å£ä¸­æ–¹æ³•çš„å½¢å‚åç§°ï¼Œè€Œæ˜¯ä½¿ç”¨var1ã€var2ã€\u0026hellip;è¿™æ ·çš„å½¢å‚åå­—ï¼Œæ­¤æ—¶è¦è·å–å‚æ•°å€¼æ—¶ï¼Œå°±è¦é€šè¿‡@Paramæ³¨è§£æ¥æŒ‡å®šSQLè¯­å¥ä¸­çš„å‚æ•°å\n2. Mybatisçš„XMLé…ç½®æ–‡ä»¶ Mybatisçš„å¼€å‘æœ‰ä¸¤ç§æ–¹å¼ï¼š\næ³¨è§£ XML 2.1 XMLé…ç½®æ–‡ä»¶è§„èŒƒ ä½¿ç”¨Mybatisçš„æ³¨è§£æ–¹å¼ï¼Œä¸»è¦æ˜¯æ¥å®Œæˆä¸€äº›ç®€å•çš„å¢åˆ æ”¹æŸ¥åŠŸèƒ½ã€‚å¦‚æœéœ€è¦å®ç°å¤æ‚çš„SQLåŠŸèƒ½ï¼Œå»ºè®®ä½¿ç”¨XMLæ¥é…ç½®æ˜ å°„è¯­å¥ï¼Œä¹Ÿå°±æ˜¯å°†SQLè¯­å¥å†™åœ¨XMLé…ç½®æ–‡ä»¶ä¸­ã€‚\nåœ¨Mybatisä¸­ä½¿ç”¨XMLæ˜ å°„æ–‡ä»¶æ–¹å¼å¼€å‘ï¼Œéœ€è¦ç¬¦åˆä¸€å®šçš„è§„èŒƒï¼š\nXMLæ˜ å°„æ–‡ä»¶çš„åç§°ä¸Mapperæ¥å£åç§°ä¸€è‡´ï¼Œå¹¶ä¸”å°†XMLæ˜ å°„æ–‡ä»¶å’ŒMapperæ¥å£æ”¾ç½®åœ¨ç›¸åŒåŒ…ä¸‹ï¼ˆåŒåŒ…åŒåï¼‰\nXMLæ˜ å°„æ–‡ä»¶çš„namespaceå±æ€§ä¸ºMapperæ¥å£å…¨é™å®šåä¸€è‡´\nXMLæ˜ å°„æ–‡ä»¶ä¸­sqlè¯­å¥çš„idä¸Mapperæ¥å£ä¸­çš„æ–¹æ³•åä¸€è‡´ï¼Œå¹¶ä¿æŒè¿”å›ç±»å‹ä¸€è‡´ã€‚\n\u0026lt;select\u0026gt;æ ‡ç­¾ï¼šå°±æ˜¯ç”¨äºç¼–å†™selectæŸ¥è¯¢è¯­å¥çš„ã€‚\nresultTypeå±æ€§ï¼ŒæŒ‡çš„æ˜¯æŸ¥è¯¢è¿”å›çš„å•æ¡è®°å½•æ‰€å°è£…çš„ç±»å‹ã€‚ 2.2 XMLé…ç½®æ–‡ä»¶å®ç° ç¬¬1æ­¥ï¼šåˆ›å»ºXMLæ˜ å°„æ–‡ä»¶\nç¬¬2æ­¥ï¼šç¼–å†™XMLæ˜ å°„æ–‡ä»¶\nxmlæ˜ å°„æ–‡ä»¶ä¸­çš„dtdçº¦æŸï¼Œç›´æ¥ä»mybatiså®˜ç½‘å¤åˆ¶å³å¯\n1 2 3 4 5 6 7 \u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34; ?\u0026gt; \u0026lt;!DOCTYPE mapper PUBLIC \u0026#34;-//mybatis.org//DTD Mapper 3.0//EN\u0026#34; \u0026#34;https://mybatis.org/dtd/mybatis-3-mapper.dtd\u0026#34;\u0026gt; \u0026lt;mapper namespace=\u0026#34;\u0026#34;\u0026gt; \u0026lt;/mapper\u0026gt; é…ç½®ï¼šXMLæ˜ å°„æ–‡ä»¶çš„namespaceå±æ€§ä¸ºMapperæ¥å£å…¨é™å®šå\n1 2 3 4 5 6 7 \u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34; ?\u0026gt; \u0026lt;!DOCTYPE mapper PUBLIC \u0026#34;-//mybatis.org//DTD Mapper 3.0//EN\u0026#34; \u0026#34;https://mybatis.org/dtd/mybatis-3-mapper.dtd\u0026#34;\u0026gt; \u0026lt;mapper namespace=\u0026#34;com.itheima.mapper.EmpMapper\u0026#34;\u0026gt; \u0026lt;/mapper\u0026gt; é…ç½®ï¼šXMLæ˜ å°„æ–‡ä»¶ä¸­sqlè¯­å¥çš„idä¸Mapperæ¥å£ä¸­çš„æ–¹æ³•åä¸€è‡´ï¼Œå¹¶ä¿æŒè¿”å›ç±»å‹ä¸€è‡´\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 \u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34; ?\u0026gt; \u0026lt;!DOCTYPE mapper PUBLIC \u0026#34;-//mybatis.org//DTD Mapper 3.0//EN\u0026#34; \u0026#34;https://mybatis.org/dtd/mybatis-3-mapper.dtd\u0026#34;\u0026gt; \u0026lt;mapper namespace=\u0026#34;com.itheima.mapper.EmpMapper\u0026#34;\u0026gt; \u0026lt;!--æŸ¥è¯¢æ“ä½œ--\u0026gt; \u0026lt;select id=\u0026#34;list\u0026#34; resultType=\u0026#34;com.itheima.pojo.Emp\u0026#34;\u0026gt; select * from emp where name like concat(\u0026#39;%\u0026#39;,#{name},\u0026#39;%\u0026#39;) and gender = #{gender} and entrydate between #{begin} and #{end} order by update_time desc \u0026lt;/select\u0026gt; \u0026lt;/mapper\u0026gt; è¿è¡Œæµ‹è¯•ç±»ï¼Œæ‰§è¡Œç»“æœï¼š\n2.3 MybatisXçš„ä½¿ç”¨ MybatisXæ˜¯ä¸€æ¬¾åŸºäºIDEAçš„å¿«é€Ÿå¼€å‘Mybatisçš„æ’ä»¶ï¼Œä¸ºæ•ˆç‡è€Œç”Ÿã€‚\nMybatisXçš„å®‰è£…ï¼š\nå¯ä»¥é€šè¿‡MybatisXå¿«é€Ÿå®šä½ï¼š\nMybatisXçš„ä½¿ç”¨åœ¨åç»­å­¦ä¹ ä¸­ä¼šç»§ç»­åˆ†äº«\nå­¦ä¹ äº†Mybatisä¸­XMLé…ç½®æ–‡ä»¶çš„å¼€å‘æ–¹å¼äº†ï¼Œå¤§å®¶å¯èƒ½ä¼šå­˜åœ¨ä¸€ä¸ªç–‘é—®ï¼šåˆ°åº•æ˜¯ä½¿ç”¨æ³¨è§£æ–¹å¼å¼€å‘è¿˜æ˜¯ä½¿ç”¨XMLæ–¹å¼å¼€å‘ï¼Ÿ\nå®˜æ–¹è¯´æ˜ï¼šhttps://mybatis.net.cn/getting-started.html\n**ç»“è®ºï¼š**ä½¿ç”¨Mybatisçš„æ³¨è§£ï¼Œä¸»è¦æ˜¯æ¥å®Œæˆä¸€äº›ç®€å•çš„å¢åˆ æ”¹æŸ¥åŠŸèƒ½ã€‚å¦‚æœéœ€è¦å®ç°å¤æ‚çš„SQLåŠŸèƒ½ï¼Œå»ºè®®ä½¿ç”¨XMLæ¥é…ç½®æ˜ å°„è¯­å¥ã€‚\n3. MybatisåŠ¨æ€SQL 3.1 ä»€ä¹ˆæ˜¯åŠ¨æ€SQL åœ¨é¡µé¢åŸå‹ä¸­ï¼Œåˆ—è¡¨ä¸Šæ–¹çš„æ¡ä»¶æ˜¯åŠ¨æ€çš„ï¼Œæ˜¯å¯ä»¥ä¸ä¼ é€’çš„ï¼Œä¹Ÿå¯ä»¥åªä¼ é€’å…¶ä¸­çš„1ä¸ªæˆ–è€…2ä¸ªæˆ–è€…å…¨éƒ¨ã€‚\nè€Œåœ¨æˆ‘ä»¬åˆšæ‰ç¼–å†™çš„SQLè¯­å¥ä¸­ï¼Œæˆ‘ä»¬ä¼šçœ‹åˆ°ï¼Œæˆ‘ä»¬å°†ä¸‰ä¸ªæ¡ä»¶ç›´æ¥å†™æ­»äº†ã€‚ å¦‚æœé¡µé¢åªä¼ é€’äº†å‚æ•°å§“åname å­—æ®µï¼Œå…¶ä»–ä¸¤ä¸ªå­—æ®µ æ€§åˆ« å’Œ å…¥èŒæ—¶é—´æ²¡æœ‰ä¼ é€’ï¼Œé‚£ä¹ˆè¿™ä¸¤ä¸ªå‚æ•°çš„å€¼å°±æ˜¯nullã€‚\næ­¤æ—¶ï¼Œæ‰§è¡Œçš„SQLè¯­å¥ä¸ºï¼š\nè¿™ä¸ªæŸ¥è¯¢ç»“æœæ˜¯ä¸æ­£ç¡®çš„ã€‚æ­£ç¡®çš„åšæ³•åº”è¯¥æ˜¯ï¼šä¼ é€’äº†å‚æ•°ï¼Œå†ç»„è£…è¿™ä¸ªæŸ¥è¯¢æ¡ä»¶ï¼›å¦‚æœæ²¡æœ‰ä¼ é€’å‚æ•°ï¼Œå°±ä¸åº”è¯¥ç»„è£…è¿™ä¸ªæŸ¥è¯¢æ¡ä»¶ã€‚\næ¯”å¦‚ï¼šå¦‚æœå§“åè¾“å…¥äº†\u0026quot;å¼ \u0026quot;, å¯¹åº”çš„SQLä¸º:\n1 select * from emp where name like \u0026#39;%å¼ %\u0026#39; order by update_time desc; å¦‚æœå§“åè¾“å…¥äº†\u0026quot;å¼ \u0026quot;,ï¼Œæ€§åˆ«é€‰æ‹©äº†\u0026quot;ç”·\u0026quot;ï¼Œåˆ™å¯¹åº”çš„SQLä¸º:\n1 select * from emp where name like \u0026#39;%å¼ %\u0026#39; and gender = 1 order by update_time desc; SQLè¯­å¥ä¼šéšç€ç”¨æˆ·çš„è¾“å…¥æˆ–å¤–éƒ¨æ¡ä»¶çš„å˜åŒ–è€Œå˜åŒ–ï¼Œæˆ‘ä»¬ç§°ä¸ºï¼šåŠ¨æ€SQLã€‚\nåœ¨Mybatisä¸­æä¾›äº†å¾ˆå¤šå®ç°åŠ¨æ€SQLçš„æ ‡ç­¾ï¼Œæˆ‘ä»¬å­¦ä¹ Mybatisä¸­çš„åŠ¨æ€SQLå°±æ˜¯æŒæ¡è¿™äº›åŠ¨æ€SQLæ ‡ç­¾ã€‚\n3.2 åŠ¨æ€SQL-if \u0026lt;if\u0026gt;ï¼šç”¨äºåˆ¤æ–­æ¡ä»¶æ˜¯å¦æˆç«‹ã€‚ä½¿ç”¨testå±æ€§è¿›è¡Œæ¡ä»¶åˆ¤æ–­ï¼Œå¦‚æœæ¡ä»¶ä¸ºtrueï¼Œåˆ™æ‹¼æ¥SQLã€‚\n1 2 3 \u0026lt;if test=\u0026#34;æ¡ä»¶è¡¨è¾¾å¼\u0026#34;\u0026gt; è¦æ‹¼æ¥çš„sqlè¯­å¥ \u0026lt;/if\u0026gt; æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±é€šè¿‡\u0026lt;if\u0026gt;æ ‡ç­¾æ¥æ”¹é€ ä¹‹å‰æ¡ä»¶æŸ¥è¯¢çš„æ¡ˆä¾‹ã€‚\n3.2.1 æ¡ä»¶æŸ¥è¯¢ ç¤ºä¾‹ï¼šæŠŠSQLè¯­å¥æ”¹é€ ä¸ºåŠ¨æ€SQLæ–¹å¼\nåŸæœ‰çš„SQLè¯­å¥ 1 2 3 4 5 6 7 \u0026lt;select id=\u0026#34;list\u0026#34; resultType=\u0026#34;com.itheima.pojo.Emp\u0026#34;\u0026gt; select * from emp where name like concat(\u0026#39;%\u0026#39;,#{name},\u0026#39;%\u0026#39;) and gender = #{gender} and entrydate between #{begin} and #{end} order by update_time desc \u0026lt;/select\u0026gt; åŠ¨æ€SQLè¯­å¥ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 \u0026lt;select id=\u0026#34;list\u0026#34; resultType=\u0026#34;com.itheima.pojo.Emp\u0026#34;\u0026gt; select * from emp where \u0026lt;if test=\u0026#34;name != null\u0026#34;\u0026gt; name like concat(\u0026#39;%\u0026#39;,#{name},\u0026#39;%\u0026#39;) \u0026lt;/if\u0026gt; \u0026lt;if test=\u0026#34;gender != null\u0026#34;\u0026gt; and gender = #{gender} \u0026lt;/if\u0026gt; \u0026lt;if test=\u0026#34;begin != null and end != null\u0026#34;\u0026gt; and entrydate between #{begin} and #{end} \u0026lt;/if\u0026gt; order by update_time desc \u0026lt;/select\u0026gt; æµ‹è¯•æ–¹æ³•ï¼š\n1 2 3 4 5 6 7 8 @Test public void testList(){ //æ€§åˆ«æ•°æ®ä¸ºnullã€å¼€å§‹æ—¶é—´å’Œç»“æŸæ—¶é—´ä¹Ÿä¸ºnull List\u0026lt;Emp\u0026gt; list = empMapper.list(\u0026#34;å¼ \u0026#34;, null, null, null); for(Emp emp : list){ System.out.println(emp); } } æ‰§è¡Œçš„SQLè¯­å¥ï¼š\nä¸‹é¢å‘¢ï¼Œæˆ‘ä»¬ä¿®æ”¹æµ‹è¯•æ–¹æ³•ä¸­çš„ä»£ç ï¼Œå†æ¬¡è¿›è¡Œæµ‹è¯•ï¼Œè§‚å¯Ÿæ‰§è¡Œæƒ…å†µï¼š\n1 2 3 4 5 6 7 8 @Test public void testList(){ //å§“åä¸ºnull List\u0026lt;Emp\u0026gt; list = empMapper.list(null, (short)1, null, null); for(Emp emp : list){ System.out.println(emp); } } æ‰§è¡Œç»“æœï¼š\nå†æ¬¡ä¿®æ”¹æµ‹è¯•æ–¹æ³•ä¸­çš„ä»£ç ï¼Œå†æ¬¡è¿›è¡Œæµ‹è¯•ï¼š\n1 2 3 4 5 6 7 8 @Test public void testList(){ //ä¼ é€’çš„æ•°æ®å…¨éƒ¨ä¸ºnull List\u0026lt;Emp\u0026gt; list = empMapper.list(null, null, null, null); for(Emp emp : list){ System.out.println(emp); } } æ‰§è¡Œçš„SQLè¯­å¥ï¼š\nä»¥ä¸Šé—®é¢˜çš„è§£å†³æ–¹æ¡ˆï¼šä½¿ç”¨\u0026lt;where\u0026gt;æ ‡ç­¾ä»£æ›¿SQLè¯­å¥ä¸­çš„whereå…³é”®å­—\n\u0026lt;where\u0026gt;åªä¼šåœ¨å­å…ƒç´ æœ‰å†…å®¹çš„æƒ…å†µä¸‹æ‰æ’å…¥whereå­å¥ï¼Œè€Œä¸”ä¼šè‡ªåŠ¨å»é™¤å­å¥çš„å¼€å¤´çš„ANDæˆ–OR 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 \u0026lt;select id=\u0026#34;list\u0026#34; resultType=\u0026#34;com.itheima.pojo.Emp\u0026#34;\u0026gt; select * from emp \u0026lt;where\u0026gt; \u0026lt;!-- ifåšä¸ºwhereæ ‡ç­¾çš„å­å…ƒç´  --\u0026gt; \u0026lt;if test=\u0026#34;name != null\u0026#34;\u0026gt; and name like concat(\u0026#39;%\u0026#39;,#{name},\u0026#39;%\u0026#39;) \u0026lt;/if\u0026gt; \u0026lt;if test=\u0026#34;gender != null\u0026#34;\u0026gt; and gender = #{gender} \u0026lt;/if\u0026gt; \u0026lt;if test=\u0026#34;begin != null and end != null\u0026#34;\u0026gt; and entrydate between #{begin} and #{end} \u0026lt;/if\u0026gt; \u0026lt;/where\u0026gt; order by update_time desc \u0026lt;/select\u0026gt; æµ‹è¯•æ–¹æ³•ï¼š\n1 2 3 4 5 6 7 8 @Test public void testList(){ //åªæœ‰æ€§åˆ« List\u0026lt;Emp\u0026gt; list = empMapper.list(null, (short)1, null, null); for(Emp emp : list){ System.out.println(emp); } } æ‰§è¡Œçš„SQLè¯­å¥ï¼š\n3.2.2 æ›´æ–°å‘˜å·¥ æ¡ˆä¾‹ï¼šå®Œå–„æ›´æ–°å‘˜å·¥åŠŸèƒ½ï¼Œä¿®æ”¹ä¸ºåŠ¨æ€æ›´æ–°å‘˜å·¥æ•°æ®ä¿¡æ¯\nåŠ¨æ€æ›´æ–°å‘˜å·¥ä¿¡æ¯ï¼Œå¦‚æœæ›´æ–°æ—¶ä¼ é€’æœ‰å€¼ï¼Œåˆ™æ›´æ–°ï¼›å¦‚æœæ›´æ–°æ—¶æ²¡æœ‰ä¼ é€’å€¼ï¼Œåˆ™ä¸æ›´æ–° è§£å†³æ–¹æ¡ˆï¼šåŠ¨æ€SQL ä¿®æ”¹Mapperæ¥å£ï¼š\n1 2 3 4 5 6 @Mapper public interface EmpMapper { //åˆ é™¤@Updateæ³¨è§£ç¼–å†™çš„SQLè¯­å¥ //updateæ“ä½œçš„SQLè¯­å¥ç¼–å†™åœ¨Mapperæ˜ å°„æ–‡ä»¶ä¸­ public void update(Emp emp); } ä¿®æ”¹Mapperæ˜ å°„æ–‡ä»¶ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 \u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34; ?\u0026gt; \u0026lt;!DOCTYPE mapper PUBLIC \u0026#34;-//mybatis.org//DTD Mapper 3.0//EN\u0026#34; \u0026#34;https://mybatis.org/dtd/mybatis-3-mapper.dtd\u0026#34;\u0026gt; \u0026lt;mapper namespace=\u0026#34;com.itheima.mapper.EmpMapper\u0026#34;\u0026gt; \u0026lt;!--æ›´æ–°æ“ä½œ--\u0026gt; \u0026lt;update id=\u0026#34;update\u0026#34;\u0026gt; update emp set \u0026lt;if test=\u0026#34;username != null\u0026#34;\u0026gt; username=#{username}, \u0026lt;/if\u0026gt; \u0026lt;if test=\u0026#34;name != null\u0026#34;\u0026gt; name=#{name}, \u0026lt;/if\u0026gt; \u0026lt;if test=\u0026#34;gender != null\u0026#34;\u0026gt; gender=#{gender}, \u0026lt;/if\u0026gt; \u0026lt;if test=\u0026#34;image != null\u0026#34;\u0026gt; image=#{image}, \u0026lt;/if\u0026gt; \u0026lt;if test=\u0026#34;job != null\u0026#34;\u0026gt; job=#{job}, \u0026lt;/if\u0026gt; \u0026lt;if test=\u0026#34;entrydate != null\u0026#34;\u0026gt; entrydate=#{entrydate}, \u0026lt;/if\u0026gt; \u0026lt;if test=\u0026#34;deptId != null\u0026#34;\u0026gt; dept_id=#{deptId}, \u0026lt;/if\u0026gt; \u0026lt;if test=\u0026#34;updateTime != null\u0026#34;\u0026gt; update_time=#{updateTime} \u0026lt;/if\u0026gt; where id=#{id} \u0026lt;/update\u0026gt; \u0026lt;/mapper\u0026gt; æµ‹è¯•æ–¹æ³•ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 @Test public void testUpdate2(){ //è¦ä¿®æ”¹çš„å‘˜å·¥ä¿¡æ¯ Emp emp = new Emp(); emp.setId(20); emp.setUsername(\u0026#34;Tom111\u0026#34;); emp.setName(\u0026#34;æ±¤å§†111\u0026#34;); emp.setUpdateTime(LocalDateTime.now()); //è°ƒç”¨æ–¹æ³•ï¼Œä¿®æ”¹å‘˜å·¥æ•°æ® empMapper.update(emp); } æ‰§è¡Œçš„SQLè¯­å¥ï¼š\nå†æ¬¡ä¿®æ”¹æµ‹è¯•æ–¹æ³•ï¼Œè§‚å¯ŸSQLè¯­å¥æ‰§è¡Œæƒ…å†µï¼š\n1 2 3 4 5 6 7 8 9 10 @Test public void testUpdate2(){ //è¦ä¿®æ”¹çš„å‘˜å·¥ä¿¡æ¯ Emp emp = new Emp(); emp.setId(20); emp.setUsername(\u0026#34;Tom222\u0026#34;); //è°ƒç”¨æ–¹æ³•ï¼Œä¿®æ”¹å‘˜å·¥æ•°æ® empMapper.update(emp); } æ‰§è¡Œçš„SQLè¯­å¥ï¼š\nä»¥ä¸Šé—®é¢˜çš„è§£å†³æ–¹æ¡ˆï¼šä½¿ç”¨\u0026lt;set\u0026gt;æ ‡ç­¾ä»£æ›¿SQLè¯­å¥ä¸­çš„setå…³é”®å­—\n\u0026lt;set\u0026gt;ï¼šåŠ¨æ€çš„åœ¨SQLè¯­å¥ä¸­æ’å…¥setå…³é”®å­—ï¼Œå¹¶ä¼šåˆ æ‰é¢å¤–çš„é€—å·ã€‚ï¼ˆç”¨äºupdateè¯­å¥ä¸­ï¼‰ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 \u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34; ?\u0026gt; \u0026lt;!DOCTYPE mapper PUBLIC \u0026#34;-//mybatis.org//DTD Mapper 3.0//EN\u0026#34; \u0026#34;https://mybatis.org/dtd/mybatis-3-mapper.dtd\u0026#34;\u0026gt; \u0026lt;mapper namespace=\u0026#34;com.itheima.mapper.EmpMapper\u0026#34;\u0026gt; \u0026lt;!--æ›´æ–°æ“ä½œ--\u0026gt; \u0026lt;update id=\u0026#34;update\u0026#34;\u0026gt; update emp \u0026lt;!-- ä½¿ç”¨setæ ‡ç­¾ï¼Œä»£æ›¿updateè¯­å¥ä¸­çš„setå…³é”®å­— --\u0026gt; \u0026lt;set\u0026gt; \u0026lt;if test=\u0026#34;username != null\u0026#34;\u0026gt; username=#{username}, \u0026lt;/if\u0026gt; \u0026lt;if test=\u0026#34;name != null\u0026#34;\u0026gt; name=#{name}, \u0026lt;/if\u0026gt; \u0026lt;if test=\u0026#34;gender != null\u0026#34;\u0026gt; gender=#{gender}, \u0026lt;/if\u0026gt; \u0026lt;if test=\u0026#34;image != null\u0026#34;\u0026gt; image=#{image}, \u0026lt;/if\u0026gt; \u0026lt;if test=\u0026#34;job != null\u0026#34;\u0026gt; job=#{job}, \u0026lt;/if\u0026gt; \u0026lt;if test=\u0026#34;entrydate != null\u0026#34;\u0026gt; entrydate=#{entrydate}, \u0026lt;/if\u0026gt; \u0026lt;if test=\u0026#34;deptId != null\u0026#34;\u0026gt; dept_id=#{deptId}, \u0026lt;/if\u0026gt; \u0026lt;if test=\u0026#34;updateTime != null\u0026#34;\u0026gt; update_time=#{updateTime} \u0026lt;/if\u0026gt; \u0026lt;/set\u0026gt; where id=#{id} \u0026lt;/update\u0026gt; \u0026lt;/mapper\u0026gt; å†æ¬¡æ‰§è¡Œæµ‹è¯•æ–¹æ³•ï¼Œæ‰§è¡Œçš„SQLè¯­å¥ï¼š\nå°ç»“\n\u0026lt;if\u0026gt;\nç”¨äºåˆ¤æ–­æ¡ä»¶æ˜¯å¦æˆç«‹ï¼Œå¦‚æœæ¡ä»¶ä¸ºtrueï¼Œåˆ™æ‹¼æ¥SQL\nå½¢å¼ï¼š\n1 \u0026lt;if test=\u0026#34;name != null\u0026#34;\u0026gt; â€¦ \u0026lt;/if\u0026gt; \u0026lt;where\u0026gt;\nwhereå…ƒç´ åªä¼šåœ¨å­å…ƒç´ æœ‰å†…å®¹çš„æƒ…å†µä¸‹æ‰æ’å…¥whereå­å¥ï¼Œè€Œä¸”ä¼šè‡ªåŠ¨å»é™¤å­å¥çš„å¼€å¤´çš„ANDæˆ–OR \u0026lt;set\u0026gt;\nåŠ¨æ€åœ°åœ¨è¡Œé¦–æ’å…¥ SET å…³é”®å­—ï¼Œå¹¶ä¼šåˆ æ‰é¢å¤–çš„é€—å·ã€‚ï¼ˆç”¨åœ¨updateè¯­å¥ä¸­ï¼‰ 3.3 åŠ¨æ€SQL-foreach æ¡ˆä¾‹ï¼šå‘˜å·¥åˆ é™¤åŠŸèƒ½ï¼ˆæ—¢æ”¯æŒåˆ é™¤å•æ¡è®°å½•ï¼Œåˆæ”¯æŒæ‰¹é‡åˆ é™¤ï¼‰\nSQLè¯­å¥ï¼š\n1 delete from emp where id in (1,2,3); Mapperæ¥å£ï¼š\n1 2 3 4 5 @Mapper public interface EmpMapper { //æ‰¹é‡åˆ é™¤ public void deleteByIds(List\u0026lt;Integer\u0026gt; ids); } XMLæ˜ å°„æ–‡ä»¶ï¼š\nä½¿ç”¨\u0026lt;foreach\u0026gt;éå†deleteByIdsæ–¹æ³•ä¸­ä¼ é€’çš„å‚æ•°idsé›†åˆ 1 2 3 \u0026lt;foreach collection=\u0026#34;é›†åˆåç§°\u0026#34; item=\u0026#34;é›†åˆéå†å‡ºæ¥çš„å…ƒç´ /é¡¹\u0026#34; separator=\u0026#34;æ¯ä¸€æ¬¡éå†ä½¿ç”¨çš„åˆ†éš”ç¬¦\u0026#34; open=\u0026#34;éå†å¼€å§‹å‰æ‹¼æ¥çš„ç‰‡æ®µ\u0026#34; close=\u0026#34;éå†ç»“æŸåæ‹¼æ¥çš„ç‰‡æ®µ\u0026#34;\u0026gt; \u0026lt;/foreach\u0026gt; 1 2 3 4 5 6 7 8 9 10 11 12 13 \u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34; ?\u0026gt; \u0026lt;!DOCTYPE mapper PUBLIC \u0026#34;-//mybatis.org//DTD Mapper 3.0//EN\u0026#34; \u0026#34;https://mybatis.org/dtd/mybatis-3-mapper.dtd\u0026#34;\u0026gt; \u0026lt;mapper namespace=\u0026#34;com.itheima.mapper.EmpMapper\u0026#34;\u0026gt; \u0026lt;!--åˆ é™¤æ“ä½œ--\u0026gt; \u0026lt;delete id=\u0026#34;deleteByIds\u0026#34;\u0026gt; delete from emp where id in \u0026lt;foreach collection=\u0026#34;ids\u0026#34; item=\u0026#34;id\u0026#34; separator=\u0026#34;,\u0026#34; open=\u0026#34;(\u0026#34; close=\u0026#34;)\u0026#34;\u0026gt; #{id} \u0026lt;/foreach\u0026gt; \u0026lt;/delete\u0026gt; \u0026lt;/mapper\u0026gt; æ‰§è¡Œçš„SQLè¯­å¥ï¼š\n3.4 åŠ¨æ€SQL-sql\u0026amp;include é—®é¢˜åˆ†æï¼š\nåœ¨xmlæ˜ å°„æ–‡ä»¶ä¸­é…ç½®çš„SQLï¼Œæœ‰æ—¶å¯èƒ½ä¼šå­˜åœ¨å¾ˆå¤šé‡å¤çš„ç‰‡æ®µï¼Œæ­¤æ—¶å°±ä¼šå­˜åœ¨å¾ˆå¤šå†—ä½™çš„ä»£ç  æˆ‘ä»¬å¯ä»¥å¯¹é‡å¤çš„ä»£ç ç‰‡æ®µè¿›è¡ŒæŠ½å–ï¼Œå°†å…¶é€šè¿‡\u0026lt;sql\u0026gt;æ ‡ç­¾å°è£…åˆ°ä¸€ä¸ªSQLç‰‡æ®µï¼Œç„¶åå†é€šè¿‡\u0026lt;include\u0026gt;æ ‡ç­¾è¿›è¡Œå¼•ç”¨ã€‚\n\u0026lt;sql\u0026gt;ï¼šå®šä¹‰å¯é‡ç”¨çš„SQLç‰‡æ®µ\n\u0026lt;include\u0026gt;ï¼šé€šè¿‡å±æ€§refidï¼ŒæŒ‡å®šåŒ…å«çš„SQLç‰‡æ®µ\nSQLç‰‡æ®µï¼š æŠ½å–é‡å¤çš„ä»£ç \n1 2 3 \u0026lt;sql id=\u0026#34;commonSelect\u0026#34;\u0026gt; select id, username, password, name, gender, image, job, entrydate, dept_id, create_time, update_time from emp \u0026lt;/sql\u0026gt; ç„¶åé€šè¿‡\u0026lt;include\u0026gt; æ ‡ç­¾åœ¨åŸæ¥æŠ½å–çš„åœ°æ–¹è¿›è¡Œå¼•ç”¨ã€‚æ“ä½œå¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 \u0026lt;select id=\u0026#34;list\u0026#34; resultType=\u0026#34;com.itheima.pojo.Emp\u0026#34;\u0026gt; \u0026lt;include refid=\u0026#34;commonSelect\u0026#34;/\u0026gt; \u0026lt;where\u0026gt; \u0026lt;if test=\u0026#34;name != null\u0026#34;\u0026gt; name like concat(\u0026#39;%\u0026#39;,#{name},\u0026#39;%\u0026#39;) \u0026lt;/if\u0026gt; \u0026lt;if test=\u0026#34;gender != null\u0026#34;\u0026gt; and gender = #{gender} \u0026lt;/if\u0026gt; \u0026lt;if test=\u0026#34;begin != null and end != null\u0026#34;\u0026gt; and entrydate between #{begin} and #{end} \u0026lt;/if\u0026gt; \u0026lt;/where\u0026gt; order by update_time desc \u0026lt;/select\u0026gt; ","date":"0001-01-01T00:00:00Z","permalink":"http://localhost:1313/p/","title":""},{"content":"ä¸€ã€ä¸‹è½½ ç‚¹å¼€ä¸‹é¢çš„é“¾æ¥ï¼šhttps://dev.mysql.com/downloads/mysql/\nç‚¹å‡»Download å°±å¯ä»¥ä¸‹è½½å¯¹åº”çš„å®‰è£…åŒ…äº†, å®‰è£…åŒ…å¦‚ä¸‹: äºŒã€è§£å‹ ä¸‹è½½å®Œæˆåæˆ‘ä»¬å¾—åˆ°çš„æ˜¯ä¸€ä¸ªå‹ç¼©åŒ…ï¼Œå°†å…¶è§£å‹ï¼Œæˆ‘ä»¬å°±å¯ä»¥å¾—åˆ°MySQL 8.0.31 çš„è½¯ä»¶æœ¬ä½“äº†(å°±æ˜¯ä¸€ä¸ªæ–‡ä»¶å¤¹)ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠå®ƒæ”¾åœ¨ä½ æƒ³å®‰è£…çš„ä½ç½® ã€‚\nä¸‰ã€é…ç½® 1. æ·»åŠ ç¯å¢ƒå˜é‡ ç¯å¢ƒå˜é‡é‡Œé¢æœ‰å¾ˆå¤šé€‰é¡¹ï¼Œè¿™é‡Œæˆ‘ä»¬åªç”¨åˆ°Pathè¿™ä¸ªå‚æ•°ã€‚ä¸ºä»€ä¹ˆåœ¨åˆå§‹åŒ–çš„å¼€å§‹è¦æ·»åŠ ç¯å¢ƒå˜é‡å‘¢ï¼Ÿ\nåœ¨é»‘æ¡†(å³CMD)ä¸­è¾“å…¥ä¸€ä¸ªå¯æ‰§è¡Œç¨‹åºçš„åå­—ï¼ŒWindowsä¼šå…ˆåœ¨ç¯å¢ƒå˜é‡ä¸­çš„Pathæ‰€æŒ‡çš„è·¯å¾„ä¸­å¯»æ‰¾ä¸€éï¼Œå¦‚æœæ‰¾åˆ°äº†å°±ç›´æ¥æ‰§è¡Œï¼Œæ²¡æ‰¾åˆ°å°±åœ¨å½“å‰å·¥ä½œç›®å½•æ‰¾ï¼Œå¦‚æœè¿˜æ²¡æ‰¾åˆ°ï¼Œå°±æŠ¥é”™ã€‚æˆ‘ä»¬æ·»åŠ ç¯å¢ƒå˜é‡çš„ç›®çš„å°±æ˜¯èƒ½å¤Ÿåœ¨ä»»æ„ä¸€ä¸ªé»‘æ¡†ç›´æ¥è°ƒç”¨MySQLä¸­çš„ç›¸å…³ç¨‹åºè€Œä¸ç”¨æ€»æ˜¯ä¿®æ”¹å·¥ä½œç›®å½•ï¼Œå¤§å¤§ç®€åŒ–äº†æ“ä½œã€‚\nå³é”®æ­¤ç”µè„‘â†’å±æ€§ï¼Œç‚¹å‡»é«˜çº§ç³»ç»Ÿè®¾ç½®\nç‚¹å‡»ç¯å¢ƒå˜é‡\nåœ¨ç³»ç»Ÿå˜é‡ä¸­æ–°å»ºMYSQL_HOME\nåœ¨ç³»ç»Ÿå˜é‡ä¸­æ‰¾åˆ°å¹¶åŒå‡»Path\nç‚¹å‡»æ–°å»º\næœ€åç‚¹å‡»ç¡®å®šã€‚\nå¦‚ä½•éªŒè¯æ˜¯å¦æ·»åŠ æˆåŠŸï¼Ÿ\nå³é”®å¼€å§‹èœå•(å°±æ˜¯å±å¹•å·¦ä¸‹è§’)ï¼Œé€‰æ‹©å‘½ä»¤æç¤ºç¬¦(ç®¡ç†å‘˜)ï¼Œæ‰“å¼€é»‘æ¡†ï¼Œæ•²å…¥mysqlï¼Œå›è½¦ã€‚\nå¦‚æœæç¤ºCan't connect to MySQL server on 'localhost'åˆ™è¯æ˜æ·»åŠ æˆåŠŸï¼›\nå¦‚æœæç¤ºmysqlä¸æ˜¯å†…éƒ¨æˆ–å¤–éƒ¨å‘½ä»¤ï¼Œä¹Ÿä¸æ˜¯å¯è¿è¡Œçš„ç¨‹åºæˆ–æ‰¹å¤„ç†æ–‡ä»¶åˆ™è¡¨ç¤ºæ·»åŠ æ·»åŠ å¤±è´¥ï¼Œè¯·é‡æ–°æ£€æŸ¥æ­¥éª¤å¹¶é‡è¯•ã€‚\n2. åˆå§‹åŒ–MySQL ==ä»¥ç®¡ç†å‘˜èº«ä»½ï¼Œè¿è¡Œå‘½ä»¤è¡Œçª—å£ï¼š==\nåœ¨åˆšæ‰çš„å‘½ä»¤è¡Œä¸­ï¼Œè¾“å…¥å¦‚ä¸‹çš„æŒ‡ä»¤ï¼š\n1 mysqld --initialize-insecure ç¨å¾®ç­‰å¾…ä¸€ä¼šï¼Œå¦‚æœå‡ºç°æ²¡æœ‰å‡ºç°æŠ¥é”™ä¿¡æ¯ï¼Œåˆ™è¯æ˜dataç›®å½•åˆå§‹åŒ–æ²¡æœ‰é—®é¢˜ï¼Œæ­¤æ—¶å†æŸ¥çœ‹MySQLç›®å½•ä¸‹å·²ç»æœ‰dataç›®å½•ç”Ÿæˆã€‚\ntipsï¼šå¦‚æœå‡ºç°å¦‚ä¸‹é”™è¯¯\næ˜¯ç”±äºæƒé™ä¸è¶³å¯¼è‡´çš„ï¼Œä»¥ç®¡ç†å‘˜æ–¹å¼è¿è¡Œ cmd\n3. æ³¨å†ŒMySQLæœåŠ¡ å‘½ä»¤è¡Œï¼ˆæ³¨æ„å¿…é¡»ä»¥ç®¡ç†å‘˜èº«ä»½å¯åŠ¨ï¼‰ä¸­ï¼Œè¾“å…¥å¦‚ä¸‹çš„æŒ‡ä»¤ï¼Œå›è½¦æ‰§è¡Œï¼š\n1 mysqld -install ç°åœ¨ä½ çš„è®¡ç®—æœºä¸Šå·²ç»å®‰è£…å¥½äº†MySQLæœåŠ¡äº†ã€‚\n4. å¯åŠ¨MySQLæœåŠ¡ åœ¨é»‘æ¡†é‡Œæ•²å…¥net start mysqlï¼Œå›è½¦ã€‚\n1 2 3 net start mysql // å¯åŠ¨mysqlæœåŠ¡ net stop mysql // åœæ­¢mysqlæœåŠ¡ 5. ä¿®æ”¹é»˜è®¤è´¦æˆ·å¯†ç  åœ¨é»‘æ¡†é‡Œæ•²å…¥mysqladmin -u root password 1234ï¼Œè¿™é‡Œçš„1234å°±æ˜¯æŒ‡é»˜è®¤ç®¡ç†å‘˜(å³rootè´¦æˆ·)çš„å¯†ç ï¼Œå¯ä»¥è‡ªè¡Œä¿®æ”¹æˆä½ å–œæ¬¢çš„ã€‚\n1 mysqladmin -u root password 1234 å››ã€ç™»å½•MySQL å³é”®å¼€å§‹èœå•ï¼Œé€‰æ‹©å‘½ä»¤æç¤ºç¬¦ï¼Œæ‰“å¼€é»‘æ¡†ã€‚ åœ¨é»‘æ¡†ä¸­è¾“å…¥ï¼Œmysql -uroot -p1234ï¼Œå›è½¦ï¼Œå‡ºç°ä¸‹å›¾ä¸”å·¦ä¸‹è§’ä¸ºmysql\u0026gt;ï¼Œåˆ™ç™»å½•æˆåŠŸã€‚\n1 mysql -uroot -p1234 åˆ°è¿™é‡Œä½ å°±å¯ä»¥å¼€å§‹ä½ çš„MySQLä¹‹æ—…äº†ï¼\né€€å‡ºmysqlï¼š\n1 2 exit quit ç™»é™†å‚æ•°ï¼š\n1 mysql -uç”¨æˆ·å -på¯†ç  -hè¦è¿æ¥çš„mysqlæœåŠ¡å™¨çš„ipåœ°å€(é»˜è®¤127.0.0.1) -Pç«¯å£å·(é»˜è®¤3306) äº”ã€å¸è½½MySQL å¦‚æœä½ æƒ³å¸è½½MySQLï¼Œä¹Ÿå¾ˆç®€å•ã€‚\nç‚¹å‡»å¼€å§‹èœå•ï¼Œè¾“å…¥cmdï¼Œé€‰æ‹© \u0026ldquo;å‘½ä»¤æç¤ºç¬¦\u0026rdquo;ï¼Œé€‰æ‹©å³ä¾§çš„ \u0026ldquo;ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œ\u0026rdquo;ã€‚\næ•²å…¥net stop mysqlï¼Œå›è½¦ã€‚ 1 net stop mysql å†æ•²å…¥mysqld -remove mysqlï¼Œå›è½¦ã€‚ 1 mysqld -remove mysql æœ€ååˆ é™¤MySQLç›®å½•åŠç›¸å…³çš„ç¯å¢ƒå˜é‡ã€‚ è‡³æ­¤ï¼ŒMySQLå¸è½½å®Œæˆï¼\n","date":"0001-01-01T00:00:00Z","permalink":"http://localhost:1313/p/","title":""},{"content":"äº‹åŠ¡\u0026amp;AOP 1. äº‹åŠ¡ç®¡ç† 1.1 äº‹åŠ¡å›é¡¾ åœ¨æ•°æ®åº“é˜¶æ®µæˆ‘ä»¬å·²å­¦ä¹ è¿‡äº‹åŠ¡äº†ï¼Œæˆ‘ä»¬è®²åˆ°ï¼š\näº‹åŠ¡æ˜¯ä¸€ç»„æ“ä½œçš„é›†åˆï¼Œå®ƒæ˜¯ä¸€ä¸ªä¸å¯åˆ†å‰²çš„å·¥ä½œå•ä½ã€‚äº‹åŠ¡ä¼šæŠŠæ‰€æœ‰çš„æ“ä½œä½œä¸ºä¸€ä¸ªæ•´ä½“ï¼Œä¸€èµ·å‘æ•°æ®åº“æäº¤æˆ–è€…æ˜¯æ’¤é”€æ“ä½œè¯·æ±‚ã€‚æ‰€ä»¥è¿™ç»„æ“ä½œè¦ä¹ˆåŒæ—¶æˆåŠŸï¼Œè¦ä¹ˆåŒæ—¶å¤±è´¥ã€‚\næ€ä¹ˆæ ·æ¥æ§åˆ¶è¿™ç»„æ“ä½œï¼Œè®©è¿™ç»„æ“ä½œåŒæ—¶æˆåŠŸæˆ–åŒæ—¶å¤±è´¥å‘¢ï¼Ÿæ­¤æ—¶å°±è¦æ¶‰åŠåˆ°äº‹åŠ¡çš„å…·ä½“æ“ä½œäº†ã€‚\näº‹åŠ¡çš„æ“ä½œä¸»è¦æœ‰ä¸‰æ­¥ï¼š\nå¼€å¯äº‹åŠ¡ï¼ˆä¸€ç»„æ“ä½œå¼€å§‹å‰ï¼Œå¼€å¯äº‹åŠ¡ï¼‰ï¼šstart transaction / begin ; æäº¤äº‹åŠ¡ï¼ˆè¿™ç»„æ“ä½œå…¨éƒ¨æˆåŠŸåï¼Œæäº¤äº‹åŠ¡ï¼‰ï¼šcommit ; å›æ»šäº‹åŠ¡ï¼ˆä¸­é—´ä»»ä½•ä¸€ä¸ªæ“ä½œå‡ºç°å¼‚å¸¸ï¼Œå›æ»šäº‹åŠ¡ï¼‰ï¼šrollback ; 1.2 Springäº‹åŠ¡ç®¡ç† 1.2.1 æ¡ˆä¾‹ ç®€å•çš„å›é¡¾äº†äº‹åŠ¡çš„æ¦‚å¿µä»¥åŠäº‹åŠ¡çš„åŸºæœ¬æ“ä½œä¹‹åï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬çœ‹ä¸€ä¸ªäº‹åŠ¡ç®¡ç†æ¡ˆä¾‹ï¼šè§£æ•£éƒ¨é—¨ ï¼ˆè§£æ•£éƒ¨é—¨å°±æ˜¯åˆ é™¤éƒ¨é—¨ï¼‰\néœ€æ±‚ï¼šå½“éƒ¨é—¨è§£æ•£äº†ä¸ä»…éœ€è¦æŠŠéƒ¨é—¨ä¿¡æ¯åˆ é™¤äº†ï¼Œè¿˜éœ€è¦æŠŠè¯¥éƒ¨é—¨ä¸‹çš„å‘˜å·¥æ•°æ®ä¹Ÿåˆ é™¤äº†ã€‚\næ­¥éª¤ï¼š\næ ¹æ®IDåˆ é™¤éƒ¨é—¨æ•°æ® æ ¹æ®éƒ¨é—¨IDåˆ é™¤è¯¥éƒ¨é—¨ä¸‹çš„å‘˜å·¥ ä»£ç å®ç°ï¼š\nDeptServiceImpl 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 @Slf4j @Service public class DeptServiceImpl implements DeptService { @Autowired private DeptMapper deptMapper; @Autowired private EmpMapper empMapper; //æ ¹æ®éƒ¨é—¨idï¼Œåˆ é™¤éƒ¨é—¨ä¿¡æ¯åŠéƒ¨é—¨ä¸‹çš„æ‰€æœ‰å‘˜å·¥ @Override public void delete(Integer id){ //æ ¹æ®éƒ¨é—¨idåˆ é™¤éƒ¨é—¨ä¿¡æ¯ deptMapper.deleteById(id); //åˆ é™¤éƒ¨é—¨ä¸‹çš„æ‰€æœ‰å‘˜å·¥ä¿¡æ¯ empMapper.deleteByDeptId(id); } } DeptMapper 1 2 3 4 5 6 7 8 9 @Mapper public interface DeptMapper { /** * æ ¹æ®idåˆ é™¤éƒ¨é—¨ä¿¡æ¯ * @param id éƒ¨é—¨id */ @Delete(\u0026#34;delete from dept where id = #{id}\u0026#34;) void deleteById(Integer id); } EmpMapper 1 2 3 4 5 6 7 8 @Mapper public interface EmpMapper { //æ ¹æ®éƒ¨é—¨idåˆ é™¤éƒ¨é—¨ä¸‹æ‰€æœ‰å‘˜å·¥ @Delete(\u0026#34;delete from emp where dept_id=#{deptId}\u0026#34;) public int deleteByDeptId(Integer deptId); } é‡å¯SpringBootæœåŠ¡ï¼Œä½¿ç”¨postmanæµ‹è¯•éƒ¨é—¨åˆ é™¤ï¼š\nä»£ç æ­£å¸¸æƒ…å†µä¸‹ï¼Œdeptè¡¨å’ŒEmè¡¨ä¸­çš„æ•°æ®å·²åˆ é™¤\nä¿®æ”¹DeptServiceImplç±»ä¸­ä»£ç ï¼Œæ·»åŠ å¯èƒ½å‡ºç°å¼‚å¸¸çš„ä»£ç ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 @Slf4j @Service public class DeptServiceImpl implements DeptService { @Autowired private DeptMapper deptMapper; @Autowired private EmpMapper empMapper; //æ ¹æ®éƒ¨é—¨idï¼Œåˆ é™¤éƒ¨é—¨ä¿¡æ¯åŠéƒ¨é—¨ä¸‹çš„æ‰€æœ‰å‘˜å·¥ @Override public void delete(Integer id){ //æ ¹æ®éƒ¨é—¨idåˆ é™¤éƒ¨é—¨ä¿¡æ¯ deptMapper.deleteById(id); //æ¨¡æ‹Ÿï¼šå¼‚å¸¸å‘ç”Ÿ int i = 1/0; //åˆ é™¤éƒ¨é—¨ä¸‹çš„æ‰€æœ‰å‘˜å·¥ä¿¡æ¯ empMapper.deleteByDeptId(id); } } é‡å¯SpringBootæœåŠ¡ï¼Œä½¿ç”¨postmanæµ‹è¯•éƒ¨é—¨åˆ é™¤ï¼š\næŸ¥çœ‹æ•°æ®åº“è¡¨ï¼š\nåˆ é™¤äº†2å·éƒ¨é—¨ 2å·éƒ¨é—¨ä¸‹çš„å‘˜å·¥æ•°æ®æ²¡æœ‰åˆ é™¤ ä»¥ä¸Šç¨‹åºå‡ºç°çš„é—®é¢˜ï¼šå³ä½¿ç¨‹åºè¿è¡ŒæŠ›å‡ºäº†å¼‚å¸¸ï¼Œéƒ¨é—¨ä¾ç„¶åˆ é™¤äº†ï¼Œä½†æ˜¯éƒ¨é—¨ä¸‹çš„å‘˜å·¥å´æ²¡æœ‰åˆ é™¤ï¼Œé€ æˆäº†æ•°æ®çš„ä¸ä¸€è‡´ã€‚\n1.2.2 åŸå› åˆ†æ åŸå› ï¼š\nå…ˆæ‰§è¡Œæ ¹æ®idåˆ é™¤éƒ¨é—¨çš„æ“ä½œï¼Œè¿™æ­¥æ‰§è¡Œå®Œæ¯•ï¼Œæ•°æ®åº“è¡¨ dept ä¸­çš„æ•°æ®å°±å·²ç»åˆ é™¤äº†ã€‚ æ‰§è¡Œ 1/0 æ“ä½œï¼ŒæŠ›å‡ºå¼‚å¸¸ æŠ›å‡ºå¼‚å¸¸ä¹‹å‰ï¼Œä¸‹é¢æ‰€æœ‰çš„ä»£ç éƒ½ä¸ä¼šæ‰§è¡Œäº†ï¼Œæ ¹æ®éƒ¨é—¨IDåˆ é™¤è¯¥éƒ¨é—¨ä¸‹çš„å‘˜å·¥ï¼Œè¿™ä¸ªæ“ä½œä¹Ÿä¸ä¼šæ‰§è¡Œ ã€‚ æ­¤æ—¶å°±å‡ºç°é—®é¢˜äº†ï¼Œéƒ¨é—¨åˆ é™¤äº†ï¼Œéƒ¨é—¨ä¸‹çš„å‘˜å·¥è¿˜åœ¨ï¼Œä¸šåŠ¡æ“ä½œå‰åæ•°æ®ä¸ä¸€è‡´ã€‚\nè€Œè¦æƒ³ä¿è¯æ“ä½œå‰åï¼Œæ•°æ®çš„ä¸€è‡´æ€§ï¼Œå°±éœ€è¦è®©è§£æ•£éƒ¨é—¨ä¸­æ¶‰åŠåˆ°çš„ä¸¤ä¸ªä¸šåŠ¡æ“ä½œï¼Œè¦ä¹ˆå…¨éƒ¨æˆåŠŸï¼Œè¦ä¹ˆå…¨éƒ¨å¤±è´¥ ã€‚ é‚£æˆ‘ä»¬å¦‚ä½•ï¼Œè®©è¿™ä¸¤ä¸ªæ“ä½œè¦ä¹ˆå…¨éƒ¨æˆåŠŸï¼Œè¦ä¹ˆå…¨éƒ¨å¤±è´¥å‘¢ ï¼Ÿ\né‚£å°±å¯ä»¥é€šè¿‡äº‹åŠ¡æ¥å®ç°ï¼Œå› ä¸ºä¸€ä¸ªäº‹åŠ¡ä¸­çš„å¤šä¸ªä¸šåŠ¡æ“ä½œï¼Œè¦ä¹ˆå…¨éƒ¨æˆåŠŸï¼Œè¦ä¹ˆå…¨éƒ¨å¤±è´¥ã€‚\næ­¤æ—¶ï¼Œæˆ‘ä»¬å°±éœ€è¦åœ¨deleteåˆ é™¤ä¸šåŠ¡åŠŸèƒ½ä¸­æ·»åŠ äº‹åŠ¡ã€‚\nåœ¨æ–¹æ³•è¿è¡Œä¹‹å‰ï¼Œå¼€å¯äº‹åŠ¡ï¼Œå¦‚æœæ–¹æ³•æˆåŠŸæ‰§è¡Œï¼Œå°±æäº¤äº‹åŠ¡ï¼Œå¦‚æœæ–¹æ³•æ‰§è¡Œçš„è¿‡ç¨‹å½“ä¸­å‡ºç°å¼‚å¸¸äº†ï¼Œå°±å›æ»šäº‹åŠ¡ã€‚\næ€è€ƒï¼šå¼€å‘ä¸­æ‰€æœ‰çš„ä¸šåŠ¡æ“ä½œï¼Œä¸€æ—¦æˆ‘ä»¬è¦è¿›è¡Œæ§åˆ¶äº‹åŠ¡ï¼Œæ˜¯ä¸æ˜¯éƒ½æ˜¯è¿™æ ·çš„å¥—è·¯ï¼Ÿ\nç­”æ¡ˆï¼šæ˜¯çš„ã€‚\næ‰€ä»¥åœ¨springæ¡†æ¶å½“ä¸­å°±å·²ç»æŠŠäº‹åŠ¡æ§åˆ¶çš„ä»£ç éƒ½å·²ç»å°è£…å¥½äº†ï¼Œå¹¶ä¸éœ€è¦æˆ‘ä»¬æ‰‹åŠ¨å®ç°ã€‚æˆ‘ä»¬ä½¿ç”¨äº†springæ¡†æ¶ï¼Œæˆ‘ä»¬åªéœ€è¦é€šè¿‡ä¸€ä¸ªç®€å•çš„æ³¨è§£@Transactionalå°±æå®šäº†ã€‚\n1.2.3 Transactionalæ³¨è§£ @Transactionalä½œç”¨ï¼šå°±æ˜¯åœ¨å½“å‰è¿™ä¸ªæ–¹æ³•æ‰§è¡Œå¼€å§‹ä¹‹å‰æ¥å¼€å¯äº‹åŠ¡ï¼Œæ–¹æ³•æ‰§è¡Œå®Œæ¯•ä¹‹åæäº¤äº‹åŠ¡ã€‚å¦‚æœåœ¨è¿™ä¸ªæ–¹æ³•æ‰§è¡Œçš„è¿‡ç¨‹å½“ä¸­å‡ºç°äº†å¼‚å¸¸ï¼Œå°±ä¼šè¿›è¡Œäº‹åŠ¡çš„å›æ»šæ“ä½œã€‚\n@Transactionalæ³¨è§£ï¼šæˆ‘ä»¬ä¸€èˆ¬ä¼šåœ¨ä¸šåŠ¡å±‚å½“ä¸­æ¥æ§åˆ¶äº‹åŠ¡ï¼Œå› ä¸ºåœ¨ä¸šåŠ¡å±‚å½“ä¸­ï¼Œä¸€ä¸ªä¸šåŠ¡åŠŸèƒ½å¯èƒ½ä¼šåŒ…å«å¤šä¸ªæ•°æ®è®¿é—®çš„æ“ä½œã€‚åœ¨ä¸šåŠ¡å±‚æ¥æ§åˆ¶äº‹åŠ¡ï¼Œæˆ‘ä»¬å°±å¯ä»¥å°†å¤šä¸ªæ•°æ®è®¿é—®æ“ä½œæ§åˆ¶åœ¨ä¸€ä¸ªäº‹åŠ¡èŒƒå›´å†…ã€‚\n@Transactionalæ³¨è§£ä¹¦å†™ä½ç½®ï¼š\næ–¹æ³• å½“å‰æ–¹æ³•äº¤ç»™springè¿›è¡Œäº‹åŠ¡ç®¡ç† ç±» å½“å‰ç±»ä¸­æ‰€æœ‰çš„æ–¹æ³•éƒ½äº¤ç”±springè¿›è¡Œäº‹åŠ¡ç®¡ç† æ¥å£ æ¥å£ä¸‹æ‰€æœ‰çš„å®ç°ç±»å½“ä¸­æ‰€æœ‰çš„æ–¹æ³•éƒ½äº¤ç»™spring è¿›è¡Œäº‹åŠ¡ç®¡ç† æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨ä¸šåŠ¡æ–¹æ³•deleteä¸ŠåŠ ä¸Š @Transactional æ¥æ§åˆ¶äº‹åŠ¡ ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 @Slf4j @Service public class DeptServiceImpl implements DeptService { @Autowired private DeptMapper deptMapper; @Autowired private EmpMapper empMapper; @Override @Transactional //å½“å‰æ–¹æ³•æ·»åŠ äº†äº‹åŠ¡ç®¡ç† public void delete(Integer id){ //æ ¹æ®éƒ¨é—¨idåˆ é™¤éƒ¨é—¨ä¿¡æ¯ deptMapper.deleteById(id); //æ¨¡æ‹Ÿï¼šå¼‚å¸¸å‘ç”Ÿ int i = 1/0; //åˆ é™¤éƒ¨é—¨ä¸‹çš„æ‰€æœ‰å‘˜å·¥ä¿¡æ¯ empMapper.deleteByDeptId(id); } } åœ¨ä¸šåŠ¡åŠŸèƒ½ä¸Šæ·»åŠ @Transactionalæ³¨è§£è¿›è¡Œäº‹åŠ¡ç®¡ç†åï¼Œæˆ‘ä»¬é‡å¯SpringBootæœåŠ¡ï¼Œä½¿ç”¨postmanæµ‹è¯•ï¼š\næ·»åŠ Springäº‹åŠ¡ç®¡ç†åï¼Œç”±äºæœåŠ¡ç«¯ç¨‹åºå¼•å‘äº†å¼‚å¸¸ï¼Œæ‰€ä»¥äº‹åŠ¡è¿›è¡Œå›æ»šã€‚\nè¯´æ˜ï¼šå¯ä»¥åœ¨application.ymlé…ç½®æ–‡ä»¶ä¸­å¼€å¯äº‹åŠ¡ç®¡ç†æ—¥å¿—ï¼Œè¿™æ ·å°±å¯ä»¥åœ¨æ§åˆ¶çœ‹åˆ°å’Œäº‹åŠ¡ç›¸å…³çš„æ—¥å¿—ä¿¡æ¯äº†\n1 2 3 4 #springäº‹åŠ¡ç®¡ç†æ—¥å¿— logging: level: org.springframework.jdbc.support.JdbcTransactionManager: debug 1.3 äº‹åŠ¡è¿›é˜¶ å‰é¢æˆ‘ä»¬é€šè¿‡springäº‹åŠ¡ç®¡ç†æ³¨è§£@Transactionalå·²ç»æ§åˆ¶äº†ä¸šåŠ¡å±‚æ–¹æ³•çš„äº‹åŠ¡ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬è¦æ¥è¯¦ç»†çš„ä»‹ç»ä¸€ä¸‹@Transactionaläº‹åŠ¡ç®¡ç†æ³¨è§£çš„ä½¿ç”¨ç»†èŠ‚ã€‚æˆ‘ä»¬è¿™é‡Œä¸»è¦ä»‹ç»@Transactionalæ³¨è§£å½“ä¸­çš„ä¸¤ä¸ªå¸¸è§çš„å±æ€§ï¼š\nå¼‚å¸¸å›æ»šçš„å±æ€§ï¼šrollbackFor äº‹åŠ¡ä¼ æ’­è¡Œä¸ºï¼špropagation æˆ‘ä»¬å…ˆæ¥å­¦ä¹ ä¸‹rollbackForå±æ€§ã€‚\n1.3.1 rollbackFor æˆ‘ä»¬åœ¨ä¹‹å‰ç¼–å†™çš„ä¸šåŠ¡æ–¹æ³•ä¸Šæ·»åŠ äº†@Transactionalæ³¨è§£ï¼Œæ¥å®ç°äº‹åŠ¡ç®¡ç†ã€‚\n1 2 3 4 5 6 7 8 9 10 11 @Transactional public void delete(Integer id){ //æ ¹æ®éƒ¨é—¨idåˆ é™¤éƒ¨é—¨ä¿¡æ¯ deptMapper.deleteById(id); //æ¨¡æ‹Ÿï¼šå¼‚å¸¸å‘ç”Ÿ int i = 1/0; //åˆ é™¤éƒ¨é—¨ä¸‹çš„æ‰€æœ‰å‘˜å·¥ä¿¡æ¯ empMapper.deleteByDeptId(id); } ä»¥ä¸Šä¸šåŠ¡åŠŸèƒ½delete()æ–¹æ³•åœ¨è¿è¡Œæ—¶ï¼Œä¼šå¼•å‘é™¤0çš„ç®—æ•°è¿ç®—å¼‚å¸¸(è¿è¡Œæ—¶å¼‚å¸¸)ï¼Œå‡ºç°å¼‚å¸¸ä¹‹åï¼Œç”±äºæˆ‘ä»¬åœ¨æ–¹æ³•ä¸ŠåŠ äº†@Transactionalæ³¨è§£è¿›è¡Œäº‹åŠ¡ç®¡ç†ï¼Œæ‰€ä»¥å‘ç”Ÿå¼‚å¸¸ä¼šæ‰§è¡Œrollbackå›æ»šæ“ä½œï¼Œä»è€Œä¿è¯äº‹åŠ¡æ“ä½œå‰åæ•°æ®æ˜¯ä¸€è‡´çš„ã€‚\nä¸‹é¢æˆ‘ä»¬åœ¨åšä¸€ä¸ªæµ‹è¯•ï¼Œæˆ‘ä»¬ä¿®æ”¹ä¸šåŠ¡åŠŸèƒ½ä»£ç ï¼Œåœ¨æ¨¡æ‹Ÿå¼‚å¸¸çš„ä½ç½®ä¸Šç›´æ¥æŠ›å‡ºExceptionå¼‚å¸¸ï¼ˆç¼–è¯‘æ—¶å¼‚å¸¸ï¼‰\n1 2 3 4 5 6 7 8 9 10 11 12 13 @Transactional public void delete(Integer id) throws Exception { //æ ¹æ®éƒ¨é—¨idåˆ é™¤éƒ¨é—¨ä¿¡æ¯ deptMapper.deleteById(id); //æ¨¡æ‹Ÿï¼šå¼‚å¸¸å‘ç”Ÿ if(true){ throw new Exception(\u0026#34;å‡ºç°å¼‚å¸¸äº†~~~\u0026#34;); } //åˆ é™¤éƒ¨é—¨ä¸‹çš„æ‰€æœ‰å‘˜å·¥ä¿¡æ¯ empMapper.deleteByDeptId(id); } è¯´æ˜ï¼šåœ¨serviceä¸­å‘ä¸ŠæŠ›å‡ºä¸€ä¸ªExceptionç¼–è¯‘æ—¶å¼‚å¸¸ä¹‹åï¼Œç”±äºæ˜¯controllerè°ƒç”¨serviceï¼Œæ‰€ä»¥åœ¨controllerä¸­è¦æœ‰å¼‚å¸¸å¤„ç†ä»£ç ï¼Œæ­¤æ—¶æˆ‘ä»¬é€‰æ‹©åœ¨controllerä¸­ç»§ç»­æŠŠå¼‚å¸¸å‘ä¸ŠæŠ›ã€‚\n1 2 3 4 5 6 7 8 9 @DeleteMapping(\u0026#34;/depts/{id}\u0026#34;) public Result delete(@PathVariable Integer id) throws Exception { //æ—¥å¿—è®°å½• log.info(\u0026#34;æ ¹æ®idåˆ é™¤éƒ¨é—¨\u0026#34;); //è°ƒç”¨serviceå±‚åŠŸèƒ½ deptService.delete(id); //å“åº” return Result.success(); } é‡æ–°å¯åŠ¨æœåŠ¡åæµ‹è¯•ï¼š\næŠ›å‡ºå¼‚å¸¸ä¹‹åäº‹åŠ¡ä¼šä¸ä¼šå›æ»š\nç°æœ‰è¡¨ä¸­æ•°æ®ï¼š\nä½¿ç”¨postmanæµ‹è¯•ï¼Œåˆ é™¤5å·éƒ¨é—¨\nå‘ç”Ÿäº†Exceptionå¼‚å¸¸ï¼Œä½†äº‹åŠ¡ä¾ç„¶æäº¤äº†\ndeptè¡¨ä¸­æ•°æ®ï¼š\né€šè¿‡ä»¥ä¸Šæµ‹è¯•å¯ä»¥å¾—å‡ºä¸€ä¸ªç»“è®ºï¼šé»˜è®¤æƒ…å†µä¸‹ï¼Œåªæœ‰å‡ºç°RuntimeException(è¿è¡Œæ—¶å¼‚å¸¸)æ‰ä¼šå›æ»šäº‹åŠ¡ã€‚\nå‡å¦‚æˆ‘ä»¬æƒ³è®©æ‰€æœ‰çš„å¼‚å¸¸éƒ½å›æ»šï¼Œéœ€è¦æ¥é…ç½®@Transactionalæ³¨è§£å½“ä¸­çš„rollbackForå±æ€§ï¼Œé€šè¿‡rollbackForè¿™ä¸ªå±æ€§å¯ä»¥æŒ‡å®šå‡ºç°ä½•ç§å¼‚å¸¸ç±»å‹å›æ»šäº‹åŠ¡ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 @Slf4j @Service public class DeptServiceImpl implements DeptService { @Autowired private DeptMapper deptMapper; @Autowired private EmpMapper empMapper; @Override @Transactional(rollbackFor=Exception.class) public void delete(Integer id){ //æ ¹æ®éƒ¨é—¨idåˆ é™¤éƒ¨é—¨ä¿¡æ¯ deptMapper.deleteById(id); //æ¨¡æ‹Ÿï¼šå¼‚å¸¸å‘ç”Ÿ int num = id/0; //åˆ é™¤éƒ¨é—¨ä¸‹çš„æ‰€æœ‰å‘˜å·¥ä¿¡æ¯ empMapper.deleteByDeptId(id); } } æ¥ä¸‹æ¥æˆ‘ä»¬é‡æ–°å¯åŠ¨æœåŠ¡ï¼Œæµ‹è¯•åˆ é™¤éƒ¨é—¨çš„æ“ä½œï¼š\næ§åˆ¶å°æ—¥å¿—ï¼šæ‰§è¡Œäº†åˆ é™¤3å·éƒ¨é—¨çš„æ“ä½œï¼Œ å› ä¸ºå¼‚å¸¸åˆè¿›è¡Œäº†äº‹åŠ¡å›æ»š\næ•°æ®è¡¨ï¼š3å·éƒ¨é—¨æ²¡æœ‰åˆ é™¤\nç»“è®ºï¼š\nåœ¨Springçš„äº‹åŠ¡ç®¡ç†ä¸­ï¼Œé»˜è®¤åªæœ‰è¿è¡Œæ—¶å¼‚å¸¸ RuntimeExceptionæ‰ä¼šå›æ»šã€‚ å¦‚æœè¿˜éœ€è¦å›æ»šæŒ‡å®šç±»å‹çš„å¼‚å¸¸ï¼Œå¯ä»¥é€šè¿‡rollbackForå±æ€§æ¥æŒ‡å®šã€‚ 1.3.3 propagation 1.3.3.1 ä»‹ç» æˆ‘ä»¬æ¥ç€ç»§ç»­å­¦ä¹ @Transactionalæ³¨è§£å½“ä¸­çš„ç¬¬äºŒä¸ªå±æ€§propagationï¼Œè¿™ä¸ªå±æ€§æ˜¯ç”¨æ¥é…ç½®äº‹åŠ¡çš„ä¼ æ’­è¡Œä¸ºçš„ã€‚\nä»€ä¹ˆæ˜¯äº‹åŠ¡çš„ä¼ æ’­è¡Œä¸ºå‘¢ï¼Ÿ\nå°±æ˜¯å½“ä¸€ä¸ªäº‹åŠ¡æ–¹æ³•è¢«å¦ä¸€ä¸ªäº‹åŠ¡æ–¹æ³•è°ƒç”¨æ—¶ï¼Œè¿™ä¸ªäº‹åŠ¡æ–¹æ³•åº”è¯¥å¦‚ä½•è¿›è¡Œäº‹åŠ¡æ§åˆ¶ã€‚ ä¾‹å¦‚ï¼šä¸¤ä¸ªäº‹åŠ¡æ–¹æ³•ï¼Œä¸€ä¸ªAæ–¹æ³•ï¼Œä¸€ä¸ªBæ–¹æ³•ã€‚åœ¨è¿™ä¸¤ä¸ªæ–¹æ³•ä¸Šéƒ½æ·»åŠ äº†@Transactionalæ³¨è§£ï¼Œå°±ä»£è¡¨è¿™ä¸¤ä¸ªæ–¹æ³•éƒ½å…·æœ‰äº‹åŠ¡ï¼Œè€Œåœ¨Aæ–¹æ³•å½“ä¸­åˆå»è°ƒç”¨äº†Bæ–¹æ³•ã€‚\næ‰€è°“äº‹åŠ¡çš„ä¼ æ’­è¡Œä¸ºï¼ŒæŒ‡çš„å°±æ˜¯åœ¨Aæ–¹æ³•è¿è¡Œçš„æ—¶å€™ï¼Œé¦–å…ˆä¼šå¼€å¯ä¸€ä¸ªäº‹åŠ¡ï¼Œåœ¨Aæ–¹æ³•å½“ä¸­åˆè°ƒç”¨äº†Bæ–¹æ³•ï¼Œ Bæ–¹æ³•è‡ªèº«ä¹Ÿå…·æœ‰äº‹åŠ¡ï¼Œé‚£ä¹ˆBæ–¹æ³•åœ¨è¿è¡Œçš„æ—¶å€™ï¼Œåˆ°åº•æ˜¯åŠ å…¥åˆ°Aæ–¹æ³•çš„äº‹åŠ¡å½“ä¸­æ¥ï¼Œè¿˜æ˜¯Bæ–¹æ³•åœ¨è¿è¡Œçš„æ—¶å€™æ–°å»ºä¸€ä¸ªäº‹åŠ¡ï¼Ÿè¿™ä¸ªå°±æ¶‰åŠåˆ°äº†äº‹åŠ¡çš„ä¼ æ’­è¡Œä¸ºã€‚\næˆ‘ä»¬è¦æƒ³æ§åˆ¶äº‹åŠ¡çš„ä¼ æ’­è¡Œä¸ºï¼Œåœ¨@Transactionalæ³¨è§£çš„åé¢æŒ‡å®šä¸€ä¸ªå±æ€§propagationï¼Œé€šè¿‡ propagation å±æ€§æ¥æŒ‡å®šä¼ æ’­è¡Œä¸ºã€‚æ¥ä¸‹æ¥æˆ‘ä»¬å°±æ¥ä»‹ç»ä¸€ä¸‹å¸¸è§çš„äº‹åŠ¡ä¼ æ’­è¡Œä¸ºã€‚\nå±æ€§å€¼ å«ä¹‰ REQUIRED ã€é»˜è®¤å€¼ã€‘éœ€è¦äº‹åŠ¡ï¼Œæœ‰åˆ™åŠ å…¥ï¼Œæ— åˆ™åˆ›å»ºæ–°äº‹åŠ¡ REQUIRES_NEW éœ€è¦æ–°äº‹åŠ¡ï¼Œæ— è®ºæœ‰æ— ï¼Œæ€»æ˜¯åˆ›å»ºæ–°äº‹åŠ¡ SUPPORTS æ”¯æŒäº‹åŠ¡ï¼Œæœ‰åˆ™åŠ å…¥ï¼Œæ— åˆ™åœ¨æ— äº‹åŠ¡çŠ¶æ€ä¸­è¿è¡Œ NOT_SUPPORTED ä¸æ”¯æŒäº‹åŠ¡ï¼Œåœ¨æ— äº‹åŠ¡çŠ¶æ€ä¸‹è¿è¡Œ,å¦‚æœå½“å‰å­˜åœ¨å·²æœ‰äº‹åŠ¡,åˆ™æŒ‚èµ·å½“å‰äº‹åŠ¡ MANDATORY å¿…é¡»æœ‰äº‹åŠ¡ï¼Œå¦åˆ™æŠ›å¼‚å¸¸ NEVER å¿…é¡»æ²¡äº‹åŠ¡ï¼Œå¦åˆ™æŠ›å¼‚å¸¸ â€¦ å¯¹äºè¿™äº›äº‹åŠ¡ä¼ æ’­è¡Œä¸ºï¼Œæˆ‘ä»¬åªéœ€è¦å…³æ³¨ä»¥ä¸‹ä¸¤ä¸ªå°±å¯ä»¥äº†ï¼š\nREQUIREDï¼ˆé»˜è®¤å€¼ï¼‰ REQUIRES_NEW 1.3.3.2 æ¡ˆä¾‹ æ¥ä¸‹æ¥æˆ‘ä»¬å°±é€šè¿‡ä¸€ä¸ªæ¡ˆä¾‹æ¥æ¼”ç¤ºä¸‹äº‹åŠ¡ä¼ æ’­è¡Œä¸ºpropagationå±æ€§çš„ä½¿ç”¨ã€‚\n**éœ€æ±‚ï¼š**è§£æ•£éƒ¨é—¨æ—¶éœ€è¦è®°å½•æ“ä½œæ—¥å¿—\nâ€‹\tç”±äºè§£æ•£éƒ¨é—¨æ˜¯ä¸€ä¸ªéå¸¸é‡è¦è€Œä¸”éå¸¸å±é™©çš„æ“ä½œï¼Œæ‰€ä»¥åœ¨ä¸šåŠ¡å½“ä¸­è¦æ±‚æ¯ä¸€æ¬¡æ‰§è¡Œè§£æ•£éƒ¨é—¨çš„æ“ä½œéƒ½éœ€è¦ç•™ä¸‹ç—•è¿¹ï¼Œå°±æ˜¯è¦è®°å½•æ“ä½œæ—¥å¿—ã€‚è€Œä¸”è¿˜è¦æ±‚æ— è®ºæ˜¯æ‰§è¡ŒæˆåŠŸäº†è¿˜æ˜¯æ‰§è¡Œå¤±è´¥äº†ï¼Œéƒ½éœ€è¦ç•™ä¸‹ç—•è¿¹ã€‚\næ­¥éª¤ï¼š\næ‰§è¡Œè§£æ•£éƒ¨é—¨çš„ä¸šåŠ¡ï¼šå…ˆåˆ é™¤éƒ¨é—¨ï¼Œå†åˆ é™¤éƒ¨é—¨ä¸‹çš„å‘˜å·¥ï¼ˆå‰é¢å·²å®ç°ï¼‰ è®°å½•è§£æ•£éƒ¨é—¨çš„æ—¥å¿—ï¼Œåˆ°æ—¥å¿—è¡¨ï¼ˆæœªå®ç°ï¼‰ å‡†å¤‡å·¥ä½œï¼š\nåˆ›å»ºæ•°æ®åº“è¡¨ dept_log æ—¥å¿—è¡¨ï¼š 1 2 3 4 5 create table dept_log( id int auto_increment comment \u0026#39;ä¸»é”®ID\u0026#39; primary key, create_time datetime null comment \u0026#39;æ“ä½œæ—¶é—´\u0026#39;, description varchar(300) null comment \u0026#39;æ“ä½œæè¿°\u0026#39; )comment \u0026#39;éƒ¨é—¨æ“ä½œæ—¥å¿—è¡¨\u0026#39;; å¼•å…¥èµ„æ–™ä¸­æä¾›çš„å®ä½“ç±»ï¼šDeptLog 1 2 3 4 5 6 7 8 @Data @NoArgsConstructor @AllArgsConstructor public class DeptLog { private Integer id; private LocalDateTime createTime; private String description; } å¼•å…¥èµ„æ–™ä¸­æä¾›çš„Mapperæ¥å£ï¼šDeptLogMapper 1 2 3 4 5 6 7 @Mapper public interface DeptLogMapper { @Insert(\u0026#34;insert into dept_log(create_time,description) values(#{createTime},#{description})\u0026#34;) void insert(DeptLog log); } å¼•å…¥èµ„æ–™ä¸­æä¾›çš„ä¸šåŠ¡æ¥å£ï¼šDeptLogService 1 2 3 public interface DeptLogService { void insert(DeptLog deptLog); } å¼•å…¥èµ„æ–™ä¸­æä¾›çš„ä¸šåŠ¡å®ç°ç±»ï¼šDeptLogServiceImpl 1 2 3 4 5 6 7 8 9 10 11 12 @Service public class DeptLogServiceImpl implements DeptLogService { @Autowired private DeptLogMapper deptLogMapper; @Transactional //äº‹åŠ¡ä¼ æ’­è¡Œä¸ºï¼šæœ‰äº‹åŠ¡å°±åŠ å…¥ã€æ²¡æœ‰äº‹åŠ¡å°±æ–°å»ºäº‹åŠ¡ @Override public void insert(DeptLog deptLog) { deptLogMapper.insert(deptLog); } } ä»£ç å®ç°:\nä¸šåŠ¡å®ç°ç±»ï¼šDeptServiceImpl\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 @Slf4j @Service //@Transactional //å½“å‰ä¸šåŠ¡å®ç°ç±»ä¸­çš„æ‰€æœ‰çš„æ–¹æ³•ï¼Œéƒ½æ·»åŠ äº†springäº‹åŠ¡ç®¡ç†æœºåˆ¶ public class DeptServiceImpl implements DeptService { @Autowired private DeptMapper deptMapper; @Autowired private EmpMapper empMapper; @Autowired private DeptLogService deptLogService; //æ ¹æ®éƒ¨é—¨idï¼Œåˆ é™¤éƒ¨é—¨ä¿¡æ¯åŠéƒ¨é—¨ä¸‹çš„æ‰€æœ‰å‘˜å·¥ @Override @Log @Transactional(rollbackFor = Exception.class) public void delete(Integer id) throws Exception { try { //æ ¹æ®éƒ¨é—¨idåˆ é™¤éƒ¨é—¨ä¿¡æ¯ deptMapper.deleteById(id); //æ¨¡æ‹Ÿï¼šå¼‚å¸¸ if(true){ throw new Exception(\u0026#34;å‡ºç°å¼‚å¸¸äº†~~~\u0026#34;); } //åˆ é™¤éƒ¨é—¨ä¸‹çš„æ‰€æœ‰å‘˜å·¥ä¿¡æ¯ empMapper.deleteByDeptId(id); }finally { //ä¸è®ºæ˜¯å¦æœ‰å¼‚å¸¸ï¼Œæœ€ç»ˆéƒ½è¦æ‰§è¡Œçš„ä»£ç ï¼šè®°å½•æ—¥å¿— DeptLog deptLog = new DeptLog(); deptLog.setCreateTime(LocalDateTime.now()); deptLog.setDescription(\u0026#34;æ‰§è¡Œäº†è§£æ•£éƒ¨é—¨çš„æ“ä½œï¼Œæ­¤æ—¶è§£æ•£çš„æ˜¯\u0026#34;+id+\u0026#34;å·éƒ¨é—¨\u0026#34;); //è°ƒç”¨å…¶ä»–ä¸šåŠ¡ç±»ä¸­çš„æ–¹æ³• deptLogService.insert(deptLog); } } //çœç•¥å…¶ä»–ä»£ç ... } æµ‹è¯•:\né‡æ–°å¯åŠ¨SpringBootæœåŠ¡ï¼Œæµ‹è¯•åˆ é™¤3å·éƒ¨é—¨åä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ\næ‰§è¡Œäº†åˆ é™¤3å·éƒ¨é—¨æ“ä½œ æ‰§è¡Œäº†æ’å…¥éƒ¨é—¨æ—¥å¿—æ“ä½œ ç¨‹åºå‘ç”ŸExceptionå¼‚å¸¸ æ‰§è¡Œäº‹åŠ¡å›æ»šï¼ˆåˆ é™¤ã€æ’å…¥æ“ä½œå› ä¸ºåœ¨ä¸€ä¸ªäº‹åŠ¡èŒƒå›´å†…ï¼Œä¸¤ä¸ªæ“ä½œéƒ½ä¼šè¢«å›æ»šï¼‰ ç„¶ååœ¨dept_logè¡¨ä¸­æ²¡æœ‰è®°å½•æ—¥å¿—æ•°æ®\nåŸå› åˆ†æ:\næ¥ä¸‹æ¥æˆ‘ä»¬å°±éœ€è¦æ¥åˆ†æä¸€ä¸‹å…·ä½“æ˜¯ä»€ä¹ˆåŸå› å¯¼è‡´çš„æ—¥å¿—æ²¡æœ‰æˆåŠŸçš„è®°å½•ã€‚\nåœ¨æ‰§è¡Œdeleteæ“ä½œæ—¶å¼€å¯äº†ä¸€ä¸ªäº‹åŠ¡\nå½“æ‰§è¡Œinsertæ“ä½œæ—¶ï¼Œinsertè®¾ç½®çš„äº‹åŠ¡ä¼ æ’­è¡Œæ˜¯é»˜è®¤å€¼REQUIREDï¼Œè¡¨ç¤ºæœ‰äº‹åŠ¡å°±åŠ å…¥ï¼Œæ²¡æœ‰åˆ™æ–°å»ºäº‹åŠ¡\næ­¤æ—¶ï¼šdeleteå’Œinsertæ“ä½œä½¿ç”¨äº†åŒä¸€ä¸ªäº‹åŠ¡ï¼ŒåŒä¸€ä¸ªäº‹åŠ¡ä¸­çš„å¤šä¸ªæ“ä½œï¼Œè¦ä¹ˆåŒæ—¶æˆåŠŸï¼Œè¦ä¹ˆåŒæ—¶å¤±è´¥ï¼Œæ‰€ä»¥å½“å¼‚å¸¸å‘ç”Ÿæ—¶è¿›è¡Œäº‹åŠ¡å›æ»šï¼Œå°±ä¼šå›æ»šdeleteå’Œinsertæ“ä½œ\nè§£å†³æ–¹æ¡ˆï¼š\nåœ¨DeptLogServiceImplç±»ä¸­insertæ–¹æ³•ä¸Šï¼Œæ·»åŠ @Transactional(propagation = Propagation.REQUIRES_NEW)\nPropagation.REQUIRES_NEW ï¼šä¸è®ºæ˜¯å¦æœ‰äº‹åŠ¡ï¼Œéƒ½åˆ›å»ºæ–°äº‹åŠ¡ ï¼Œè¿è¡Œåœ¨ä¸€ä¸ªç‹¬ç«‹çš„äº‹åŠ¡ä¸­ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 @Service public class DeptLogServiceImpl implements DeptLogService { @Autowired private DeptLogMapper deptLogMapper; @Transactional(propagation = Propagation.REQUIRES_NEW)//äº‹åŠ¡ä¼ æ’­è¡Œä¸ºï¼šä¸è®ºæ˜¯å¦æœ‰äº‹åŠ¡ï¼Œéƒ½æ–°å»ºäº‹åŠ¡ @Override public void insert(DeptLog deptLog) { deptLogMapper.insert(deptLog); } } é‡å¯SpringBootæœåŠ¡ï¼Œå†æ¬¡æµ‹è¯•åˆ é™¤3å·éƒ¨é—¨ï¼š\né‚£æ­¤æ—¶ï¼ŒDeptServiceImplä¸­çš„deleteæ–¹æ³•è¿è¡Œæ—¶ï¼Œä¼šå¼€å¯ä¸€ä¸ªäº‹åŠ¡ã€‚ å½“è°ƒç”¨ deptLogService.insert(deptLog) æ—¶ï¼Œä¹Ÿä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„äº‹åŠ¡ï¼Œé‚£æ­¤æ—¶ï¼Œå½“insertæ–¹æ³•è¿è¡Œå®Œæ¯•ä¹‹åï¼Œäº‹åŠ¡å°±å·²ç»æäº¤äº†ã€‚ å³ä½¿å¤–éƒ¨çš„äº‹åŠ¡å‡ºç°å¼‚å¸¸ï¼Œå†…éƒ¨å·²ç»æäº¤çš„äº‹åŠ¡ï¼Œä¹Ÿä¸ä¼šå›æ»šäº†ï¼Œå› ä¸ºæ˜¯ä¸¤ä¸ªç‹¬ç«‹çš„äº‹åŠ¡ã€‚\nåˆ°æ­¤äº‹åŠ¡ä¼ æ’­è¡Œä¸ºå·²æ¼”ç¤ºå®Œæˆï¼Œäº‹åŠ¡çš„ä¼ æ’­è¡Œä¸ºæˆ‘ä»¬åªéœ€è¦æŒæ¡ä¸¤ä¸ªï¼šREQUIREDã€REQUIRES_NEWã€‚\nREQUIRED ï¼šå¤§éƒ¨åˆ†æƒ…å†µä¸‹éƒ½æ˜¯ç”¨è¯¥ä¼ æ’­è¡Œä¸ºå³å¯ã€‚\nREQUIRES_NEW ï¼šå½“æˆ‘ä»¬ä¸å¸Œæœ›äº‹åŠ¡ä¹‹é—´ç›¸äº’å½±å“æ—¶ï¼Œå¯ä»¥ä½¿ç”¨è¯¥ä¼ æ’­è¡Œä¸ºã€‚æ¯”å¦‚ï¼šä¸‹è®¢å•å‰éœ€è¦è®°å½•æ—¥å¿—ï¼Œä¸è®ºè®¢å•ä¿å­˜æˆåŠŸä¸å¦ï¼Œéƒ½éœ€è¦ä¿è¯æ—¥å¿—è®°å½•èƒ½å¤Ÿè®°å½•æˆåŠŸã€‚\n2. AOPåŸºç¡€ å­¦ä¹ å®Œspringçš„äº‹åŠ¡ç®¡ç†ä¹‹åï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬è¿›å…¥åˆ°AOPçš„å­¦ä¹ ã€‚ AOPä¹Ÿæ˜¯springæ¡†æ¶çš„ç¬¬äºŒå¤§æ ¸å¿ƒï¼Œæˆ‘ä»¬å…ˆæ¥å­¦ä¹ AOPçš„åŸºç¡€ã€‚\nåœ¨AOPåŸºç¡€è¿™ä¸ªé˜¶æ®µï¼Œæˆ‘ä»¬é¦–å…ˆä»‹ç»ä¸€ä¸‹ä»€ä¹ˆæ˜¯AOPï¼Œå†é€šè¿‡ä¸€ä¸ªå¿«é€Ÿå…¥é—¨ç¨‹åºï¼Œè®©å¤§å®¶å¿«é€Ÿä½“éªŒAOPç¨‹åºçš„å¼€å‘ã€‚æœ€åå†ä»‹ç»AOPå½“ä¸­æ‰€æ¶‰åŠåˆ°çš„ä¸€äº›æ ¸å¿ƒçš„æ¦‚å¿µã€‚\n2.1 AOPæ¦‚è¿° ä»€ä¹ˆæ˜¯AOPï¼Ÿ\nAOPè‹±æ–‡å…¨ç§°ï¼šAspect Oriented Programmingï¼ˆé¢å‘åˆ‡é¢ç¼–ç¨‹ã€é¢å‘æ–¹é¢ç¼–ç¨‹ï¼‰ï¼Œå…¶å®è¯´ç™½äº†ï¼Œé¢å‘åˆ‡é¢ç¼–ç¨‹å°±æ˜¯é¢å‘ç‰¹å®šæ–¹æ³•ç¼–ç¨‹ã€‚ é‚£ä»€ä¹ˆåˆæ˜¯é¢å‘æ–¹æ³•ç¼–ç¨‹å‘¢ï¼Œä¸ºä»€ä¹ˆåˆéœ€è¦é¢å‘æ–¹æ³•ç¼–ç¨‹å‘¢ï¼Ÿæ¥æˆ‘ä»¬ä¸¾ä¸ªä¾‹å­åšä¸€ä¸ªè¯´æ˜ï¼š\næ¯”å¦‚ï¼Œæˆ‘ä»¬è¿™é‡Œæœ‰ä¸€ä¸ªé¡¹ç›®ï¼Œé¡¹ç›®ä¸­å¼€å‘äº†å¾ˆå¤šçš„ä¸šåŠ¡åŠŸèƒ½ã€‚\nç„¶è€Œæœ‰ä¸€äº›ä¸šåŠ¡åŠŸèƒ½æ‰§è¡Œæ•ˆç‡æ¯”è¾ƒä½ï¼Œæ‰§è¡Œè€—æ—¶è¾ƒé•¿ï¼Œæˆ‘ä»¬éœ€è¦é’ˆå¯¹äºè¿™äº›ä¸šåŠ¡æ–¹æ³•è¿›è¡Œä¼˜åŒ–ã€‚ é‚£é¦–å…ˆç¬¬ä¸€æ­¥å°±éœ€è¦å®šä½å‡ºæ‰§è¡Œè€—æ—¶æ¯”è¾ƒé•¿çš„ä¸šåŠ¡æ–¹æ³•ï¼Œå†é’ˆå¯¹äºä¸šåŠ¡æ–¹æ³•å†æ¥è¿›è¡Œä¼˜åŒ–ã€‚\næ­¤æ—¶æˆ‘ä»¬å°±éœ€è¦ç»Ÿè®¡å½“å‰è¿™ä¸ªé¡¹ç›®å½“ä¸­æ¯ä¸€ä¸ªä¸šåŠ¡æ–¹æ³•çš„æ‰§è¡Œè€—æ—¶ã€‚é‚£ä¹ˆç»Ÿè®¡æ¯ä¸€ä¸ªä¸šåŠ¡æ–¹æ³•çš„æ‰§è¡Œè€—æ—¶è¯¥æ€ä¹ˆå®ç°ï¼Ÿ\nå¯èƒ½å¤šæ•°äººé¦–å…ˆæƒ³åˆ°çš„å°±æ˜¯åœ¨æ¯ä¸€ä¸ªä¸šåŠ¡æ–¹æ³•è¿è¡Œä¹‹å‰ï¼Œè®°å½•è¿™ä¸ªæ–¹æ³•è¿è¡Œçš„å¼€å§‹æ—¶é—´ã€‚åœ¨è¿™ä¸ªæ–¹æ³•è¿è¡Œå®Œæ¯•ä¹‹åï¼Œå†æ¥è®°å½•è¿™ä¸ªæ–¹æ³•è¿è¡Œçš„ç»“æŸæ—¶é—´ã€‚æ‹¿ç»“æŸæ—¶é—´å‡å»å¼€å§‹æ—¶é—´ï¼Œä¸å°±æ˜¯è¿™ä¸ªæ–¹æ³•çš„æ‰§è¡Œè€—æ—¶å—ï¼Ÿ\nä»¥ä¸Šåˆ†æçš„å®ç°æ–¹å¼æ˜¯å¯ä»¥è§£å†³éœ€æ±‚é—®é¢˜çš„ã€‚ä½†æ˜¯å¯¹äºä¸€ä¸ªé¡¹ç›®æ¥è®²ï¼Œé‡Œé¢ä¼šåŒ…å«å¾ˆå¤šçš„ä¸šåŠ¡æ¨¡å—ï¼Œæ¯ä¸ªä¸šåŠ¡æ¨¡å—åˆåŒ…å«å¾ˆå¤šå¢åˆ æ”¹æŸ¥çš„æ–¹æ³•ï¼Œå¦‚æœæˆ‘ä»¬è¦åœ¨æ¯ä¸€ä¸ªæ¨¡å—ä¸‹çš„ä¸šåŠ¡æ–¹æ³•ä¸­ï¼Œæ·»åŠ è®°å½•å¼€å§‹æ—¶é—´ã€ç»“æŸæ—¶é—´ã€è®¡ç®—æ‰§è¡Œè€—æ—¶çš„ä»£ç ï¼Œå°±ä¼šè®©ç¨‹åºå‘˜çš„å·¥ä½œå˜å¾—éå¸¸ç¹çã€‚\nè€ŒAOPé¢å‘æ–¹æ³•ç¼–ç¨‹ï¼Œå°±å¯ä»¥åšåˆ°åœ¨ä¸æ”¹åŠ¨è¿™äº›åŸå§‹æ–¹æ³•çš„åŸºç¡€ä¸Šï¼Œé’ˆå¯¹ç‰¹å®šçš„æ–¹æ³•è¿›è¡ŒåŠŸèƒ½çš„å¢å¼ºã€‚\nAOPçš„ä½œç”¨ï¼šåœ¨ç¨‹åºè¿è¡ŒæœŸé—´åœ¨ä¸ä¿®æ”¹æºä»£ç çš„åŸºç¡€ä¸Šå¯¹å·²æœ‰æ–¹æ³•è¿›è¡Œå¢å¼ºï¼ˆæ— ä¾µå…¥æ€§: è§£è€¦ï¼‰\næˆ‘ä»¬è¦æƒ³å®Œæˆç»Ÿè®¡å„ä¸ªä¸šåŠ¡æ–¹æ³•æ‰§è¡Œè€—æ—¶çš„éœ€æ±‚ï¼Œæˆ‘ä»¬åªéœ€è¦å®šä¹‰ä¸€ä¸ªæ¨¡æ¿æ–¹æ³•ï¼Œå°†è®°å½•æ–¹æ³•æ‰§è¡Œè€—æ—¶è¿™ä¸€éƒ¨åˆ†å…¬å…±çš„é€»è¾‘ä»£ç ï¼Œå®šä¹‰åœ¨æ¨¡æ¿æ–¹æ³•å½“ä¸­ï¼Œåœ¨è¿™ä¸ªæ–¹æ³•å¼€å§‹è¿è¡Œä¹‹å‰ï¼Œæ¥è®°å½•è¿™ä¸ªæ–¹æ³•è¿è¡Œçš„å¼€å§‹æ—¶é—´ï¼Œåœ¨æ–¹æ³•ç»“æŸè¿è¡Œçš„æ—¶å€™ï¼Œå†æ¥è®°å½•æ–¹æ³•è¿è¡Œçš„ç»“æŸæ—¶é—´ï¼Œä¸­é—´å°±æ¥è¿è¡ŒåŸå§‹çš„ä¸šåŠ¡æ–¹æ³•ã€‚\nè€Œä¸­é—´è¿è¡Œçš„åŸå§‹ä¸šåŠ¡æ–¹æ³•ï¼Œå¯èƒ½æ˜¯å…¶ä¸­çš„ä¸€ä¸ªä¸šåŠ¡æ–¹æ³•ï¼Œæ¯”å¦‚ï¼šæˆ‘ä»¬åªæƒ³é€šè¿‡ éƒ¨é—¨ç®¡ç†çš„ list æ–¹æ³•çš„æ‰§è¡Œè€—æ—¶ï¼Œé‚£å°±åªæœ‰è¿™ä¸€ä¸ªæ–¹æ³•æ˜¯åŸå§‹ä¸šåŠ¡æ–¹æ³•ã€‚ è€Œå¦‚æœï¼Œæˆ‘ä»¬æ˜¯å…ˆæƒ³ç»Ÿè®¡æ‰€æœ‰éƒ¨é—¨ç®¡ç†çš„ä¸šåŠ¡æ–¹æ³•æ‰§è¡Œè€—æ—¶ï¼Œé‚£æ­¤æ—¶ï¼Œæ‰€æœ‰çš„éƒ¨é—¨ç®¡ç†çš„ä¸šåŠ¡æ–¹æ³•éƒ½æ˜¯ åŸå§‹ä¸šåŠ¡æ–¹æ³•ã€‚ é‚£é¢å‘è¿™æ ·çš„æŒ‡å®šçš„ä¸€ä¸ªæˆ–å¤šä¸ªæ–¹æ³•è¿›è¡Œç¼–ç¨‹ï¼Œæˆ‘ä»¬å°±ç§°ä¹‹ä¸º é¢å‘åˆ‡é¢ç¼–ç¨‹ã€‚\né‚£æ­¤æ—¶ï¼Œå½“æˆ‘ä»¬å†è°ƒç”¨éƒ¨é—¨ç®¡ç†çš„ list ä¸šåŠ¡æ–¹æ³•æ—¶å•Šï¼Œå¹¶ä¸ä¼šç›´æ¥æ‰§è¡Œ list æ–¹æ³•çš„é€»è¾‘ï¼Œè€Œæ˜¯ä¼šæ‰§è¡Œæˆ‘ä»¬æ‰€å®šä¹‰çš„ æ¨¡æ¿æ–¹æ³• ï¼Œ ç„¶åå†æ¨¡æ¿æ–¹æ³•ä¸­ï¼š\nè®°å½•æ–¹æ³•è¿è¡Œå¼€å§‹æ—¶é—´ è¿è¡ŒåŸå§‹çš„ä¸šåŠ¡æ–¹æ³•ï¼ˆé‚£æ­¤æ—¶åŸå§‹çš„ä¸šåŠ¡æ–¹æ³•ï¼Œå°±æ˜¯ list æ–¹æ³•ï¼‰ è®°å½•æ–¹æ³•è¿è¡Œç»“æŸæ—¶é—´ï¼Œè®¡ç®—æ–¹æ³•æ‰§è¡Œè€—æ—¶ ä¸è®ºï¼Œæˆ‘ä»¬è¿è¡Œçš„æ˜¯é‚£ä¸ªä¸šåŠ¡æ–¹æ³•ï¼Œæœ€åå…¶å®è¿è¡Œçš„å°±æ˜¯æˆ‘ä»¬å®šä¹‰çš„æ¨¡æ¿æ–¹æ³•ï¼Œè€Œåœ¨æ¨¡æ¿æ–¹æ³•ä¸­ï¼Œå°±å®Œæˆäº†åŸå§‹æ–¹æ³•æ‰§è¡Œè€—æ—¶çš„ç»Ÿè®¡æ“ä½œ ã€‚(é‚£è¿™æ ·å‘¢ï¼Œæˆ‘ä»¬å°±é€šè¿‡ä¸€ä¸ªæ¨¡æ¿æ–¹æ³•å°±å®Œæˆäº†æŒ‡å®šçš„ä¸€ä¸ªæˆ–å¤šä¸ªä¸šåŠ¡æ–¹æ³•æ‰§è¡Œè€—æ—¶çš„ç»Ÿè®¡)\nè€Œå¤§å®¶ä¼šå‘ç°ï¼Œè¿™ä¸ªæµç¨‹ï¼Œæˆ‘ä»¬æ˜¯ä¸æ˜¯ä¼¼æ›¾ç›¸è¯†å•Šï¼Ÿ\nå¯¹äº†ï¼Œå°±æ˜¯å’Œæˆ‘ä»¬ä¹‹å‰æ‰€å­¦ä¹ çš„åŠ¨æ€ä»£ç†æŠ€æœ¯æ˜¯éå¸¸ç±»ä¼¼çš„ã€‚ æˆ‘ä»¬æ‰€è¯´çš„æ¨¡æ¿æ–¹æ³•ï¼Œå…¶å®å°±æ˜¯ä»£ç†å¯¹è±¡ä¸­æ‰€å®šä¹‰çš„æ–¹æ³•ï¼Œé‚£ä»£ç†å¯¹è±¡ä¸­çš„æ–¹æ³•ä»¥åŠæ ¹æ®å¯¹åº”çš„ä¸šåŠ¡éœ€è¦ï¼Œ å®Œæˆäº†å¯¹åº”çš„ä¸šåŠ¡åŠŸèƒ½ï¼Œå½“è¿è¡ŒåŸå§‹ä¸šåŠ¡æ–¹æ³•æ—¶ï¼Œå°±ä¼šè¿è¡Œä»£ç†å¯¹è±¡ä¸­çš„æ–¹æ³•ï¼Œä»è€Œå®ç°ç»Ÿè®¡ä¸šåŠ¡æ–¹æ³•æ‰§è¡Œè€—æ—¶çš„æ“ä½œã€‚\nå…¶å®ï¼ŒAOPé¢å‘åˆ‡é¢ç¼–ç¨‹å’ŒOOPé¢å‘å¯¹è±¡ç¼–ç¨‹ä¸€æ ·ï¼Œå®ƒä»¬éƒ½ä»…ä»…æ˜¯ä¸€ç§ç¼–ç¨‹æ€æƒ³ï¼Œè€ŒåŠ¨æ€ä»£ç†æŠ€æœ¯æ˜¯è¿™ç§æ€æƒ³æœ€ä¸»æµçš„å®ç°æ–¹å¼ã€‚è€ŒSpringçš„AOPæ˜¯Springæ¡†æ¶çš„é«˜çº§æŠ€æœ¯ï¼Œæ—¨åœ¨ç®¡ç†beanå¯¹è±¡çš„è¿‡ç¨‹ä¸­åº•å±‚ä½¿ç”¨åŠ¨æ€ä»£ç†æœºåˆ¶ï¼Œå¯¹ç‰¹å®šçš„æ–¹æ³•è¿›è¡Œç¼–ç¨‹(åŠŸèƒ½å¢å¼º)ã€‚\nAOPçš„ä¼˜åŠ¿ï¼š\nå‡å°‘é‡å¤ä»£ç  æé«˜å¼€å‘æ•ˆç‡ ç»´æŠ¤æ–¹ä¾¿ 2.2 AOPå¿«é€Ÿå…¥é—¨ åœ¨äº†è§£äº†ä»€ä¹ˆæ˜¯AOPåï¼Œæˆ‘ä»¬ä¸‹é¢é€šè¿‡ä¸€ä¸ªå¿«é€Ÿå…¥é—¨ç¨‹åºï¼Œä½“éªŒä¸‹AOPçš„å¼€å‘ï¼Œå¹¶æŒæ¡Springä¸­AOPçš„å¼€å‘æ­¥éª¤ã€‚\n**éœ€æ±‚ï¼š**ç»Ÿè®¡å„ä¸ªä¸šåŠ¡å±‚æ–¹æ³•æ‰§è¡Œè€—æ—¶ã€‚\nå®ç°æ­¥éª¤ï¼š\nå¯¼å…¥ä¾èµ–ï¼šåœ¨pom.xmlä¸­å¯¼å…¥AOPçš„ä¾èµ– ç¼–å†™AOPç¨‹åºï¼šé’ˆå¯¹äºç‰¹å®šæ–¹æ³•æ ¹æ®ä¸šåŠ¡éœ€è¦è¿›è¡Œç¼–ç¨‹ ä¸ºæ¼”ç¤ºæ–¹ä¾¿ï¼Œå¯ä»¥è‡ªå»ºæ–°é¡¹ç›®æˆ–å¯¼å…¥æä¾›çš„springboot-aop-quickstarté¡¹ç›®å·¥ç¨‹\npom.xml\n1 2 3 4 \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.springframework.boot\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;spring-boot-starter-aop\u0026lt;/artifactId\u0026gt; \u0026lt;/dependency\u0026gt; AOPç¨‹åºï¼šTimeAspect\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 @Component @Aspect //å½“å‰ç±»ä¸ºåˆ‡é¢ç±» @Slf4j public class TimeAspect { @Around(\u0026#34;execution(* com.itheima.service.*.*(..))\u0026#34;) public Object recordTime(ProceedingJoinPoint pjp) throws Throwable { //è®°å½•æ–¹æ³•æ‰§è¡Œå¼€å§‹æ—¶é—´ long begin = System.currentTimeMillis(); //æ‰§è¡ŒåŸå§‹æ–¹æ³• Object result = pjp.proceed(); //è®°å½•æ–¹æ³•æ‰§è¡Œç»“æŸæ—¶é—´ long end = System.currentTimeMillis(); //è®¡ç®—æ–¹æ³•æ‰§è¡Œè€—æ—¶ log.info(pjp.getSignature()+\u0026#34;æ‰§è¡Œè€—æ—¶: {}æ¯«ç§’\u0026#34;,end-begin); return result; } } é‡æ–°å¯åŠ¨SpringBootæœåŠ¡æµ‹è¯•ç¨‹åºï¼š\næŸ¥è¯¢3å·éƒ¨é—¨ä¿¡æ¯ æˆ‘ä»¬å¯ä»¥å†æµ‹è¯•ä¸‹ï¼šæŸ¥è¯¢æ‰€æœ‰éƒ¨é—¨ä¿¡æ¯ï¼ˆåŒæ ·æ‰§è¡ŒAOPç¨‹åºï¼‰\næˆ‘ä»¬é€šè¿‡AOPå…¥é—¨ç¨‹åºå®Œæˆäº†ä¸šåŠ¡æ–¹æ³•æ‰§è¡Œè€—æ—¶çš„ç»Ÿè®¡ï¼Œé‚£å…¶å®AOPçš„åŠŸèƒ½è¿œä¸æ­¢äºæ­¤ï¼Œå¸¸è§çš„åº”ç”¨åœºæ™¯å¦‚ä¸‹ï¼š\nè®°å½•ç³»ç»Ÿçš„æ“ä½œæ—¥å¿— æƒé™æ§åˆ¶ äº‹åŠ¡ç®¡ç†ï¼šæˆ‘ä»¬å‰é¢æ‰€è®²è§£çš„Springäº‹åŠ¡ç®¡ç†ï¼Œåº•å±‚å…¶å®ä¹Ÿæ˜¯é€šè¿‡AOPæ¥å®ç°çš„ï¼Œåªè¦æ·»åŠ @Transactionalæ³¨è§£ä¹‹åï¼ŒAOPç¨‹åºè‡ªåŠ¨ä¼šåœ¨åŸå§‹æ–¹æ³•è¿è¡Œå‰å…ˆæ¥å¼€å¯äº‹åŠ¡ï¼Œåœ¨åŸå§‹æ–¹æ³•è¿è¡Œå®Œæ¯•ä¹‹åæäº¤æˆ–å›æ»šäº‹åŠ¡ è¿™äº›éƒ½æ˜¯AOPåº”ç”¨çš„å…¸å‹åœºæ™¯ã€‚\né€šè¿‡å…¥é—¨ç¨‹åºï¼Œæˆ‘ä»¬ä¹Ÿåº”è¯¥æ„Ÿå—åˆ°äº†AOPé¢å‘åˆ‡é¢ç¼–ç¨‹çš„ä¸€äº›ä¼˜åŠ¿ï¼š\nä»£ç æ— ä¾µå…¥ï¼šæ²¡æœ‰ä¿®æ”¹åŸå§‹çš„ä¸šåŠ¡æ–¹æ³•ï¼Œå°±å·²ç»å¯¹åŸå§‹çš„ä¸šåŠ¡æ–¹æ³•è¿›è¡Œäº†åŠŸèƒ½çš„å¢å¼ºæˆ–è€…æ˜¯åŠŸèƒ½çš„æ”¹å˜\nå‡å°‘äº†é‡å¤ä»£ç \næé«˜å¼€å‘æ•ˆç‡\nç»´æŠ¤æ–¹ä¾¿\n2.3 AOPæ ¸å¿ƒæ¦‚å¿µ é€šè¿‡SpringAOPçš„å¿«é€Ÿå…¥é—¨ï¼Œæ„Ÿå—äº†ä¸€ä¸‹AOPé¢å‘åˆ‡é¢ç¼–ç¨‹çš„å¼€å‘æ–¹å¼ã€‚ä¸‹é¢æˆ‘ä»¬å†æ¥å­¦ä¹ AOPå½“ä¸­æ¶‰åŠåˆ°çš„ä¸€äº›æ ¸å¿ƒæ¦‚å¿µã€‚\n1. è¿æ¥ç‚¹ï¼šJoinPointï¼Œå¯ä»¥è¢«AOPæ§åˆ¶çš„æ–¹æ³•ï¼ˆæš—å«æ–¹æ³•æ‰§è¡Œæ—¶çš„ç›¸å…³ä¿¡æ¯ï¼‰\nâ€‹\tè¿æ¥ç‚¹æŒ‡çš„æ˜¯å¯ä»¥è¢«aopæ§åˆ¶çš„æ–¹æ³•ã€‚ä¾‹å¦‚ï¼šå…¥é—¨ç¨‹åºå½“ä¸­æ‰€æœ‰çš„ä¸šåŠ¡æ–¹æ³•éƒ½æ˜¯å¯ä»¥è¢«aopæ§åˆ¶çš„æ–¹æ³•ã€‚\nâ€‹\tâ€‹\tåœ¨SpringAOPæä¾›çš„JoinPointå½“ä¸­ï¼Œå°è£…äº†è¿æ¥ç‚¹æ–¹æ³•åœ¨æ‰§è¡Œæ—¶çš„ç›¸å…³ä¿¡æ¯ã€‚ï¼ˆåé¢ä¼šæœ‰å…·ä½“çš„è®²è§£ï¼‰\n2. é€šçŸ¥ï¼šAdviceï¼ŒæŒ‡å“ªäº›é‡å¤çš„é€»è¾‘ï¼Œä¹Ÿå°±æ˜¯å…±æ€§åŠŸèƒ½ï¼ˆæœ€ç»ˆä½“ç°ä¸ºä¸€ä¸ªæ–¹æ³•ï¼‰\nâ€‹\tåœ¨å…¥é—¨ç¨‹åºä¸­æ˜¯éœ€è¦ç»Ÿè®¡å„ä¸ªä¸šåŠ¡æ–¹æ³•çš„æ‰§è¡Œè€—æ—¶çš„ï¼Œæ­¤æ—¶æˆ‘ä»¬å°±éœ€è¦åœ¨è¿™äº›ä¸šåŠ¡æ–¹æ³•è¿è¡Œå¼€å§‹ä¹‹å‰ï¼Œå…ˆè®°å½•è¿™ä¸ªæ–¹æ³•è¿è¡Œçš„å¼€å§‹æ—¶é—´ï¼Œåœ¨æ¯ä¸€ä¸ªä¸šåŠ¡æ–¹æ³•è¿è¡Œç»“æŸçš„æ—¶å€™ï¼Œå†æ¥è®°å½•è¿™ä¸ªæ–¹æ³•è¿è¡Œçš„ç»“æŸæ—¶é—´ã€‚\nâ€‹\tä½†æ˜¯åœ¨AOPé¢å‘åˆ‡é¢ç¼–ç¨‹å½“ä¸­ï¼Œæˆ‘ä»¬åªéœ€è¦å°†è¿™éƒ¨åˆ†é‡å¤çš„ä»£ç é€»è¾‘æŠ½å–å‡ºæ¥å•ç‹¬å®šä¹‰ã€‚æŠ½å–å‡ºæ¥çš„è¿™ä¸€éƒ¨åˆ†é‡å¤çš„é€»è¾‘ï¼Œä¹Ÿå°±æ˜¯å…±æ€§çš„åŠŸèƒ½ã€‚\nâ€‹\tâ€‹\n3. åˆ‡å…¥ç‚¹ï¼šPointCutï¼ŒåŒ¹é…è¿æ¥ç‚¹çš„æ¡ä»¶ï¼Œé€šçŸ¥ä»…ä¼šåœ¨åˆ‡å…¥ç‚¹æ–¹æ³•æ‰§è¡Œæ—¶è¢«åº”ç”¨\nâ€‹\tåœ¨é€šçŸ¥å½“ä¸­ï¼Œæˆ‘ä»¬æ‰€å®šä¹‰çš„å…±æ€§åŠŸèƒ½åˆ°åº•è¦åº”ç”¨åœ¨å“ªäº›æ–¹æ³•ä¸Šï¼Ÿæ­¤æ—¶å°±æ¶‰åŠåˆ°äº†åˆ‡å…¥ç‚¹pointcutæ¦‚å¿µã€‚åˆ‡å…¥ç‚¹æŒ‡çš„æ˜¯åŒ¹é…è¿æ¥ç‚¹çš„æ¡ä»¶ã€‚é€šçŸ¥ä»…ä¼šåœ¨åˆ‡å…¥ç‚¹æ–¹æ³•è¿è¡Œæ—¶æ‰ä¼šè¢«åº”ç”¨ã€‚\nâ€‹\tåœ¨aopçš„å¼€å‘å½“ä¸­ï¼Œæˆ‘ä»¬é€šå¸¸ä¼šé€šè¿‡ä¸€ä¸ªåˆ‡å…¥ç‚¹è¡¨è¾¾å¼æ¥æè¿°åˆ‡å…¥ç‚¹(åé¢ä¼šæœ‰è¯¦è§£)ã€‚\nâ€‹\tâ€‹\tå‡å¦‚ï¼šåˆ‡å…¥ç‚¹è¡¨è¾¾å¼æ”¹ä¸ºDeptServiceImpl.list()ï¼Œæ­¤æ—¶å°±ä»£è¡¨ä»…ä»…åªæœ‰listè¿™ä¸€ä¸ªæ–¹æ³•æ˜¯åˆ‡å…¥ç‚¹ã€‚åªæœ‰list()æ–¹æ³•åœ¨è¿è¡Œçš„æ—¶å€™æ‰ä¼šåº”ç”¨é€šçŸ¥ã€‚\nâ€‹\n4. åˆ‡é¢ï¼šAspectï¼Œæè¿°é€šçŸ¥ä¸åˆ‡å…¥ç‚¹çš„å¯¹åº”å…³ç³»ï¼ˆé€šçŸ¥+åˆ‡å…¥ç‚¹ï¼‰\nâ€‹\tå½“é€šçŸ¥å’Œåˆ‡å…¥ç‚¹ç»“åˆåœ¨ä¸€èµ·ï¼Œå°±å½¢æˆäº†ä¸€ä¸ªåˆ‡é¢ã€‚é€šè¿‡åˆ‡é¢å°±èƒ½å¤Ÿæè¿°å½“å‰aopç¨‹åºéœ€è¦é’ˆå¯¹äºå“ªä¸ªåŸå§‹æ–¹æ³•ï¼Œåœ¨ä»€ä¹ˆæ—¶å€™æ‰§è¡Œä»€ä¹ˆæ ·çš„æ“ä½œã€‚\nâ€‹\tâ€‹\tåˆ‡é¢æ‰€åœ¨çš„ç±»ï¼Œæˆ‘ä»¬ä¸€èˆ¬ç§°ä¸ºåˆ‡é¢ç±»ï¼ˆè¢«@Aspectæ³¨è§£æ ‡è¯†çš„ç±»ï¼‰\nâ€‹\n5. ç›®æ ‡å¯¹è±¡ï¼šTargetï¼Œé€šçŸ¥æ‰€åº”ç”¨çš„å¯¹è±¡\nâ€‹\tç›®æ ‡å¯¹è±¡æŒ‡çš„å°±æ˜¯é€šçŸ¥æ‰€åº”ç”¨çš„å¯¹è±¡ï¼Œæˆ‘ä»¬å°±ç§°ä¹‹ä¸ºç›®æ ‡å¯¹è±¡ã€‚\nâ€‹\tAOPçš„æ ¸å¿ƒæ¦‚å¿µæˆ‘ä»¬ä»‹ç»å®Œæ¯•ä¹‹åï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å†æ¥åˆ†æä¸€ä¸‹æˆ‘ä»¬æ‰€å®šä¹‰çš„é€šçŸ¥æ˜¯å¦‚ä½•ä¸ç›®æ ‡å¯¹è±¡ç»“åˆåœ¨ä¸€èµ·ï¼Œå¯¹ç›®æ ‡å¯¹è±¡å½“ä¸­çš„æ–¹æ³•è¿›è¡ŒåŠŸèƒ½å¢å¼ºçš„ã€‚\nSpringçš„AOPåº•å±‚æ˜¯åŸºäºåŠ¨æ€ä»£ç†æŠ€æœ¯æ¥å®ç°çš„ï¼Œä¹Ÿå°±æ˜¯è¯´åœ¨ç¨‹åºè¿è¡Œçš„æ—¶å€™ï¼Œä¼šè‡ªåŠ¨çš„åŸºäºåŠ¨æ€ä»£ç†æŠ€æœ¯ä¸ºç›®æ ‡å¯¹è±¡ç”Ÿæˆä¸€ä¸ªå¯¹åº”çš„ä»£ç†å¯¹è±¡ã€‚åœ¨ä»£ç†å¯¹è±¡å½“ä¸­å°±ä¼šå¯¹ç›®æ ‡å¯¹è±¡å½“ä¸­çš„åŸå§‹æ–¹æ³•è¿›è¡ŒåŠŸèƒ½çš„å¢å¼ºã€‚\n3. AOPè¿›é˜¶ AOPçš„åŸºç¡€çŸ¥è¯†å­¦ä¹ å®Œä¹‹åï¼Œä¸‹é¢æˆ‘ä»¬å¯¹AOPå½“ä¸­çš„å„ä¸ªç»†èŠ‚è¿›è¡Œè¯¦ç»†çš„å­¦ä¹ ã€‚ä¸»è¦åˆ†ä¸º4ä¸ªéƒ¨åˆ†ï¼š\né€šçŸ¥ç±»å‹ é€šçŸ¥é¡ºåº åˆ‡å…¥ç‚¹è¡¨è¾¾å¼ è¿æ¥ç‚¹ æˆ‘ä»¬å…ˆæ¥å­¦ä¹ ç¬¬ä¸€éƒ¨åˆ†é€šçŸ¥ç±»å‹ã€‚\n3.1 é€šçŸ¥ç±»å‹ åœ¨å…¥é—¨ç¨‹åºå½“ä¸­ï¼Œæˆ‘ä»¬å·²ç»ä½¿ç”¨äº†ä¸€ç§åŠŸèƒ½æœ€ä¸ºå¼ºå¤§çš„é€šçŸ¥ç±»å‹ï¼šAroundç¯ç»•é€šçŸ¥ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 @Around(\u0026#34;execution(* com.itheima.service.*.*(..))\u0026#34;) public Object recordTime(ProceedingJoinPoint pjp) throws Throwable { //è®°å½•æ–¹æ³•æ‰§è¡Œå¼€å§‹æ—¶é—´ long begin = System.currentTimeMillis(); //æ‰§è¡ŒåŸå§‹æ–¹æ³• Object result = pjp.proceed(); //è®°å½•æ–¹æ³•æ‰§è¡Œç»“æŸæ—¶é—´ long end = System.currentTimeMillis(); //è®¡ç®—æ–¹æ³•æ‰§è¡Œè€—æ—¶ log.info(pjp.getSignature()+\u0026#34;æ‰§è¡Œè€—æ—¶: {}æ¯«ç§’\u0026#34;,end-begin); return result; } åªè¦æˆ‘ä»¬åœ¨é€šçŸ¥æ–¹æ³•ä¸ŠåŠ ä¸Šäº†@Aroundæ³¨è§£ï¼Œå°±ä»£è¡¨å½“å‰é€šçŸ¥æ˜¯ä¸€ä¸ªç¯ç»•é€šçŸ¥ã€‚\nSpringä¸­AOPçš„é€šçŸ¥ç±»å‹ï¼š\n@Aroundï¼šç¯ç»•é€šçŸ¥ï¼Œæ­¤æ³¨è§£æ ‡æ³¨çš„é€šçŸ¥æ–¹æ³•åœ¨ç›®æ ‡æ–¹æ³•å‰ã€åéƒ½è¢«æ‰§è¡Œ @Beforeï¼šå‰ç½®é€šçŸ¥ï¼Œæ­¤æ³¨è§£æ ‡æ³¨çš„é€šçŸ¥æ–¹æ³•åœ¨ç›®æ ‡æ–¹æ³•å‰è¢«æ‰§è¡Œ @After ï¼šåç½®é€šçŸ¥ï¼Œæ­¤æ³¨è§£æ ‡æ³¨çš„é€šçŸ¥æ–¹æ³•åœ¨ç›®æ ‡æ–¹æ³•åè¢«æ‰§è¡Œï¼Œæ— è®ºæ˜¯å¦æœ‰å¼‚å¸¸éƒ½ä¼šæ‰§è¡Œ @AfterReturning ï¼š è¿”å›åé€šçŸ¥ï¼Œæ­¤æ³¨è§£æ ‡æ³¨çš„é€šçŸ¥æ–¹æ³•åœ¨ç›®æ ‡æ–¹æ³•åè¢«æ‰§è¡Œï¼Œæœ‰å¼‚å¸¸ä¸ä¼šæ‰§è¡Œ @AfterThrowing ï¼š å¼‚å¸¸åé€šçŸ¥ï¼Œæ­¤æ³¨è§£æ ‡æ³¨çš„é€šçŸ¥æ–¹æ³•å‘ç”Ÿå¼‚å¸¸åæ‰§è¡Œ ä¸‹é¢æˆ‘ä»¬é€šè¿‡ä»£ç æ¼”ç¤ºï¼Œæ¥åŠ æ·±å¯¹äºä¸åŒé€šçŸ¥ç±»å‹çš„ç†è§£ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 @Slf4j @Component @Aspect public class MyAspect1 { //å‰ç½®é€šçŸ¥ @Before(\u0026#34;execution(* com.itheima.service.*.*(..))\u0026#34;) public void before(JoinPoint joinPoint){ log.info(\u0026#34;before ...\u0026#34;); } //ç¯ç»•é€šçŸ¥ @Around(\u0026#34;execution(* com.itheima.service.*.*(..))\u0026#34;) public Object around(ProceedingJoinPoint proceedingJoinPoint) throws Throwable { log.info(\u0026#34;around before ...\u0026#34;); //è°ƒç”¨ç›®æ ‡å¯¹è±¡çš„åŸå§‹æ–¹æ³•æ‰§è¡Œ Object result = proceedingJoinPoint.proceed(); //åŸå§‹æ–¹æ³•å¦‚æœæ‰§è¡Œæ—¶æœ‰å¼‚å¸¸ï¼Œç¯ç»•é€šçŸ¥ä¸­çš„åç½®ä»£ç ä¸ä¼šåœ¨æ‰§è¡Œäº† log.info(\u0026#34;around after ...\u0026#34;); return result; } //åç½®é€šçŸ¥ @After(\u0026#34;execution(* com.itheima.service.*.*(..))\u0026#34;) public void after(JoinPoint joinPoint){ log.info(\u0026#34;after ...\u0026#34;); } //è¿”å›åé€šçŸ¥ï¼ˆç¨‹åºåœ¨æ­£å¸¸æ‰§è¡Œçš„æƒ…å†µä¸‹ï¼Œä¼šæ‰§è¡Œçš„åç½®é€šçŸ¥ï¼‰ @AfterReturning(\u0026#34;execution(* com.itheima.service.*.*(..))\u0026#34;) public void afterReturning(JoinPoint joinPoint){ log.info(\u0026#34;afterReturning ...\u0026#34;); } //å¼‚å¸¸é€šçŸ¥ï¼ˆç¨‹åºåœ¨å‡ºç°å¼‚å¸¸çš„æƒ…å†µä¸‹ï¼Œæ‰§è¡Œçš„åç½®é€šçŸ¥ï¼‰ @AfterThrowing(\u0026#34;execution(* com.itheima.service.*.*(..))\u0026#34;) public void afterThrowing(JoinPoint joinPoint){ log.info(\u0026#34;afterThrowing ...\u0026#34;); } } é‡æ–°å¯åŠ¨SpringBootæœåŠ¡ï¼Œè¿›è¡Œæµ‹è¯•ï¼š\n1. æ²¡æœ‰å¼‚å¸¸æƒ…å†µä¸‹ï¼š\nä½¿ç”¨postmanæµ‹è¯•æŸ¥è¯¢æ‰€æœ‰éƒ¨é—¨æ•°æ® æŸ¥çœ‹ideaä¸­æ§åˆ¶å°æ—¥å¿—è¾“å‡º ç¨‹åºæ²¡æœ‰å‘ç”Ÿå¼‚å¸¸çš„æƒ…å†µä¸‹ï¼Œ@AfterThrowingæ ‡è¯†çš„é€šçŸ¥æ–¹æ³•ä¸ä¼šæ‰§è¡Œã€‚\n2. å‡ºç°å¼‚å¸¸æƒ…å†µä¸‹ï¼š\nä¿®æ”¹DeptServiceImplä¸šåŠ¡å®ç°ç±»ä¸­çš„ä»£ç ï¼š æ·»åŠ å¼‚å¸¸\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 @Slf4j @Service public class DeptServiceImpl implements DeptService { @Autowired private DeptMapper deptMapper; @Override public List\u0026lt;Dept\u0026gt; list() { List\u0026lt;Dept\u0026gt; deptList = deptMapper.list(); //æ¨¡æ‹Ÿå¼‚å¸¸ int num = 10/0; return deptList; } //çœç•¥å…¶ä»–ä»£ç ... } é‡æ–°å¯åŠ¨SpringBootæœåŠ¡ï¼Œæµ‹è¯•å‘ç”Ÿå¼‚å¸¸æƒ…å†µä¸‹é€šçŸ¥çš„æ‰§è¡Œï¼š\næŸ¥çœ‹ideaä¸­æ§åˆ¶å°æ—¥å¿—è¾“å‡º ç¨‹åºå‘ç”Ÿå¼‚å¸¸çš„æƒ…å†µä¸‹ï¼š\n@AfterReturningæ ‡è¯†çš„é€šçŸ¥æ–¹æ³•ä¸ä¼šæ‰§è¡Œï¼Œ@AfterThrowingæ ‡è¯†çš„é€šçŸ¥æ–¹æ³•æ‰§è¡Œäº†\n@Aroundç¯ç»•é€šçŸ¥ä¸­åŸå§‹æ–¹æ³•è°ƒç”¨æ—¶æœ‰å¼‚å¸¸ï¼Œé€šçŸ¥ä¸­çš„ç¯ç»•åçš„ä»£ç é€»è¾‘ä¹Ÿä¸ä¼šåœ¨æ‰§è¡Œäº† ï¼ˆå› ä¸ºåŸå§‹æ–¹æ³•è°ƒç”¨å·²ç»å‡ºå¼‚å¸¸äº†ï¼‰\nåœ¨ä½¿ç”¨é€šçŸ¥æ—¶çš„æ³¨æ„äº‹é¡¹ï¼š\n@Aroundç¯ç»•é€šçŸ¥éœ€è¦è‡ªå·±è°ƒç”¨ ProceedingJoinPoint.proceed() æ¥è®©åŸå§‹æ–¹æ³•æ‰§è¡Œï¼Œå…¶ä»–é€šçŸ¥ä¸éœ€è¦è€ƒè™‘ç›®æ ‡æ–¹æ³•æ‰§è¡Œ @Aroundç¯ç»•é€šçŸ¥æ–¹æ³•çš„è¿”å›å€¼ï¼Œå¿…é¡»æŒ‡å®šä¸ºObjectï¼Œæ¥æ¥æ”¶åŸå§‹æ–¹æ³•çš„è¿”å›å€¼ï¼Œå¦åˆ™åŸå§‹æ–¹æ³•æ‰§è¡Œå®Œæ¯•ï¼Œæ˜¯è·å–ä¸åˆ°è¿”å›å€¼çš„ã€‚ äº”ç§å¸¸è§çš„é€šçŸ¥ç±»å‹ï¼Œæˆ‘ä»¬å·²ç»æµ‹è¯•å®Œæ¯•äº†ï¼Œæ­¤æ—¶æˆ‘ä»¬å†æ¥çœ‹ä¸€ä¸‹åˆšæ‰æ‰€ç¼–å†™çš„ä»£ç ï¼Œæœ‰ä»€ä¹ˆé—®é¢˜å—ï¼Ÿ\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 //å‰ç½®é€šçŸ¥ @Before(\u0026#34;execution(* com.itheima.service.*.*(..))\u0026#34;) //ç¯ç»•é€šçŸ¥ @Around(\u0026#34;execution(* com.itheima.service.*.*(..))\u0026#34;) //åç½®é€šçŸ¥ @After(\u0026#34;execution(* com.itheima.service.*.*(..))\u0026#34;) //è¿”å›åé€šçŸ¥ï¼ˆç¨‹åºåœ¨æ­£å¸¸æ‰§è¡Œçš„æƒ…å†µä¸‹ï¼Œä¼šæ‰§è¡Œçš„åç½®é€šçŸ¥ï¼‰ @AfterReturning(\u0026#34;execution(* com.itheima.service.*.*(..))\u0026#34;) //å¼‚å¸¸é€šçŸ¥ï¼ˆç¨‹åºåœ¨å‡ºç°å¼‚å¸¸çš„æƒ…å†µä¸‹ï¼Œæ‰§è¡Œçš„åç½®é€šçŸ¥ï¼‰ @AfterThrowing(\u0026#34;execution(* com.itheima.service.*.*(..))\u0026#34;) æˆ‘ä»¬å‘ç°å•Šï¼Œæ¯ä¸€ä¸ªæ³¨è§£é‡Œé¢éƒ½æŒ‡å®šäº†åˆ‡å…¥ç‚¹è¡¨è¾¾å¼ï¼Œè€Œä¸”è¿™äº›åˆ‡å…¥ç‚¹è¡¨è¾¾å¼éƒ½ä¸€æ¨¡ä¸€æ ·ã€‚æ­¤æ—¶æˆ‘ä»¬çš„ä»£ç å½“ä¸­å°±å­˜åœ¨äº†å¤§é‡çš„é‡å¤æ€§çš„åˆ‡å…¥ç‚¹è¡¨è¾¾å¼ï¼Œå‡å¦‚æ­¤æ—¶åˆ‡å…¥ç‚¹è¡¨è¾¾å¼éœ€è¦å˜åŠ¨ï¼Œå°±éœ€è¦å°†æ‰€æœ‰çš„åˆ‡å…¥ç‚¹è¡¨è¾¾å¼ä¸€ä¸ªä¸€ä¸ªçš„æ¥æ”¹åŠ¨ï¼Œå°±å˜å¾—éå¸¸ç¹çäº†ã€‚\næ€ä¹ˆæ¥è§£å†³è¿™ä¸ªåˆ‡å…¥ç‚¹è¡¨è¾¾å¼é‡å¤çš„é—®é¢˜ï¼Ÿ ç­”æ¡ˆå°±æ˜¯ï¼šæŠ½å–\nSpringæä¾›äº†@PointCutæ³¨è§£ï¼Œè¯¥æ³¨è§£çš„ä½œç”¨æ˜¯å°†å…¬å…±çš„åˆ‡å…¥ç‚¹è¡¨è¾¾å¼æŠ½å–å‡ºæ¥ï¼Œéœ€è¦ç”¨åˆ°æ—¶å¼•ç”¨è¯¥åˆ‡å…¥ç‚¹è¡¨è¾¾å¼å³å¯ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 @Slf4j @Component @Aspect public class MyAspect1 { //åˆ‡å…¥ç‚¹æ–¹æ³•ï¼ˆå…¬å…±çš„åˆ‡å…¥ç‚¹è¡¨è¾¾å¼ï¼‰ @Pointcut(\u0026#34;execution(* com.itheima.service.*.*(..))\u0026#34;) private void pt(){ } //å‰ç½®é€šçŸ¥ï¼ˆå¼•ç”¨åˆ‡å…¥ç‚¹ï¼‰ @Before(\u0026#34;pt()\u0026#34;) public void before(JoinPoint joinPoint){ log.info(\u0026#34;before ...\u0026#34;); } //ç¯ç»•é€šçŸ¥ @Around(\u0026#34;pt()\u0026#34;) public Object around(ProceedingJoinPoint proceedingJoinPoint) throws Throwable { log.info(\u0026#34;around before ...\u0026#34;); //è°ƒç”¨ç›®æ ‡å¯¹è±¡çš„åŸå§‹æ–¹æ³•æ‰§è¡Œ Object result = proceedingJoinPoint.proceed(); //åŸå§‹æ–¹æ³•åœ¨æ‰§è¡Œæ—¶ï¼šå‘ç”Ÿå¼‚å¸¸ //åç»­ä»£ç ä¸åœ¨æ‰§è¡Œ log.info(\u0026#34;around after ...\u0026#34;); return result; } //åç½®é€šçŸ¥ @After(\u0026#34;pt()\u0026#34;) public void after(JoinPoint joinPoint){ log.info(\u0026#34;after ...\u0026#34;); } //è¿”å›åé€šçŸ¥ï¼ˆç¨‹åºåœ¨æ­£å¸¸æ‰§è¡Œçš„æƒ…å†µä¸‹ï¼Œä¼šæ‰§è¡Œçš„åç½®é€šçŸ¥ï¼‰ @AfterReturning(\u0026#34;pt()\u0026#34;) public void afterReturning(JoinPoint joinPoint){ log.info(\u0026#34;afterReturning ...\u0026#34;); } //å¼‚å¸¸é€šçŸ¥ï¼ˆç¨‹åºåœ¨å‡ºç°å¼‚å¸¸çš„æƒ…å†µä¸‹ï¼Œæ‰§è¡Œçš„åç½®é€šçŸ¥ï¼‰ @AfterThrowing(\u0026#34;pt()\u0026#34;) public void afterThrowing(JoinPoint joinPoint){ log.info(\u0026#34;afterThrowing ...\u0026#34;); } } éœ€è¦æ³¨æ„çš„æ˜¯ï¼šå½“åˆ‡å…¥ç‚¹æ–¹æ³•ä½¿ç”¨privateä¿®é¥°æ—¶ï¼Œä»…èƒ½åœ¨å½“å‰åˆ‡é¢ç±»ä¸­å¼•ç”¨è¯¥è¡¨è¾¾å¼ï¼Œ å½“å¤–éƒ¨å…¶ä»–åˆ‡é¢ç±»ä¸­ä¹Ÿè¦å¼•ç”¨å½“å‰ç±»ä¸­çš„åˆ‡å…¥ç‚¹è¡¨è¾¾å¼ï¼Œå°±éœ€è¦æŠŠprivateæ”¹ä¸ºpublicï¼Œè€Œåœ¨å¼•ç”¨çš„æ—¶å€™ï¼Œå…·ä½“çš„è¯­æ³•ä¸ºï¼š\nå…¨ç±»å.æ–¹æ³•å()ï¼Œå…·ä½“å½¢å¼å¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 8 9 10 @Slf4j @Component @Aspect public class MyAspect2 { //å¼•ç”¨MyAspect1åˆ‡é¢ç±»ä¸­çš„åˆ‡å…¥ç‚¹è¡¨è¾¾å¼ @Before(\u0026#34;com.itheima.aspect.MyAspect1.pt()\u0026#34;) public void before(){ log.info(\u0026#34;MyAspect2 -\u0026gt; before ...\u0026#34;); } } 3.2 é€šçŸ¥é¡ºåº è®²è§£å®Œäº†Springä¸­AOPæ‰€æ”¯æŒçš„5ç§é€šçŸ¥ç±»å‹ä¹‹åï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å†æ¥ç ”ç©¶é€šçŸ¥çš„æ‰§è¡Œé¡ºåºã€‚\nå½“åœ¨é¡¹ç›®å¼€å‘å½“ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰äº†å¤šä¸ªåˆ‡é¢ç±»ï¼Œè€Œå¤šä¸ªåˆ‡é¢ç±»ä¸­å¤šä¸ªåˆ‡å…¥ç‚¹éƒ½åŒ¹é…åˆ°äº†åŒä¸€ä¸ªç›®æ ‡æ–¹æ³•ã€‚æ­¤æ—¶å½“ç›®æ ‡æ–¹æ³•åœ¨è¿è¡Œçš„æ—¶å€™ï¼Œè¿™å¤šä¸ªåˆ‡é¢ç±»å½“ä¸­çš„è¿™äº›é€šçŸ¥æ–¹æ³•éƒ½ä¼šè¿è¡Œã€‚\næ­¤æ—¶æˆ‘ä»¬å°±æœ‰ä¸€ä¸ªç–‘é—®ï¼Œè¿™å¤šä¸ªé€šçŸ¥æ–¹æ³•åˆ°åº•å“ªä¸ªå…ˆè¿è¡Œï¼Œå“ªä¸ªåè¿è¡Œï¼Ÿ ä¸‹é¢æˆ‘ä»¬é€šè¿‡ç¨‹åºæ¥éªŒè¯ï¼ˆè¿™é‡Œå‘¢ï¼Œæˆ‘ä»¬å°±å®šä¹‰ä¸¤ç§ç±»å‹çš„é€šçŸ¥è¿›è¡Œæµ‹è¯•ï¼Œä¸€ç§æ˜¯å‰ç½®é€šçŸ¥@Beforeï¼Œä¸€ç§æ˜¯åç½®é€šçŸ¥@Afterï¼‰\nå®šä¹‰å¤šä¸ªåˆ‡é¢ç±»ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 @Slf4j @Component @Aspect public class MyAspect2 { //å‰ç½®é€šçŸ¥ @Before(\u0026#34;execution(* com.itheima.service.*.*(..))\u0026#34;) public void before(){ log.info(\u0026#34;MyAspect2 -\u0026gt; before ...\u0026#34;); } //åç½®é€šçŸ¥ @After(\u0026#34;execution(* com.itheima.service.*.*(..))\u0026#34;) public void after(){ log.info(\u0026#34;MyAspect2 -\u0026gt; after ...\u0026#34;); } } 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 @Slf4j @Component @Aspect public class MyAspect3 { //å‰ç½®é€šçŸ¥ @Before(\u0026#34;execution(* com.itheima.service.*.*(..))\u0026#34;) public void before(){ log.info(\u0026#34;MyAspect3 -\u0026gt; before ...\u0026#34;); } //åç½®é€šçŸ¥ @After(\u0026#34;execution(* com.itheima.service.*.*(..))\u0026#34;) public void after(){ log.info(\u0026#34;MyAspect3 -\u0026gt; after ...\u0026#34;); } } 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 @Slf4j @Component @Aspect public class MyAspect4 { //å‰ç½®é€šçŸ¥ @Before(\u0026#34;execution(* com.itheima.service.*.*(..))\u0026#34;) public void before(){ log.info(\u0026#34;MyAspect4 -\u0026gt; before ...\u0026#34;); } //åç½®é€šçŸ¥ @After(\u0026#34;execution(* com.itheima.service.*.*(..))\u0026#34;) public void after(){ log.info(\u0026#34;MyAspect4 -\u0026gt; after ...\u0026#34;); } } é‡æ–°å¯åŠ¨SpringBootæœåŠ¡ï¼Œæµ‹è¯•é€šçŸ¥çš„æ‰§è¡Œé¡ºåºï¼š\nå¤‡æ³¨ï¼š\næŠŠDeptServiceImplå®ç°ç±»ä¸­æ¨¡æ‹Ÿå¼‚å¸¸çš„ä»£ç åˆ é™¤æˆ–æ³¨é‡Šæ‰ã€‚\næ³¨é‡Šæ‰å…¶ä»–åˆ‡é¢ç±»(æŠŠ@Aspectæ³¨é‡Šå³å¯)ï¼Œä»…ä¿ç•™MyAspect2ã€MyAspect3ã€MyAspect4 ï¼Œè¿™æ ·å°±å¯ä»¥æ¸…æ™°çœ‹åˆ°æ‰§è¡Œçš„ç»“æœï¼Œè€Œä¸è¢«å…¶ä»–åˆ‡é¢ç±»å¹²æ‰°ã€‚\nä½¿ç”¨postmanæµ‹è¯•æŸ¥è¯¢æ‰€æœ‰éƒ¨é—¨æ•°æ® æŸ¥çœ‹ideaä¸­æ§åˆ¶å°æ—¥å¿—è¾“å‡º é€šè¿‡ä»¥ä¸Šç¨‹åºè¿è¡Œå¯ä»¥çœ‹å‡ºåœ¨ä¸åŒåˆ‡é¢ç±»ä¸­ï¼Œé»˜è®¤æŒ‰ç…§åˆ‡é¢ç±»çš„ç±»åå­—æ¯æ’åºï¼š\nç›®æ ‡æ–¹æ³•å‰çš„é€šçŸ¥æ–¹æ³•ï¼šå­—æ¯æ’åé å‰çš„å…ˆæ‰§è¡Œ ç›®æ ‡æ–¹æ³•åçš„é€šçŸ¥æ–¹æ³•ï¼šå­—æ¯æ’åé å‰çš„åæ‰§è¡Œ å¦‚æœæˆ‘ä»¬æƒ³æ§åˆ¶é€šçŸ¥çš„æ‰§è¡Œé¡ºåºæœ‰ä¸¤ç§æ–¹å¼ï¼š\nä¿®æ”¹åˆ‡é¢ç±»çš„ç±»åï¼ˆè¿™ç§æ–¹å¼éå¸¸ç¹çã€è€Œä¸”ä¸ä¾¿ç®¡ç†ï¼‰ ä½¿ç”¨Springæä¾›çš„@Orderæ³¨è§£ ä½¿ç”¨@Orderæ³¨è§£ï¼Œæ§åˆ¶é€šçŸ¥çš„æ‰§è¡Œé¡ºåºï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 @Slf4j @Component @Aspect @Order(2) //åˆ‡é¢ç±»çš„æ‰§è¡Œé¡ºåºï¼ˆå‰ç½®é€šçŸ¥ï¼šæ•°å­—è¶Šå°å…ˆæ‰§è¡Œ; åç½®é€šçŸ¥ï¼šæ•°å­—è¶Šå°è¶Šåæ‰§è¡Œï¼‰ public class MyAspect2 { //å‰ç½®é€šçŸ¥ @Before(\u0026#34;execution(* com.itheima.service.*.*(..))\u0026#34;) public void before(){ log.info(\u0026#34;MyAspect2 -\u0026gt; before ...\u0026#34;); } //åç½®é€šçŸ¥ @After(\u0026#34;execution(* com.itheima.service.*.*(..))\u0026#34;) public void after(){ log.info(\u0026#34;MyAspect2 -\u0026gt; after ...\u0026#34;); } } 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 @Slf4j @Component @Aspect @Order(3) //åˆ‡é¢ç±»çš„æ‰§è¡Œé¡ºåºï¼ˆå‰ç½®é€šçŸ¥ï¼šæ•°å­—è¶Šå°å…ˆæ‰§è¡Œ; åç½®é€šçŸ¥ï¼šæ•°å­—è¶Šå°è¶Šåæ‰§è¡Œï¼‰ public class MyAspect3 { //å‰ç½®é€šçŸ¥ @Before(\u0026#34;execution(* com.itheima.service.*.*(..))\u0026#34;) public void before(){ log.info(\u0026#34;MyAspect3 -\u0026gt; before ...\u0026#34;); } //åç½®é€šçŸ¥ @After(\u0026#34;execution(* com.itheima.service.*.*(..))\u0026#34;) public void after(){ log.info(\u0026#34;MyAspect3 -\u0026gt; after ...\u0026#34;); } } 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 @Slf4j @Component @Aspect @Order(1) //åˆ‡é¢ç±»çš„æ‰§è¡Œé¡ºåºï¼ˆå‰ç½®é€šçŸ¥ï¼šæ•°å­—è¶Šå°å…ˆæ‰§è¡Œ; åç½®é€šçŸ¥ï¼šæ•°å­—è¶Šå°è¶Šåæ‰§è¡Œï¼‰ public class MyAspect4 { //å‰ç½®é€šçŸ¥ @Before(\u0026#34;execution(* com.itheima.service.*.*(..))\u0026#34;) public void before(){ log.info(\u0026#34;MyAspect4 -\u0026gt; before ...\u0026#34;); } //åç½®é€šçŸ¥ @After(\u0026#34;execution(* com.itheima.service.*.*(..))\u0026#34;) public void after(){ log.info(\u0026#34;MyAspect4 -\u0026gt; after ...\u0026#34;); } } é‡æ–°å¯åŠ¨SpringBootæœåŠ¡ï¼Œæµ‹è¯•é€šçŸ¥æ‰§è¡Œé¡ºåºï¼š\né€šçŸ¥çš„æ‰§è¡Œé¡ºåºå¤§å®¶ä¸»è¦çŸ¥é“ä¸¤ç‚¹å³å¯ï¼š\nä¸åŒçš„åˆ‡é¢ç±»å½“ä¸­ï¼Œé»˜è®¤æƒ…å†µä¸‹é€šçŸ¥çš„æ‰§è¡Œé¡ºåºæ˜¯ä¸åˆ‡é¢ç±»çš„ç±»åå­—æ¯æ’åºæ˜¯æœ‰å…³ç³»çš„ å¯ä»¥åœ¨åˆ‡é¢ç±»ä¸Šé¢åŠ ä¸Š@Orderæ³¨è§£ï¼Œæ¥æ§åˆ¶ä¸åŒçš„åˆ‡é¢ç±»é€šçŸ¥çš„æ‰§è¡Œé¡ºåº 3.3 åˆ‡å…¥ç‚¹è¡¨è¾¾å¼ ä»AOPçš„å…¥é—¨ç¨‹åºåˆ°ç°åœ¨ï¼Œæˆ‘ä»¬ä¸€ç›´éƒ½åœ¨ä½¿ç”¨åˆ‡å…¥ç‚¹è¡¨è¾¾å¼æ¥æè¿°åˆ‡å…¥ç‚¹ã€‚ä¸‹é¢æˆ‘ä»¬å°±æ¥è¯¦ç»†çš„ä»‹ç»ä¸€ä¸‹åˆ‡å…¥ç‚¹è¡¨è¾¾å¼çš„å…·ä½“å†™æ³•ã€‚\nåˆ‡å…¥ç‚¹è¡¨è¾¾å¼ï¼š\næè¿°åˆ‡å…¥ç‚¹æ–¹æ³•çš„ä¸€ç§è¡¨è¾¾å¼\nä½œç”¨ï¼šä¸»è¦ç”¨æ¥å†³å®šé¡¹ç›®ä¸­çš„å“ªäº›æ–¹æ³•éœ€è¦åŠ å…¥é€šçŸ¥\nå¸¸è§å½¢å¼ï¼š\nexecution(â€¦â€¦)ï¼šæ ¹æ®æ–¹æ³•çš„ç­¾åæ¥åŒ¹é… @annotation(â€¦â€¦) ï¼šæ ¹æ®æ³¨è§£åŒ¹é… é¦–å…ˆæˆ‘ä»¬å…ˆå­¦ä¹ ç¬¬ä¸€ç§æœ€ä¸ºå¸¸è§çš„executionåˆ‡å…¥ç‚¹è¡¨è¾¾å¼ã€‚\n3.3.1 execution executionä¸»è¦æ ¹æ®æ–¹æ³•çš„è¿”å›å€¼ã€åŒ…åã€ç±»åã€æ–¹æ³•åã€æ–¹æ³•å‚æ•°ç­‰ä¿¡æ¯æ¥åŒ¹é…ï¼Œè¯­æ³•ä¸ºï¼š\n1 execution(è®¿é—®ä¿®é¥°ç¬¦? è¿”å›å€¼ åŒ…å.ç±»å.?æ–¹æ³•å(æ–¹æ³•å‚æ•°) throws å¼‚å¸¸?) å…¶ä¸­å¸¦?çš„è¡¨ç¤ºå¯ä»¥çœç•¥çš„éƒ¨åˆ†\nè®¿é—®ä¿®é¥°ç¬¦ï¼šå¯çœç•¥ï¼ˆæ¯”å¦‚: publicã€protectedï¼‰\nåŒ…å.ç±»åï¼š å¯çœç•¥\nthrows å¼‚å¸¸ï¼šå¯çœç•¥ï¼ˆæ³¨æ„æ˜¯æ–¹æ³•ä¸Šå£°æ˜æŠ›å‡ºçš„å¼‚å¸¸ï¼Œä¸æ˜¯å®é™…æŠ›å‡ºçš„å¼‚å¸¸ï¼‰\nç¤ºä¾‹ï¼š\n1 @Before(\u0026#34;execution(void com.itheima.service.impl.DeptServiceImpl.delete(java.lang.Integer))\u0026#34;) å¯ä»¥ä½¿ç”¨é€šé…ç¬¦æè¿°åˆ‡å…¥ç‚¹\n* ï¼šå•ä¸ªç‹¬ç«‹çš„ä»»æ„ç¬¦å·ï¼Œå¯ä»¥é€šé…ä»»æ„è¿”å›å€¼ã€åŒ…åã€ç±»åã€æ–¹æ³•åã€ä»»æ„ç±»å‹çš„ä¸€ä¸ªå‚æ•°ï¼Œä¹Ÿå¯ä»¥é€šé…åŒ…ã€ç±»ã€æ–¹æ³•åçš„ä¸€éƒ¨åˆ†\n.. ï¼šå¤šä¸ªè¿ç»­çš„ä»»æ„ç¬¦å·ï¼Œå¯ä»¥é€šé…ä»»æ„å±‚çº§çš„åŒ…ï¼Œæˆ–ä»»æ„ç±»å‹ã€ä»»æ„ä¸ªæ•°çš„å‚æ•°\nåˆ‡å…¥ç‚¹è¡¨è¾¾å¼çš„è¯­æ³•è§„åˆ™ï¼š\næ–¹æ³•çš„è®¿é—®ä¿®é¥°ç¬¦å¯ä»¥çœç•¥ è¿”å›å€¼å¯ä»¥ä½¿ç”¨*å·ä»£æ›¿ï¼ˆä»»æ„è¿”å›å€¼ç±»å‹ï¼‰ åŒ…åå¯ä»¥ä½¿ç”¨*å·ä»£æ›¿ï¼Œä»£è¡¨ä»»æ„åŒ…ï¼ˆä¸€å±‚åŒ…ä½¿ç”¨ä¸€ä¸ª*ï¼‰ ä½¿ç”¨..é…ç½®åŒ…åï¼Œæ ‡è¯†æ­¤åŒ…ä»¥åŠæ­¤åŒ…ä¸‹çš„æ‰€æœ‰å­åŒ… ç±»åå¯ä»¥ä½¿ç”¨*å·ä»£æ›¿ï¼Œæ ‡è¯†ä»»æ„ç±» æ–¹æ³•åå¯ä»¥ä½¿ç”¨*å·ä»£æ›¿ï¼Œè¡¨ç¤ºä»»æ„æ–¹æ³• å¯ä»¥ä½¿ç”¨ * é…ç½®å‚æ•°ï¼Œä¸€ä¸ªä»»æ„ç±»å‹çš„å‚æ•° å¯ä»¥ä½¿ç”¨.. é…ç½®å‚æ•°ï¼Œä»»æ„ä¸ªä»»æ„ç±»å‹çš„å‚æ•° åˆ‡å…¥ç‚¹è¡¨è¾¾å¼ç¤ºä¾‹\nçœç•¥æ–¹æ³•çš„ä¿®é¥°ç¬¦å·\n1 execution(void com.itheima.service.impl.DeptServiceImpl.delete(java.lang.Integer)) ä½¿ç”¨*ä»£æ›¿è¿”å›å€¼ç±»å‹\n1 execution(* com.itheima.service.impl.DeptServiceImpl.delete(java.lang.Integer)) ä½¿ç”¨*ä»£æ›¿åŒ…åï¼ˆä¸€å±‚åŒ…ä½¿ç”¨ä¸€ä¸ª*ï¼‰\n1 execution(* com.itheima.*.*.DeptServiceImpl.delete(java.lang.Integer)) ä½¿ç”¨..çœç•¥åŒ…å\n1 execution(* com..DeptServiceImpl.delete(java.lang.Integer)) ä½¿ç”¨*ä»£æ›¿ç±»å\n1 execution(* com..*.delete(java.lang.Integer)) ä½¿ç”¨*ä»£æ›¿æ–¹æ³•å\n1 execution(* com..*.*(java.lang.Integer)) ä½¿ç”¨ * ä»£æ›¿å‚æ•°\n1 execution(* com.itheima.service.impl.DeptServiceImpl.delete(*)) ä½¿ç”¨..çœç•¥å‚æ•°\n1 execution(* com..*.*(..)) â€‹\næ³¨æ„äº‹é¡¹ï¼š\næ ¹æ®ä¸šåŠ¡éœ€è¦ï¼Œå¯ä»¥ä½¿ç”¨ ä¸”ï¼ˆ\u0026amp;\u0026amp;ï¼‰ã€æˆ–ï¼ˆ||ï¼‰ã€éï¼ˆ!ï¼‰ æ¥ç»„åˆæ¯”è¾ƒå¤æ‚çš„åˆ‡å…¥ç‚¹è¡¨è¾¾å¼ã€‚\n1 execution(* com.itheima.service.DeptService.list(..)) || execution(* com.itheima.service.DeptService.delete(..)) åˆ‡å…¥ç‚¹è¡¨è¾¾å¼çš„ä¹¦å†™å»ºè®®ï¼š\næ‰€æœ‰ä¸šåŠ¡æ–¹æ³•ååœ¨å‘½åæ—¶å°½é‡è§„èŒƒï¼Œæ–¹ä¾¿åˆ‡å…¥ç‚¹è¡¨è¾¾å¼å¿«é€ŸåŒ¹é…ã€‚å¦‚ï¼šæŸ¥è¯¢ç±»æ–¹æ³•éƒ½æ˜¯ find å¼€å¤´ï¼Œæ›´æ–°ç±»æ–¹æ³•éƒ½æ˜¯updateå¼€å¤´\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 //ä¸šåŠ¡ç±» @Service public class DeptServiceImpl implements DeptService { public List\u0026lt;Dept\u0026gt; findAllDept() { //çœç•¥ä»£ç ... } public Dept findDeptById(Integer id) { //çœç•¥ä»£ç ... } public void updateDeptById(Integer id) { //çœç•¥ä»£ç ... } public void updateDeptByMoreCondition(Dept dept) { //çœç•¥ä»£ç ... } //å…¶ä»–ä»£ç ... } 1 2 //åŒ¹é…DeptServiceImplç±»ä¸­ä»¥findå¼€å¤´çš„æ–¹æ³• execution(* com.itheima.service.impl.DeptServiceImpl.find*(..)) æè¿°åˆ‡å…¥ç‚¹æ–¹æ³•é€šå¸¸åŸºäºæ¥å£æè¿°ï¼Œè€Œä¸æ˜¯ç›´æ¥æè¿°å®ç°ç±»ï¼Œå¢å¼ºæ‹“å±•æ€§\n1 execution(* com.itheima.service.DeptService.*(..)) åœ¨æ»¡è¶³ä¸šåŠ¡éœ€è¦çš„å‰æä¸‹ï¼Œå°½é‡ç¼©å°åˆ‡å…¥ç‚¹çš„åŒ¹é…èŒƒå›´ã€‚å¦‚ï¼šåŒ…ååŒ¹é…å°½é‡ä¸ä½¿ç”¨ ..ï¼Œä½¿ç”¨ * åŒ¹é…å•ä¸ªåŒ…\n1 execution(* com.itheima.*.*.DeptServiceImpl.find*(..)) 3.3.2 @annotation å·²ç»å­¦ä¹ äº†executionåˆ‡å…¥ç‚¹è¡¨è¾¾å¼çš„è¯­æ³•ã€‚é‚£ä¹ˆå¦‚æœæˆ‘ä»¬è¦åŒ¹é…å¤šä¸ªæ— è§„åˆ™çš„æ–¹æ³•ï¼Œæ¯”å¦‚ï¼šlist()å’Œ delete()è¿™ä¸¤ä¸ªæ–¹æ³•ã€‚è¿™ä¸ªæ—¶å€™æˆ‘ä»¬åŸºäºexecutionè¿™ç§åˆ‡å…¥ç‚¹è¡¨è¾¾å¼æ¥æè¿°å°±ä¸æ˜¯å¾ˆæ–¹ä¾¿äº†ã€‚è€Œåœ¨ä¹‹å‰æˆ‘ä»¬æ˜¯å°†ä¸¤ä¸ªåˆ‡å…¥ç‚¹è¡¨è¾¾å¼ç»„åˆåœ¨äº†ä¸€èµ·å®Œæˆçš„éœ€æ±‚ï¼Œè¿™ä¸ªæ˜¯æ¯”è¾ƒç¹ççš„ã€‚\næˆ‘ä»¬å¯ä»¥å€ŸåŠ©äºå¦ä¸€ç§åˆ‡å…¥ç‚¹è¡¨è¾¾å¼annotationæ¥æè¿°è¿™ä¸€ç±»çš„åˆ‡å…¥ç‚¹ï¼Œä»è€Œæ¥ç®€åŒ–åˆ‡å…¥ç‚¹è¡¨è¾¾å¼çš„ä¹¦å†™ã€‚\nå®ç°æ­¥éª¤ï¼š\nç¼–å†™è‡ªå®šä¹‰æ³¨è§£\nåœ¨ä¸šåŠ¡ç±»è¦åšä¸ºè¿æ¥ç‚¹çš„æ–¹æ³•ä¸Šæ·»åŠ è‡ªå®šä¹‰æ³¨è§£\nè‡ªå®šä¹‰æ³¨è§£ï¼šMyLog\n1 2 3 4 @Target(ElementType.METHOD) @Retention(RetentionPolicy.RUNTIME) public @interface MyLog { } ä¸šåŠ¡ç±»ï¼šDeptServiceImpl\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 @Slf4j @Service public class DeptServiceImpl implements DeptService { @Autowired private DeptMapper deptMapper; @Override @MyLog //è‡ªå®šä¹‰æ³¨è§£ï¼ˆè¡¨ç¤ºï¼šå½“å‰æ–¹æ³•å±äºç›®æ ‡æ–¹æ³•ï¼‰ public List\u0026lt;Dept\u0026gt; list() { List\u0026lt;Dept\u0026gt; deptList = deptMapper.list(); //æ¨¡æ‹Ÿå¼‚å¸¸ //int num = 10/0; return deptList; } @Override @MyLog //è‡ªå®šä¹‰æ³¨è§£ï¼ˆè¡¨ç¤ºï¼šå½“å‰æ–¹æ³•å±äºç›®æ ‡æ–¹æ³•ï¼‰ public void delete(Integer id) { //1. åˆ é™¤éƒ¨é—¨ deptMapper.delete(id); } @Override public void save(Dept dept) { dept.setCreateTime(LocalDateTime.now()); dept.setUpdateTime(LocalDateTime.now()); deptMapper.save(dept); } @Override public Dept getById(Integer id) { return deptMapper.getById(id); } @Override public void update(Dept dept) { dept.setUpdateTime(LocalDateTime.now()); deptMapper.update(dept); } } åˆ‡é¢ç±»\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 @Slf4j @Component @Aspect public class MyAspect6 { //é’ˆå¯¹listæ–¹æ³•ã€deleteæ–¹æ³•è¿›è¡Œå‰ç½®é€šçŸ¥å’Œåç½®é€šçŸ¥ //å‰ç½®é€šçŸ¥ @Before(\u0026#34;@annotation(com.itheima.anno.MyLog)\u0026#34;) public void before(){ log.info(\u0026#34;MyAspect6 -\u0026gt; before ...\u0026#34;); } //åç½®é€šçŸ¥ @After(\u0026#34;@annotation(com.itheima.anno.MyLog)\u0026#34;) public void after(){ log.info(\u0026#34;MyAspect6 -\u0026gt; after ...\u0026#34;); } } é‡å¯SpringBootæœåŠ¡ï¼Œæµ‹è¯•æŸ¥è¯¢æ‰€æœ‰éƒ¨é—¨æ•°æ®ï¼ŒæŸ¥çœ‹æ§åˆ¶å°æ—¥å¿—ï¼š\nåˆ°æ­¤æˆ‘ä»¬ä¸¤ç§å¸¸è§çš„åˆ‡å…¥ç‚¹è¡¨è¾¾å¼æˆ‘å·²ç»ä»‹ç»å®Œäº†ã€‚\nexecutionåˆ‡å…¥ç‚¹è¡¨è¾¾å¼ æ ¹æ®æˆ‘ä»¬æ‰€æŒ‡å®šçš„æ–¹æ³•çš„æè¿°ä¿¡æ¯æ¥åŒ¹é…åˆ‡å…¥ç‚¹æ–¹æ³•ï¼Œè¿™ç§æ–¹å¼ä¹Ÿæ˜¯æœ€ä¸ºå¸¸ç”¨çš„ä¸€ç§æ–¹å¼ å¦‚æœæˆ‘ä»¬è¦åŒ¹é…çš„åˆ‡å…¥ç‚¹æ–¹æ³•çš„æ–¹æ³•åä¸è§„åˆ™ï¼Œæˆ–è€…æœ‰ä¸€äº›æ¯”è¾ƒç‰¹æ®Šçš„éœ€æ±‚ï¼Œé€šè¿‡executionåˆ‡å…¥ç‚¹è¡¨è¾¾å¼æè¿°æ¯”è¾ƒç¹ç annotation åˆ‡å…¥ç‚¹è¡¨è¾¾å¼ åŸºäºæ³¨è§£çš„æ–¹å¼æ¥åŒ¹é…åˆ‡å…¥ç‚¹æ–¹æ³•ã€‚è¿™ç§æ–¹å¼è™½ç„¶å¤šä¸€æ­¥æ“ä½œï¼Œæˆ‘ä»¬éœ€è¦è‡ªå®šä¹‰ä¸€ä¸ªæ³¨è§£ï¼Œä½†æ˜¯ç›¸å¯¹æ¥æ¯”è¾ƒçµæ´»ã€‚æˆ‘ä»¬éœ€è¦åŒ¹é…å“ªä¸ªæ–¹æ³•ï¼Œå°±åœ¨æ–¹æ³•ä¸ŠåŠ ä¸Šå¯¹åº”çš„æ³¨è§£å°±å¯ä»¥äº† 3.4 è¿æ¥ç‚¹ è®²è§£å®Œäº†åˆ‡å…¥ç‚¹è¡¨è¾¾å¼ä¹‹åï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å†æ¥è®²è§£æœ€åä¸€ä¸ªéƒ¨åˆ†è¿æ¥ç‚¹ã€‚æˆ‘ä»¬å‰é¢åœ¨è®²è§£AOPæ ¸å¿ƒæ¦‚å¿µçš„æ—¶å€™ï¼Œæˆ‘ä»¬æåˆ°è¿‡ä»€ä¹ˆæ˜¯è¿æ¥ç‚¹ï¼Œè¿æ¥ç‚¹å¯ä»¥ç®€å•ç†è§£ä¸ºå¯ä»¥è¢«AOPæ§åˆ¶çš„æ–¹æ³•ã€‚\næˆ‘ä»¬ç›®æ ‡å¯¹è±¡å½“ä¸­æ‰€æœ‰çš„æ–¹æ³•æ˜¯ä¸æ˜¯éƒ½æ˜¯å¯ä»¥è¢«AOPæ§åˆ¶çš„æ–¹æ³•ã€‚è€Œåœ¨SpringAOPå½“ä¸­ï¼Œè¿æ¥ç‚¹åˆç‰¹æŒ‡æ–¹æ³•çš„æ‰§è¡Œã€‚\nåœ¨Springä¸­ç”¨JoinPointæŠ½è±¡äº†è¿æ¥ç‚¹ï¼Œç”¨å®ƒå¯ä»¥è·å¾—æ–¹æ³•æ‰§è¡Œæ—¶çš„ç›¸å…³ä¿¡æ¯ï¼Œå¦‚ç›®æ ‡ç±»åã€æ–¹æ³•åã€æ–¹æ³•å‚æ•°ç­‰ã€‚\nå¯¹äº@Aroundé€šçŸ¥ï¼Œè·å–è¿æ¥ç‚¹ä¿¡æ¯åªèƒ½ä½¿ç”¨ProceedingJoinPointç±»å‹\nå¯¹äºå…¶ä»–å››ç§é€šçŸ¥ï¼Œè·å–è¿æ¥ç‚¹ä¿¡æ¯åªèƒ½ä½¿ç”¨JoinPointï¼Œå®ƒæ˜¯ProceedingJoinPointçš„çˆ¶ç±»å‹\nç¤ºä¾‹ä»£ç ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 @Slf4j @Component @Aspect public class MyAspect7 { @Pointcut(\u0026#34;@annotation(com.itheima.anno.MyLog)\u0026#34;) private void pt(){} //å‰ç½®é€šçŸ¥ @Before(\u0026#34;pt()\u0026#34;) public void before(JoinPoint joinPoint){ log.info(joinPoint.getSignature().getName() + \u0026#34; MyAspect7 -\u0026gt; before ...\u0026#34;); } //åç½®é€šçŸ¥ @Before(\u0026#34;pt()\u0026#34;) public void after(JoinPoint joinPoint){ log.info(joinPoint.getSignature().getName() + \u0026#34; MyAspect7 -\u0026gt; after ...\u0026#34;); } //ç¯ç»•é€šçŸ¥ @Around(\u0026#34;pt()\u0026#34;) public Object around(ProceedingJoinPoint pjp) throws Throwable { //è·å–ç›®æ ‡ç±»å String name = pjp.getTarget().getClass().getName(); log.info(\u0026#34;ç›®æ ‡ç±»åï¼š{}\u0026#34;,name); //ç›®æ ‡æ–¹æ³•å String methodName = pjp.getSignature().getName(); log.info(\u0026#34;ç›®æ ‡æ–¹æ³•åï¼š{}\u0026#34;,methodName); //è·å–æ–¹æ³•æ‰§è¡Œæ—¶éœ€è¦çš„å‚æ•° Object[] args = pjp.getArgs(); log.info(\u0026#34;ç›®æ ‡æ–¹æ³•å‚æ•°ï¼š{}\u0026#34;, Arrays.toString(args)); //æ‰§è¡ŒåŸå§‹æ–¹æ³• Object returnValue = pjp.proceed(); return returnValue; } } é‡æ–°å¯åŠ¨SpringBootæœåŠ¡ï¼Œæ‰§è¡ŒæŸ¥è¯¢éƒ¨é—¨æ•°æ®çš„åŠŸèƒ½ï¼š\n4. AOPæ¡ˆä¾‹ SpringAOPçš„ç›¸å…³çŸ¥è¯†æˆ‘ä»¬å°±å·²ç»å…¨éƒ¨å­¦ä¹ å®Œæ¯•äº†ã€‚æœ€åæˆ‘ä»¬è¦é€šè¿‡ä¸€ä¸ªæ¡ˆä¾‹æ¥å¯¹AOPè¿›è¡Œä¸€ä¸ªç»¼åˆçš„åº”ç”¨ã€‚\n4.1 éœ€æ±‚ éœ€æ±‚ï¼šå°†æ¡ˆä¾‹ä¸­å¢ã€åˆ ã€æ”¹ç›¸å…³æ¥å£çš„æ“ä½œæ—¥å¿—è®°å½•åˆ°æ•°æ®åº“è¡¨ä¸­\nå°±æ˜¯å½“è®¿é—®éƒ¨é—¨ç®¡ç†å’Œå‘˜å·¥ç®¡ç†å½“ä¸­çš„å¢ã€åˆ ã€æ”¹ç›¸å…³åŠŸèƒ½æ¥å£æ—¶ï¼Œéœ€è¦è¯¦ç»†çš„æ“ä½œæ—¥å¿—ï¼Œå¹¶ä¿å­˜åœ¨æ•°æ®è¡¨ä¸­ï¼Œä¾¿äºåæœŸæ•°æ®è¿½è¸ªã€‚ æ“ä½œæ—¥å¿—ä¿¡æ¯åŒ…å«ï¼š\næ“ä½œäººã€æ“ä½œæ—¶é—´ã€æ‰§è¡Œæ–¹æ³•çš„å…¨ç±»åã€æ‰§è¡Œæ–¹æ³•åã€æ–¹æ³•è¿è¡Œæ—¶å‚æ•°ã€è¿”å›å€¼ã€æ–¹æ³•æ‰§è¡Œæ—¶é•¿ æ‰€è®°å½•çš„æ—¥å¿—ä¿¡æ¯åŒ…æ‹¬å½“å‰æ¥å£çš„æ“ä½œäººæ˜¯è°æ“ä½œçš„ï¼Œä»€ä¹ˆæ—¶é—´ç‚¹æ“ä½œçš„ï¼Œä»¥åŠè®¿é—®çš„æ˜¯å“ªä¸ªç±»å½“ä¸­çš„å“ªä¸ªæ–¹æ³•ï¼Œåœ¨è®¿é—®è¿™ä¸ªæ–¹æ³•çš„æ—¶å€™ä¼ å…¥è¿›æ¥çš„å‚æ•°æ˜¯ä»€ä¹ˆï¼Œè®¿é—®è¿™ä¸ªæ–¹æ³•æœ€ç»ˆæ‹¿åˆ°çš„è¿”å›å€¼æ˜¯ä»€ä¹ˆï¼Œä»¥åŠæ•´ä¸ªæ¥å£æ–¹æ³•çš„è¿è¡Œæ—¶é•¿æ˜¯å¤šé•¿æ—¶é—´ã€‚\n4.2 åˆ†æ é—®é¢˜1ï¼šé¡¹ç›®å½“ä¸­å¢åˆ æ”¹ç›¸å…³çš„æ–¹æ³•æ˜¯ä¸æ˜¯æœ‰å¾ˆå¤šï¼Ÿ\nå¾ˆå¤š é—®é¢˜2ï¼šæˆ‘ä»¬éœ€è¦é’ˆå¯¹æ¯ä¸€ä¸ªåŠŸèƒ½æ¥å£æ–¹æ³•è¿›è¡Œä¿®æ”¹ï¼Œåœ¨æ¯ä¸€ä¸ªåŠŸèƒ½æ¥å£å½“ä¸­éƒ½æ¥è®°å½•è¿™äº›æ“ä½œæ—¥å¿—å—ï¼Ÿ\nè¿™ç§åšæ³•æ¯”è¾ƒç¹ç ä»¥ä¸Šä¸¤ä¸ªé—®é¢˜çš„è§£å†³æ–¹æ¡ˆï¼šå¯ä»¥ä½¿ç”¨AOPè§£å†³(æ¯ä¸€ä¸ªå¢åˆ æ”¹åŠŸèƒ½æ¥å£ä¸­è¦å®ç°çš„è®°å½•æ“ä½œæ—¥å¿—çš„é€»è¾‘ä»£ç æ˜¯ç›¸åŒ)ã€‚\nå¯ä»¥æŠŠè¿™éƒ¨åˆ†è®°å½•æ“ä½œæ—¥å¿—çš„é€šç”¨çš„ã€é‡å¤æ€§çš„é€»è¾‘ä»£ç æŠ½å–å‡ºæ¥å®šä¹‰åœ¨ä¸€ä¸ªé€šçŸ¥æ–¹æ³•å½“ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡AOPé¢å‘åˆ‡é¢ç¼–ç¨‹çš„æ–¹å¼ï¼Œåœ¨ä¸æ”¹åŠ¨åŸå§‹åŠŸèƒ½çš„åŸºç¡€ä¸Šæ¥å¯¹åŸå§‹çš„åŠŸèƒ½è¿›è¡Œå¢å¼ºã€‚ç›®å‰æˆ‘ä»¬æ‰€å¢å¼ºçš„åŠŸèƒ½å°±æ˜¯æ¥è®°å½•æ“ä½œæ—¥å¿—ï¼Œæ‰€ä»¥ä¹Ÿå¯ä»¥ä½¿ç”¨AOPçš„æŠ€æœ¯æ¥å®ç°ã€‚ä½¿ç”¨AOPçš„æŠ€æœ¯æ¥å®ç°ä¹Ÿæ˜¯æœ€ä¸ºç®€å•ï¼Œæœ€ä¸ºæ–¹ä¾¿çš„ã€‚\né—®é¢˜3ï¼šæ—¢ç„¶è¦åŸºäºAOPé¢å‘åˆ‡é¢ç¼–ç¨‹çš„æ–¹å¼æ¥å®Œæˆçš„åŠŸèƒ½ï¼Œé‚£ä¹ˆæˆ‘ä»¬è¦ä½¿ç”¨ AOPäº”ç§é€šçŸ¥ç±»å‹å½“ä¸­çš„å“ªç§é€šçŸ¥ç±»å‹ï¼Ÿ\nç­”æ¡ˆï¼šç¯ç»•é€šçŸ¥ æ‰€è®°å½•çš„æ“ä½œæ—¥å¿—å½“ä¸­åŒ…æ‹¬ï¼šæ“ä½œäººã€æ“ä½œæ—¶é—´ï¼Œè®¿é—®çš„æ˜¯å“ªä¸ªç±»ã€å“ªä¸ªæ–¹æ³•ã€æ–¹æ³•è¿è¡Œæ—¶å‚æ•°ã€æ–¹æ³•çš„è¿”å›å€¼ã€æ–¹æ³•çš„è¿è¡Œæ—¶é•¿ã€‚\næ–¹æ³•è¿”å›å€¼ï¼Œæ˜¯åœ¨åŸå§‹æ–¹æ³•æ‰§è¡Œåæ‰èƒ½è·å–åˆ°çš„ã€‚\næ–¹æ³•çš„è¿è¡Œæ—¶é•¿ï¼Œéœ€è¦åŸå§‹æ–¹æ³•è¿è¡Œä¹‹å‰è®°å½•å¼€å§‹æ—¶é—´ï¼ŒåŸå§‹æ–¹æ³•è¿è¡Œä¹‹åè®°å½•ç»“æŸæ—¶é—´ã€‚é€šè¿‡è®¡ç®—è·å¾—æ–¹æ³•çš„æ‰§è¡Œè€—æ—¶ã€‚\nåŸºäºä»¥ä¸Šçš„åˆ†ææˆ‘ä»¬ç¡®å®šè¦ä½¿ç”¨Aroundç¯ç»•é€šçŸ¥ã€‚\né—®é¢˜4ï¼šæœ€åä¸€ä¸ªé—®é¢˜ï¼Œåˆ‡å…¥ç‚¹è¡¨è¾¾å¼æˆ‘ä»¬è¯¥æ€ä¹ˆå†™ï¼Ÿ\nç­”æ¡ˆï¼šä½¿ç”¨annotationæ¥æè¿°è¡¨è¾¾å¼ è¦åŒ¹é…ä¸šåŠ¡æ¥å£å½“ä¸­æ‰€æœ‰çš„å¢åˆ æ”¹çš„æ–¹æ³•ï¼Œè€Œå¢åˆ æ”¹æ–¹æ³•åœ¨å‘½åä¸Šæ²¡æœ‰å…±åŒçš„å‰ç¼€æˆ–åç¼€ã€‚æ­¤æ—¶å¦‚æœä½¿ç”¨executionåˆ‡å…¥ç‚¹è¡¨è¾¾å¼ä¹Ÿå¯ä»¥ï¼Œä½†æ˜¯ä¼šæ¯”è¾ƒç¹çã€‚ å½“é‡åˆ°å¢åˆ æ”¹çš„æ–¹æ³•åæ²¡æœ‰è§„å¾‹æ—¶ï¼Œå°±å¯ä»¥ä½¿ç”¨ annotationåˆ‡å…¥ç‚¹è¡¨è¾¾å¼\n4.3 æ­¥éª¤ ç®€å•åˆ†æäº†ä¸€ä¸‹å¤§æ¦‚çš„å®ç°æ€è·¯åï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°±è¦æ¥å®Œæˆæ¡ˆä¾‹äº†ã€‚æ¡ˆä¾‹çš„å®ç°æ­¥éª¤å…¶å®å°±ä¸¤æ­¥ï¼š\nå‡†å¤‡å·¥ä½œ å¼•å…¥AOPçš„èµ·æ­¥ä¾èµ– å¯¼å…¥èµ„æ–™ä¸­å‡†å¤‡å¥½çš„æ•°æ®åº“è¡¨ç»“æ„ï¼Œå¹¶å¼•å…¥å¯¹åº”çš„å®ä½“ç±» ç¼–ç å®ç° è‡ªå®šä¹‰æ³¨è§£@Log å®šä¹‰åˆ‡é¢ç±»ï¼Œå®Œæˆè®°å½•æ“ä½œæ—¥å¿—çš„é€»è¾‘ 4.4 å®ç° 4.4.1 å‡†å¤‡å·¥ä½œ AOPèµ·æ­¥ä¾èµ– 1 2 3 4 5 \u0026lt;!--AOPèµ·æ­¥ä¾èµ–--\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.springframework.boot\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;spring-boot-starter-aop\u0026lt;/artifactId\u0026gt; \u0026lt;/dependency\u0026gt; å¯¼å…¥èµ„æ–™ä¸­å‡†å¤‡å¥½çš„æ•°æ®åº“è¡¨ç»“æ„ï¼Œå¹¶å¼•å…¥å¯¹åº”çš„å®ä½“ç±» æ•°æ®è¡¨\n1 2 3 4 5 6 7 8 9 10 11 -- æ“ä½œæ—¥å¿—è¡¨ create table operate_log( id int unsigned primary key auto_increment comment \u0026#39;ID\u0026#39;, operate_user int unsigned comment \u0026#39;æ“ä½œäºº\u0026#39;, operate_time datetime comment \u0026#39;æ“ä½œæ—¶é—´\u0026#39;, class_name varchar(100) comment \u0026#39;æ“ä½œçš„ç±»å\u0026#39;, method_name varchar(100) comment \u0026#39;æ“ä½œçš„æ–¹æ³•å\u0026#39;, method_params varchar(1000) comment \u0026#39;æ–¹æ³•å‚æ•°\u0026#39;, return_value varchar(2000) comment \u0026#39;è¿”å›å€¼\u0026#39;, cost_time bigint comment \u0026#39;æ–¹æ³•æ‰§è¡Œè€—æ—¶, å•ä½:ms\u0026#39; ) comment \u0026#39;æ“ä½œæ—¥å¿—è¡¨\u0026#39;; å®ä½“ç±»\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 //æ“ä½œæ—¥å¿—å®ä½“ç±» @Data @NoArgsConstructor @AllArgsConstructor public class OperateLog { private Integer id; //ä¸»é”®ID private Integer operateUser; //æ“ä½œäººID private LocalDateTime operateTime; //æ“ä½œæ—¶é—´ private String className; //æ“ä½œç±»å private String methodName; //æ“ä½œæ–¹æ³•å private String methodParams; //æ“ä½œæ–¹æ³•å‚æ•° private String returnValue; //æ“ä½œæ–¹æ³•è¿”å›å€¼ private Long costTime; //æ“ä½œè€—æ—¶ } Mapperæ¥å£\n1 2 3 4 5 6 7 8 9 @Mapper public interface OperateLogMapper { //æ’å…¥æ—¥å¿—æ•°æ® @Insert(\u0026#34;insert into operate_log (operate_user, operate_time, class_name, method_name, method_params, return_value, cost_time) \u0026#34; + \u0026#34;values (#{operateUser}, #{operateTime}, #{className}, #{methodName}, #{methodParams}, #{returnValue}, #{costTime});\u0026#34;) public void insert(OperateLog log); } 4.4.2 ç¼–ç å®ç° è‡ªå®šä¹‰æ³¨è§£@Log 1 2 3 4 5 6 7 8 /** * è‡ªå®šä¹‰Logæ³¨è§£ */ @Target({ElementType.METHOD}) @Documented @Retention(RetentionPolicy.RUNTIME) public @interface Log { } ä¿®æ”¹ä¸šåŠ¡å®ç°ç±»ï¼Œåœ¨å¢åˆ æ”¹ä¸šåŠ¡æ–¹æ³•ä¸Šæ·»åŠ @Logæ³¨è§£ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 @Slf4j @Service public class EmpServiceImpl implements EmpService { @Autowired private EmpMapper empMapper; @Override @Log public void update(Emp emp) { emp.setUpdateTime(LocalDateTime.now()); //æ›´æ–°ä¿®æ”¹æ—¶é—´ä¸ºå½“å‰æ—¶é—´ empMapper.update(emp); } @Override @Log public void save(Emp emp) { //è¡¥å…¨æ•°æ® emp.setCreateTime(LocalDateTime.now()); emp.setUpdateTime(LocalDateTime.now()); //è°ƒç”¨æ·»åŠ æ–¹æ³• empMapper.insert(emp); } @Override @Log public void delete(List\u0026lt;Integer\u0026gt; ids) { empMapper.delete(ids); } //çœç•¥å…¶ä»–ä»£ç ... } ä»¥åŒæ ·çš„æ–¹å¼ï¼Œä¿®æ”¹EmpServiceImplä¸šåŠ¡ç±»\nå®šä¹‰åˆ‡é¢ç±»ï¼Œå®Œæˆè®°å½•æ“ä½œæ—¥å¿—çš„é€»è¾‘ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 @Slf4j @Component @Aspect //åˆ‡é¢ç±» public class LogAspect { @Autowired private HttpServletRequest request; @Autowired private OperateLogMapper operateLogMapper; @Around(\u0026#34;@annotation(com.itheima.anno.Log)\u0026#34;) public Object recordLog(ProceedingJoinPoint joinPoint) throws Throwable { //æ“ä½œäººID - å½“å‰ç™»å½•å‘˜å·¥ID //è·å–è¯·æ±‚å¤´ä¸­çš„jwtä»¤ç‰Œ, è§£æä»¤ç‰Œ String jwt = request.getHeader(\u0026#34;token\u0026#34;); Claims claims = JwtUtils.parseJWT(jwt); Integer operateUser = (Integer) claims.get(\u0026#34;id\u0026#34;); //æ“ä½œæ—¶é—´ LocalDateTime operateTime = LocalDateTime.now(); //æ“ä½œç±»å String className = joinPoint.getTarget().getClass().getName(); //æ“ä½œæ–¹æ³•å String methodName = joinPoint.getSignature().getName(); //æ“ä½œæ–¹æ³•å‚æ•° Object[] args = joinPoint.getArgs(); String methodParams = Arrays.toString(args); long begin = System.currentTimeMillis(); //è°ƒç”¨åŸå§‹ç›®æ ‡æ–¹æ³•è¿è¡Œ Object result = joinPoint.proceed(); long end = System.currentTimeMillis(); //æ–¹æ³•è¿”å›å€¼ String returnValue = JSONObject.toJSONString(result); //æ“ä½œè€—æ—¶ Long costTime = end - begin; //è®°å½•æ“ä½œæ—¥å¿— OperateLog operateLog = new OperateLog(null,operateUser,operateTime,className,methodName,methodParams,returnValue,costTime); operateLogMapper.insert(operateLog); log.info(\u0026#34;AOPè®°å½•æ“ä½œæ—¥å¿—: {}\u0026#34; , operateLog); return result; } } ä»£ç å®ç°ç»†èŠ‚ï¼š è·å–requestå¯¹è±¡ï¼Œä»è¯·æ±‚å¤´ä¸­è·å–åˆ°jwtä»¤ç‰Œï¼Œè§£æä»¤ç‰Œè·å–å‡ºå½“å‰ç”¨æˆ·çš„idã€‚\né‡å¯SpringBootæœåŠ¡ï¼Œæµ‹è¯•æ“ä½œæ—¥å¿—è®°å½•åŠŸèƒ½ï¼š\næ·»åŠ ä¸€ä¸ªæ–°çš„éƒ¨é—¨ æ•°æ®è¡¨ ","date":"0001-01-01T00:00:00Z","permalink":"http://localhost:1313/p/","title":""},{"content":"SpringBootåŸºç¡€ è¯¾ç¨‹å†…å®¹ SpringBootWebå…¥é—¨\nHTTPåè®®\nWebæœåŠ¡å™¨-Tomcat\nå‰è¨€ ä¸‹é¢æˆ‘ä»¬å°†è¿›å…¥SpringBootåŸºç¡€é˜¶æ®µçš„å­¦ä¹ ã€‚\nåœ¨æ²¡æœ‰æ­£å¼çš„å­¦ä¹ SpringBootä¹‹å‰ï¼Œæˆ‘ä»¬è¦å…ˆæ¥äº†è§£ä¸‹ä»€ä¹ˆæ˜¯Springã€‚\næˆ‘ä»¬å¯ä»¥æ‰“å¼€Springçš„å®˜ç½‘(https://spring.io)ï¼Œå»çœ‹ä¸€ä¸‹Springçš„ç®€ä»‹ï¼šSpring makes Java simpleã€‚\nSpringçš„å®˜æ–¹æä¾›å¾ˆå¤šå¼€æºçš„é¡¹ç›®ï¼Œæˆ‘ä»¬å¯ä»¥ç‚¹å‡»ä¸Šé¢çš„projectsï¼Œçœ‹åˆ°springå®¶æ—æ——ä¸‹çš„é¡¹ç›®ï¼ŒæŒ‰ç…§æµè¡Œç¨‹åº¦æ’åºä¸ºï¼š\nSpringå‘å±•åˆ°ä»Šå¤©å·²ç»å½¢æˆäº†ä¸€ç§å¼€å‘ç”Ÿæ€åœˆï¼ŒSpringæä¾›äº†è‹¥å¹²ä¸ªå­é¡¹ç›®ï¼Œæ¯ä¸ªé¡¹ç›®ç”¨äºå®Œæˆç‰¹å®šçš„åŠŸèƒ½ã€‚è€Œæˆ‘ä»¬åœ¨é¡¹ç›®å¼€å‘æ—¶ï¼Œä¸€èˆ¬ä¼šåå‘äºé€‰æ‹©è¿™ä¸€å¥—springå®¶æ—çš„æŠ€æœ¯ï¼Œæ¥è§£å†³å¯¹åº”é¢†åŸŸçš„é—®é¢˜ï¼Œé‚£æˆ‘ä»¬ç§°è¿™ä¸€å¥—æŠ€æœ¯ä¸ºspringå…¨å®¶æ¡¶ã€‚\nè€ŒSpringå®¶æ—æ——ä¸‹è¿™ä¹ˆå¤šçš„æŠ€æœ¯ï¼Œæœ€åŸºç¡€ã€æœ€æ ¸å¿ƒçš„æ˜¯ SpringFrameworkã€‚å…¶ä»–çš„springå®¶æ—çš„æŠ€æœ¯ï¼Œéƒ½æ˜¯åŸºäºSpringFrameworkçš„ï¼ŒSpringFrameworkä¸­æä¾›å¾ˆå¤šå®ç”¨åŠŸèƒ½ï¼Œå¦‚ï¼šä¾èµ–æ³¨å…¥ã€äº‹åŠ¡ç®¡ç†ã€webå¼€å‘æ”¯æŒã€æ•°æ®è®¿é—®ã€æ¶ˆæ¯æœåŠ¡ç­‰ç­‰ã€‚\nè€Œå¦‚æœæˆ‘ä»¬åœ¨é¡¹ç›®ä¸­ï¼Œç›´æ¥åŸºäºSpringFrameworkè¿›è¡Œå¼€å‘ï¼Œå­˜åœ¨ä¸¤ä¸ªé—®é¢˜ï¼šé…ç½®ç¹çã€å…¥é—¨éš¾åº¦å¤§ã€‚\næ‰€ä»¥åŸºäºæ­¤å‘¢ï¼Œspringå®˜æ–¹æ¨èæˆ‘ä»¬ä»å¦å¤–ä¸€ä¸ªé¡¹ç›®å¼€å§‹å­¦ä¹ ï¼Œé‚£å°±æ˜¯ç›®å‰æœ€ç«çˆ†çš„SpringBootã€‚\né€šè¿‡springbootå°±å¯ä»¥å¿«é€Ÿçš„å¸®æˆ‘ä»¬æ„å»ºåº”ç”¨ç¨‹åºï¼Œæ‰€ä»¥springbootå‘¢ï¼Œæœ€å¤§çš„ç‰¹ç‚¹æœ‰ä¸¤ä¸ª ï¼š\nç®€åŒ–é…ç½® å¿«é€Ÿå¼€å‘ Spring Boot å¯ä»¥å¸®åŠ©æˆ‘ä»¬éå¸¸å¿«é€Ÿçš„æ„å»ºåº”ç”¨ç¨‹åºã€ç®€åŒ–å¼€å‘ã€æé«˜æ•ˆç‡ ã€‚\næ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±ç›´æ¥é€šè¿‡ä¸€ä¸ªSpringBootçš„webå…¥é—¨ç¨‹åºï¼Œè®©å¤§å®¶å¿«é€Ÿæ„Ÿå—ä¸€ä¸‹ï¼ŒåŸºäºSpringBootè¿›è¡ŒWebå¼€å‘çš„ä¾¿æ·æ€§ã€‚\n1. SpringBootWebå¿«é€Ÿå…¥é—¨ 1.1 éœ€æ±‚ éœ€æ±‚ï¼šåŸºäºSpringBootçš„æ–¹å¼å¼€å‘ä¸€ä¸ªwebåº”ç”¨ï¼Œæµè§ˆå™¨å‘èµ·è¯·æ±‚/helloåï¼Œç»™æµè§ˆå™¨è¿”å›å­—ç¬¦ä¸² â€œHello World ~â€ã€‚\n1.2 å¼€å‘æ­¥éª¤ ç¬¬1æ­¥ï¼šåˆ›å»ºSpringBootå·¥ç¨‹é¡¹ç›®\nç¬¬2æ­¥ï¼šå®šä¹‰HelloControllerç±»ï¼Œæ·»åŠ æ–¹æ³•helloï¼Œå¹¶æ·»åŠ æ³¨è§£\nç¬¬3æ­¥ï¼šæµ‹è¯•è¿è¡Œ\n1.2.1 åˆ›å»ºSpringBootå·¥ç¨‹ï¼ˆéœ€è¦è”ç½‘ï¼‰ åŸºäºSpringå®˜æ–¹éª¨æ¶ï¼Œåˆ›å»ºSpringBootå·¥ç¨‹ã€‚\nåŸºæœ¬ä¿¡æ¯æè¿°å®Œæ¯•ä¹‹åï¼Œå‹¾é€‰webå¼€å‘ç›¸å…³ä¾èµ–ã€‚\nç‚¹å‡»Finishä¹‹åï¼Œå°±ä¼šè”ç½‘åˆ›å»ºè¿™ä¸ªSpringBootå·¥ç¨‹ï¼Œåˆ›å»ºå¥½ä¹‹åï¼Œç»“æ„å¦‚ä¸‹ï¼š\n==æ³¨æ„ï¼šåœ¨è”ç½‘åˆ›å»ºè¿‡ç¨‹ä¸­ï¼Œä¼šä¸‹è½½ç›¸å…³èµ„æº(è¯·è€å¿ƒç­‰å¾…)== 1.2.2 å®šä¹‰è¯·æ±‚å¤„ç†ç±» åœ¨com.itheimaè¿™ä¸ªåŒ…ä¸‹åˆ›å»ºä¸€ä¸ªå­åŒ…controller\nç„¶ååœ¨controlleråŒ…ä¸‹æ–°å»ºä¸€ä¸ªç±»ï¼šHelloController\n1 2 3 4 5 6 7 8 9 10 11 12 13 package com.itheima.controller; import org.springframework.web.bind.annotation.*; @RestController public class HelloController { @RequestMapping(\u0026#34;/hello\u0026#34;) public String hello(){ System.out.println(\u0026#34;Hello World ~\u0026#34;); return \u0026#34;Hello World ~\u0026#34;; } } 1.2.3 è¿è¡Œæµ‹è¯• è¿è¡ŒSpringBootè‡ªåŠ¨ç”Ÿæˆçš„å¼•å¯¼ç±»\næ‰“å¼€æµè§ˆå™¨ï¼Œè¾“å…¥ http://localhost:8080/hello\n1.3 Webåˆ†æ æµè§ˆå™¨ï¼š\nè¾“å…¥ç½‘å€ï¼šhttp://192.168.100.11:8080/hello\né€šè¿‡IPåœ°å€192.168.100.11å®šä½åˆ°ç½‘ç»œä¸Šçš„ä¸€å°è®¡ç®—æœº\næˆ‘ä»¬ä¹‹å‰åœ¨æµè§ˆå™¨ä¸­è¾“å…¥çš„localhostï¼Œå°±æ˜¯127.0.0.1ï¼ˆæœ¬æœºï¼‰\né€šè¿‡ç«¯å£å·8080æ‰¾åˆ°è®¡ç®—æœºä¸Šè¿è¡Œçš„ç¨‹åº\nlocalhost:8080 , æ„æ€æ˜¯åœ¨æœ¬åœ°è®¡ç®—æœºä¸­æ‰¾åˆ°æ­£åœ¨è¿è¡Œçš„8080ç«¯å£çš„ç¨‹åº\n/helloæ˜¯è¯·æ±‚èµ„æºä½ç½®\nèµ„æºï¼šå¯¹è®¡ç®—æœºè€Œè¨€èµ„æºå°±æ˜¯æ•°æ® webèµ„æºï¼šé€šè¿‡ç½‘ç»œå¯ä»¥è®¿é—®åˆ°çš„èµ„æºï¼ˆé€šå¸¸æ˜¯æŒ‡å­˜æ”¾åœ¨æœåŠ¡å™¨ä¸Šçš„æ•°æ®ï¼‰ localhost:8080/hello ï¼Œæ„æ€æ˜¯å‘æœ¬åœ°è®¡ç®—æœºä¸­çš„8080ç«¯å£ç¨‹åºï¼Œè·å–èµ„æºä½ç½®æ˜¯/helloçš„æ•°æ®\n8080ç«¯å£ç¨‹åºï¼Œåœ¨æœåŠ¡å™¨æ‰¾/helloä½ç½®çš„èµ„æºæ•°æ®ï¼Œå‘ç»™æµè§ˆå™¨ æœåŠ¡å™¨ï¼šï¼ˆå¯ä»¥ç†è§£ä¸ºServerSocketï¼‰\næ¥æ”¶åˆ°æµè§ˆå™¨å‘é€çš„ä¿¡æ¯ï¼ˆå¦‚ï¼š/helloï¼‰ åœ¨æœåŠ¡å™¨ä¸Šæ‰¾åˆ°/helloçš„èµ„æº æŠŠèµ„æºå‘é€ç»™æµè§ˆå™¨ æˆ‘ä»¬åœ¨JavaSEé˜¶æ®µå­¦ä¹ ç½‘ç»œç¼–ç¨‹æ—¶ï¼Œæœ‰è®²è¿‡ç½‘ç»œä¸‰è¦ç´ ï¼š\nIP ï¼šç½‘ç»œä¸­è®¡ç®—æœºçš„å”¯ä¸€æ ‡è¯† ç«¯å£ ï¼šè®¡ç®—æœºä¸­è¿è¡Œç¨‹åºçš„å”¯ä¸€æ ‡è¯† åè®® ï¼šç½‘ç»œä¸­è®¡ç®—æœºä¹‹é—´äº¤äº’çš„è§„åˆ™ é—®é¢˜ï¼šæµè§ˆå™¨å’ŒæœåŠ¡å™¨ä¸¤ç«¯è¿›è¡Œæ•°æ®äº¤äº’ï¼Œä½¿ç”¨ä»€ä¹ˆåè®®ï¼Ÿ\nç­”æ¡ˆï¼šhttpåè®®\n2. HTTPåè®® 2.1 HTTP-æ¦‚è¿° 2.1.1 ä»‹ç» HTTPï¼šHyper Text Transfer Protocol(è¶…æ–‡æœ¬ä¼ è¾“åè®®)ï¼Œè§„å®šäº†æµè§ˆå™¨ä¸æœåŠ¡å™¨ä¹‹é—´æ•°æ®ä¼ è¾“çš„è§„åˆ™ã€‚\nhttpæ˜¯äº’è”ç½‘ä¸Šåº”ç”¨æœ€ä¸ºå¹¿æ³›çš„ä¸€ç§ç½‘ç»œåè®® httpåè®®è¦æ±‚ï¼šæµè§ˆå™¨åœ¨å‘æœåŠ¡å™¨å‘é€è¯·æ±‚æ•°æ®æ—¶ï¼Œæˆ–æ˜¯æœåŠ¡å™¨åœ¨å‘æµè§ˆå™¨å‘é€å“åº”æ•°æ®æ—¶ï¼Œéƒ½å¿…é¡»æŒ‰ç…§å›ºå®šçš„æ ¼å¼è¿›è¡Œæ•°æ®ä¼ è¾“ å¦‚æœæƒ³çŸ¥é“httpåè®®çš„æ•°æ®ä¼ è¾“æ ¼å¼æœ‰å“ªäº›ï¼Œå¯ä»¥æ‰“å¼€æµè§ˆå™¨ï¼Œç‚¹å‡»F12æ‰“å¼€å¼€å‘è€…å·¥å…·ï¼Œç‚¹å‡»Networkæ¥æŸ¥çœ‹\næµè§ˆå™¨å‘æœåŠ¡å™¨è¿›è¡Œè¯·æ±‚æ—¶ï¼š\næœåŠ¡å™¨æŒ‰ç…§å›ºå®šçš„æ ¼å¼è¿›è¡Œè§£æ æœåŠ¡å™¨å‘æµè§ˆå™¨è¿›è¡Œå“åº”æ—¶ï¼š\næµè§ˆå™¨æŒ‰ç…§å›ºå®šçš„æ ¼å¼è¿›è¡Œè§£æ æ‰€ä»¥ï¼Œæˆ‘ä»¬å­¦ä¹ HTTPä¸»è¦å°±æ˜¯å­¦ä¹ è¯·æ±‚å’Œå“åº”æ•°æ®çš„å…·ä½“æ ¼å¼å†…å®¹ã€‚\n2.2.2 ç‰¹ç‚¹ æˆ‘ä»¬åˆšæ‰åˆæ­¥è®¤è¯†äº†HTTPåè®®ï¼Œé‚£ä¹ˆæˆ‘ä»¬åœ¨çœ‹çœ‹HTTPåè®®æœ‰å“ªäº›ç‰¹ç‚¹ï¼š\n**åŸºäºTCPåè®®: ** é¢å‘è¿æ¥ï¼Œå®‰å…¨\nTCPæ˜¯ä¸€ç§é¢å‘è¿æ¥çš„(å»ºç«‹è¿æ¥ä¹‹å‰æ˜¯éœ€è¦ç»è¿‡ä¸‰æ¬¡æ¡æ‰‹)ã€å¯é çš„ã€åŸºäºå­—èŠ‚æµçš„ä¼ è¾“å±‚é€šä¿¡åè®®ï¼Œåœ¨æ•°æ®ä¼ è¾“æ–¹é¢æ›´å®‰å…¨\nåŸºäºè¯·æ±‚-å“åº”æ¨¡å‹: ä¸€æ¬¡è¯·æ±‚å¯¹åº”ä¸€æ¬¡å“åº”ï¼ˆå…ˆè¯·æ±‚åå“åº”ï¼‰\nè¯·æ±‚å’Œå“åº”æ˜¯ä¸€ä¸€å¯¹åº”å…³ç³»ï¼Œæ²¡æœ‰è¯·æ±‚ï¼Œå°±æ²¡æœ‰å“åº”\nHTTPåè®®æ˜¯æ— çŠ¶æ€åè®®: å¯¹äºæ•°æ®æ²¡æœ‰è®°å¿†èƒ½åŠ›ã€‚æ¯æ¬¡è¯·æ±‚-å“åº”éƒ½æ˜¯ç‹¬ç«‹çš„\næ— çŠ¶æ€æŒ‡çš„æ˜¯å®¢æˆ·ç«¯å‘é€HTTPè¯·æ±‚ç»™æœåŠ¡ç«¯ä¹‹åï¼ŒæœåŠ¡ç«¯æ ¹æ®è¯·æ±‚å“åº”æ•°æ®ï¼Œå“åº”å®Œåï¼Œä¸ä¼šè®°å½•ä»»ä½•ä¿¡æ¯ã€‚\nç¼ºç‚¹: å¤šæ¬¡è¯·æ±‚é—´ä¸èƒ½å…±äº«æ•°æ® ä¼˜ç‚¹: é€Ÿåº¦å¿« è¯·æ±‚ä¹‹é—´æ— æ³•å…±äº«æ•°æ®ä¼šå¼•å‘çš„é—®é¢˜ï¼š\nå¦‚ï¼šäº¬ä¸œè´­ç‰©ã€‚åŠ å…¥è´­ç‰©è½¦å’Œå»è´­ç‰©è½¦ç»“ç®—æ˜¯ä¸¤æ¬¡è¯·æ±‚ ç”±äºHTTPåè®®çš„æ— çŠ¶æ€ç‰¹æ€§ï¼ŒåŠ å…¥è´­ç‰©è½¦è¯·æ±‚å“åº”ç»“æŸåï¼Œå¹¶æœªè®°å½•åŠ å…¥è´­ç‰©è½¦æ˜¯ä½•å•†å“ å‘èµ·å»è´­ç‰©è½¦ç»“ç®—çš„è¯·æ±‚åï¼Œå› ä¸ºæ— æ³•è·å–å“ªäº›å•†å“åŠ å…¥äº†è´­ç‰©è½¦ï¼Œä¼šå¯¼è‡´æ­¤æ¬¡è¯·æ±‚æ— æ³•æ­£ç¡®å±•ç¤ºæ•°æ® å…·ä½“ä½¿ç”¨çš„æ—¶å€™ï¼Œæˆ‘ä»¬å‘ç°äº¬ä¸œæ˜¯å¯ä»¥æ­£å¸¸å±•ç¤ºæ•°æ®çš„ï¼ŒåŸå› æ˜¯Javaæ—©å·²è€ƒè™‘åˆ°è¿™ä¸ªé—®é¢˜ï¼Œå¹¶æå‡ºäº†ä½¿ç”¨ä¼šè¯æŠ€æœ¯(Cookieã€Session)æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚å…·ä½“å¦‚ä½•æ¥åšï¼Œæˆ‘ä»¬åé¢è¯¾ç¨‹ä¸­ä¼šè®²åˆ°ã€‚\nåˆšæ‰æåˆ°HTTPåè®®æ˜¯è§„å®šäº†è¯·æ±‚å’Œå“åº”æ•°æ®çš„æ ¼å¼ï¼Œé‚£å…·ä½“çš„æ ¼å¼æ˜¯ä»€ä¹ˆå‘¢?\n2.2 HTTP-è¯·æ±‚åè®® æµè§ˆå™¨å’ŒæœåŠ¡å™¨æ˜¯æŒ‰ç…§HTTPåè®®è¿›è¡Œæ•°æ®é€šä¿¡çš„ã€‚\nHTTPåè®®åˆåˆ†ä¸ºï¼šè¯·æ±‚åè®®å’Œå“åº”åè®®\nè¯·æ±‚åè®®ï¼šæµè§ˆå™¨å°†æ•°æ®ä»¥è¯·æ±‚æ ¼å¼å‘é€åˆ°æœåŠ¡å™¨ åŒ…æ‹¬ï¼šè¯·æ±‚è¡Œã€è¯·æ±‚å¤´ ã€è¯·æ±‚ä½“ å“åº”åè®®ï¼šæœåŠ¡å™¨å°†æ•°æ®ä»¥å“åº”æ ¼å¼è¿”å›ç»™æµè§ˆå™¨ åŒ…æ‹¬ï¼šå“åº”è¡Œ ã€å“åº”å¤´ ã€å“åº”ä½“ åœ¨HTTP1.1ç‰ˆæœ¬ä¸­ï¼Œæµè§ˆå™¨è®¿é—®æœåŠ¡å™¨çš„å‡ ç§æ–¹å¼ï¼š\nè¯·æ±‚æ–¹å¼ è¯·æ±‚è¯´æ˜ GET è·å–èµ„æºã€‚å‘ç‰¹å®šçš„èµ„æºå‘å‡ºè¯·æ±‚ã€‚ä¾‹ï¼šhttp://www.baidu.com/s?wd=itheima POST ä¼ è¾“å®ä½“ä¸»ä½“ã€‚å‘æŒ‡å®šèµ„æºæäº¤æ•°æ®è¿›è¡Œå¤„ç†è¯·æ±‚ï¼ˆä¾‹ï¼šä¸Šä¼ æ–‡ä»¶ï¼‰ï¼Œæ•°æ®è¢«åŒ…å«åœ¨è¯·æ±‚ä½“ä¸­ã€‚ OPTIONS è¿”å›æœåŠ¡å™¨é’ˆå¯¹ç‰¹å®šèµ„æºæ‰€æ”¯æŒçš„HTTPè¯·æ±‚æ–¹å¼ã€‚å› ä¸ºå¹¶ä¸æ˜¯æ‰€æœ‰çš„æœåŠ¡å™¨éƒ½æ”¯æŒè§„å®šçš„æ–¹æ³•ï¼Œä¸ºäº†å®‰å…¨æœ‰äº›æœåŠ¡å™¨å¯èƒ½ä¼šç¦æ­¢æ‰ä¸€äº›æ–¹æ³•ï¼Œä¾‹å¦‚ï¼šDELETEã€PUTç­‰ã€‚é‚£ä¹ˆOPTIONSå°±æ˜¯ç”¨æ¥è¯¢é—®æœåŠ¡å™¨æ”¯æŒçš„æ–¹æ³•ã€‚ HEAD è·å¾—æŠ¥æ–‡é¦–éƒ¨ã€‚HEADæ–¹æ³•ç±»ä¼¼GETæ–¹æ³•ï¼Œä½†æ˜¯ä¸åŒçš„æ˜¯HEADæ–¹æ³•ä¸è¦æ±‚è¿”å›æ•°æ®ã€‚é€šå¸¸ç”¨äºç¡®è®¤URIçš„æœ‰æ•ˆæ€§åŠèµ„æºæ›´æ–°æ—¶é—´ç­‰ã€‚ PUT ä¼ è¾“æ–‡ä»¶ã€‚PUTæ–¹æ³•ç”¨æ¥ä¼ è¾“æ–‡ä»¶ã€‚ç±»ä¼¼FTPåè®®ï¼Œæ–‡ä»¶å†…å®¹åŒ…å«åœ¨è¯·æ±‚æŠ¥æ–‡çš„å®ä½“ä¸­ï¼Œç„¶åè¯·æ±‚ä¿å­˜åˆ°URLæŒ‡å®šçš„æœåŠ¡å™¨ä½ç½®ã€‚ DELETE åˆ é™¤æ–‡ä»¶ã€‚è¯·æ±‚æœåŠ¡å™¨åˆ é™¤Request-URIæ‰€æ ‡è¯†çš„èµ„æº TRACE è¿½è¸ªè·¯å¾„ã€‚å›æ˜¾æœåŠ¡å™¨æ”¶åˆ°çš„è¯·æ±‚ï¼Œä¸»è¦ç”¨äºæµ‹è¯•æˆ–è¯Šæ–­ CONNECT è¦æ±‚ç”¨éš§é“åè®®è¿æ¥ä»£ç†ã€‚HTTP/1.1åè®®ä¸­é¢„ç•™ç»™èƒ½å¤Ÿå°†è¿æ¥æ”¹ä¸ºç®¡é“æ–¹å¼çš„ä»£ç†æœåŠ¡å™¨ åœ¨æˆ‘ä»¬å®é™…åº”ç”¨ä¸­å¸¸ç”¨çš„ä¹Ÿå°±æ˜¯ ï¼šGETã€POST\nGETæ–¹å¼çš„è¯·æ±‚åè®®ï¼š\nè¯·æ±‚è¡Œ ï¼šHTTPè¯·æ±‚ä¸­çš„ç¬¬ä¸€è¡Œæ•°æ®ã€‚ç”±ï¼šè¯·æ±‚æ–¹å¼ã€èµ„æºè·¯å¾„ã€åè®®/ç‰ˆæœ¬ç»„æˆï¼ˆä¹‹é—´ä½¿ç”¨ç©ºæ ¼åˆ†éš”ï¼‰\nè¯·æ±‚æ–¹å¼ï¼šGET èµ„æºè·¯å¾„ï¼š/brand/findAll?name=OPPO\u0026amp;status=1 è¯·æ±‚è·¯å¾„ï¼š/brand/findAll è¯·æ±‚å‚æ•°ï¼šname=OPPO\u0026amp;status=1 è¯·æ±‚å‚æ•°æ˜¯ä»¥key=valueå½¢å¼å‡ºç° å¤šä¸ªè¯·æ±‚å‚æ•°ä¹‹é—´ä½¿ç”¨\u0026amp;è¿æ¥ è¯·æ±‚è·¯å¾„å’Œè¯·æ±‚å‚æ•°ä¹‹é—´ä½¿ç”¨?è¿æ¥ åè®®/ç‰ˆæœ¬ï¼šHTTP/1.1 è¯·æ±‚å¤´ ï¼šç¬¬äºŒè¡Œå¼€å§‹ï¼Œä¸Šå›¾é»„è‰²éƒ¨åˆ†å†…å®¹å°±æ˜¯è¯·æ±‚å¤´ã€‚æ ¼å¼ä¸ºkey: valueå½¢å¼\nhttpæ˜¯ä¸ªæ— çŠ¶æ€çš„åè®®ï¼Œæ‰€ä»¥åœ¨è¯·æ±‚å¤´è®¾ç½®æµè§ˆå™¨çš„ä¸€äº›è‡ªèº«ä¿¡æ¯å’Œæƒ³è¦å“åº”çš„å½¢å¼ã€‚è¿™æ ·æœåŠ¡å™¨åœ¨æ”¶åˆ°ä¿¡æ¯åï¼Œå°±å¯ä»¥çŸ¥é“æ˜¯è°ï¼Œæƒ³å¹²ä»€ä¹ˆäº† å¸¸è§çš„HTTPè¯·æ±‚å¤´æœ‰:\n1 2 3 4 5 6 7 8 9 10 11 12 13 Host: è¡¨ç¤ºè¯·æ±‚çš„ä¸»æœºå User-Agent: æµè§ˆå™¨ç‰ˆæœ¬ã€‚ ä¾‹å¦‚ï¼šChromeæµè§ˆå™¨çš„æ ‡è¯†ç±»ä¼¼Mozilla/5.0 ...Chrome/79 ï¼ŒIEæµè§ˆå™¨çš„æ ‡è¯†ç±»ä¼¼Mozilla/5.0 (Windows NT ...)like Gecko Acceptï¼šè¡¨ç¤ºæµè§ˆå™¨èƒ½æ¥æ”¶çš„èµ„æºç±»å‹ï¼Œå¦‚text/*ï¼Œimage/*æˆ–è€…*/*è¡¨ç¤ºæ‰€æœ‰ï¼› Accept-Languageï¼šè¡¨ç¤ºæµè§ˆå™¨åå¥½çš„è¯­è¨€ï¼ŒæœåŠ¡å™¨å¯ä»¥æ®æ­¤è¿”å›ä¸åŒè¯­è¨€çš„ç½‘é¡µï¼› Accept-Encodingï¼šè¡¨ç¤ºæµè§ˆå™¨å¯ä»¥æ”¯æŒçš„å‹ç¼©ç±»å‹ï¼Œä¾‹å¦‚gzip, deflateç­‰ã€‚ Content-Typeï¼šè¯·æ±‚ä¸»ä½“çš„æ•°æ®ç±»å‹ Content-Lengthï¼šæ•°æ®ä¸»ä½“çš„å¤§å°ï¼ˆå•ä½ï¼šå­—èŠ‚ï¼‰ ä¸¾ä¾‹è¯´æ˜ï¼šæœåŠ¡ç«¯å¯ä»¥æ ¹æ®è¯·æ±‚å¤´ä¸­çš„å†…å®¹æ¥è·å–å®¢æˆ·ç«¯çš„ç›¸å…³ä¿¡æ¯ï¼Œæœ‰äº†è¿™äº›ä¿¡æ¯æœåŠ¡ç«¯å°±å¯ä»¥å¤„ç†ä¸åŒçš„ä¸šåŠ¡éœ€æ±‚ã€‚\næ¯”å¦‚:\nä¸åŒæµè§ˆå™¨è§£æHTMLå’ŒCSSæ ‡ç­¾çš„ç»“æœä¼šæœ‰ä¸ä¸€è‡´ï¼Œæ‰€ä»¥å°±ä¼šå¯¼è‡´ç›¸åŒçš„ä»£ç åœ¨ä¸åŒçš„æµè§ˆå™¨ä¼šå‡ºç°ä¸åŒçš„æ•ˆæœ æœåŠ¡ç«¯æ ¹æ®å®¢æˆ·ç«¯è¯·æ±‚å¤´ä¸­çš„æ•°æ®è·å–åˆ°å®¢æˆ·ç«¯çš„æµè§ˆå™¨ç±»å‹ï¼Œå°±å¯ä»¥æ ¹æ®ä¸åŒçš„æµè§ˆå™¨è®¾ç½®ä¸åŒçš„ä»£ç æ¥è¾¾åˆ°ä¸€è‡´çš„æ•ˆæœï¼ˆè¿™å°±æ˜¯æˆ‘ä»¬å¸¸è¯´çš„æµè§ˆå™¨å…¼å®¹é—®é¢˜ï¼‰ è¯·æ±‚ä½“ ï¼šå­˜å‚¨è¯·æ±‚å‚æ•° GETè¯·æ±‚çš„è¯·æ±‚å‚æ•°åœ¨è¯·æ±‚è¡Œä¸­ï¼Œæ•…ä¸éœ€è¦è®¾ç½®è¯·æ±‚ä½“ POSTæ–¹å¼çš„è¯·æ±‚åè®®ï¼š\nè¯·æ±‚è¡Œ(ä»¥ä¸Šå›¾ä¸­çº¢è‰²éƒ¨åˆ†)ï¼šåŒ…å«è¯·æ±‚æ–¹å¼ã€èµ„æºè·¯å¾„ã€åè®®/ç‰ˆæœ¬ è¯·æ±‚æ–¹å¼ï¼šPOST èµ„æºè·¯å¾„ï¼š/brand åè®®/ç‰ˆæœ¬ï¼šHTTP/1.1 è¯·æ±‚å¤´(ä»¥ä¸Šå›¾ä¸­é»„è‰²éƒ¨åˆ†) è¯·æ±‚ä½“(ä»¥ä¸Šå›¾ä¸­ç»¿è‰²éƒ¨åˆ†) ï¼šå­˜å‚¨è¯·æ±‚å‚æ•° è¯·æ±‚ä½“å’Œè¯·æ±‚å¤´ä¹‹é—´æ˜¯æœ‰ä¸€ä¸ªç©ºè¡Œéš”å¼€ï¼ˆä½œç”¨ï¼šç”¨äºæ ‡è®°è¯·æ±‚å¤´ç»“æŸï¼‰ GETè¯·æ±‚å’ŒPOSTè¯·æ±‚çš„åŒºåˆ«ï¼š\nåŒºåˆ«æ–¹å¼ GETè¯·æ±‚ POSTè¯·æ±‚ è¯·æ±‚å‚æ•° è¯·æ±‚å‚æ•°åœ¨è¯·æ±‚è¡Œä¸­ã€‚ä¾‹ï¼š/brand/findAll?name=OPPO\u0026amp;status=1 è¯·æ±‚å‚æ•°åœ¨è¯·æ±‚ä½“ä¸­ è¯·æ±‚å‚æ•°é•¿åº¦ è¯·æ±‚å‚æ•°é•¿åº¦æœ‰é™åˆ¶(æµè§ˆå™¨ä¸åŒé™åˆ¶ä¹Ÿä¸åŒ) è¯·æ±‚å‚æ•°é•¿åº¦æ²¡æœ‰é™åˆ¶ å®‰å…¨æ€§ å®‰å…¨æ€§ä½ã€‚åŸå› ï¼šè¯·æ±‚å‚æ•°æš´éœ²åœ¨æµè§ˆå™¨åœ°å€æ ä¸­ã€‚ å®‰å…¨æ€§ç›¸å¯¹é«˜ 2.3 HTTP-å“åº”åè®® 2.3.1 æ ¼å¼ä»‹ç» ä¸HTTPçš„è¯·æ±‚ä¸€æ ·ï¼ŒHTTPå“åº”çš„æ•°æ®ä¹Ÿåˆ†ä¸º3éƒ¨åˆ†ï¼šå“åº”è¡Œã€å“åº”å¤´ ã€å“åº”ä½“\nå“åº”è¡Œ(ä»¥ä¸Šå›¾ä¸­çº¢è‰²éƒ¨åˆ†)ï¼šå“åº”æ•°æ®çš„ç¬¬ä¸€è¡Œã€‚å“åº”è¡Œç”±åè®®åŠç‰ˆæœ¬ã€å“åº”çŠ¶æ€ç ã€çŠ¶æ€ç æè¿°ç»„æˆ\nåè®®/ç‰ˆæœ¬ï¼šHTTP/1.1 å“åº”çŠ¶æ€ç ï¼š200 çŠ¶æ€ç æè¿°ï¼šOK å“åº”å¤´(ä»¥ä¸Šå›¾ä¸­é»„è‰²éƒ¨åˆ†)ï¼šå“åº”æ•°æ®çš„ç¬¬äºŒè¡Œå¼€å§‹ã€‚æ ¼å¼ä¸ºkeyï¼švalueå½¢å¼\nhttpæ˜¯ä¸ªæ— çŠ¶æ€çš„åè®®ï¼Œæ‰€ä»¥å¯ä»¥åœ¨è¯·æ±‚å¤´å’Œå“åº”å¤´ä¸­è®¾ç½®ä¸€äº›ä¿¡æ¯å’Œæƒ³è¦æ‰§è¡Œçš„åŠ¨ä½œï¼Œè¿™æ ·ï¼Œå¯¹æ–¹åœ¨æ”¶åˆ°ä¿¡æ¯åï¼Œå°±å¯ä»¥çŸ¥é“ä½ æ˜¯è°ï¼Œä½ æƒ³å¹²ä»€ä¹ˆ å¸¸è§çš„HTTPå“åº”å¤´æœ‰:\n1 2 3 4 5 6 7 8 9 Content-Typeï¼šè¡¨ç¤ºè¯¥å“åº”å†…å®¹çš„ç±»å‹ï¼Œä¾‹å¦‚text/htmlï¼Œimage/jpeg ï¼› Content-Lengthï¼šè¡¨ç¤ºè¯¥å“åº”å†…å®¹çš„é•¿åº¦ï¼ˆå­—èŠ‚æ•°ï¼‰ï¼› Content-Encodingï¼šè¡¨ç¤ºè¯¥å“åº”å‹ç¼©ç®—æ³•ï¼Œä¾‹å¦‚gzip ï¼› Cache-Controlï¼šæŒ‡ç¤ºå®¢æˆ·ç«¯åº”å¦‚ä½•ç¼“å­˜ï¼Œä¾‹å¦‚max-age=300è¡¨ç¤ºå¯ä»¥æœ€å¤šç¼“å­˜300ç§’ ; Set-Cookie: å‘Šè¯‰æµè§ˆå™¨ä¸ºå½“å‰é¡µé¢æ‰€åœ¨çš„åŸŸè®¾ç½®cookie ; å“åº”ä½“(ä»¥ä¸Šå›¾ä¸­ç»¿è‰²éƒ¨åˆ†)ï¼š å“åº”æ•°æ®çš„æœ€åä¸€éƒ¨åˆ†ã€‚å­˜å‚¨å“åº”çš„æ•°æ® å“åº”ä½“å’Œå“åº”å¤´ä¹‹é—´æœ‰ä¸€ä¸ªç©ºè¡Œéš”å¼€ï¼ˆä½œç”¨ï¼šç”¨äºæ ‡è®°å“åº”å¤´ç»“æŸï¼‰ 2.3.2 å“åº”çŠ¶æ€ç  çŠ¶æ€ç åˆ†ç±» è¯´æ˜ 1xx å“åº”ä¸­ \u0026mdash; ä¸´æ—¶çŠ¶æ€ç ã€‚è¡¨ç¤ºè¯·æ±‚å·²ç»æ¥å—ï¼Œå‘Šè¯‰å®¢æˆ·ç«¯åº”è¯¥ç»§ç»­è¯·æ±‚æˆ–è€…å¦‚æœå·²ç»å®Œæˆåˆ™å¿½ç•¥ 2xx æˆåŠŸ \u0026mdash; è¡¨ç¤ºè¯·æ±‚å·²ç»è¢«æˆåŠŸæ¥æ”¶ï¼Œå¤„ç†å·²å®Œæˆ 3xx é‡å®šå‘ \u0026mdash; é‡å®šå‘åˆ°å…¶å®ƒåœ°æ–¹ï¼Œè®©å®¢æˆ·ç«¯å†å‘èµ·ä¸€ä¸ªè¯·æ±‚ä»¥å®Œæˆæ•´ä¸ªå¤„ç† 4xx å®¢æˆ·ç«¯é”™è¯¯ \u0026mdash; å¤„ç†å‘ç”Ÿé”™è¯¯ï¼Œè´£ä»»åœ¨å®¢æˆ·ç«¯ï¼Œå¦‚ï¼šå®¢æˆ·ç«¯çš„è¯·æ±‚ä¸€ä¸ªä¸å­˜åœ¨çš„èµ„æºï¼Œå®¢æˆ·ç«¯æœªè¢«æˆæƒï¼Œç¦æ­¢è®¿é—®ç­‰ 5xx æœåŠ¡å™¨ç«¯é”™è¯¯ \u0026mdash; å¤„ç†å‘ç”Ÿé”™è¯¯ï¼Œè´£ä»»åœ¨æœåŠ¡ç«¯ï¼Œå¦‚ï¼šæœåŠ¡ç«¯æŠ›å‡ºå¼‚å¸¸ï¼Œè·¯ç”±å‡ºé”™ï¼ŒHTTPç‰ˆæœ¬ä¸æ”¯æŒç­‰ 2.3.3 å¸¸è§çš„å“åº”çŠ¶æ€ç  çŠ¶æ€ç  è‹±æ–‡æè¿° è§£é‡Š ==200== OK å®¢æˆ·ç«¯è¯·æ±‚æˆåŠŸï¼Œå³å¤„ç†æˆåŠŸï¼Œè¿™æ˜¯æˆ‘ä»¬æœ€æƒ³çœ‹åˆ°çš„çŠ¶æ€ç  302 Found æŒ‡ç¤ºæ‰€è¯·æ±‚çš„èµ„æºå·²ç§»åŠ¨åˆ°ç”±Locationå“åº”å¤´ç»™å®šçš„ URLï¼Œæµè§ˆå™¨ä¼šè‡ªåŠ¨é‡æ–°è®¿é—®åˆ°è¿™ä¸ªé¡µé¢ 304 Not Modified å‘Šè¯‰å®¢æˆ·ç«¯ï¼Œä½ è¯·æ±‚çš„èµ„æºè‡³ä¸Šæ¬¡å–å¾—åï¼ŒæœåŠ¡ç«¯å¹¶æœªæ›´æ”¹ï¼Œä½ ç›´æ¥ç”¨ä½ æœ¬åœ°ç¼“å­˜å§ã€‚éšå¼é‡å®šå‘ 400 Bad Request å®¢æˆ·ç«¯è¯·æ±‚æœ‰è¯­æ³•é”™è¯¯ï¼Œä¸èƒ½è¢«æœåŠ¡å™¨æ‰€ç†è§£ 403 Forbidden æœåŠ¡å™¨æ”¶åˆ°è¯·æ±‚ï¼Œä½†æ˜¯æ‹’ç»æä¾›æœåŠ¡ï¼Œæ¯”å¦‚ï¼šæ²¡æœ‰æƒé™è®¿é—®ç›¸å…³èµ„æº ==404== Not Found è¯·æ±‚èµ„æºä¸å­˜åœ¨ï¼Œä¸€èˆ¬æ˜¯URLè¾“å…¥æœ‰è¯¯ï¼Œæˆ–è€…ç½‘ç«™èµ„æºè¢«åˆ é™¤äº† 405 Method Not Allowed è¯·æ±‚æ–¹å¼æœ‰è¯¯ï¼Œæ¯”å¦‚åº”è¯¥ç”¨GETè¯·æ±‚æ–¹å¼çš„èµ„æºï¼Œç”¨äº†POST 428 Precondition Required æœåŠ¡å™¨è¦æ±‚æœ‰æ¡ä»¶çš„è¯·æ±‚ï¼Œå‘Šè¯‰å®¢æˆ·ç«¯è¦æƒ³è®¿é—®è¯¥èµ„æºï¼Œå¿…é¡»æºå¸¦ç‰¹å®šçš„è¯·æ±‚å¤´ 429 Too Many Requests æŒ‡ç¤ºç”¨æˆ·åœ¨ç»™å®šæ—¶é—´å†…å‘é€äº†å¤ªå¤šè¯·æ±‚ï¼ˆâ€œé™é€Ÿâ€ï¼‰ï¼Œé…åˆ Retry-After(å¤šé•¿æ—¶é—´åå¯ä»¥è¯·æ±‚)å“åº”å¤´ä¸€èµ·ä½¿ç”¨ 431 Request Header Fields Too Large è¯·æ±‚å¤´å¤ªå¤§ï¼ŒæœåŠ¡å™¨ä¸æ„¿æ„å¤„ç†è¯·æ±‚ï¼Œå› ä¸ºå®ƒçš„å¤´éƒ¨å­—æ®µå¤ªå¤§ã€‚è¯·æ±‚å¯ä»¥åœ¨å‡å°‘è¯·æ±‚å¤´åŸŸçš„å¤§å°åé‡æ–°æäº¤ã€‚ ==500== Internal Server Error æœåŠ¡å™¨å‘ç”Ÿä¸å¯é¢„æœŸçš„é”™è¯¯ã€‚æœåŠ¡å™¨å‡ºå¼‚å¸¸äº†ï¼Œèµ¶ç´§çœ‹æ—¥å¿—å»å§ 503 Service Unavailable æœåŠ¡å™¨å°šæœªå‡†å¤‡å¥½å¤„ç†è¯·æ±‚ï¼ŒæœåŠ¡å™¨åˆšåˆšå¯åŠ¨ï¼Œè¿˜æœªåˆå§‹åŒ–å¥½ çŠ¶æ€ç å¤§å…¨ï¼šhttps://cloud.tencent.com/developer/chapter/13553\nå…³äºå“åº”çŠ¶æ€ç ï¼Œæˆ‘ä»¬å…ˆä¸»è¦è®¤è¯†ä¸‰ä¸ªçŠ¶æ€ç ï¼Œå…¶ä½™çš„ç­‰åæœŸç”¨åˆ°äº†å†å»æŒæ¡ï¼š\n200 ok å®¢æˆ·ç«¯è¯·æ±‚æˆåŠŸ 404 Not Found è¯·æ±‚èµ„æºä¸å­˜åœ¨ 500 Internal Server Error æœåŠ¡ç«¯å‘ç”Ÿä¸å¯é¢„æœŸçš„é”™è¯¯ 2.4 HTTP-åè®®è§£æ å°†èµ„æ–™ä¸­å‡†å¤‡å¥½çš„Demoå·¥ç¨‹ï¼Œå¯¼å…¥åˆ°æˆ‘ä»¬çš„IDEAä¸­ï¼Œæœ‰ä¸€ä¸ªServer.javaç±»ï¼Œè¿™é‡Œé¢å°±æ˜¯è‡ªå®šä¹‰çš„ä¸€ä¸ªæœåŠ¡å™¨ä»£ç ï¼Œä¸»è¦ä½¿ç”¨åˆ°çš„æ˜¯ServerSocketå’ŒSocket\n==è¯´æ˜ï¼šä»¥ä¸‹ä»£ç å¤§å®¶ä¸éœ€è¦è‡ªå·±å†™ï¼Œæˆ‘ä»¬ä¸»è¦æ˜¯é€šè¿‡ä»£ç ï¼Œè®©å¤§å®¶äº†è§£åˆ°æœåŠ¡å™¨é’ˆå¯¹HTTPåè®®çš„è§£ææœºåˆ¶==\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 package com.itheima; import java.io.*; import java.net.ServerSocket; import java.net.Socket; import java.nio.charset.StandardCharsets; /* * è‡ªå®šä¹‰webæœåŠ¡å™¨ */ public class Server { public static void main(String[] args) throws IOException { ServerSocket ss = new ServerSocket(8080); // ç›‘å¬æŒ‡å®šç«¯å£ System.out.println(\u0026#34;server is running...\u0026#34;); while (true){ Socket sock = ss.accept(); System.out.println(\u0026#34;connected from \u0026#34; + sock.getRemoteSocketAddress()); Thread t = new Handler(sock); t.start(); } } } class Handler extends Thread { Socket sock; public Handler(Socket sock) { this.sock = sock; } public void run() { try (InputStream input = this.sock.getInputStream(); OutputStream output = this.sock.getOutputStream()) { handle(input, output); } catch (Exception e) { try { this.sock.close(); } catch (IOException ioe) { } System.out.println(\u0026#34;client disconnected.\u0026#34;); } } private void handle(InputStream input, OutputStream output) throws IOException { BufferedReader reader = new BufferedReader(new InputStreamReader(input, StandardCharsets.UTF_8)); BufferedWriter writer = new BufferedWriter(new OutputStreamWriter(output, StandardCharsets.UTF_8)); // è¯»å–HTTPè¯·æ±‚: boolean requestOk = false; String first = reader.readLine(); if (first.startsWith(\u0026#34;GET / HTTP/1.\u0026#34;)) { requestOk = true; } for (;;) { String header = reader.readLine(); if (header.isEmpty()) { // è¯»å–åˆ°ç©ºè¡Œæ—¶, HTTP Headerè¯»å–å®Œæ¯• break; } System.out.println(header); } System.out.println(requestOk ? \u0026#34;Response OK\u0026#34; : \u0026#34;Response Error\u0026#34;); if (!requestOk) {// å‘é€é”™è¯¯å“åº”: writer.write(\u0026#34;HTTP/1.0 404 Not Found\\r\\n\u0026#34;); writer.write(\u0026#34;Content-Length: 0\\r\\n\u0026#34;); writer.write(\u0026#34;\\r\\n\u0026#34;); writer.flush(); } else {// å‘é€æˆåŠŸå“åº”: //è¯»å–htmlæ–‡ä»¶ï¼Œè½¬æ¢ä¸ºå­—ç¬¦ä¸² InputStream is = Server.class.getClassLoader().getResourceAsStream(\u0026#34;html/a.html\u0026#34;); BufferedReader br = new BufferedReader(new InputStreamReader(is)); StringBuilder data = new StringBuilder(); String line = null; while ((line = br.readLine()) != null){ data.append(line); } br.close(); int length = data.toString().getBytes(StandardCharsets.UTF_8).length; writer.write(\u0026#34;HTTP/1.1 200 OK\\r\\n\u0026#34;); writer.write(\u0026#34;Connection: keep-alive\\r\\n\u0026#34;); writer.write(\u0026#34;Content-Type: text/html\\r\\n\u0026#34;); writer.write(\u0026#34;Content-Length: \u0026#34; + length + \u0026#34;\\r\\n\u0026#34;); writer.write(\u0026#34;\\r\\n\u0026#34;); // ç©ºè¡Œæ ‡è¯†Headerå’ŒBodyçš„åˆ†éš” writer.write(data.toString()); writer.flush(); } } } å¯åŠ¨ServerSocketç¨‹åºï¼š\næµè§ˆå™¨è¾“å…¥ï¼šhttp://localhost:8080 å°±ä¼šè®¿é—®åˆ°ServerSocketç¨‹åº\nServerSocketç¨‹åºï¼Œä¼šè¯»å–æœåŠ¡å™¨ä¸Šhtml/a.htmlæ–‡ä»¶ï¼Œå¹¶æŠŠæ–‡ä»¶æ•°æ®å‘é€ç»™æµè§ˆå™¨ æµè§ˆå™¨æ¥æ”¶åˆ°a.htmlæ–‡ä»¶ä¸­çš„æ•°æ®åè¿›è¡Œè§£æï¼Œæ˜¾ç¤ºä»¥ä¸‹å†…å®¹ ç°åœ¨å¤§å®¶çŸ¥é“äº†æœåŠ¡å™¨æ˜¯å¯ä»¥ä½¿ç”¨javaå®Œæˆç¼–å†™ï¼Œæ˜¯å¯ä»¥æ¥å—é¡µé¢å‘é€çš„è¯·æ±‚å’Œå“åº”æ•°æ®ç»™å‰ç«¯æµè§ˆå™¨çš„ï¼Œè€Œåœ¨å¼€å‘ä¸­çœŸæ­£ç”¨åˆ°çš„WebæœåŠ¡å™¨ï¼Œæˆ‘ä»¬ä¸ä¼šè‡ªå·±å†™çš„ï¼Œéƒ½æ˜¯ä½¿ç”¨ç›®å‰æ¯”è¾ƒæµè¡Œçš„webæœåŠ¡å™¨ã€‚å¦‚ï¼šTomcat\n3. WEBæœåŠ¡å™¨-Tomcat 3.1 ç®€ä»‹ 3.1.1 æœåŠ¡å™¨æ¦‚è¿° æœåŠ¡å™¨ç¡¬ä»¶\næŒ‡çš„ä¹Ÿæ˜¯è®¡ç®—æœºï¼Œåªä¸è¿‡æœåŠ¡å™¨è¦æ¯”æˆ‘ä»¬æ—¥å¸¸ä½¿ç”¨çš„è®¡ç®—æœºå¤§å¾ˆå¤šã€‚ æœåŠ¡å™¨ï¼Œä¹Ÿç§°ä¼ºæœå™¨ã€‚æ˜¯æä¾›è®¡ç®—æœåŠ¡çš„è®¾å¤‡ã€‚ç”±äºæœåŠ¡å™¨éœ€è¦å“åº”æœåŠ¡è¯·æ±‚ï¼Œå¹¶è¿›è¡Œå¤„ç†ï¼Œå› æ­¤ä¸€èˆ¬æ¥è¯´æœåŠ¡å™¨åº”å…·å¤‡æ‰¿æ‹…æœåŠ¡å¹¶ä¸”ä¿éšœæœåŠ¡çš„èƒ½åŠ›ã€‚\næœåŠ¡å™¨çš„æ„æˆåŒ…æ‹¬å¤„ç†å™¨ã€ç¡¬ç›˜ã€å†…å­˜ã€ç³»ç»Ÿæ€»çº¿ç­‰ï¼Œå’Œé€šç”¨çš„è®¡ç®—æœºæ¶æ„ç±»ä¼¼ï¼Œä½†æ˜¯ç”±äºéœ€è¦æä¾›é«˜å¯é çš„æœåŠ¡ï¼Œå› æ­¤åœ¨å¤„ç†èƒ½åŠ›ã€ç¨³å®šæ€§ã€å¯é æ€§ã€å®‰å…¨æ€§ã€å¯æ‰©å±•æ€§ã€å¯ç®¡ç†æ€§ç­‰æ–¹é¢è¦æ±‚è¾ƒé«˜ã€‚\nåœ¨ç½‘ç»œç¯å¢ƒä¸‹ï¼Œæ ¹æ®æœåŠ¡å™¨æä¾›çš„æœåŠ¡ç±»å‹ä¸åŒï¼Œå¯åˆ†ä¸ºï¼šæ–‡ä»¶æœåŠ¡å™¨ï¼Œæ•°æ®åº“æœåŠ¡å™¨ï¼Œåº”ç”¨ç¨‹åºæœåŠ¡å™¨ï¼ŒWEBæœåŠ¡å™¨ç­‰ã€‚\næœåŠ¡å™¨åªæ˜¯ä¸€å°è®¾å¤‡ï¼Œå¿…é¡»å®‰è£…æœåŠ¡å™¨è½¯ä»¶æ‰èƒ½æä¾›ç›¸åº”çš„æœåŠ¡ã€‚\næœåŠ¡å™¨è½¯ä»¶\næœåŠ¡å™¨è½¯ä»¶ï¼šåŸºäºServerSocketç¼–å†™çš„ç¨‹åº\næœåŠ¡å™¨è½¯ä»¶æœ¬è´¨æ˜¯ä¸€ä¸ªè¿è¡Œåœ¨æœåŠ¡å™¨è®¾å¤‡ä¸Šçš„åº”ç”¨ç¨‹åº èƒ½å¤Ÿæ¥æ”¶å®¢æˆ·ç«¯è¯·æ±‚ï¼Œå¹¶æ ¹æ®è¯·æ±‚ç»™å®¢æˆ·ç«¯å“åº”æ•°æ® 3.1.2 WebæœåŠ¡å™¨ WebæœåŠ¡å™¨æ˜¯ä¸€ä¸ªåº”ç”¨ç¨‹åº(è½¯ä»¶)ï¼Œå¯¹HTTPåè®®çš„æ“ä½œè¿›è¡Œå°è£…ï¼Œä½¿å¾—ç¨‹åºå‘˜ä¸å¿…ç›´æ¥å¯¹åè®®è¿›è¡Œæ“ä½œ(ä¸ç”¨ç¨‹åºå‘˜è‡ªå·±å†™ä»£ç å»è§£æhttpåè®®è§„åˆ™)ï¼Œè®©Webå¼€å‘æ›´åŠ ä¾¿æ·ã€‚ä¸»è¦åŠŸèƒ½æ˜¯\u0026quot;æä¾›ç½‘ä¸Šä¿¡æ¯æµè§ˆæœåŠ¡\u0026quot;ã€‚\nWebæœåŠ¡å™¨æ˜¯å®‰è£…åœ¨æœåŠ¡å™¨ç«¯çš„ä¸€æ¬¾è½¯ä»¶ï¼Œå°†æ¥æˆ‘ä»¬æŠŠè‡ªå·±å†™çš„Webé¡¹ç›®éƒ¨ç½²åˆ°TomcatæœåŠ¡å™¨è½¯ä»¶ä¸­ï¼Œå½“WebæœåŠ¡å™¨è½¯ä»¶å¯åŠ¨åï¼Œéƒ¨ç½²åœ¨WebæœåŠ¡å™¨è½¯ä»¶ä¸­çš„é¡µé¢å°±å¯ä»¥ç›´æ¥é€šè¿‡æµè§ˆå™¨æ¥è®¿é—®äº†ã€‚\nWebæœåŠ¡å™¨è½¯ä»¶ä½¿ç”¨æ­¥éª¤\nå‡†å¤‡é™æ€èµ„æº ä¸‹è½½å®‰è£…WebæœåŠ¡å™¨è½¯ä»¶ å°†é™æ€èµ„æºéƒ¨ç½²åˆ°WebæœåŠ¡å™¨ä¸Š å¯åŠ¨WebæœåŠ¡å™¨ä½¿ç”¨æµè§ˆå™¨è®¿é—®å¯¹åº”çš„èµ„æº ç¬¬1æ­¥ï¼šå‡†å¤‡é™æ€èµ„æº\nåœ¨æä¾›çš„èµ„æ–™ä¸­æ‰¾åˆ°é™æ€èµ„æºæ–‡ä»¶ ç¬¬2æ­¥ï¼šä¸‹è½½å®‰è£…WebæœåŠ¡å™¨è½¯ä»¶\nç¬¬3æ­¥ï¼šå°†é™æ€èµ„æºéƒ¨ç½²åˆ°WebæœåŠ¡å™¨ä¸Š\nç¬¬4æ­¥ï¼šå¯åŠ¨WebæœåŠ¡å™¨ä½¿ç”¨æµè§ˆå™¨è®¿é—®å¯¹åº”çš„èµ„æº\næµè§ˆå™¨è¾“å…¥ï¼šhttp://localhost:8080/demo/index.html\nä¸Šè¿°å†…å®¹åœ¨æ¼”ç¤ºçš„æ—¶å€™ï¼Œä½¿ç”¨çš„æ˜¯Apacheä¸‹çš„Tomcatè½¯ä»¶ï¼Œè‡³äºTomcatè½¯ä»¶å¦‚ä½•ä½¿ç”¨ï¼Œåé¢ä¼šè¯¦ç»†çš„è®²åˆ°ã€‚è€Œå¯¹äºWebæœåŠ¡å™¨æ¥è¯´ï¼Œå®ç°çš„æ–¹æ¡ˆæœ‰å¾ˆå¤šï¼ŒTomcatåªæ˜¯å…¶ä¸­çš„ä¸€ç§ï¼Œè€Œé™¤äº†Tomcatä»¥å¤–ï¼Œè¿˜æœ‰å¾ˆå¤šä¼˜ç§€çš„WebæœåŠ¡å™¨ï¼Œæ¯”å¦‚:\nTomcatå°±æ˜¯ä¸€æ¬¾è½¯ä»¶ï¼Œæˆ‘ä»¬ä¸»è¦æ˜¯ä»¥å­¦ä¹ å¦‚ä½•å»ä½¿ç”¨ä¸ºä¸»ã€‚å…·ä½“æˆ‘ä»¬ä¼šä»ä»¥ä¸‹è¿™äº›æ–¹å‘å»å­¦ä¹ :\nç®€ä»‹ï¼šåˆæ­¥è®¤è¯†ä¸‹Tomcat\nåŸºæœ¬ä½¿ç”¨: å®‰è£…ã€å¸è½½ã€å¯åŠ¨ã€å…³é—­ã€é…ç½®å’Œé¡¹ç›®éƒ¨ç½²ï¼Œè¿™äº›éƒ½æ˜¯å¯¹Tomcatçš„åŸºæœ¬æ“ä½œ\nIDEAä¸­å¦‚ä½•åˆ›å»ºMaven Webé¡¹ç›®\nIDEAä¸­å¦‚ä½•ä½¿ç”¨Tomcat,åé¢è¿™ä¸¤ä¸ªéƒ½æ˜¯æˆ‘ä»¬ä»¥åå¼€å‘ç»å¸¸ä¼šç”¨åˆ°çš„æ–¹å¼\né¦–é€‰æˆ‘ä»¬æ¥è®¤è¯†ä¸‹Tomcatã€‚\n3.1.3 Tomcat TomcatæœåŠ¡å™¨è½¯ä»¶æ˜¯ä¸€ä¸ªå…è´¹çš„å¼€æºçš„webåº”ç”¨æœåŠ¡å™¨ã€‚æ˜¯Apacheè½¯ä»¶åŸºé‡‘ä¼šçš„ä¸€ä¸ªæ ¸å¿ƒé¡¹ç›®ã€‚ç”±Apacheï¼ŒSunå’Œå…¶ä»–ä¸€äº›å…¬å¸åŠä¸ªäººå…±åŒå¼€å‘è€Œæˆã€‚\nç”±äºTomcatåªæ”¯æŒServlet/JSPå°‘é‡JavaEEè§„èŒƒï¼Œæ‰€ä»¥æ˜¯ä¸€ä¸ªå¼€æºå…è´¹çš„è½»é‡çº§WebæœåŠ¡å™¨ã€‚\nJavaEEè§„èŒƒï¼š JavaEE =\u0026gt; Java Enterprise Edition(Javaä¼ä¸šç‰ˆ)\navaEEè§„èŒƒå°±æ˜¯æŒ‡Javaä¼ä¸šçº§å¼€å‘çš„æŠ€æœ¯è§„èŒƒæ€»å’Œã€‚åŒ…å«13é¡¹æŠ€æœ¯è§„èŒƒï¼šJDBCã€JNDIã€EJBã€RMIã€JSPã€Servletã€XMLã€JMSã€Java IDLã€JTSã€JTAã€JavaMailã€JAF\nå› ä¸ºTomcatæ”¯æŒServlet/JSPè§„èŒƒï¼Œæ‰€ä»¥Tomcatä¹Ÿè¢«ç§°ä¸ºWebå®¹å™¨ã€Servletå®¹å™¨ã€‚JavaWebç¨‹åºéœ€è¦ä¾èµ–Tomcatæ‰èƒ½è¿è¡Œã€‚\nTomcatçš„å®˜ç½‘: https://tomcat.apache.org/\n3.2 åŸºæœ¬ä½¿ç”¨ 3.2.1 ä¸‹è½½ ç›´æ¥ä»å®˜æ–¹ç½‘ç«™ä¸‹è½½ï¼šhttps://tomcat.apache.org/download-90.cgi\nTomcatè½¯ä»¶ç±»å‹è¯´æ˜ï¼š\ntar.gzæ–‡ä»¶ï¼Œæ˜¯linuxå’Œmacæ“ä½œç³»ç»Ÿä¸‹çš„å‹ç¼©ç‰ˆæœ¬ zipæ–‡ä»¶ï¼Œæ˜¯windowæ“ä½œç³»ç»Ÿä¸‹å‹ç¼©ç‰ˆæœ¬ï¼ˆæˆ‘ä»¬é€‰æ‹©zipæ–‡ä»¶ï¼‰ å¤§å®¶å¯ä»¥è‡ªè¡Œä¸‹è½½ï¼Œä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨èµ„æ–™ä¸­å·²ç»ä¸‹è½½å¥½çš„èµ„æºï¼Œ\nTomcatçš„è½¯ä»¶ç¨‹åº ï¼š/èµ„æ–™/SpringbootWeb/apache-tomcat-9.0.27-windows-x64.zip\n3.2.2 å®‰è£…ä¸å¸è½½ å®‰è£…: Tomcatæ˜¯ç»¿è‰²ç‰ˆï¼Œç›´æ¥è§£å‹å³å®‰è£…\nåœ¨Eç›˜çš„developç›®å½•ä¸‹ï¼Œå°†apache-tomcat-9.0.27-windows-x64.zipè¿›è¡Œè§£å‹ç¼©ï¼Œä¼šå¾—åˆ°ä¸€ä¸ªapache-tomcat-9.0.27çš„ç›®å½•ï¼ŒTomcatå°±å·²ç»å®‰è£…æˆåŠŸã€‚\n==æ³¨æ„ï¼ŒTomcatåœ¨è§£å‹ç¼©çš„æ—¶å€™ï¼Œè§£å‹æ‰€åœ¨çš„ç›®å½•å¯ä»¥ä»»æ„ï¼Œä½†æœ€å¥½è§£å‹åˆ°ä¸€ä¸ªä¸åŒ…å«ä¸­æ–‡å’Œç©ºæ ¼çš„ç›®å½•ï¼Œå› ä¸ºåæœŸåœ¨éƒ¨ç½²é¡¹ç›®çš„æ—¶å€™ï¼Œå¦‚æœè·¯å¾„æœ‰ä¸­æ–‡æˆ–è€…ç©ºæ ¼å¯èƒ½ä¼šå¯¼è‡´ç¨‹åºéƒ¨ç½²å¤±è´¥ã€‚==\næ‰“å¼€apache-tomcat-9.0.27ç›®å½•å°±èƒ½çœ‹åˆ°å¦‚ä¸‹ç›®å½•ç»“æ„ï¼Œæ¯ä¸ªç›®å½•ä¸­åŒ…å«çš„å†…å®¹éœ€è¦è®¤è¯†ä¸‹\nbinï¼šç›®å½•ä¸‹æœ‰ä¸¤ç±»æ–‡ä»¶ï¼Œä¸€ç§æ˜¯ä»¥.batç»“å°¾çš„ï¼Œæ˜¯Windowsç³»ç»Ÿçš„å¯æ‰§è¡Œæ–‡ä»¶ï¼Œä¸€ç§æ˜¯ä»¥.shç»“å°¾çš„ï¼Œæ˜¯Linuxç³»ç»Ÿçš„å¯æ‰§è¡Œæ–‡ä»¶ã€‚\nwebappsï¼šå°±æ˜¯ä»¥åé¡¹ç›®éƒ¨ç½²çš„ç›®å½•\n**å¸è½½ï¼š**å¸è½½æ¯”è¾ƒç®€å•ï¼Œå¯ä»¥ç›´æ¥åˆ é™¤ç›®å½•å³å¯\n3.2.3 å¯åŠ¨ä¸å…³é—­ å¯åŠ¨Tomcat\nåŒå‡»tomcatè§£å‹ç›®å½•/bin/startup.batæ–‡ä»¶å³å¯å¯åŠ¨tomcat ==æ³¨æ„: tomcatæœåŠ¡å™¨å¯åŠ¨å,é»‘çª—å£ä¸ä¼šå…³é—­,åªè¦é»‘çª—å£ä¸å…³é—­,å°±è¯æ˜tomcatæœåŠ¡å™¨æ­£åœ¨è¿è¡Œ==\nTomcatçš„é»˜è®¤ç«¯å£ä¸º8080ï¼Œæ‰€ä»¥åœ¨æµè§ˆå™¨çš„åœ°å€æ è¾“å…¥ï¼šhttp://127.0.0.1:8080 å³å¯è®¿é—®tomcatæœåŠ¡å™¨\n127.0.0.1 ä¹Ÿå¯ä»¥ä½¿ç”¨localhostä»£æ›¿ã€‚å¦‚ï¼šhttp://localhost:8080\nèƒ½çœ‹åˆ°ä»¥ä¸Šå›¾ç‰‡ä¸­Apache Tomcatçš„å†…å®¹å°±è¯´æ˜Tomcatå·²ç»å¯åŠ¨æˆåŠŸ ==æ³¨æ„äº‹é¡¹== ï¼šTomcatå¯åŠ¨çš„è¿‡ç¨‹ä¸­ï¼Œé‡åˆ°æ§åˆ¶å°æœ‰ä¸­æ–‡ä¹±ç æ—¶ï¼Œå¯ä»¥é€šå¸¸ä¿®æ”¹conf/logging.proopertiesæ–‡ä»¶è§£å†³\nå…³é—­: å…³é—­æœ‰ä¸‰ç§æ–¹å¼\n1ã€å¼ºåˆ¶å…³é—­ï¼šç›´æ¥xæ‰Tomcatçª—å£ï¼ˆä¸å»ºè®®ï¼‰\n2ã€æ­£å¸¸å…³é—­ï¼šbin\\shutdown.bat\n3ã€æ­£å¸¸å…³é—­ï¼šåœ¨Tomcatå¯åŠ¨çª—å£ä¸­æŒ‰ä¸‹ Ctrl+C\nè¯´æ˜ï¼šå¦‚æœæŒ‰ä¸‹Ctrl+Cæ²¡æœ‰åæ˜ ï¼Œå¯ä»¥å¤šæŒ‰å‡ æ¬¡ 3.2.4 å¸¸è§é—®é¢˜ é—®é¢˜1ï¼šTomcatå¯åŠ¨æ—¶ï¼Œçª—å£ä¸€é—ªè€Œè¿‡\næ£€æŸ¥JAVA_HOMEç¯å¢ƒå˜é‡æ˜¯å¦æ­£ç¡®é…ç½® é—®é¢˜2ï¼šç«¯å£å·å†²çª\nå‘ç”Ÿé—®é¢˜çš„åŸå› ï¼šTomcatä½¿ç”¨çš„ç«¯å£è¢«å ç”¨äº†ã€‚\nè§£å†³æ–¹æ¡ˆï¼šæ¢Tomcatç«¯å£å·\nè¦æƒ³ä¿®æ”¹Tomcatå¯åŠ¨çš„ç«¯å£å·ï¼Œéœ€è¦ä¿®æ”¹ conf/server.xmlæ–‡ä»¶ æ³¨: HTTPåè®®é»˜è®¤ç«¯å£å·ä¸º80ï¼Œå¦‚æœå°†Tomcatç«¯å£å·æ”¹ä¸º80ï¼Œåˆ™å°†æ¥è®¿é—®Tomcatæ—¶ï¼Œå°†ä¸ç”¨è¾“å…¥ç«¯å£å·ã€‚\n3.3 å…¥é—¨ç¨‹åºè§£æ å…³äºwebå¼€å‘çš„åŸºç¡€çŸ¥è¯†ï¼Œæˆ‘ä»¬å¯ä»¥å‘Šä¸€æ®µè½äº†ã€‚ä¸‹é¢å‘¢ï¼Œæˆ‘ä»¬åœ¨åŸºäºä»Šå¤©çš„æ ¸å¿ƒæŠ€æœ¯ç‚¹SpringBootå¿«é€Ÿå…¥é—¨æ¡ˆä¾‹è¿›è¡Œåˆ†æã€‚\n3.3.1 Springå®˜æ–¹éª¨æ¶ ä¹‹å‰æˆ‘ä»¬åˆ›å»ºçš„SpringBootå…¥é—¨æ¡ˆä¾‹ï¼Œæ˜¯åŸºäºSpringå®˜æ–¹æä¾›çš„éª¨æ¶å®ç°çš„ã€‚\nSpringå®˜æ–¹éª¨æ¶ï¼Œå¯ä»¥ç†è§£ä¸ºSpringå®˜æ–¹ä¸ºç¨‹åºå‘˜æä¾›ä¸€ä¸ªæ­å»ºé¡¹ç›®çš„æ¨¡æ¿ã€‚\næˆ‘ä»¬å¯ä»¥é€šè¿‡è®¿é—®ï¼šhttps://start.spring.io/ ï¼Œè¿›å…¥åˆ°å®˜æ–¹éª¨æ¶é¡µé¢\nSpringå®˜æ–¹ç”Ÿæˆçš„SpringBooté¡¹ç›®ï¼Œæ€ä¹ˆä½¿ç”¨å‘¢ï¼Ÿ\nè§£å‹ç¼©åï¼Œå°±ä¼šå¾—åˆ°ä¸€ä¸ªSpringBooté¡¹ç›®å·¥ç¨‹ æ‰“å¼€pom.xmlæ–‡ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°springbooté¡¹ç›®ä¸­å¼•å…¥äº†webä¾èµ–å’Œtestä¾èµ–\nç»“è®ºï¼šä¸è®ºä½¿ç”¨IDEAåˆ›å»ºSpringBooté¡¹ç›®ï¼Œè¿˜æ˜¯ç›´æ¥åœ¨å®˜æ–¹ç½‘ç«™åˆ©ç”¨éª¨æ¶ç”ŸæˆSpringBooté¡¹ç›®ï¼Œé¡¹ç›®çš„ç»“æ„å’Œpom.xmlæ–‡ä»¶ä¸­å†…å®¹æ˜¯ç›¸ä¼¼çš„ã€‚\n3.3.2 èµ·æ­¥ä¾èµ– åœ¨æˆ‘ä»¬ä¹‹å‰è®²è§£çš„SpringBootå¿«é€Ÿå…¥é—¨æ¡ˆä¾‹ä¸­ï¼ŒåŒæ ·ä¹Ÿå¼•ç”¨äº†ï¼šwebä¾èµ–å’Œtestä¾èµ–\nspring-boot-starter-webå’Œspring-boot-starter-testï¼Œåœ¨SpringBootä¸­åˆç§°ä¸ºï¼šèµ·æ­¥ä¾èµ–\nè€Œåœ¨SpringBootçš„é¡¹ç›®ä¸­ï¼Œæœ‰å¾ˆå¤šçš„èµ·æ­¥ä¾èµ–ï¼Œä»–ä»¬æœ‰ä¸€ä¸ªå…±åŒçš„ç‰¹å¾ï¼šå°±æ˜¯ä»¥spring-boot-starter-ä½œä¸ºå¼€å¤´ã€‚åœ¨ä»¥åå¤§å®¶é‡åˆ°spring-boot-starter-xxxè¿™ç±»çš„ä¾èµ–ï¼Œéƒ½ä¸ºèµ·æ­¥ä¾èµ–ã€‚\nèµ·æ­¥ä¾èµ–æœ‰ä»€ä¹ˆç‰¹æ®Šä¹‹å¤„å‘¢ï¼Œè¿™é‡Œæˆ‘ä»¬ä»¥å…¥é—¨æ¡ˆä¾‹ä¸­å¼•å…¥çš„èµ·æ­¥ä¾èµ–åšä¸ºè®²è§£ï¼š\nspring-boot-starter-webï¼šåŒ…å«äº†webåº”ç”¨å¼€å‘æ‰€éœ€è¦çš„å¸¸è§ä¾èµ– spring-boot-starter-testï¼šåŒ…å«äº†å•å…ƒæµ‹è¯•æ‰€éœ€è¦çš„å¸¸è§ä¾èµ– spring-boot-starter-webå†…éƒ¨æŠŠå…³äºWebå¼€å‘æ‰€æœ‰çš„ä¾èµ–éƒ½å·²ç»å¯¼å…¥å¹¶ä¸”æŒ‡å®šäº†ç‰ˆæœ¬ï¼Œåªéœ€å¼•å…¥ spring-boot-starter-web ä¾èµ–å°±å¯ä»¥å®ç°Webå¼€å‘çš„éœ€è¦çš„åŠŸèƒ½\nSpringçš„å®˜æ–¹æä¾›äº†å¾ˆå¤šç°æˆçš„starter(èµ·æ­¥ä¾èµ–)ï¼Œæˆ‘ä»¬åœ¨å¼€å‘ç›¸å…³åº”ç”¨æ—¶ï¼Œåªéœ€è¦å¼•å…¥å¯¹åº”çš„starterå³å¯ã€‚\nå®˜æ–¹åœ°å€ï¼šhttps://docs.spring.io/spring-boot/docs/2.7.2/reference/htmlsingle/#using.build-systems.starters\næ¯ä¸€ä¸ªèµ·æ­¥ä¾èµ–ï¼Œéƒ½ç”¨äºå¼€å‘ä¸€ä¸ªç‰¹å®šçš„åŠŸèƒ½ã€‚\nä¸¾ä¾‹ï¼šå½“æˆ‘ä»¬å¼€å‘ä¸­éœ€è¦ä½¿ç”¨redisæ•°æ®åº“æ—¶ï¼Œåªéœ€è¦åœ¨SpringBooté¡¹ç›®ä¸­ï¼Œå¼•å…¥ï¼šspring-boot-starter-redis ï¼Œå³å¯å¯¼å…¥rediså¼€å‘æ‰€éœ€è¦çš„ä¾èµ–ã€‚\n3.3.2 SpringBootçˆ¶å·¥ç¨‹ åœ¨æˆ‘ä»¬ä¹‹å‰å¼€å‘çš„SpringBootå…¥é—¨æ¡ˆä¾‹ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡mavenå¼•å…¥çš„ä¾èµ–ï¼Œæ˜¯æ²¡æœ‰æŒ‡å®šå…·ä½“çš„ä¾èµ–ç‰ˆæœ¬å·çš„ã€‚\nä¸ºä»€ä¹ˆæ²¡æœ‰æŒ‡å®šç‰ˆæœ¬å·ï¼Œå¯ä»¥æ­£å¸¸ä½¿ç”¨å‘¢ï¼Ÿ\nå› ä¸ºæ¯ä¸€ä¸ªSpringBootå·¥ç¨‹ï¼Œéƒ½æœ‰ä¸€ä¸ªçˆ¶å·¥ç¨‹ã€‚ä¾èµ–çš„ç‰ˆæœ¬å·ï¼Œåœ¨çˆ¶å·¥ç¨‹ä¸­ç»Ÿä¸€ç®¡ç†ã€‚ 3.3.3 å†…åµŒTomcat é—®é¢˜ï¼šä¸ºä»€ä¹ˆæˆ‘ä»¬ä¹‹å‰ä¹¦å†™çš„SpringBootå…¥é—¨ç¨‹åºä¸­ï¼Œå¹¶æ²¡æœ‰æŠŠç¨‹åºéƒ¨ç½²åˆ°Tomcatçš„webappsç›®å½•ä¸‹ï¼Œä¹Ÿå¯ä»¥è¿è¡Œå‘¢ï¼Ÿ\nåŸå› å‘¢ï¼Œæ˜¯å› ä¸ºåœ¨æˆ‘ä»¬çš„SpringBootä¸­ï¼Œå¼•å…¥äº†webè¿è¡Œç¯å¢ƒ(ä¹Ÿå°±æ˜¯å¼•å…¥spring-boot-starter-webèµ·æ­¥ä¾èµ–)ï¼Œå…¶å†…éƒ¨å·²ç»é›†æˆäº†å†…ç½®çš„TomcatæœåŠ¡å™¨ã€‚\næˆ‘ä»¬å¯ä»¥é€šè¿‡IDEAå¼€å‘å·¥å…·å³ä¾§çš„mavené¢æ¿ä¸­ï¼Œå°±å¯ä»¥çœ‹åˆ°å½“å‰å·¥ç¨‹å¼•å…¥çš„ä¾èµ–ã€‚å…¶ä¸­å·²ç»å°†Tomcatçš„ç›¸å…³ä¾èµ–ä¼ é€’ä¸‹æ¥äº†ï¼Œä¹Ÿå°±æ˜¯è¯´åœ¨SpringBootä¸­å¯ä»¥ç›´æ¥ä½¿ç”¨TomcatæœåŠ¡å™¨ã€‚\nå½“æˆ‘ä»¬è¿è¡ŒSpringBootçš„å¼•å¯¼ç±»æ—¶(è¿è¡Œmainæ–¹æ³•)ï¼Œå°±ä¼šçœ‹åˆ°å‘½ä»¤è¡Œè¾“å‡ºçš„æ—¥å¿—ï¼Œå…¶ä¸­å ç”¨8080ç«¯å£çš„å°±æ˜¯Tomcatã€‚\n","date":"0001-01-01T00:00:00Z","permalink":"http://localhost:1313/p/","title":""},{"content":"SpringBootWebæ¡ˆä¾‹ å‰é¢æˆ‘ä»¬å·²ç»è®²è§£äº†Webå‰ç«¯å¼€å‘çš„åŸºç¡€çŸ¥è¯†ï¼Œä¹Ÿè®²è§£äº†Webåç«¯å¼€å‘çš„åŸºç¡€(HTTPåè®®ã€è¯·æ±‚å“åº”)ï¼Œå¹¶ä¸”ä¹Ÿè®²è§£äº†æ•°æ®åº“MySQLï¼Œä»¥åŠé€šè¿‡Mybatisæ¡†æ¶å¦‚ä½•æ¥å®Œæˆæ•°æ®åº“çš„åŸºæœ¬æ“ä½œã€‚ é‚£æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±é€šè¿‡ä¸€ä¸ªæ¡ˆä¾‹ï¼Œæ¥å°†å‰ç«¯å¼€å‘ã€åç«¯å¼€å‘ã€æ•°æ®åº“æ•´åˆèµ·æ¥ã€‚ è€Œè¿™ä¸ªæ¡ˆä¾‹å‘¢ï¼Œå°±æ˜¯æˆ‘ä»¬å‰é¢æåˆ°çš„Tliasæ™ºèƒ½å­¦ä¹ è¾…åŠ©ç³»ç»Ÿã€‚\nåœ¨è¿™ä¸ªæ¡ˆä¾‹ä¸­ï¼Œå‰ç«¯å¼€å‘äººå‘˜å·²ç»å°†å‰ç«¯å·¥ç¨‹å¼€å‘å®Œæ¯•äº†ã€‚ æˆ‘ä»¬éœ€è¦åšçš„ï¼Œå°±æ˜¯å‚è€ƒæ¥å£æ–‡æ¡£å®Œæˆåç«¯åŠŸèƒ½çš„å¼€å‘ï¼Œç„¶åç»“åˆå‰ç«¯å·¥ç¨‹è¿›è¡Œè”è°ƒæµ‹è¯•å³å¯ã€‚\nå®Œæˆåçš„æˆå“æ•ˆæœå±•ç¤ºï¼š\nä»Šå¤©çš„ä¸»è¦å†…å®¹å¦‚ä¸‹ï¼š\nå‡†å¤‡å·¥ä½œ éƒ¨é—¨ç®¡ç† å‘˜å·¥ç®¡ç† ä¸‹é¢æˆ‘ä»¬å°±è¿›å…¥åˆ°ä»Šå¤©çš„ç¬¬1ä¸ªå†…å®¹å‡†å¤‡å·¥ä½œçš„å­¦ä¹ ã€‚\n1. å‡†å¤‡å·¥ä½œ å‡†å¤‡å·¥ä½œçš„å­¦ä¹ ï¼Œæˆ‘ä»¬å…ˆä»\u0026quot;éœ€æ±‚\u0026quot;å’Œ\u0026quot;ç¯å¢ƒæ­å»º\u0026quot;å¼€å§‹å…¥æ‰‹ã€‚\n1.1 éœ€æ±‚\u0026amp;ç¯å¢ƒæ­å»º 1.1.1 éœ€æ±‚è¯´æ˜ 1ã€éƒ¨é—¨ç®¡ç†\néƒ¨é—¨ç®¡ç†åŠŸèƒ½å¼€å‘åŒ…æ‹¬ï¼š\næŸ¥è¯¢éƒ¨é—¨åˆ—è¡¨ åˆ é™¤éƒ¨é—¨ æ–°å¢éƒ¨é—¨ ä¿®æ”¹éƒ¨é—¨ 2ã€å‘˜å·¥ç®¡ç†\nå‘˜å·¥ç®¡ç†åŠŸèƒ½å¼€å‘åŒ…æ‹¬ï¼š\næŸ¥è¯¢å‘˜å·¥åˆ—è¡¨(åˆ†é¡µã€æ¡ä»¶) åˆ é™¤å‘˜å·¥ æ–°å¢å‘˜å·¥ ä¿®æ”¹å‘˜å·¥ 1.1.2 ç¯å¢ƒæ­å»º æ­¥éª¤ï¼š\nå‡†å¤‡æ•°æ®åº“è¡¨(deptã€emp) åˆ›å»ºspringbootå·¥ç¨‹ï¼Œå¼•å…¥å¯¹åº”çš„èµ·æ­¥ä¾èµ–ï¼ˆwebã€mybatisã€mysqlé©±åŠ¨ã€lombokï¼‰ é…ç½®æ–‡ä»¶application.propertiesä¸­å¼•å…¥mybatisçš„é…ç½®ä¿¡æ¯ï¼Œå‡†å¤‡å¯¹åº”çš„å®ä½“ç±» å‡†å¤‡å¯¹åº”çš„Mapperã€Service(æ¥å£ã€å®ç°ç±»)ã€ControlleråŸºç¡€ç»“æ„ ç¬¬1æ­¥ï¼šå‡†å¤‡æ•°æ®åº“è¡¨\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 -- éƒ¨é—¨ç®¡ç† create table dept( id int unsigned primary key auto_increment comment \u0026#39;ä¸»é”®ID\u0026#39;, name varchar(10) not null unique comment \u0026#39;éƒ¨é—¨åç§°\u0026#39;, create_time datetime not null comment \u0026#39;åˆ›å»ºæ—¶é—´\u0026#39;, update_time datetime not null comment \u0026#39;ä¿®æ”¹æ—¶é—´\u0026#39; ) comment \u0026#39;éƒ¨é—¨è¡¨\u0026#39;; -- éƒ¨é—¨è¡¨æµ‹è¯•æ•°æ® insert into dept (id, name, create_time, update_time) values(1,\u0026#39;å­¦å·¥éƒ¨\u0026#39;,now(),now()),(2,\u0026#39;æ•™ç ”éƒ¨\u0026#39;,now(),now()),(3,\u0026#39;å’¨è¯¢éƒ¨\u0026#39;,now(),now()), (4,\u0026#39;å°±ä¸šéƒ¨\u0026#39;,now(),now()),(5,\u0026#39;äººäº‹éƒ¨\u0026#39;,now(),now()); -- å‘˜å·¥ç®¡ç†(å¸¦çº¦æŸ) create table emp ( id int unsigned primary key auto_increment comment \u0026#39;ID\u0026#39;, username varchar(20) not null unique comment \u0026#39;ç”¨æˆ·å\u0026#39;, password varchar(32) default \u0026#39;123456\u0026#39; comment \u0026#39;å¯†ç \u0026#39;, name varchar(10) not null comment \u0026#39;å§“å\u0026#39;, gender tinyint unsigned not null comment \u0026#39;æ€§åˆ«, è¯´æ˜: 1 ç”·, 2 å¥³\u0026#39;, image varchar(300) comment \u0026#39;å›¾åƒ\u0026#39;, job tinyint unsigned comment \u0026#39;èŒä½, è¯´æ˜: 1 ç­ä¸»ä»»,2 è®²å¸ˆ, 3 å­¦å·¥ä¸»ç®¡, 4 æ•™ç ”ä¸»ç®¡, 5 å’¨è¯¢å¸ˆ\u0026#39;, entrydate date comment \u0026#39;å…¥èŒæ—¶é—´\u0026#39;, dept_id int unsigned comment \u0026#39;éƒ¨é—¨ID\u0026#39;, create_time datetime not null comment \u0026#39;åˆ›å»ºæ—¶é—´\u0026#39;, update_time datetime not null comment \u0026#39;ä¿®æ”¹æ—¶é—´\u0026#39; ) comment \u0026#39;å‘˜å·¥è¡¨\u0026#39;; -- å‘˜å·¥è¡¨æµ‹è¯•æ•°æ® INSERT INTO emp (id, username, password, name, gender, image, job, entrydate,dept_id, create_time, update_time) VALUES (1,\u0026#39;jinyong\u0026#39;,\u0026#39;123456\u0026#39;,\u0026#39;é‡‘åº¸\u0026#39;,1,\u0026#39;1.jpg\u0026#39;,4,\u0026#39;2000-01-01\u0026#39;,2,now(),now()), (2,\u0026#39;zhangwuji\u0026#39;,\u0026#39;123456\u0026#39;,\u0026#39;å¼ æ— å¿Œ\u0026#39;,1,\u0026#39;2.jpg\u0026#39;,2,\u0026#39;2015-01-01\u0026#39;,2,now(),now()), (3,\u0026#39;yangxiao\u0026#39;,\u0026#39;123456\u0026#39;,\u0026#39;æ¨é€\u0026#39;,1,\u0026#39;3.jpg\u0026#39;,2,\u0026#39;2008-05-01\u0026#39;,2,now(),now()), (4,\u0026#39;weiyixiao\u0026#39;,\u0026#39;123456\u0026#39;,\u0026#39;éŸ¦ä¸€ç¬‘\u0026#39;,1,\u0026#39;4.jpg\u0026#39;,2,\u0026#39;2007-01-01\u0026#39;,2,now(),now()), (5,\u0026#39;changyuchun\u0026#39;,\u0026#39;123456\u0026#39;,\u0026#39;å¸¸é‡æ˜¥\u0026#39;,1,\u0026#39;5.jpg\u0026#39;,2,\u0026#39;2012-12-05\u0026#39;,2,now(),now()), (6,\u0026#39;xiaozhao\u0026#39;,\u0026#39;123456\u0026#39;,\u0026#39;å°æ˜­\u0026#39;,2,\u0026#39;6.jpg\u0026#39;,3,\u0026#39;2013-09-05\u0026#39;,1,now(),now()), (7,\u0026#39;jixiaofu\u0026#39;,\u0026#39;123456\u0026#39;,\u0026#39;çºªæ™“èŠ™\u0026#39;,2,\u0026#39;7.jpg\u0026#39;,1,\u0026#39;2005-08-01\u0026#39;,1,now(),now()), (8,\u0026#39;zhouzhiruo\u0026#39;,\u0026#39;123456\u0026#39;,\u0026#39;å‘¨èŠ·è‹¥\u0026#39;,2,\u0026#39;8.jpg\u0026#39;,1,\u0026#39;2014-11-09\u0026#39;,1,now(),now()), (9,\u0026#39;dingminjun\u0026#39;,\u0026#39;123456\u0026#39;,\u0026#39;ä¸æ•å›\u0026#39;,2,\u0026#39;9.jpg\u0026#39;,1,\u0026#39;2011-03-11\u0026#39;,1,now(),now()), (10,\u0026#39;zhaomin\u0026#39;,\u0026#39;123456\u0026#39;,\u0026#39;èµµæ•\u0026#39;,2,\u0026#39;10.jpg\u0026#39;,1,\u0026#39;2013-09-05\u0026#39;,1,now(),now()), (11,\u0026#39;luzhangke\u0026#39;,\u0026#39;123456\u0026#39;,\u0026#39;é¹¿æ–å®¢\u0026#39;,1,\u0026#39;11.jpg\u0026#39;,5,\u0026#39;2007-02-01\u0026#39;,3,now(),now()), (12,\u0026#39;hebiweng\u0026#39;,\u0026#39;123456\u0026#39;,\u0026#39;é¹¤ç¬”ç¿\u0026#39;,1,\u0026#39;12.jpg\u0026#39;,5,\u0026#39;2008-08-18\u0026#39;,3,now(),now()), (13,\u0026#39;fangdongbai\u0026#39;,\u0026#39;123456\u0026#39;,\u0026#39;æ–¹ä¸œç™½\u0026#39;,1,\u0026#39;13.jpg\u0026#39;,5,\u0026#39;2012-11-01\u0026#39;,3,now(),now()), (14,\u0026#39;zhangsanfeng\u0026#39;,\u0026#39;123456\u0026#39;,\u0026#39;å¼ ä¸‰ä¸°\u0026#39;,1,\u0026#39;14.jpg\u0026#39;,2,\u0026#39;2002-08-01\u0026#39;,2,now(),now()), (15,\u0026#39;yulianzhou\u0026#39;,\u0026#39;123456\u0026#39;,\u0026#39;ä¿è²èˆŸ\u0026#39;,1,\u0026#39;15.jpg\u0026#39;,2,\u0026#39;2011-05-01\u0026#39;,2,now(),now()), (16,\u0026#39;songyuanqiao\u0026#39;,\u0026#39;123456\u0026#39;,\u0026#39;å®‹è¿œæ¡¥\u0026#39;,1,\u0026#39;16.jpg\u0026#39;,2,\u0026#39;2007-01-01\u0026#39;,2,now(),now()), (17,\u0026#39;chenyouliang\u0026#39;,\u0026#39;123456\u0026#39;,\u0026#39;é™ˆå‹è°…\u0026#39;,1,\u0026#39;17.jpg\u0026#39;,NULL,\u0026#39;2015-03-21\u0026#39;,NULL,now(),now()); ç¬¬2æ­¥ï¼šåˆ›å»ºä¸€ä¸ªSpringBootå·¥ç¨‹ï¼Œé€‰æ‹©å¼•å…¥å¯¹åº”çš„èµ·æ­¥ä¾èµ–ï¼ˆwebã€mybatisã€mysqlé©±åŠ¨ã€lombokï¼‰ (ç‰ˆæœ¬é€‰æ‹©2.7.5ç‰ˆæœ¬ï¼Œå¯ä»¥åˆ›å»ºå®Œæ¯•ä¹‹åï¼Œåœ¨pom.xmlæ–‡ä»¶ä¸­æ›´æ”¹ç‰ˆæœ¬å·)\nç”Ÿæˆçš„pom.xmlæ–‡ä»¶ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 \u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34;?\u0026gt; \u0026lt;project xmlns=\u0026#34;http://maven.apache.org/POM/4.0.0\u0026#34; xmlns:xsi=\u0026#34;http://www.w3.org/2001/XMLSchema-instance\u0026#34; xsi:schemaLocation=\u0026#34;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd\u0026#34;\u0026gt; \u0026lt;modelVersion\u0026gt;4.0.0\u0026lt;/modelVersion\u0026gt; \u0026lt;parent\u0026gt; \u0026lt;groupId\u0026gt;org.springframework.boot\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;spring-boot-starter-parent\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;2.7.5\u0026lt;/version\u0026gt; \u0026lt;relativePath/\u0026gt; \u0026lt;/parent\u0026gt; \u0026lt;groupId\u0026gt;com.itheima\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;tlias-web-management\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;0.0.1-SNAPSHOT\u0026lt;/version\u0026gt; \u0026lt;name\u0026gt;tlias-web-management\u0026lt;/name\u0026gt; \u0026lt;description\u0026gt;Demo project for Spring Boot\u0026lt;/description\u0026gt; \u0026lt;properties\u0026gt; \u0026lt;java.version\u0026gt;11\u0026lt;/java.version\u0026gt; \u0026lt;/properties\u0026gt; \u0026lt;dependencies\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.springframework.boot\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;spring-boot-starter-web\u0026lt;/artifactId\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.mybatis.spring.boot\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;mybatis-spring-boot-starter\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;2.3.0\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;com.mysql\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;mysql-connector-j\u0026lt;/artifactId\u0026gt; \u0026lt;scope\u0026gt;runtime\u0026lt;/scope\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.projectlombok\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;lombok\u0026lt;/artifactId\u0026gt; \u0026lt;optional\u0026gt;true\u0026lt;/optional\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.springframework.boot\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;spring-boot-starter-test\u0026lt;/artifactId\u0026gt; \u0026lt;scope\u0026gt;test\u0026lt;/scope\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;/dependencies\u0026gt; \u0026lt;build\u0026gt; \u0026lt;plugins\u0026gt; \u0026lt;plugin\u0026gt; \u0026lt;groupId\u0026gt;org.springframework.boot\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;spring-boot-maven-plugin\u0026lt;/artifactId\u0026gt; \u0026lt;configuration\u0026gt; \u0026lt;excludes\u0026gt; \u0026lt;exclude\u0026gt; \u0026lt;groupId\u0026gt;org.projectlombok\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;lombok\u0026lt;/artifactId\u0026gt; \u0026lt;/exclude\u0026gt; \u0026lt;/excludes\u0026gt; \u0026lt;/configuration\u0026gt; \u0026lt;/plugin\u0026gt; \u0026lt;/plugins\u0026gt; \u0026lt;/build\u0026gt; \u0026lt;/project\u0026gt; åˆ›å»ºé¡¹ç›®å·¥ç¨‹ç›®å½•ç»“æ„ï¼š\nç¬¬3æ­¥ï¼šé…ç½®æ–‡ä»¶application.propertiesä¸­å¼•å…¥mybatisçš„é…ç½®ä¿¡æ¯ï¼Œå‡†å¤‡å¯¹åº”çš„å®ä½“ç±»\napplication.properties ï¼ˆç›´æ¥æŠŠä¹‹å‰é¡¹ç›®ä¸­çš„å¤åˆ¶è¿‡æ¥ï¼‰ 1 2 3 4 5 6 7 8 9 10 11 #æ•°æ®åº“è¿æ¥ spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver spring.datasource.url=jdbc:mysql://localhost:3306/tlias spring.datasource.username=root spring.datasource.password=1234 #å¼€å¯mybatisçš„æ—¥å¿—è¾“å‡º mybatis.configuration.log-impl=org.apache.ibatis.logging.stdout.StdOutImpl #å¼€å¯æ•°æ®åº“è¡¨å­—æ®µ åˆ° å®ä½“ç±»å±æ€§çš„é©¼å³°æ˜ å°„ mybatis.configuration.map-underscore-to-camel-case=true å®ä½“ç±» 1 2 3 4 5 6 7 8 9 10 /*éƒ¨é—¨ç±»*/ @Data @NoArgsConstructor @AllArgsConstructor public class Dept { private Integer id; private String name; private LocalDateTime createTime; private LocalDateTime updateTime; } 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 /*å‘˜å·¥ç±»*/ @Data @NoArgsConstructor @AllArgsConstructor public class Emp { private Integer id; private String username; private String password; private String name; private Short gender; private String image; private Short job; private LocalDate entrydate; private Integer deptId; private LocalDateTime createTime; private LocalDateTime updateTime; } ç¬¬4æ­¥ï¼šå‡†å¤‡å¯¹åº”çš„Mapperã€Service(æ¥å£ã€å®ç°ç±»)ã€ControlleråŸºç¡€ç»“æ„\næ•°æ®è®¿é—®å±‚ï¼š\nDeptMapper 1 2 3 4 5 6 package com.itheima.mapper; import org.apache.ibatis.annotations.Mapper; @Mapper public interface DeptMapper { } EmpMapper 1 2 3 4 5 6 package com.itheima.mapper; import org.apache.ibatis.annotations.Mapper; @Mapper public interface EmpMapper { } ä¸šåŠ¡å±‚ï¼š\nDeptService 1 2 3 4 5 package com.itheima.service; //éƒ¨é—¨ä¸šåŠ¡è§„åˆ™ public interface DeptService { } DeptServiceImpl 1 2 3 4 5 6 7 8 9 package com.itheima.service.impl; import lombok.extern.slf4j.Slf4j; import org.springframework.stereotype.Service; //éƒ¨é—¨ä¸šåŠ¡å®ç°ç±» @Slf4j @Service public class DeptServiceImpl implements DeptService { } EmpService 1 2 3 4 5 package com.itheima.service; //å‘˜å·¥ä¸šåŠ¡è§„åˆ™ public interface EmpService { } EmpServiceImpl 1 2 3 4 5 6 7 8 9 10 11 package com.itheima.service.impl; import com.itheima.service.EmpService; import lombok.extern.slf4j.Slf4j; import org.springframework.stereotype.Service; //å‘˜å·¥ä¸šåŠ¡å®ç°ç±» @Slf4j @Service public class EmpServiceImpl implements EmpService { } æ§åˆ¶å±‚ï¼š\nDeptController 1 2 3 4 5 6 7 package com.itheima.controller; import org.springframework.web.bind.annotation.RestController; //éƒ¨é—¨ç®¡ç†æ§åˆ¶å™¨ @RestController public class DeptController { } EmpController 1 2 3 4 5 6 7 package com.itheima.controller; import org.springframework.web.bind.annotation.RestController; //å‘˜å·¥ç®¡ç†æ§åˆ¶å™¨ @RestController public class EmpController { } é¡¹ç›®å·¥ç¨‹ç»“æ„ï¼š\n1.2 å¼€å‘è§„èŒƒ äº†è§£å®Œéœ€æ±‚ä¹Ÿå®Œæˆäº†ç¯å¢ƒæ­å»ºäº†ï¼Œæˆ‘ä»¬ä¸‹é¢å¼€å§‹å­¦ä¹ å¼€å‘çš„ä¸€äº›è§„èŒƒã€‚\nå¼€å‘è§„èŒƒæˆ‘ä»¬ä¸»è¦ä»ä»¥ä¸‹å‡ æ–¹é¢ä»‹ç»ï¼š\n1ã€å¼€å‘è§„èŒƒ-REST\næˆ‘ä»¬çš„æ¡ˆä¾‹æ˜¯åŸºäºå½“å‰æœ€ä¸ºä¸»æµçš„å‰åç«¯åˆ†ç¦»æ¨¡å¼è¿›è¡Œå¼€å‘ã€‚\nåœ¨å‰åç«¯åˆ†ç¦»çš„å¼€å‘æ¨¡å¼ä¸­ï¼Œå‰åç«¯å¼€å‘äººå‘˜éƒ½éœ€è¦æ ¹æ®æå‰å®šä¹‰å¥½çš„æ¥å£æ–‡æ¡£ï¼Œæ¥è¿›è¡Œå‰åç«¯åŠŸèƒ½çš„å¼€å‘ã€‚\nåç«¯å¼€å‘äººå‘˜ï¼šå¿…é¡»ä¸¥æ ¼éµå®ˆæä¾›çš„æ¥å£æ–‡æ¡£è¿›è¡Œåç«¯åŠŸèƒ½å¼€å‘ï¼ˆä¿éšœå¼€å‘çš„åŠŸèƒ½å¯ä»¥å’Œå‰ç«¯å¯¹æ¥ï¼‰\nè€Œåœ¨å‰åç«¯è¿›è¡Œäº¤äº’çš„æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦åŸºäºå½“å‰ä¸»æµçš„RESTé£æ ¼çš„APIæ¥å£è¿›è¡Œäº¤äº’ã€‚\nä»€ä¹ˆæ˜¯RESTé£æ ¼å‘¢?\nRESTï¼ˆRepresentational State Transferï¼‰ï¼Œè¡¨è¿°æ€§çŠ¶æ€è½¬æ¢ï¼Œå®ƒæ˜¯ä¸€ç§è½¯ä»¶æ¶æ„é£æ ¼ã€‚ ä¼ ç»ŸURLé£æ ¼å¦‚ä¸‹ï¼š\n1 2 3 4 http://localhost:8080/user/getById?id=1 GETï¼šæŸ¥è¯¢idä¸º1çš„ç”¨æˆ· http://localhost:8080/user/saveUser POSTï¼šæ–°å¢ç”¨æˆ· http://localhost:8080/user/updateUser POSTï¼šä¿®æ”¹ç”¨æˆ· http://localhost:8080/user/deleteUser?id=1 GETï¼šåˆ é™¤idä¸º1çš„ç”¨æˆ· æˆ‘ä»¬çœ‹åˆ°ï¼ŒåŸå§‹çš„ä¼ ç»ŸURLå‘¢ï¼Œå®šä¹‰æ¯”è¾ƒå¤æ‚ï¼Œè€Œä¸”å°†èµ„æºçš„è®¿é—®è¡Œä¸ºå¯¹å¤–æš´éœ²å‡ºæ¥äº†ã€‚\nåŸºäºRESTé£æ ¼URLå¦‚ä¸‹ï¼š\n1 2 3 4 http://localhost:8080/users/1 GETï¼šæŸ¥è¯¢idä¸º1çš„ç”¨æˆ· http://localhost:8080/users POSTï¼šæ–°å¢ç”¨æˆ· http://localhost:8080/users PUTï¼šä¿®æ”¹ç”¨æˆ· http://localhost:8080/users/1 DELETEï¼šåˆ é™¤idä¸º1çš„ç”¨æˆ· å…¶ä¸­æ€»ç»“èµ·æ¥ï¼Œå°±ä¸€å¥è¯ï¼šé€šè¿‡URLå®šä½è¦æ“ä½œçš„èµ„æºï¼Œé€šè¿‡HTTPåŠ¨è¯(è¯·æ±‚æ–¹å¼)æ¥æè¿°å…·ä½“çš„æ“ä½œã€‚\nåœ¨RESTé£æ ¼çš„URLä¸­ï¼Œé€šè¿‡å››ç§è¯·æ±‚æ–¹å¼ï¼Œæ¥æ“ä½œæ•°æ®çš„å¢åˆ æ”¹æŸ¥ã€‚\nGET ï¼š æŸ¥è¯¢ POST ï¼šæ–°å¢ PUT ï¼šä¿®æ”¹ DELETE ï¼šåˆ é™¤ æˆ‘ä»¬çœ‹åˆ°å¦‚æœæ˜¯åŸºäºRESTé£æ ¼ï¼Œå®šä¹‰URLï¼ŒURLå°†ä¼šæ›´åŠ ç®€æ´ã€æ›´åŠ è§„èŒƒã€æ›´åŠ ä¼˜é›…ã€‚\næ³¨æ„äº‹é¡¹ï¼š\nRESTæ˜¯é£æ ¼ï¼Œæ˜¯çº¦å®šæ–¹å¼ï¼Œçº¦å®šä¸æ˜¯è§„å®šï¼Œå¯ä»¥æ‰“ç ´ æè¿°æ¨¡å—çš„åŠŸèƒ½é€šå¸¸ä½¿ç”¨å¤æ•°ï¼Œä¹Ÿå°±æ˜¯åŠ sçš„æ ¼å¼æ¥æè¿°ï¼Œè¡¨ç¤ºæ­¤ç±»èµ„æºï¼Œè€Œéå•ä¸ªèµ„æºã€‚å¦‚ï¼šusersã€empsã€booksâ€¦ 2ã€å¼€å‘è§„èŒƒ-ç»Ÿä¸€å“åº”ç»“æœ\nå‰åç«¯å·¥ç¨‹åœ¨è¿›è¡Œäº¤äº’æ—¶ï¼Œä½¿ç”¨ç»Ÿä¸€å“åº”ç»“æœ Resultã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 package com.itheima.pojo; import lombok.AllArgsConstructor; import lombok.Data; import lombok.NoArgsConstructor; @Data @NoArgsConstructor @AllArgsConstructor public class Result { private Integer code;//å“åº”ç ï¼Œ1 ä»£è¡¨æˆåŠŸ; 0 ä»£è¡¨å¤±è´¥ private String msg; //å“åº”ä¿¡æ¯ æè¿°å­—ç¬¦ä¸² private Object data; //è¿”å›çš„æ•°æ® //å¢åˆ æ”¹ æˆåŠŸå“åº” public static Result success(){ return new Result(1,\u0026#34;success\u0026#34;,null); } //æŸ¥è¯¢ æˆåŠŸå“åº” public static Result success(Object data){ return new Result(1,\u0026#34;success\u0026#34;,data); } //å¤±è´¥å“åº” public static Result error(String msg){ return new Result(0,msg,null); } } 3ã€å¼€å‘æµç¨‹\næˆ‘ä»¬åœ¨è¿›è¡ŒåŠŸèƒ½å¼€å‘æ—¶ï¼Œéƒ½æ˜¯æ ¹æ®å¦‚ä¸‹æµç¨‹è¿›è¡Œï¼š\næŸ¥çœ‹é¡µé¢åŸå‹æ˜ç¡®éœ€æ±‚\næ ¹æ®é¡µé¢åŸå‹å’Œéœ€æ±‚ï¼Œè¿›è¡Œè¡¨ç»“æ„è®¾è®¡ã€ç¼–å†™æ¥å£æ–‡æ¡£(å·²æä¾›) é˜…è¯»æ¥å£æ–‡æ¡£\næ€è·¯åˆ†æ\nåŠŸèƒ½æ¥å£å¼€å‘\nå°±æ˜¯å¼€å‘åå°çš„ä¸šåŠ¡åŠŸèƒ½ï¼Œä¸€ä¸ªä¸šåŠ¡åŠŸèƒ½ï¼Œæˆ‘ä»¬ç§°ä¸ºä¸€ä¸ªæ¥å£ åŠŸèƒ½æ¥å£æµ‹è¯•\nåŠŸèƒ½å¼€å‘å®Œæ¯•åï¼Œå…ˆé€šè¿‡Postmanè¿›è¡ŒåŠŸèƒ½æ¥å£æµ‹è¯•ï¼Œæµ‹è¯•é€šè¿‡åï¼Œå†å’Œå‰ç«¯è¿›è¡Œè”è°ƒæµ‹è¯• å‰åç«¯è”è°ƒæµ‹è¯•\nå’Œå‰ç«¯å¼€å‘äººå‘˜å¼€å‘å¥½çš„å‰ç«¯å·¥ç¨‹ä¸€èµ·æµ‹è¯• 2. éƒ¨é—¨ç®¡ç† æˆ‘ä»¬æŒ‰ç…§å‰é¢å­¦ä¹ çš„å¼€å‘æµç¨‹ï¼Œå¼€å§‹å®ŒæˆåŠŸèƒ½å¼€å‘ã€‚é¦–å…ˆæŒ‰ç…§ä¹‹å‰åˆ†æçš„éœ€æ±‚ï¼Œå®Œæˆéƒ¨é—¨ç®¡ç†çš„åŠŸèƒ½å¼€å‘ã€‚\nå¼€å‘çš„éƒ¨é—¨ç®¡ç†åŠŸèƒ½åŒ…å«ï¼š\næŸ¥è¯¢éƒ¨é—¨ åˆ é™¤éƒ¨é—¨ æ–°å¢éƒ¨é—¨ æ›´æ–°éƒ¨é—¨ï¼ˆä¸è®²è§£ï¼Œè‡ªå·±ç‹¬ç«‹å®Œæˆï¼‰ 2.1 æŸ¥è¯¢éƒ¨é—¨ 2.1.1 åŸå‹å’Œéœ€æ±‚ æŸ¥è¯¢çš„éƒ¨é—¨çš„ä¿¡æ¯ï¼šéƒ¨é—¨IDã€éƒ¨é—¨åç§°ã€ä¿®æ”¹æ—¶é—´\né€šè¿‡é¡µé¢åŸå‹ä»¥åŠéœ€æ±‚æè¿°ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œéƒ¨é—¨æŸ¥è¯¢ï¼Œæ˜¯ä¸éœ€è¦è€ƒè™‘åˆ†é¡µæ“ä½œçš„ã€‚\n2.1.2 æ¥å£æ–‡æ¡£ éƒ¨é—¨åˆ—è¡¨æŸ¥è¯¢\nåŸºæœ¬ä¿¡æ¯\n1 2 3 4 5 è¯·æ±‚è·¯å¾„ï¼š/depts è¯·æ±‚æ–¹å¼ï¼šGET æ¥å£æè¿°ï¼šè¯¥æ¥å£ç”¨äºéƒ¨é—¨åˆ—è¡¨æ•°æ®æŸ¥è¯¢ è¯·æ±‚å‚æ•°\næ— \nå“åº”æ•°æ®\nå‚æ•°æ ¼å¼ï¼šapplication/json\nå‚æ•°è¯´æ˜ï¼š\nå‚æ•°å ç±»å‹ æ˜¯å¦å¿…é¡» å¤‡æ³¨ code number å¿…é¡» å“åº”ç ï¼Œ1 ä»£è¡¨æˆåŠŸï¼Œ0 ä»£è¡¨å¤±è´¥ msg string éå¿…é¡» æç¤ºä¿¡æ¯ data object[ ] éå¿…é¡» è¿”å›çš„æ•°æ® |- id number éå¿…é¡» id |- name string éå¿…é¡» éƒ¨é—¨åç§° |- createTime string éå¿…é¡» åˆ›å»ºæ—¶é—´ |- updateTime string éå¿…é¡» ä¿®æ”¹æ—¶é—´ å“åº”æ•°æ®æ ·ä¾‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 { \u0026#34;code\u0026#34;: 1, \u0026#34;msg\u0026#34;: \u0026#34;success\u0026#34;, \u0026#34;data\u0026#34;: [ { \u0026#34;id\u0026#34;: 1, \u0026#34;name\u0026#34;: \u0026#34;å­¦å·¥éƒ¨\u0026#34;, \u0026#34;createTime\u0026#34;: \u0026#34;2022-09-01T23:06:29\u0026#34;, \u0026#34;updateTime\u0026#34;: \u0026#34;2022-09-01T23:06:29\u0026#34; }, { \u0026#34;id\u0026#34;: 2, \u0026#34;name\u0026#34;: \u0026#34;æ•™ç ”éƒ¨\u0026#34;, \u0026#34;createTime\u0026#34;: \u0026#34;2022-09-01T23:06:29\u0026#34;, \u0026#34;updateTime\u0026#34;: \u0026#34;2022-09-01T23:06:29\u0026#34; } ] } 2.1.3 æ€è·¯åˆ†æ 2.1.4 åŠŸèƒ½å¼€å‘ é€šè¿‡æŸ¥çœ‹æ¥å£æ–‡æ¡£ï¼šéƒ¨é—¨åˆ—è¡¨æŸ¥è¯¢\nè¯·æ±‚è·¯å¾„ï¼š/depts\nè¯·æ±‚æ–¹å¼ï¼šGET\nè¯·æ±‚å‚æ•°ï¼šæ— \nå“åº”æ•°æ®ï¼šjsonæ ¼å¼\nDeptController\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 @Slf4j @RestController public class DeptController { @Autowired private DeptService deptService; //@RequestMapping(value = \u0026#34;/depts\u0026#34; , method = RequestMethod.GET) @GetMapping(\u0026#34;/depts\u0026#34;) public Result list(){ log.info(\u0026#34;æŸ¥è¯¢æ‰€æœ‰éƒ¨é—¨æ•°æ®\u0026#34;); List\u0026lt;Dept\u0026gt; deptList = deptService.list(); return Result.success(deptList); } } @Slf4jæ³¨è§£æºç ï¼š\nDeptServiceï¼ˆä¸šåŠ¡æ¥å£ï¼‰\n1 2 3 4 5 6 7 public interface DeptService { /** * æŸ¥è¯¢æ‰€æœ‰çš„éƒ¨é—¨æ•°æ® * @return å­˜å‚¨Deptå¯¹è±¡çš„é›†åˆ */ List\u0026lt;Dept\u0026gt; list(); } DeptServiceImplï¼ˆä¸šåŠ¡å®ç°ç±»ï¼‰\n1 2 3 4 5 6 7 8 9 10 11 12 @Slf4j @Service public class DeptServiceImpl implements DeptService { @Autowired private DeptMapper deptMapper; @Override public List\u0026lt;Dept\u0026gt; list() { List\u0026lt;Dept\u0026gt; deptList = deptMapper.list(); return deptList; } } DeptMapper\n1 2 3 4 5 6 @Mapper public interface DeptMapper { //æŸ¥è¯¢æ‰€æœ‰éƒ¨é—¨æ•°æ® @Select(\u0026#34;select id, name, create_time, update_time from dept\u0026#34;) List\u0026lt;Dept\u0026gt; list(); } 2.1.5 åŠŸèƒ½æµ‹è¯• åŠŸèƒ½å¼€å‘å®Œæˆåï¼Œæˆ‘ä»¬å°±å¯ä»¥å¯åŠ¨é¡¹ç›®ï¼Œç„¶åæ‰“å¼€postmanï¼Œå‘èµ·GETè¯·æ±‚ï¼Œè®¿é—® ï¼šhttp://localhost:8080/depts\n2.2 å‰åç«¯è”è°ƒ å®Œæˆäº†æŸ¥è¯¢éƒ¨é—¨çš„åŠŸèƒ½ï¼Œæˆ‘ä»¬ä¹Ÿé€šè¿‡postmanå·¥å…·æµ‹è¯•é€šè¿‡äº†ï¼Œä¸‹é¢æˆ‘ä»¬å†åŸºäºå‰åç«¯åˆ†ç¦»çš„æ–¹å¼è¿›è¡Œæ¥å£è”è°ƒã€‚å…·ä½“æ“ä½œå¦‚ä¸‹ï¼š\n1ã€å°†èµ„æ–™ä¸­æä¾›çš„\u0026quot;å‰ç«¯ç¯å¢ƒ\u0026quot;æ–‡ä»¶å¤¹ä¸­çš„å‹ç¼©åŒ…ï¼Œæ‹·è´åˆ°ä¸€ä¸ªæ²¡æœ‰ä¸­æ–‡ä¸å¸¦ç©ºæ ¼çš„ç›®å½•ä¸‹\n2ã€æ‹·è´åˆ°ä¸€ä¸ªæ²¡æœ‰ä¸­æ–‡ä¸å¸¦ç©ºæ ¼çš„ç›®å½•åï¼Œè¿›è¡Œè§£å‹ï¼ˆè§£å‹åˆ°å½“å‰ç›®å½•ï¼‰\n3ã€å¯åŠ¨nginx\n4ã€æ‰“å¼€æµè§ˆå™¨ï¼Œè®¿é—®ï¼šhttp://localhost:90\n5ã€æµ‹è¯•ï¼šéƒ¨é—¨ç®¡ç† - æŸ¥è¯¢éƒ¨é—¨åˆ—è¡¨\nè¯´æ˜ï¼šåªè¦æŒ‰ç…§æ¥å£æ–‡æ¡£å¼€å‘åŠŸèƒ½æ¥å£ï¼Œå°±èƒ½ä¿è¯å‰åç«¯ç¨‹åºäº¤äº’\nåç«¯ï¼šä¸¥æ ¼éµå®ˆæ¥å£æ–‡æ¡£è¿›è¡ŒåŠŸèƒ½æ¥å£å¼€å‘ å‰ç«¯ï¼šä¸¥æ ¼éµå®ˆæ¥å£æ–‡æ¡£è®¿é—®åŠŸèƒ½æ¥å£ 2.3 åˆ é™¤éƒ¨é—¨ æŸ¥è¯¢éƒ¨é—¨çš„åŠŸèƒ½æˆ‘ä»¬æå®šäº†ï¼Œä¸‹é¢æˆ‘ä»¬å¼€å§‹å®Œæˆåˆ é™¤éƒ¨é—¨çš„åŠŸèƒ½å¼€å‘ã€‚\n2.3.1 éœ€æ±‚ ç‚¹å‡»éƒ¨é—¨åˆ—è¡¨åé¢æ“ä½œæ çš„ \u0026ldquo;åˆ é™¤\u0026rdquo; æŒ‰é’®ï¼Œå°±å¯ä»¥åˆ é™¤è¯¥éƒ¨é—¨ä¿¡æ¯ã€‚ æ­¤æ—¶ï¼Œå‰ç«¯åªéœ€è¦ç»™æœåŠ¡ç«¯ä¼ é€’ä¸€ä¸ªIDå‚æ•°å°±å¯ä»¥äº†ã€‚ æˆ‘ä»¬ä»æ¥å£æ–‡æ¡£ä¸­ä¹Ÿå¯ä»¥çœ‹å¾—å‡ºæ¥ã€‚\n2.3.2 æ¥å£æ–‡æ¡£ åˆ é™¤éƒ¨é—¨\nåŸºæœ¬ä¿¡æ¯\n1 2 3 4 5 è¯·æ±‚è·¯å¾„ï¼š/depts/{id} è¯·æ±‚æ–¹å¼ï¼šDELETE æ¥å£æè¿°ï¼šè¯¥æ¥å£ç”¨äºæ ¹æ®IDåˆ é™¤éƒ¨é—¨æ•°æ® è¯·æ±‚å‚æ•° å‚æ•°æ ¼å¼ï¼šè·¯å¾„å‚æ•°\nå‚æ•°è¯´æ˜ï¼š\nå‚æ•°å ç±»å‹ æ˜¯å¦å¿…é¡» å¤‡æ³¨ id number å¿…é¡» éƒ¨é—¨ID è¯·æ±‚å‚æ•°æ ·ä¾‹ï¼š\n1 /depts/1 å“åº”æ•°æ® å‚æ•°æ ¼å¼ï¼šapplication/json\nå‚æ•°è¯´æ˜ï¼š\nå‚æ•°å ç±»å‹ æ˜¯å¦å¿…é¡» å¤‡æ³¨ code number å¿…é¡» å“åº”ç ï¼Œ1 ä»£è¡¨æˆåŠŸï¼Œ0 ä»£è¡¨å¤±è´¥ msg string éå¿…é¡» æç¤ºä¿¡æ¯ data object éå¿…é¡» è¿”å›çš„æ•°æ® å“åº”æ•°æ®æ ·ä¾‹ï¼š\n1 2 3 4 5 { \u0026#34;code\u0026#34;:1, \u0026#34;msg\u0026#34;:\u0026#34;success\u0026#34;, \u0026#34;data\u0026#34;:null } 2.3.3 æ€è·¯åˆ†æ æ¥å£æ–‡æ¡£è§„å®šï¼š\nå‰ç«¯è¯·æ±‚è·¯å¾„ï¼š/depts/{id} å‰ç«¯è¯·æ±‚æ–¹å¼ï¼šDELETE é—®é¢˜1ï¼šæ€ä¹ˆåœ¨controllerä¸­æ¥æ”¶è¯·æ±‚è·¯å¾„ä¸­çš„è·¯å¾„å‚æ•°ï¼Ÿ\n1 @PathVariable é—®é¢˜2ï¼šå¦‚ä½•é™å®šè¯·æ±‚æ–¹å¼æ˜¯deleteï¼Ÿ\n1 @DeleteMapping 2.3.4 åŠŸèƒ½å¼€å‘ é€šè¿‡æŸ¥çœ‹æ¥å£æ–‡æ¡£ï¼šåˆ é™¤éƒ¨é—¨\nè¯·æ±‚è·¯å¾„ï¼š/depts/{id}\nè¯·æ±‚æ–¹å¼ï¼šDELETE\nè¯·æ±‚å‚æ•°ï¼šè·¯å¾„å‚æ•° {id}\nå“åº”æ•°æ®ï¼šjsonæ ¼å¼\nDeptController\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 @Slf4j @RestController public class DeptController { @Autowired private DeptService deptService; @DeleteMapping(\u0026#34;/depts/{id}\u0026#34;) public Result delete(@PathVariable Integer id) { //æ—¥å¿—è®°å½• log.info(\u0026#34;æ ¹æ®idåˆ é™¤éƒ¨é—¨\u0026#34;); //è°ƒç”¨serviceå±‚åŠŸèƒ½ deptService.delete(id); //å“åº” return Result.success(); } //çœç•¥... } DeptService\n1 2 3 4 5 6 7 8 9 10 public interface DeptService { /** * æ ¹æ®idåˆ é™¤éƒ¨é—¨ * @param id éƒ¨é—¨id */ void delete(Integer id); //çœç•¥... } DeptServiceImpl\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 @Slf4j @Service public class DeptServiceImpl implements DeptService { @Autowired private DeptMapper deptMapper; @Override public void delete(Integer id) { //è°ƒç”¨æŒä¹…å±‚åˆ é™¤åŠŸèƒ½ deptMapper.deleteById(id); } //çœç•¥... } DeptMapper\n1 2 3 4 5 6 7 8 9 10 11 @Mapper public interface DeptMapper { /** * æ ¹æ®idåˆ é™¤éƒ¨é—¨ä¿¡æ¯ * @param id éƒ¨é—¨id */ @Delete(\u0026#34;delete from dept where id = #{id}\u0026#34;) void deleteById(Integer id); //çœç•¥... } 2.3.5 åŠŸèƒ½æµ‹è¯• åˆ é™¤åŠŸèƒ½å¼€å‘å®Œæˆåï¼Œé‡æ–°å¯åŠ¨é¡¹ç›®ï¼Œä½¿ç”¨postmanï¼Œå‘èµ·DELETEè¯·æ±‚ï¼š\n2.3.6 å‰åç«¯è”è°ƒ æ‰“å¼€æµè§ˆå™¨ï¼Œæµ‹è¯•åç«¯åŠŸèƒ½æ¥å£ï¼š\n2.4 æ–°å¢éƒ¨é—¨ æˆ‘ä»¬å‰é¢å·²å®Œæˆäº†æŸ¥è¯¢éƒ¨é—¨ã€åˆ é™¤éƒ¨é—¨ä¸¤ä¸ªåŠŸèƒ½ï¼Œä¹Ÿç†Ÿæ‚‰äº†å¼€å‘çš„æµç¨‹ã€‚ä¸‹é¢æˆ‘ä»¬ç»§ç»­å®Œæˆæ–°å¢éƒ¨é—¨åŠŸèƒ½ã€‚\n2.4.1 éœ€æ±‚ ç‚¹å‡» \u0026ldquo;æ–°å¢éƒ¨é—¨\u0026rdquo; æŒ‰é’®ï¼Œå¼¹å‡ºæ–°å¢éƒ¨é—¨å¯¹è¯æ¡†ï¼Œè¾“å…¥éƒ¨é—¨åç§°ï¼Œç‚¹å‡» \u0026ldquo;ä¿å­˜\u0026rdquo; ï¼Œå°†éƒ¨é—¨ä¿¡æ¯ä¿å­˜åˆ°æ•°æ®åº“ã€‚\n2.4.2 æ¥å£æ–‡æ¡£ æ·»åŠ éƒ¨é—¨\nåŸºæœ¬ä¿¡æ¯\n1 2 3 4 5 è¯·æ±‚è·¯å¾„ï¼š/depts è¯·æ±‚æ–¹å¼ï¼šPOST æ¥å£æè¿°ï¼šè¯¥æ¥å£ç”¨äºæ·»åŠ éƒ¨é—¨æ•°æ® è¯·æ±‚å‚æ•°\næ ¼å¼ï¼šapplication/json\nå‚æ•°è¯´æ˜ï¼š\nå‚æ•°å ç±»å‹ æ˜¯å¦å¿…é¡» å¤‡æ³¨ name string å¿…é¡» éƒ¨é—¨åç§° è¯·æ±‚å‚æ•°æ ·ä¾‹ï¼š\n1 2 3 { \u0026#34;name\u0026#34;: \u0026#34;æ•™ç ”éƒ¨\u0026#34; } å“åº”æ•°æ®\nå‚æ•°æ ¼å¼ï¼šapplication/json\nå‚æ•°è¯´æ˜ï¼š\nå‚æ•°å ç±»å‹ æ˜¯å¦å¿…é¡» å¤‡æ³¨ code number å¿…é¡» å“åº”ç ï¼Œ1 ä»£è¡¨æˆåŠŸï¼Œ0 ä»£è¡¨å¤±è´¥ msg string éå¿…é¡» æç¤ºä¿¡æ¯ data object éå¿…é¡» è¿”å›çš„æ•°æ® å“åº”æ•°æ®æ ·ä¾‹ï¼š\n1 2 3 4 5 { \u0026#34;code\u0026#34;:1, \u0026#34;msg\u0026#34;:\u0026#34;success\u0026#34;, \u0026#34;data\u0026#34;:null } 2.4.3 æ€è·¯åˆ†æ æ¥å£æ–‡æ¡£è§„å®šï¼š\nå‰ç«¯è¯·æ±‚è·¯å¾„ï¼š/depts å‰ç«¯è¯·æ±‚æ–¹å¼ï¼šPOST å‰ç«¯è¯·æ±‚å‚æ•° (Jsonæ ¼å¼)ï¼š{ \u0026ldquo;name\u0026rdquo;: \u0026ldquo;æ•™ç ”éƒ¨\u0026rdquo; } é—®é¢˜1ï¼šå¦‚ä½•é™å®šè¯·æ±‚æ–¹å¼æ˜¯POSTï¼Ÿ\n1 @PostMapping é—®é¢˜2ï¼šæ€ä¹ˆåœ¨controllerä¸­æ¥æ”¶jsonæ ¼å¼çš„è¯·æ±‚å‚æ•°ï¼Ÿ\n1 @RequestBody //æŠŠå‰ç«¯ä¼ é€’çš„jsonæ•°æ®å¡«å……åˆ°å®ä½“ç±»ä¸­ 2.4.4 åŠŸèƒ½å¼€å‘ é€šè¿‡æŸ¥çœ‹æ¥å£æ–‡æ¡£ï¼šæ–°å¢éƒ¨é—¨\nè¯·æ±‚è·¯å¾„ï¼š/depts\nè¯·æ±‚æ–¹å¼ï¼šPOST\nè¯·æ±‚å‚æ•°ï¼šjsonæ ¼å¼\nå“åº”æ•°æ®ï¼šjsonæ ¼å¼\nDeptController\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 @Slf4j @RestController public class DeptController { @Autowired private DeptService deptService; @PostMapping(\u0026#34;/depts\u0026#34;) public Result add(@RequestBody Dept dept){ //è®°å½•æ—¥å¿— log.info(\u0026#34;æ–°å¢éƒ¨é—¨ï¼š{}\u0026#34;,dept); //è°ƒç”¨serviceå±‚æ·»åŠ åŠŸèƒ½ deptService.add(dept); //å“åº” return Result.success(); } //çœç•¥... } DeptService\n1 2 3 4 5 6 7 8 9 10 public interface DeptService { /** * æ–°å¢éƒ¨é—¨ * @param dept éƒ¨é—¨å¯¹è±¡ */ void add(Dept dept); //çœç•¥... } DeptServiceImpl\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 @Slf4j @Service public class DeptServiceImpl implements DeptService { @Autowired private DeptMapper deptMapper; @Override public void add(Dept dept) { //è¡¥å…¨éƒ¨é—¨æ•°æ® dept.setCreateTime(LocalDateTime.now()); dept.setUpdateTime(LocalDateTime.now()); //è°ƒç”¨æŒä¹…å±‚å¢åŠ åŠŸèƒ½ deptMapper.inser(dept); } //çœç•¥... } DeptMapper\n1 2 3 4 5 6 7 8 @Mapper public interface DeptMapper { @Insert(\u0026#34;insert into dept (name, create_time, update_time) values (#{name},#{createTime},#{updateTime})\u0026#34;) void inser(Dept dept); //çœç•¥... } 2.4.5 åŠŸèƒ½æµ‹è¯• æ–°å¢åŠŸèƒ½å¼€å‘å®Œæˆåï¼Œé‡æ–°å¯åŠ¨é¡¹ç›®ï¼Œä½¿ç”¨postmanï¼Œå‘èµ·POSTè¯·æ±‚ï¼š\n2.4.6 å‰åç«¯è”è°ƒ æ‰“å¼€æµè§ˆå™¨ï¼Œæµ‹è¯•åç«¯åŠŸèƒ½æ¥å£ï¼š\n2.4.7 è¯·æ±‚è·¯å¾„ æˆ‘ä»¬éƒ¨é—¨ç®¡ç†çš„æŸ¥è¯¢ã€åˆ é™¤ã€æ–°å¢åŠŸèƒ½å…¨éƒ¨å®Œæˆäº†ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬è¦å¯¹controllerå±‚çš„ä»£ç è¿›è¡Œä¼˜åŒ–ã€‚\né¦–å…ˆæˆ‘ä»¬å…ˆæ¥çœ‹ä¸‹ç›®å‰controllerå±‚ä»£ç ï¼š\nä»¥ä¸Šä¸‰ä¸ªæ–¹æ³•ä¸Šçš„è¯·æ±‚è·¯å¾„ï¼Œå­˜åœ¨ä¸€ä¸ªå…±åŒç‚¹ï¼šéƒ½æ˜¯ä»¥/deptsä½œä¸ºå¼€å¤´ã€‚ï¼ˆé‡å¤äº†ï¼‰\nåœ¨Springå½“ä¸­ä¸ºäº†ç®€åŒ–è¯·æ±‚è·¯å¾„çš„å®šä¹‰ï¼Œå¯ä»¥æŠŠå…¬å…±çš„è¯·æ±‚è·¯å¾„ï¼Œç›´æ¥æŠ½å–åˆ°ç±»ä¸Šï¼Œåœ¨ç±»ä¸ŠåŠ ä¸€ä¸ªæ³¨è§£@RequestMappingï¼Œå¹¶æŒ‡å®šè¯·æ±‚è·¯å¾„\u0026quot;/depts\u0026quot;ã€‚ä»£ç å‚ç…§å¦‚ä¸‹ï¼š\nä¼˜åŒ–å‰åçš„å¯¹æ¯”ï¼š\næ³¨æ„äº‹é¡¹ï¼šä¸€ä¸ªå®Œæ•´çš„è¯·æ±‚è·¯å¾„ï¼Œåº”è¯¥æ˜¯ç±»ä¸Š@RequestMappingçš„valueå±æ€§ + æ–¹æ³•ä¸Šçš„ @RequestMappingçš„valueå±æ€§\n3. å‘˜å·¥ç®¡ç† å®Œæˆäº†éƒ¨é—¨ç®¡ç†çš„åŠŸèƒ½å¼€å‘ä¹‹åï¼Œæˆ‘ä»¬è¿›å…¥åˆ°ä¸‹ä¸€ç¯èŠ‚å‘˜å·¥ç®¡ç†åŠŸèƒ½çš„å¼€å‘ã€‚\nåŸºäºä»¥ä¸ŠåŸå‹ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠå‘˜å·¥ç®¡ç†åŠŸèƒ½åˆ†ä¸ºï¼š\nåˆ†é¡µæŸ¥è¯¢ï¼ˆä»Šå¤©å®Œæˆï¼‰ å¸¦æ¡ä»¶çš„åˆ†é¡µæŸ¥è¯¢ï¼ˆä»Šå¤©å®Œæˆï¼‰ åˆ é™¤å‘˜å·¥ï¼ˆä»Šå¤©å®Œæˆï¼‰ æ–°å¢å‘˜å·¥ï¼ˆåç»­å®Œæˆï¼‰ ä¿®æ”¹å‘˜å·¥ï¼ˆåç»­å®Œæˆï¼‰ é‚£ä¸‹é¢æˆ‘ä»¬å°±å…ˆä»åˆ†é¡µæŸ¥è¯¢åŠŸèƒ½å¼€å§‹å­¦ä¹ ã€‚\n3.1 åˆ†é¡µæŸ¥è¯¢ 3.1.1 åŸºç¡€åˆ†é¡µ 3.1.1.1 éœ€æ±‚åˆ†æ æˆ‘ä»¬ä¹‹å‰åšçš„æŸ¥è¯¢åŠŸèƒ½ï¼Œæ˜¯å°†æ•°æ®åº“ä¸­æ‰€æœ‰çš„æ•°æ®æŸ¥è¯¢å‡ºæ¥å¹¶å±•ç¤ºåˆ°é¡µé¢ä¸Šï¼Œè¯•æƒ³å¦‚æœæ•°æ®åº“ä¸­çš„æ•°æ®æœ‰å¾ˆå¤š(å‡è®¾æœ‰åå‡ ä¸‡æ¡)çš„æ—¶å€™ï¼Œå°†æ•°æ®å…¨éƒ¨å±•ç¤ºå‡ºæ¥è‚¯å®šä¸ç°å®ï¼Œé‚£å¦‚ä½•è§£å†³è¿™ä¸ªé—®é¢˜å‘¢ï¼Ÿ\nä½¿ç”¨åˆ†é¡µè§£å†³è¿™ä¸ªé—®é¢˜ã€‚æ¯æ¬¡åªå±•ç¤ºä¸€é¡µçš„æ•°æ®ï¼Œæ¯”å¦‚ï¼šä¸€é¡µå±•ç¤º10æ¡æ•°æ®ï¼Œå¦‚æœè¿˜æƒ³çœ‹å…¶ä»–çš„æ•°æ®ï¼Œå¯ä»¥é€šè¿‡ç‚¹å‡»é¡µç è¿›è¡ŒæŸ¥è¯¢ã€‚\nè¦æƒ³ä»æ•°æ®åº“ä¸­è¿›è¡Œåˆ†é¡µæŸ¥è¯¢ï¼Œæˆ‘ä»¬è¦ä½¿ç”¨LIMITå…³é”®å­—ï¼Œæ ¼å¼ä¸ºï¼šlimit å¼€å§‹ç´¢å¼• æ¯é¡µæ˜¾ç¤ºçš„æ¡æ•°\næŸ¥è¯¢ç¬¬1é¡µæ•°æ®çš„SQLè¯­å¥æ˜¯ï¼š\n1 select * from emp limit 0,10; æŸ¥è¯¢ç¬¬2é¡µæ•°æ®çš„SQLè¯­å¥æ˜¯ï¼š\n1 select * from emp limit 10,10; æŸ¥è¯¢ç¬¬3é¡µçš„æ•°æ®çš„SQLè¯­å¥æ˜¯ï¼š\n1 select * from emp limit 20,10; è§‚å¯Ÿä»¥ä¸ŠSQLè¯­å¥ï¼Œå‘ç°ï¼š å¼€å§‹ç´¢å¼•ä¸€ç›´åœ¨æ”¹å˜ ï¼Œ æ¯é¡µæ˜¾ç¤ºæ¡æ•°æ˜¯å›ºå®šçš„\nå¼€å§‹ç´¢å¼•çš„è®¡ç®—å…¬å¼ï¼š å¼€å§‹ç´¢å¼• = (å½“å‰é¡µç  - 1) * æ¯é¡µæ˜¾ç¤ºæ¡æ•°\næˆ‘ä»¬ç»§ç»­åŸºäºé¡µé¢åŸå‹ï¼Œç»§ç»­åˆ†æï¼Œå¾—å‡ºä»¥ä¸‹ç»“è®ºï¼š\nå‰ç«¯åœ¨è¯·æ±‚æœåŠ¡ç«¯æ—¶ï¼Œä¼ é€’çš„å‚æ•° å½“å‰é¡µç  page æ¯é¡µæ˜¾ç¤ºæ¡æ•° pageSize åç«¯éœ€è¦å“åº”ä»€ä¹ˆæ•°æ®ç»™å‰ç«¯ æ‰€æŸ¥è¯¢åˆ°çš„æ•°æ®åˆ—è¡¨ï¼ˆå­˜å‚¨åˆ°List é›†åˆä¸­ï¼‰ æ€»è®°å½•æ•° åå°ç»™å‰ç«¯è¿”å›çš„æ•°æ®åŒ…å«ï¼šListé›†åˆ(æ•°æ®åˆ—è¡¨)ã€total(æ€»è®°å½•æ•°)\nè€Œè¿™ä¸¤éƒ¨åˆ†æˆ‘ä»¬é€šå¸¸å°è£…åˆ°PageBeanå¯¹è±¡ä¸­ï¼Œå¹¶å°†è¯¥å¯¹è±¡è½¬æ¢ä¸ºjsonæ ¼å¼çš„æ•°æ®å“åº”å›ç»™æµè§ˆå™¨ã€‚\n1 2 3 4 5 6 7 @Data @NoArgsConstructor @AllArgsConstructor public class PageBean { private Long total; //æ€»è®°å½•æ•° private List rows; //å½“å‰é¡µæ•°æ®åˆ—è¡¨ } 3.1.1.2 æ¥å£æ–‡æ¡£ å‘˜å·¥åˆ—è¡¨æŸ¥è¯¢\nåŸºæœ¬ä¿¡æ¯\n1 2 3 4 5 è¯·æ±‚è·¯å¾„ï¼š/emps è¯·æ±‚æ–¹å¼ï¼šGET æ¥å£æè¿°ï¼šè¯¥æ¥å£ç”¨äºå‘˜å·¥åˆ—è¡¨æ•°æ®çš„æ¡ä»¶åˆ†é¡µæŸ¥è¯¢ è¯·æ±‚å‚æ•°\nå‚æ•°æ ¼å¼ï¼šqueryString\nå‚æ•°è¯´æ˜ï¼š\nå‚æ•°åç§° æ˜¯å¦å¿…é¡» ç¤ºä¾‹ å¤‡æ³¨ name å¦ å¼  å§“å gender å¦ 1 æ€§åˆ« , 1 ç”· , 2 å¥³ begin å¦ 2010-01-01 èŒƒå›´åŒ¹é…çš„å¼€å§‹æ—¶é—´(å…¥èŒæ—¥æœŸ) end å¦ 2020-01-01 èŒƒå›´åŒ¹é…çš„ç»“æŸæ—¶é—´(å…¥èŒæ—¥æœŸ) page æ˜¯ 1 åˆ†é¡µæŸ¥è¯¢çš„é¡µç ï¼Œå¦‚æœæœªæŒ‡å®šï¼Œé»˜è®¤ä¸º1 pageSize æ˜¯ 10 åˆ†é¡µæŸ¥è¯¢çš„æ¯é¡µè®°å½•æ•°ï¼Œå¦‚æœæœªæŒ‡å®šï¼Œé»˜è®¤ä¸º10 è¯·æ±‚æ•°æ®æ ·ä¾‹ï¼š\n1 /emps?name=å¼ \u0026amp;gender=1\u0026amp;begin=2007-09-01\u0026amp;end=2022-09-01\u0026amp;page=1\u0026amp;pageSize=10 å“åº”æ•°æ®\nå‚æ•°æ ¼å¼ï¼šapplication/json\nå‚æ•°è¯´æ˜ï¼š\nåç§° ç±»å‹ æ˜¯å¦å¿…é¡» é»˜è®¤å€¼ å¤‡æ³¨ å…¶ä»–ä¿¡æ¯ code number å¿…é¡» å“åº”ç , 1 æˆåŠŸ , 0 å¤±è´¥ msg string éå¿…é¡» æç¤ºä¿¡æ¯ data object å¿…é¡» è¿”å›çš„æ•°æ® |- total number å¿…é¡» æ€»è®°å½•æ•° |- rows object [] å¿…é¡» æ•°æ®åˆ—è¡¨ item ç±»å‹: object |- id number éå¿…é¡» id |- username string éå¿…é¡» ç”¨æˆ·å |- name string éå¿…é¡» å§“å |- password string éå¿…é¡» å¯†ç  |- entrydate string éå¿…é¡» å…¥èŒæ—¥æœŸ |- gender number éå¿…é¡» æ€§åˆ« , 1 ç”· ; 2 å¥³ |- image string éå¿…é¡» å›¾åƒ |- job number éå¿…é¡» èŒä½, è¯´æ˜: 1 ç­ä¸»ä»»,2 è®²å¸ˆ, 3 å­¦å·¥ä¸»ç®¡, 4 æ•™ç ”ä¸»ç®¡, 5 å’¨è¯¢å¸ˆ |- deptId number éå¿…é¡» éƒ¨é—¨id |- createTime string éå¿…é¡» åˆ›å»ºæ—¶é—´ |- updateTime string éå¿…é¡» æ›´æ–°æ—¶é—´ å“åº”æ•°æ®æ ·ä¾‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 { \u0026#34;code\u0026#34;: 1, \u0026#34;msg\u0026#34;: \u0026#34;success\u0026#34;, \u0026#34;data\u0026#34;: { \u0026#34;total\u0026#34;: 2, \u0026#34;rows\u0026#34;: [ { \u0026#34;id\u0026#34;: 1, \u0026#34;username\u0026#34;: \u0026#34;jinyong\u0026#34;, \u0026#34;password\u0026#34;: \u0026#34;123456\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;é‡‘åº¸\u0026#34;, \u0026#34;gender\u0026#34;: 1, \u0026#34;image\u0026#34;: \u0026#34;https://web-framework.oss-cn-hangzhou.aliyuncs.com/2022-09-02-00-27-53B.jpg\u0026#34;, \u0026#34;job\u0026#34;: 2, \u0026#34;entrydate\u0026#34;: \u0026#34;2015-01-01\u0026#34;, \u0026#34;deptId\u0026#34;: 2, \u0026#34;createTime\u0026#34;: \u0026#34;2022-09-01T23:06:30\u0026#34;, \u0026#34;updateTime\u0026#34;: \u0026#34;2022-09-02T00:29:04\u0026#34; }, { \u0026#34;id\u0026#34;: 2, \u0026#34;username\u0026#34;: \u0026#34;zhangwuji\u0026#34;, \u0026#34;password\u0026#34;: \u0026#34;123456\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;å¼ æ— å¿Œ\u0026#34;, \u0026#34;gender\u0026#34;: 1, \u0026#34;image\u0026#34;: \u0026#34;https://web-framework.oss-cn-hangzhou.aliyuncs.com/2022-09-02-00-27-53B.jpg\u0026#34;, \u0026#34;job\u0026#34;: 2, \u0026#34;entrydate\u0026#34;: \u0026#34;2015-01-01\u0026#34;, \u0026#34;deptId\u0026#34;: 2, \u0026#34;createTime\u0026#34;: \u0026#34;2022-09-01T23:06:30\u0026#34;, \u0026#34;updateTime\u0026#34;: \u0026#34;2022-09-02T00:29:04\u0026#34; } ] } } 3.1.1.3 æ€è·¯åˆ†æ åˆ†é¡µæŸ¥è¯¢éœ€è¦çš„æ•°æ®ï¼Œå°è£…åœ¨PageBeanå¯¹è±¡ä¸­ï¼š\n3.1.1.4 åŠŸèƒ½å¼€å‘ é€šè¿‡æŸ¥çœ‹æ¥å£æ–‡æ¡£ï¼šå‘˜å·¥åˆ—è¡¨æŸ¥è¯¢\nè¯·æ±‚è·¯å¾„ï¼š/emps\nè¯·æ±‚æ–¹å¼ï¼šGET\nè¯·æ±‚å‚æ•°ï¼šè·Ÿéšåœ¨è¯·æ±‚è·¯å¾„åçš„å‚æ•°å­—ç¬¦ä¸²ã€‚ ä¾‹ï¼š/emps?page=1\u0026amp;pageSize=10\nå“åº”æ•°æ®ï¼šjsonæ ¼å¼\nEmpController\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 import com.itheima.pojo.PageBean; import com.itheima.pojo.Result; import com.itheima.service.EmpService; import lombok.extern.slf4j.Slf4j; import org.springframework.beans.factory.annotation.Autowired; import org.springframework.web.bind.annotation.GetMapping; import org.springframework.web.bind.annotation.RequestMapping; import org.springframework.web.bind.annotation.RequestParam; import org.springframework.web.bind.annotation.RestController; @Slf4j @RestController @RequestMapping(\u0026#34;/emps\u0026#34;) public class EmpController { @Autowired private EmpService empService; //æ¡ä»¶åˆ†é¡µæŸ¥è¯¢ @GetMapping public Result page(@RequestParam(defaultValue = \u0026#34;1\u0026#34;) Integer page, @RequestParam(defaultValue = \u0026#34;10\u0026#34;) Integer pageSize) { //è®°å½•æ—¥å¿— log.info(\u0026#34;åˆ†é¡µæŸ¥è¯¢ï¼Œå‚æ•°ï¼š{},{}\u0026#34;, page, pageSize); //è°ƒç”¨ä¸šåŠ¡å±‚åˆ†é¡µæŸ¥è¯¢åŠŸèƒ½ PageBean pageBean = empService.page(page, pageSize); //å“åº” return Result.success(pageBean); } } @RequestParam(defaultValue=\u0026ldquo;é»˜è®¤å€¼\u0026rdquo;) //è®¾ç½®è¯·æ±‚å‚æ•°é»˜è®¤å€¼\nEmpService\n1 2 3 4 5 6 7 8 9 public interface EmpService { /** * æ¡ä»¶åˆ†é¡µæŸ¥è¯¢ * @param page é¡µç  * @param pageSize æ¯é¡µå±•ç¤ºè®°å½•æ•° * @return */ PageBean page(Integer page, Integer pageSize); } EmpServiceImpl\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 import com.itheima.mapper.EmpMapper; import com.itheima.pojo.Emp; import com.itheima.pojo.PageBean; import com.itheima.service.EmpService; import lombok.extern.slf4j.Slf4j; import org.springframework.beans.factory.annotation.Autowired; import org.springframework.stereotype.Service; import java.time.LocalDate; import java.util.List; @Slf4j @Service public class EmpServiceImpl implements EmpService { @Autowired private EmpMapper empMapper; @Override public PageBean page(Integer page, Integer pageSize) { //1ã€è·å–æ€»è®°å½•æ•° Long count = empMapper.count(); //2ã€è·å–åˆ†é¡µæŸ¥è¯¢ç»“æœåˆ—è¡¨ Integer start = (page - 1) * pageSize; //è®¡ç®—èµ·å§‹ç´¢å¼• , å…¬å¼: (é¡µç -1)*é¡µå¤§å° List\u0026lt;Emp\u0026gt; empList = empMapper.list(start, pageSize); //3ã€å°è£…PageBeanå¯¹è±¡ PageBean pageBean = new PageBean(count , empList); return pageBean; } } EmpMapper\n1 2 3 4 5 6 7 8 9 10 @Mapper public interface EmpMapper { //è·å–æ€»è®°å½•æ•° @Select(\u0026#34;select count(*) from emp\u0026#34;) public Long count(); //è·å–å½“å‰é¡µçš„ç»“æœåˆ—è¡¨ @Select(\u0026#34;select * from emp limit #{start}, #{pageSize}\u0026#34;) public List\u0026lt;Emp\u0026gt; list(Integer start, Integer pageSize); } 3.1.1.5 åŠŸèƒ½æµ‹è¯• åŠŸèƒ½å¼€å‘å®Œæˆåï¼Œé‡æ–°å¯åŠ¨é¡¹ç›®ï¼Œä½¿ç”¨postmanï¼Œå‘èµ·POSTè¯·æ±‚ï¼š\n3.1.1.6 å‰åç«¯è”è°ƒ æ‰“å¼€æµè§ˆå™¨ï¼Œæµ‹è¯•åç«¯åŠŸèƒ½æ¥å£ï¼š\n3.1.2 åˆ†é¡µæ’ä»¶ 3.1.2.1 ä»‹ç» å‰é¢æˆ‘ä»¬å·²ç»å®Œäº†åŸºç¡€çš„åˆ†é¡µæŸ¥è¯¢ï¼Œå¤§å®¶ä¼šå‘ç°ï¼šåˆ†é¡µæŸ¥è¯¢åŠŸèƒ½ç¼–å†™èµ·æ¥æ¯”è¾ƒç¹çã€‚\nåœ¨Mapperæ¥å£ä¸­å®šä¹‰ä¸¤ä¸ªæ–¹æ³•æ‰§è¡Œä¸¤æ¡ä¸åŒçš„SQLè¯­å¥ï¼š\næŸ¥è¯¢æ€»è®°å½•æ•° æŒ‡å®šé¡µç çš„æ•°æ®åˆ—è¡¨ åœ¨Serviceå½“ä¸­ï¼Œè°ƒç”¨Mapperæ¥å£çš„ä¸¤ä¸ªæ–¹æ³•ï¼Œåˆ†åˆ«è·å–ï¼šæ€»è®°å½•æ•°ã€æŸ¥è¯¢ç»“æœåˆ—è¡¨ï¼Œç„¶ååœ¨å°†è·å–çš„æ•°æ®ç»“æœå°è£…åˆ°PageBeanå¯¹è±¡ä¸­ã€‚\nå¤§å®¶æ€è€ƒä¸‹ï¼šåœ¨æœªæ¥å¼€å‘å…¶ä»–é¡¹ç›®ï¼Œåªè¦æ¶‰åŠåˆ°åˆ†é¡µæŸ¥è¯¢åŠŸèƒ½(ä¾‹ï¼šè®¢å•ã€ç”¨æˆ·ã€æ”¯ä»˜ã€å•†å“)ï¼Œéƒ½å¿…é¡»æŒ‰ç…§ä»¥ä¸Šæ“ä½œå®ŒæˆåŠŸèƒ½å¼€å‘\nç»“è®ºï¼šåŸå§‹æ–¹å¼çš„åˆ†é¡µæŸ¥è¯¢ï¼Œå­˜åœ¨ç€\u0026quot;æ­¥éª¤å›ºå®š\u0026quot;ã€\u0026ldquo;ä»£ç é¢‘ç¹\u0026quot;çš„é—®é¢˜\nè§£å†³æ–¹æ¡ˆï¼šå¯ä»¥ä½¿ç”¨ä¸€äº›ç°æˆçš„åˆ†é¡µæ’ä»¶å®Œæˆã€‚å¯¹äºMybatisæ¥è®²ç°åœ¨æœ€ä¸»æµçš„å°±æ˜¯PageHelperã€‚\nPageHelperæ˜¯Mybatisçš„ä¸€æ¬¾åŠŸèƒ½å¼ºå¤§ã€æ–¹ä¾¿æ˜“ç”¨çš„åˆ†é¡µæ’ä»¶ï¼Œæ”¯æŒä»»ä½•å½¢å¼çš„å•æ ‡ã€å¤šè¡¨çš„åˆ†é¡µæŸ¥è¯¢ã€‚\nå®˜ç½‘ï¼šhttps://pagehelper.github.io/\nåœ¨æ‰§è¡ŒempMapper.list()æ–¹æ³•æ—¶ï¼Œå°±æ˜¯æ‰§è¡Œï¼šselect * from emp è¯­å¥ï¼Œæ€ä¹ˆèƒ½å¤Ÿå®ç°åˆ†é¡µæ“ä½œå‘¢ï¼Ÿ\nåˆ†é¡µæ’ä»¶å¸®æˆ‘ä»¬å®Œæˆäº†ä»¥ä¸‹æ“ä½œï¼š\nå…ˆè·å–åˆ°è¦æ‰§è¡Œçš„SQLè¯­å¥ï¼šselect * from emp æŠŠSQLè¯­å¥ä¸­çš„å­—æ®µåˆ—è¡¨ï¼Œå˜ä¸ºï¼šcount(*) æ‰§è¡ŒSQLè¯­å¥ï¼šselect count(*) from emp //è·å–åˆ°æ€»è®°å½•æ•° å†å¯¹è¦æ‰§è¡Œçš„SQLè¯­å¥ï¼šselect * from emp è¿›è¡Œæ”¹é€ ï¼Œåœ¨æœ«å°¾æ·»åŠ  limit ? , ? æ‰§è¡Œæ”¹é€ åçš„SQLè¯­å¥ï¼šselect * from emp limit ? , ? 3.1.2.2 ä»£ç å®ç° å½“ä½¿ç”¨äº†PageHelperåˆ†é¡µæ’ä»¶è¿›è¡Œåˆ†é¡µï¼Œå°±æ— éœ€å†Mapperä¸­è¿›è¡Œæ‰‹åŠ¨åˆ†é¡µäº†ã€‚ åœ¨Mapperä¸­æˆ‘ä»¬åªéœ€è¦è¿›è¡Œæ­£å¸¸çš„åˆ—è¡¨æŸ¥è¯¢å³å¯ã€‚åœ¨Serviceå±‚ä¸­ï¼Œè°ƒç”¨Mapperçš„æ–¹æ³•ä¹‹å‰è®¾ç½®åˆ†é¡µå‚æ•°ï¼Œåœ¨è°ƒç”¨Mapperæ–¹æ³•æ‰§è¡ŒæŸ¥è¯¢ä¹‹åï¼Œè§£æåˆ†é¡µç»“æœï¼Œå¹¶å°†ç»“æœå°è£…åˆ°PageBeanå¯¹è±¡ä¸­è¿”å›ã€‚\n1ã€åœ¨pom.xmlå¼•å…¥ä¾èµ–\n1 2 3 4 5 \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;com.github.pagehelper\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;pagehelper-spring-boot-starter\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;1.4.2\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; 2ã€EmpMapper\n1 2 3 4 5 6 @Mapper public interface EmpMapper { //è·å–å½“å‰é¡µçš„ç»“æœåˆ—è¡¨ @Select(\u0026#34;select * from emp\u0026#34;) public List\u0026lt;Emp\u0026gt; page(Integer start, Integer pageSize); } 3ã€EmpServiceImpl\n1 2 3 4 5 6 7 8 9 10 11 12 @Override public PageBean page(Integer page, Integer pageSize) { // è®¾ç½®åˆ†é¡µå‚æ•° PageHelper.startPage(page, pageSize); // æ‰§è¡Œåˆ†é¡µæŸ¥è¯¢ List\u0026lt;Emp\u0026gt; empList = empMapper.list(name,gender,begin,end); // è·å–åˆ†é¡µç»“æœ Page\u0026lt;Emp\u0026gt; p = (Page\u0026lt;Emp\u0026gt;) empList; //å°è£…PageBean PageBean pageBean = new PageBean(p.getTotal(), p.getResult()); return pageBean; } 3.1.2.3 æµ‹è¯• åŠŸèƒ½å¼€å‘å®Œæˆåï¼Œæˆ‘ä»¬é‡å¯é¡¹ç›®å·¥ç¨‹ï¼Œæ‰“å¼€postmanï¼Œå‘èµ·GETè¯·æ±‚ï¼Œè®¿é—® ï¼šhttp://localhost:8080/emps?page=1\u0026amp;pageSize=5\nåç«¯ç¨‹åºSQLè¾“å‡ºï¼š\n3.2 åˆ†é¡µæŸ¥è¯¢(å¸¦æ¡ä»¶) å®Œäº†åˆ†é¡µæŸ¥è¯¢åï¼Œä¸‹é¢æˆ‘ä»¬éœ€è¦åœ¨åˆ†é¡µæŸ¥è¯¢çš„åŸºç¡€ä¸Šï¼Œæ·»åŠ æ¡ä»¶ã€‚\n3.2.1 éœ€æ±‚ é€šè¿‡å‘˜å·¥ç®¡ç†çš„é¡µé¢åŸå‹æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œå‘˜å·¥åˆ—è¡¨é¡µé¢çš„æŸ¥è¯¢ï¼Œä¸ä»…ä»…éœ€è¦è€ƒè™‘åˆ†é¡µï¼Œè¿˜éœ€è¦è€ƒè™‘æŸ¥è¯¢æ¡ä»¶ã€‚ åˆ†é¡µæŸ¥è¯¢æˆ‘ä»¬å·²ç»å®ç°äº†ï¼Œæ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬éœ€è¦è€ƒè™‘åœ¨åˆ†é¡µæŸ¥è¯¢çš„åŸºç¡€ä¸Šï¼Œå†åŠ ä¸ŠæŸ¥è¯¢æ¡ä»¶ã€‚\næˆ‘ä»¬çœ‹åˆ°é¡µé¢åŸå‹åŠéœ€æ±‚ä¸­æè¿°ï¼Œæœç´¢æ çš„æœç´¢æ¡ä»¶æœ‰ä¸‰ä¸ªï¼Œåˆ†åˆ«æ˜¯ï¼š\nå§“åï¼šæ¨¡ç³ŠåŒ¹é… æ€§åˆ«ï¼šç²¾ç¡®åŒ¹é… å…¥èŒæ—¥æœŸï¼šèŒƒå›´åŒ¹é… 1 2 3 4 5 6 7 select * from emp where name like concat(\u0026#39;%\u0026#39;,\u0026#39;å¼ \u0026#39;,\u0026#39;%\u0026#39;) -- æ¡ä»¶1ï¼šæ ¹æ®å§“åæ¨¡ç³ŠåŒ¹é… and gender = 1 -- æ¡ä»¶2ï¼šæ ¹æ®æ€§åˆ«ç²¾ç¡®åŒ¹é… and entrydate = between \u0026#39;2000-01-01\u0026#39; and \u0026#39;2010-01-01\u0026#39; -- æ¡ä»¶3ï¼šæ ¹æ®å…¥èŒæ—¥æœŸèŒƒå›´åŒ¹é… order by update_time desc; è€Œä¸”ä¸Šè¿°çš„ä¸‰ä¸ªæ¡ä»¶ï¼Œéƒ½æ˜¯å¯ä»¥ä¼ é€’ï¼Œä¹Ÿå¯ä»¥ä¸ä¼ é€’çš„ï¼Œä¹Ÿå°±æ˜¯åŠ¨æ€çš„ã€‚ æˆ‘ä»¬éœ€è¦ä½¿ç”¨å‰é¢å­¦ä¹ çš„Mybatisä¸­çš„åŠ¨æ€SQL ã€‚\n3.2.2 æ€è·¯åˆ†æ 3.2.3 åŠŸèƒ½å¼€å‘ é€šè¿‡æŸ¥çœ‹æ¥å£æ–‡æ¡£ï¼šå‘˜å·¥åˆ—è¡¨æŸ¥è¯¢\nè¯·æ±‚è·¯å¾„ï¼š/emps\nè¯·æ±‚æ–¹å¼ï¼šGET\nè¯·æ±‚å‚æ•°ï¼š\nå‚æ•°åç§° æ˜¯å¦å¿…é¡» ç¤ºä¾‹ å¤‡æ³¨ name å¦ å¼  å§“å gender å¦ 1 æ€§åˆ« , 1 ç”· , 2 å¥³ begin å¦ 2010-01-01 èŒƒå›´åŒ¹é…çš„å¼€å§‹æ—¶é—´(å…¥èŒæ—¥æœŸ) end å¦ 2020-01-01 èŒƒå›´åŒ¹é…çš„ç»“æŸæ—¶é—´(å…¥èŒæ—¥æœŸ) page æ˜¯ 1 åˆ†é¡µæŸ¥è¯¢çš„é¡µç ï¼Œå¦‚æœæœªæŒ‡å®šï¼Œé»˜è®¤ä¸º1 pageSize æ˜¯ 10 åˆ†é¡µæŸ¥è¯¢çš„æ¯é¡µè®°å½•æ•°ï¼Œå¦‚æœæœªæŒ‡å®šï¼Œé»˜è®¤ä¸º10 åœ¨åŸæœ‰åˆ†é¡µæŸ¥è¯¢çš„ä»£ç åŸºç¡€ä¸Šè¿›è¡Œæ”¹é€ ï¼š\nEmpController\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 @Slf4j @RestController @RequestMapping(\u0026#34;/emps\u0026#34;) public class EmpController { @Autowired private EmpService empService; //æ¡ä»¶åˆ†é¡µæŸ¥è¯¢ @GetMapping public Result page(@RequestParam(defaultValue = \u0026#34;1\u0026#34;) Integer page, @RequestParam(defaultValue = \u0026#34;10\u0026#34;) Integer pageSize, String name, Short gender, @DateTimeFormat(pattern = \u0026#34;yyyy-MM-dd\u0026#34;) LocalDate begin, @DateTimeFormat(pattern = \u0026#34;yyyy-MM-dd\u0026#34;) LocalDate end) { //è®°å½•æ—¥å¿— log.info(\u0026#34;åˆ†é¡µæŸ¥è¯¢ï¼Œå‚æ•°ï¼š{},{},{},{},{},{}\u0026#34;, page, pageSize,name, gender, begin, end); //è°ƒç”¨ä¸šåŠ¡å±‚åˆ†é¡µæŸ¥è¯¢åŠŸèƒ½ PageBean pageBean = empService.page(page, pageSize, name, gender, begin, end); //å“åº” return Result.success(pageBean); } } EmpService\n1 2 3 4 5 6 7 8 9 10 11 12 13 public interface EmpService { /** * æ¡ä»¶åˆ†é¡µæŸ¥è¯¢ * @param page é¡µç  * @param pageSize æ¯é¡µå±•ç¤ºè®°å½•æ•° * @param name å§“å * @param gender æ€§åˆ« * @param begin å¼€å§‹æ—¶é—´ * @param end ç»“æŸæ—¶é—´ * @return */ PageBean page(Integer page, Integer pageSize, String name, Short gender, LocalDate begin, LocalDate end); } EmpServiceImpl\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 @Slf4j @Service public class EmpServiceImpl implements EmpService { @Autowired private EmpMapper empMapper; @Override public PageBean page(Integer page, Integer pageSize, String name, Short gender, LocalDate begin, LocalDate end) { //è®¾ç½®åˆ†é¡µå‚æ•° PageHelper.startPage(page, pageSize); //æ‰§è¡Œæ¡ä»¶åˆ†é¡µæŸ¥è¯¢ List\u0026lt;Emp\u0026gt; empList = empMapper.list(name, gender, begin, end); //è·å–æŸ¥è¯¢ç»“æœ Page\u0026lt;Emp\u0026gt; p = (Page\u0026lt;Emp\u0026gt;) empList; //å°è£…PageBean PageBean pageBean = new PageBean(p.getTotal(), p.getResult()); return pageBean; } } EmpMapper\n1 2 3 4 5 @Mapper public interface EmpMapper { //è·å–å½“å‰é¡µçš„ç»“æœåˆ—è¡¨ public List\u0026lt;Emp\u0026gt; list(String name, Short gender, LocalDate begin, LocalDate end); } EmpMapper.xml\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 \u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34; ?\u0026gt; \u0026lt;!DOCTYPE mapper PUBLIC \u0026#34;-//mybatis.org//DTD Mapper 3.0//EN\u0026#34; \u0026#34;http://mybatis.org/dtd/mybatis-3-mapper.dtd\u0026#34;\u0026gt; \u0026lt;mapper namespace=\u0026#34;com.itheima.mapper.EmpMapper\u0026#34;\u0026gt; \u0026lt;!-- æ¡ä»¶åˆ†é¡µæŸ¥è¯¢ --\u0026gt; \u0026lt;select id=\u0026#34;list\u0026#34; resultType=\u0026#34;com.itheima.pojo.Emp\u0026#34;\u0026gt; select * from emp \u0026lt;where\u0026gt; \u0026lt;if test=\u0026#34;name != null and name != \u0026#39;\u0026#39;\u0026#34;\u0026gt; name like concat(\u0026#39;%\u0026#39;,#{name},\u0026#39;%\u0026#39;) \u0026lt;/if\u0026gt; \u0026lt;if test=\u0026#34;gender != null\u0026#34;\u0026gt; and gender = #{gender} \u0026lt;/if\u0026gt; \u0026lt;if test=\u0026#34;begin != null and end != null\u0026#34;\u0026gt; and entrydate between #{begin} and #{end} \u0026lt;/if\u0026gt; \u0026lt;/where\u0026gt; order by update_time desc \u0026lt;/select\u0026gt; \u0026lt;/mapper\u0026gt; 3.2.4 åŠŸèƒ½æµ‹è¯• åŠŸèƒ½å¼€å‘å®Œæˆåï¼Œé‡å¯é¡¹ç›®å·¥ç¨‹ï¼Œæ‰“å¼€postmanï¼Œå‘èµ·GETè¯·æ±‚ï¼š\næ§åˆ¶å°SQLè¯­å¥ï¼š\n3.2.5 å‰åç«¯è”è°ƒ æ‰“å¼€æµè§ˆå™¨ï¼Œæµ‹è¯•åç«¯åŠŸèƒ½æ¥å£ï¼š\n3.3 åˆ é™¤å‘˜å·¥ æŸ¥è¯¢å‘˜å®Œæˆä¹‹åï¼Œæˆ‘ä»¬ç»§ç»­å¼€å‘æ–°çš„åŠŸèƒ½ï¼šåˆ é™¤å‘˜å·¥ã€‚\n3.3.1 éœ€æ±‚ å½“æˆ‘ä»¬å‹¾é€‰åˆ—è¡¨å‰é¢çš„å¤é€‰æ¡†ï¼Œç„¶åç‚¹å‡» \u0026ldquo;æ‰¹é‡åˆ é™¤\u0026rdquo; æŒ‰é’®ï¼Œå°±å¯ä»¥å°†è¿™ä¸€æ‰¹æ¬¡çš„å‘˜å·¥ä¿¡æ¯åˆ é™¤æ‰äº†ã€‚ä¹Ÿå¯ä»¥åªå‹¾é€‰ä¸€ä¸ªå¤é€‰æ¡†ï¼Œä»…åˆ é™¤ä¸€ä¸ªå‘˜å·¥ä¿¡æ¯ã€‚\né—®é¢˜ï¼šæˆ‘ä»¬éœ€è¦å¼€å‘ä¸¤ä¸ªåŠŸèƒ½æ¥å£å—ï¼Ÿä¸€ä¸ªåˆ é™¤å•ä¸ªå‘˜å·¥ï¼Œä¸€ä¸ªåˆ é™¤å¤šä¸ªå‘˜å·¥\nç­”æ¡ˆï¼šä¸éœ€è¦ã€‚ åªéœ€è¦å¼€å‘ä¸€ä¸ªåŠŸèƒ½æ¥å£å³å¯ï¼ˆåˆ é™¤å¤šä¸ªå‘˜å·¥åŒ…å«åªåˆ é™¤ä¸€ä¸ªå‘˜å·¥ï¼‰\n3.3.2 æ¥å£æ–‡æ¡£ åˆ é™¤å‘˜å·¥\nåŸºæœ¬ä¿¡æ¯\n1 2 3 4 5 è¯·æ±‚è·¯å¾„ï¼š/emps/{ids} è¯·æ±‚æ–¹å¼ï¼šDELETE æ¥å£æè¿°ï¼šè¯¥æ¥å£ç”¨äºæ‰¹é‡åˆ é™¤å‘˜å·¥çš„æ•°æ®ä¿¡æ¯ è¯·æ±‚å‚æ•°\nå‚æ•°æ ¼å¼ï¼šè·¯å¾„å‚æ•°\nå‚æ•°è¯´æ˜ï¼š\nå‚æ•°å ç±»å‹ ç¤ºä¾‹ æ˜¯å¦å¿…é¡» å¤‡æ³¨ ids æ•°ç»„ array 1,2,3 å¿…é¡» å‘˜å·¥çš„idæ•°ç»„ è¯·æ±‚å‚æ•°æ ·ä¾‹ï¼š\n1 /emps/1,2,3 å“åº”æ•°æ®\nå‚æ•°æ ¼å¼ï¼šapplication/json\nå‚æ•°è¯´æ˜ï¼š\nå‚æ•°å ç±»å‹ æ˜¯å¦å¿…é¡» å¤‡æ³¨ code number å¿…é¡» å“åº”ç ï¼Œ1 ä»£è¡¨æˆåŠŸï¼Œ0 ä»£è¡¨å¤±è´¥ msg string éå¿…é¡» æç¤ºä¿¡æ¯ data object éå¿…é¡» è¿”å›çš„æ•°æ® å“åº”æ•°æ®æ ·ä¾‹ï¼š\n1 2 3 4 5 { \u0026#34;code\u0026#34;:1, \u0026#34;msg\u0026#34;:\u0026#34;success\u0026#34;, \u0026#34;data\u0026#34;:null } 3.3.3 æ€è·¯åˆ†æ æ¥å£æ–‡æ¡£è§„å®šï¼š\nå‰ç«¯è¯·æ±‚è·¯å¾„ï¼š/emps/{ids} å‰ç«¯è¯·æ±‚æ–¹å¼ï¼šDELETE é—®é¢˜1ï¼šæ€ä¹ˆåœ¨controllerä¸­æ¥æ”¶è¯·æ±‚è·¯å¾„ä¸­çš„è·¯å¾„å‚æ•°ï¼Ÿ\n1 @PathVariable é—®é¢˜2ï¼šå¦‚ä½•é™å®šè¯·æ±‚æ–¹å¼æ˜¯deleteï¼Ÿ\n1 @DeleteMapping é—®é¢˜3ï¼šåœ¨Mapperæ¥å£ä¸­ï¼Œæ‰§è¡Œdeleteæ“ä½œçš„SQLè¯­å¥æ—¶ï¼Œæ¡ä»¶ä¸­çš„idå€¼æ˜¯ä¸ç¡®å®šçš„æ˜¯åŠ¨æ€çš„ï¼Œæ€ä¹ˆå®ç°å‘¢ï¼Ÿ\n1 Mybatisä¸­çš„åŠ¨æ€SQLï¼šforeach 3.3.4 åŠŸèƒ½å¼€å‘ é€šè¿‡æŸ¥çœ‹æ¥å£æ–‡æ¡£ï¼šåˆ é™¤å‘˜å·¥\nè¯·æ±‚è·¯å¾„ï¼š/emps/{ids}\nè¯·æ±‚æ–¹å¼ï¼šDELETE\nè¯·æ±‚å‚æ•°ï¼šè·¯å¾„å‚æ•° {ids}\nå“åº”æ•°æ®ï¼šjsonæ ¼å¼\nEmpController\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 @Slf4j @RestController @RequestMapping(\u0026#34;/emps\u0026#34;) public class EmpController { @Autowired private EmpService empService; //æ‰¹é‡åˆ é™¤ @DeleteMapping(\u0026#34;/{ids}\u0026#34;) public Result delete(@PathVariable List\u0026lt;Integer\u0026gt; ids){ empService.delete(ids); return Result.success(); } //æ¡ä»¶åˆ†é¡µæŸ¥è¯¢ @GetMapping public Result page(@RequestParam(defaultValue = \u0026#34;1\u0026#34;) Integer page, @RequestParam(defaultValue = \u0026#34;10\u0026#34;) Integer pageSize, String name, Short gender, @DateTimeFormat(pattern = \u0026#34;yyyy-MM-dd\u0026#34;) LocalDate begin, @DateTimeFormat(pattern = \u0026#34;yyyy-MM-dd\u0026#34;) LocalDate end) { //è®°å½•æ—¥å¿— log.info(\u0026#34;åˆ†é¡µæŸ¥è¯¢ï¼Œå‚æ•°ï¼š{},{},{},{},{},{}\u0026#34;, page, pageSize,name, gender, begin, end); //è°ƒç”¨ä¸šåŠ¡å±‚åˆ†é¡µæŸ¥è¯¢åŠŸèƒ½ PageBean pageBean = empService.page(page, pageSize, name, gender, begin, end); //å“åº” return Result.success(pageBean); } } EmpService\n1 2 3 4 5 6 7 8 9 10 public interface EmpService { /** * æ‰¹é‡åˆ é™¤æ“ä½œ * @param ids idé›†åˆ */ void delete(List\u0026lt;Integer\u0026gt; ids); //çœç•¥... } EmpServiceImpl\n1 2 3 4 5 6 7 8 9 10 11 12 13 @Slf4j @Service public class EmpServiceImpl implements EmpService { @Autowired private EmpMapper empMapper; @Override public void delete(List\u0026lt;Integer\u0026gt; ids) { empMapper.delete(ids); } //çœç•¥... } EmpMapper\n1 2 3 4 5 6 7 @Mapper public interface EmpMapper { //æ‰¹é‡åˆ é™¤ void delete(List\u0026lt;Integer\u0026gt; ids); //çœç•¥... } EmpMapper.xml\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 \u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34; ?\u0026gt; \u0026lt;!DOCTYPE mapper PUBLIC \u0026#34;-//mybatis.org//DTD Mapper 3.0//EN\u0026#34; \u0026#34;http://mybatis.org/dtd/mybatis-3-mapper.dtd\u0026#34;\u0026gt; \u0026lt;mapper namespace=\u0026#34;com.itheima.mapper.EmpMapper\u0026#34;\u0026gt; \u0026lt;!--æ‰¹é‡åˆ é™¤å‘˜å·¥--\u0026gt; \u0026lt;select id=\u0026#34;delete\u0026#34;\u0026gt; delete from emp where id in \u0026lt;foreach collection=\u0026#34;ids\u0026#34; item=\u0026#34;id\u0026#34; open=\u0026#34;(\u0026#34; close=\u0026#34;)\u0026#34; separator=\u0026#34;,\u0026#34;\u0026gt; #{id} \u0026lt;/foreach\u0026gt; \u0026lt;/select\u0026gt; \u0026lt;!-- çœç•¥... --\u0026gt; \u0026lt;/mapper\u0026gt; 3.3.5 åŠŸèƒ½æµ‹è¯• åŠŸèƒ½å¼€å‘å®Œæˆåï¼Œé‡å¯é¡¹ç›®å·¥ç¨‹ï¼Œæ‰“å¼€postmanï¼Œå‘èµ·DELETEè¯·æ±‚ï¼š\næ§åˆ¶å°SQLè¯­å¥ï¼š\n3.3.6 å‰åç«¯è”è°ƒ æ‰“å¼€æµè§ˆå™¨ï¼Œæµ‹è¯•åç«¯åŠŸèƒ½æ¥å£ï¼š\n","date":"0001-01-01T00:00:00Z","permalink":"http://localhost:1313/p/","title":""},{"content":"SpringBootWebæ¡ˆä¾‹ å‰é¢æˆ‘ä»¬å·²ç»å®ç°äº†å‘˜å·¥ä¿¡æ¯çš„æ¡ä»¶åˆ†é¡µæŸ¥è¯¢ä»¥åŠåˆ é™¤æ“ä½œã€‚ å…³äºå‘˜å·¥ç®¡ç†çš„åŠŸèƒ½ï¼Œè¿˜æœ‰ä¸¤ä¸ªéœ€è¦å®ç°ï¼š\næ–°å¢å‘˜å·¥ ä¿®æ”¹å‘˜å·¥ é¦–å…ˆæˆ‘ä»¬å…ˆå®Œæˆ\u0026quot;æ–°å¢å‘˜å·¥\u0026quot;çš„åŠŸèƒ½å¼€å‘ï¼Œå†å®Œæˆ\u0026quot;ä¿®æ”¹å‘˜å·¥\u0026quot;çš„åŠŸèƒ½å¼€å‘ã€‚è€Œåœ¨\u0026quot;æ–°å¢å‘˜å·¥\u0026quot;ä¸­ï¼Œéœ€è¦æ·»åŠ å¤´åƒï¼Œè€Œå¤´åƒéœ€è¦ç”¨åˆ°\u0026quot;æ–‡ä»¶ä¸Šä¼ \u0026quot;æŠ€æœ¯ã€‚ å½“æ•´ä¸ªå‘˜å·¥ç®¡ç†åŠŸèƒ½å…¨éƒ¨å¼€å‘å®Œæˆä¹‹åï¼Œæˆ‘ä»¬å†é€šè¿‡é…ç½®æ–‡ä»¶æ¥ä¼˜åŒ–ä¸€äº›å†…å®¹ã€‚\nç»¼ä¸Šæ‰€è¿°ï¼Œæˆ‘ä»¬ä»Šå¤©çš„è¯¾ç¨‹å†…å®¹åŒ…å«ä»¥ä¸‹å››ä¸ªéƒ¨åˆ†ï¼š\næ–°å¢å‘˜å·¥ æ–‡ä»¶ä¸Šä¼  ä¿®æ”¹å‘˜å·¥ é…ç½®æ–‡ä»¶ 1. æ–°å¢å‘˜å·¥ 1.1 éœ€æ±‚ åœ¨æ–°å¢ç”¨æˆ·æ—¶ï¼Œæˆ‘ä»¬éœ€è¦ä¿å­˜ç”¨æˆ·çš„åŸºæœ¬ä¿¡æ¯ï¼Œå¹¶ä¸”è¿˜éœ€è¦ä¸Šä¼ çš„å‘˜å·¥çš„å›¾ç‰‡ï¼Œç›®å‰æˆ‘ä»¬å…ˆå®Œæˆç¬¬ä¸€æ­¥æ“ä½œï¼Œä¿å­˜ç”¨æˆ·çš„åŸºæœ¬ä¿¡æ¯ã€‚\n1.2 æ¥å£æ–‡æ¡£ æˆ‘ä»¬å‚ç…§æ¥å£æ–‡æ¡£æ¥å¼€å‘æ–°å¢å‘˜å·¥åŠŸèƒ½\nåŸºæœ¬ä¿¡æ¯\n1 2 3 4 5 è¯·æ±‚è·¯å¾„ï¼š/emps è¯·æ±‚æ–¹å¼ï¼šPOST æ¥å£æè¿°ï¼šè¯¥æ¥å£ç”¨äºæ·»åŠ å‘˜å·¥çš„ä¿¡æ¯ è¯·æ±‚å‚æ•°\nå‚æ•°æ ¼å¼ï¼šapplication/json\nå‚æ•°è¯´æ˜ï¼š\nåç§° ç±»å‹ æ˜¯å¦å¿…é¡» å¤‡æ³¨ username string å¿…é¡» ç”¨æˆ·å name string å¿…é¡» å§“å gender number å¿…é¡» æ€§åˆ«, è¯´æ˜: 1 ç”·, 2 å¥³ image string éå¿…é¡» å›¾åƒ deptId number éå¿…é¡» éƒ¨é—¨id entrydate string éå¿…é¡» å…¥èŒæ—¥æœŸ job number éå¿…é¡» èŒä½, è¯´æ˜: 1 ç­ä¸»ä»»,2 è®²å¸ˆ, 3 å­¦å·¥ä¸»ç®¡, 4 æ•™ç ”ä¸»ç®¡, 5 å’¨è¯¢å¸ˆ è¯·æ±‚æ•°æ®æ ·ä¾‹ï¼š\n1 2 3 4 5 6 7 8 9 { \u0026#34;image\u0026#34;: \u0026#34;https://web-framework.oss-cn-hangzhou.aliyuncs.com/2022-09-03-07-37-38222.jpg\u0026#34;, \u0026#34;username\u0026#34;: \u0026#34;linpingzhi\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;æ—å¹³ä¹‹\u0026#34;, \u0026#34;gender\u0026#34;: 1, \u0026#34;job\u0026#34;: 1, \u0026#34;entrydate\u0026#34;: \u0026#34;2022-09-18\u0026#34;, \u0026#34;deptId\u0026#34;: 1 } å“åº”æ•°æ®\nå‚æ•°æ ¼å¼ï¼šapplication/json\nå‚æ•°è¯´æ˜ï¼š\nå‚æ•°å ç±»å‹ æ˜¯å¦å¿…é¡» å¤‡æ³¨ code number å¿…é¡» å“åº”ç ï¼Œ1 ä»£è¡¨æˆåŠŸï¼Œ0 ä»£è¡¨å¤±è´¥ msg string éå¿…é¡» æç¤ºä¿¡æ¯ data object éå¿…é¡» è¿”å›çš„æ•°æ® å“åº”æ•°æ®æ ·ä¾‹ï¼š\n1 2 3 4 5 { \u0026#34;code\u0026#34;:1, \u0026#34;msg\u0026#34;:\u0026#34;success\u0026#34;, \u0026#34;data\u0026#34;:null } 1.3 æ€è·¯åˆ†æ æ–°å¢å‘˜å·¥çš„å…·ä½“çš„æµç¨‹ï¼š\næ¥å£æ–‡æ¡£è§„å®šï¼š\nè¯·æ±‚è·¯å¾„ï¼š/emps è¯·æ±‚æ–¹å¼ï¼šPOST è¯·æ±‚å‚æ•°ï¼šJsonæ ¼å¼æ•°æ® å“åº”æ•°æ®ï¼šJsonæ ¼å¼æ•°æ® é—®é¢˜1ï¼šå¦‚ä½•é™å®šè¯·æ±‚æ–¹å¼æ˜¯POSTï¼Ÿ\n1 @PostMapping é—®é¢˜2ï¼šæ€ä¹ˆåœ¨controllerä¸­æ¥æ”¶jsonæ ¼å¼çš„è¯·æ±‚å‚æ•°ï¼Ÿ\n1 @RequestBody //æŠŠå‰ç«¯ä¼ é€’çš„jsonæ•°æ®å¡«å……åˆ°å®ä½“ç±»ä¸­ 1.4 åŠŸèƒ½å¼€å‘ EmpController\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 @Slf4j @RestController @RequestMapping(\u0026#34;/emps\u0026#34;) public class EmpController { @Autowired private EmpService empService; //æ–°å¢ @PostMapping public Result save(@RequestBody Emp emp){ //è®°å½•æ—¥å¿— log.info(\u0026#34;æ–°å¢å‘˜å·¥, emp:{}\u0026#34;,emp); //è°ƒç”¨ä¸šåŠ¡å±‚æ–°å¢åŠŸèƒ½ empService.save(emp); //å“åº” return Result.success(); } //çœç•¥... } EmpService\n1 2 3 4 5 6 7 8 9 10 public interface EmpService { /** * ä¿å­˜å‘˜å·¥ä¿¡æ¯ * @param emp */ void save(Emp emp); //çœç•¥... } EmpServiceImpl\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 @Slf4j @Service public class EmpServiceImpl implements EmpService { @Autowired private EmpMapper empMapper; @Override public void save(Emp emp) { //è¡¥å…¨æ•°æ® emp.setCreateTime(LocalDateTime.now()); emp.setUpdateTime(LocalDateTime.now()); //è°ƒç”¨æ·»åŠ æ–¹æ³• empMapper.insert(emp); } //çœç•¥... } EmpMapper\n1 2 3 4 5 6 7 8 9 @Mapper public interface EmpMapper { //æ–°å¢å‘˜å·¥ @Insert(\u0026#34;insert into emp (username, name, gender, image, job, entrydate, dept_id, create_time, update_time) \u0026#34; + \u0026#34;values (#{username}, #{name}, #{gender}, #{image}, #{job}, #{entrydate}, #{deptId}, #{createTime}, #{updateTime});\u0026#34;) void insert(Emp emp); //çœç•¥... } 1.5 åŠŸèƒ½æµ‹è¯• ä»£ç å¼€å‘å®Œæˆåï¼Œé‡å¯æœåŠ¡å™¨ï¼Œæ‰“å¼€Postmanå‘é€ POST è¯·æ±‚ï¼Œè¯·æ±‚è·¯å¾„ï¼šhttp://localhost:8080/emps\n1.6 å‰åç«¯è”è°ƒ åŠŸèƒ½æµ‹è¯•é€šè¿‡åï¼Œæˆ‘ä»¬å†è¿›è¡Œé€šè¿‡æ‰“å¼€æµè§ˆå™¨ï¼Œæµ‹è¯•åç«¯åŠŸèƒ½æ¥å£ï¼š\n2. æ–‡ä»¶ä¸Šä¼  åœ¨æˆ‘ä»¬å®Œæˆçš„æ–°å¢å‘˜å·¥åŠŸèƒ½ä¸­ï¼Œè¿˜å­˜åœ¨ä¸€ä¸ªé—®é¢˜ï¼šæ²¡æœ‰å¤´åƒ(å›¾ç‰‡ç¼ºå¤±)\nä¸Šè¿°é—®é¢˜ï¼Œéœ€è¦æˆ‘ä»¬é€šè¿‡æ–‡ä»¶ä¸Šä¼ æŠ€æœ¯æ¥è§£å†³ã€‚ä¸‹é¢æˆ‘ä»¬å°±è¿›å…¥åˆ°æ–‡ä»¶ä¸Šä¼ æŠ€æœ¯çš„å­¦ä¹ ã€‚\næ–‡ä»¶ä¸Šä¼ æŠ€æœ¯è¿™å—æˆ‘ä»¬ä¸»è¦è®²è§£ä¸‰ä¸ªæ–¹é¢ï¼šé¦–å…ˆæˆ‘ä»¬å…ˆå¯¹æ–‡ä»¶ä¸Šä¼ åšä¸€ä¸ªæ•´ä½“çš„ä»‹ç»ï¼Œæ¥ç€å†å­¦ä¹ æ–‡ä»¶ä¸Šä¼ çš„æœ¬åœ°å­˜å‚¨æ–¹å¼ï¼Œæœ€åå­¦ä¹ äº‘å­˜å‚¨æ–¹å¼ã€‚\næ¥ä¸‹æ¥æˆ‘ä»¬å°±å…ˆæ¥å­¦ä¹ ä¸‹ä»€ä¹ˆæ˜¯æ–‡ä»¶ä¸Šä¼ ã€‚\n2.1 ç®€ä»‹ æ–‡ä»¶ä¸Šä¼ ï¼Œæ˜¯æŒ‡å°†æœ¬åœ°å›¾ç‰‡ã€è§†é¢‘ã€éŸ³é¢‘ç­‰æ–‡ä»¶ä¸Šä¼ åˆ°æœåŠ¡å™¨ï¼Œä¾›å…¶ä»–ç”¨æˆ·æµè§ˆæˆ–ä¸‹è½½çš„è¿‡ç¨‹ã€‚\næ–‡ä»¶ä¸Šä¼ åœ¨é¡¹ç›®ä¸­åº”ç”¨éå¸¸å¹¿æ³›ï¼Œæˆ‘ä»¬ç»å¸¸å‘å¾®åšã€å‘å¾®ä¿¡æœ‹å‹åœˆéƒ½ç”¨åˆ°äº†æ–‡ä»¶ä¸Šä¼ åŠŸèƒ½ã€‚\nåœ¨æˆ‘ä»¬çš„æ¡ˆä¾‹ä¸­ï¼Œåœ¨æ–°å¢å‘˜å·¥çš„æ—¶å€™ï¼Œè¦ä¸Šä¼ å‘˜å·¥çš„å¤´åƒï¼Œæ­¤æ—¶å°±ä¼šæ¶‰åŠåˆ°æ–‡ä»¶ä¸Šä¼ çš„åŠŸèƒ½ã€‚åœ¨è¿›è¡Œæ–‡ä»¶ä¸Šä¼ æ—¶ï¼Œæˆ‘ä»¬ç‚¹å‡»åŠ å·æˆ–è€…æ˜¯ç‚¹å‡»å›¾ç‰‡ï¼Œå°±å¯ä»¥é€‰æ‹©æ‰‹æœºæˆ–è€…æ˜¯ç”µè„‘æœ¬åœ°çš„å›¾ç‰‡æ–‡ä»¶äº†ã€‚å½“æˆ‘ä»¬é€‰æ‹©äº†æŸä¸€ä¸ªå›¾ç‰‡æ–‡ä»¶ä¹‹åï¼Œè¿™ä¸ªæ–‡ä»¶å°±ä¼šä¸Šä¼ åˆ°æœåŠ¡å™¨ï¼Œä»è€Œå®Œæˆæ–‡ä»¶ä¸Šä¼ çš„æ“ä½œã€‚\næƒ³è¦å®Œæˆæ–‡ä»¶ä¸Šä¼ è¿™ä¸ªåŠŸèƒ½éœ€è¦æ¶‰åŠåˆ°ä¸¤ä¸ªéƒ¨åˆ†ï¼š\nå‰ç«¯ç¨‹åº æœåŠ¡ç«¯ç¨‹åº æˆ‘ä»¬å…ˆæ¥çœ‹çœ‹åœ¨å‰ç«¯ç¨‹åºä¸­è¦å®Œæˆå“ªäº›ä»£ç ï¼š\n1 2 3 4 5 6 \u0026lt;form action=\u0026#34;/upload\u0026#34; method=\u0026#34;post\u0026#34; enctype=\u0026#34;multipart/form-data\u0026#34;\u0026gt; å§“å: \u0026lt;input type=\u0026#34;text\u0026#34; name=\u0026#34;username\u0026#34;\u0026gt;\u0026lt;br\u0026gt; å¹´é¾„: \u0026lt;input type=\u0026#34;text\u0026#34; name=\u0026#34;age\u0026#34;\u0026gt;\u0026lt;br\u0026gt; å¤´åƒ: \u0026lt;input type=\u0026#34;file\u0026#34; name=\u0026#34;image\u0026#34;\u0026gt;\u0026lt;br\u0026gt; \u0026lt;input type=\u0026#34;submit\u0026#34; value=\u0026#34;æäº¤\u0026#34;\u0026gt; \u0026lt;/form\u0026gt; ä¸Šä¼ æ–‡ä»¶çš„åŸå§‹formè¡¨å•ï¼Œè¦æ±‚è¡¨å•å¿…é¡»å…·å¤‡ä»¥ä¸‹ä¸‰ç‚¹ï¼ˆä¸Šä¼ æ–‡ä»¶é¡µé¢ä¸‰è¦ç´ ï¼‰ï¼š\nè¡¨å•å¿…é¡»æœ‰fileåŸŸï¼Œç”¨äºé€‰æ‹©è¦ä¸Šä¼ çš„æ–‡ä»¶\n1 \u0026lt;input type=\u0026#34;file\u0026#34; name=\u0026#34;image\u0026#34;/\u0026gt; è¡¨å•æäº¤æ–¹å¼å¿…é¡»ä¸ºPOST\né€šå¸¸ä¸Šä¼ çš„æ–‡ä»¶ä¼šæ¯”è¾ƒå¤§ï¼Œæ‰€ä»¥éœ€è¦ä½¿ç”¨ POST æäº¤æ–¹å¼\nè¡¨å•çš„ç¼–ç ç±»å‹enctypeå¿…é¡»è¦è®¾ç½®ä¸ºï¼šmultipart/form-data\næ™®é€šé»˜è®¤çš„ç¼–ç æ ¼å¼æ˜¯ä¸é€‚åˆä¼ è¾“å¤§å‹çš„äºŒè¿›åˆ¶æ•°æ®çš„ï¼Œæ‰€ä»¥åœ¨æ–‡ä»¶ä¸Šä¼ æ—¶ï¼Œè¡¨å•çš„ç¼–ç æ ¼å¼å¿…é¡»è®¾ç½®ä¸ºmultipart/form-data\nå‰ç«¯é¡µé¢çš„3è¦ç´ æˆ‘ä»¬äº†è§£åï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°±æ¥éªŒè¯ä¸‹æ‰€è®²è§£çš„æ–‡ä»¶ä¸Šä¼ 3è¦ç´ ã€‚\nåœ¨æä¾›çš„\u0026quot;è¯¾ç¨‹èµ„æ–™\u0026quot;ä¸­æœ‰ä¸€ä¸ªåå«\u0026quot;æ–‡ä»¶ä¸Šä¼ \u0026quot;çš„æ–‡ä»¶å¤¹ï¼Œç›´æ¥å°†é‡Œçš„\u0026quot;upload.html\u0026quot;æ–‡ä»¶ï¼Œå¤åˆ¶åˆ°springbooté¡¹ç›®å·¥ç¨‹ä¸‹çš„staticç›®å½•é‡Œé¢ã€‚\nä¸‹é¢æˆ‘ä»¬æ¥éªŒè¯ï¼šåˆ é™¤formè¡¨å•ä¸­enctypeå±æ€§å€¼ï¼Œä¼šæ˜¯ä»€ä¹ˆæƒ…å†µï¼Ÿ\nåœ¨IDEAä¸­ç›´æ¥ä½¿ç”¨æµè§ˆå™¨æ‰“å¼€upload.htmlé¡µé¢ é€‰æ‹©è¦ä¸Šä¼ çš„æœ¬åœ°æ–‡ä»¶ ç‚¹å‡»\u0026quot;æäº¤\u0026quot;æŒ‰é’®ï¼Œè¿›å…¥åˆ°å¼€å‘è€…æ¨¡å¼è§‚å¯Ÿ æˆ‘ä»¬å†æ¥éªŒè¯ï¼šè®¾ç½®formè¡¨å•ä¸­enctypeå±æ€§å€¼ä¸ºmultipart/form-dataï¼Œä¼šæ˜¯ä»€ä¹ˆæƒ…å†µï¼Ÿ\n1 2 3 4 5 6 \u0026lt;form action=\u0026#34;/upload\u0026#34; method=\u0026#34;post\u0026#34; enctype=\u0026#34;multipart/form-data\u0026#34;\u0026gt; å§“å: \u0026lt;input type=\u0026#34;text\u0026#34; name=\u0026#34;username\u0026#34;\u0026gt;\u0026lt;br\u0026gt; å¹´é¾„: \u0026lt;input type=\u0026#34;text\u0026#34; name=\u0026#34;age\u0026#34;\u0026gt;\u0026lt;br\u0026gt; å¤´åƒ: \u0026lt;input type=\u0026#34;file\u0026#34; name=\u0026#34;image\u0026#34;\u0026gt;\u0026lt;br\u0026gt; \u0026lt;input type=\u0026#34;submit\u0026#34; value=\u0026#34;æäº¤\u0026#34;\u0026gt; \u0026lt;/form\u0026gt; çŸ¥é“äº†å‰ç«¯ç¨‹åºä¸­éœ€è¦è®¾ç½®ä¸Šä¼ æ–‡ä»¶é¡µé¢ä¸‰è¦ç´ ï¼Œé‚£æˆ‘ä»¬çš„åç«¯ç¨‹åºåˆæ˜¯å¦‚ä½•å®ç°çš„å‘¢ï¼Ÿ\né¦–å…ˆåœ¨æœåŠ¡ç«¯å®šä¹‰è¿™ä¹ˆä¸€ä¸ªcontrollerï¼Œç”¨æ¥è¿›è¡Œæ–‡ä»¶ä¸Šä¼ ï¼Œç„¶ååœ¨controllerå½“ä¸­å®šä¹‰ä¸€ä¸ªæ–¹æ³•æ¥å¤„ç†/upload è¯·æ±‚\nåœ¨å®šä¹‰çš„æ–¹æ³•ä¸­æ¥æ”¶æäº¤è¿‡æ¥çš„æ•°æ® ï¼ˆæ–¹æ³•ä¸­çš„å½¢å‚åå’Œè¯·æ±‚å‚æ•°çš„åå­—ä¿æŒä¸€è‡´ï¼‰\nç”¨æˆ·åï¼šString name å¹´é¾„ï¼š Integer age æ–‡ä»¶ï¼š MultipartFile image Springä¸­æä¾›äº†ä¸€ä¸ªAPIï¼šMultipartFileï¼Œä½¿ç”¨è¿™ä¸ªAPIå°±å¯ä»¥æ¥æ¥æ”¶åˆ°ä¸Šä¼ çš„æ–‡ä»¶\né—®é¢˜ï¼šå¦‚æœè¡¨å•é¡¹çš„åå­—å’Œæ–¹æ³•ä¸­å½¢å‚åä¸ä¸€è‡´ï¼Œè¯¥æ€ä¹ˆåŠï¼Ÿ\n1 2 3 public Result upload(String username, Integer age, MultipartFile file) //fileå½¢å‚åå’Œè¯·æ±‚å‚æ•°åimageä¸ä¸€è‡´ è§£å†³ï¼šä½¿ç”¨@RequestParamæ³¨è§£è¿›è¡Œå‚æ•°ç»‘å®š\n1 2 3 public Result upload(String username, Integer age, @RequestParam(\u0026#34;image\u0026#34;) MultipartFile file) UploadControllerä»£ç ï¼š\n1 2 3 4 5 6 7 8 9 10 11 @Slf4j @RestController public class UploadController { @PostMapping(\u0026#34;/upload\u0026#34;) public Result upload(String username, Integer age, MultipartFile image) { log.info(\u0026#34;æ–‡ä»¶ä¸Šä¼ ï¼š{},{},{}\u0026#34;,username,age,image); return Result.success(); } } åç«¯ç¨‹åºç¼–å†™å®Œæˆä¹‹åï¼Œæ‰“ä¸ªæ–­ç‚¹ï¼Œä»¥debugæ–¹å¼å¯åŠ¨SpringBooté¡¹ç›®\næ‰“å¼€æµè§ˆå™¨è¾“å…¥ï¼šhttp://localhost:8080/upload.html ï¼Œ å½•å…¥æ•°æ®å¹¶æäº¤\né€šè¿‡åç«¯ç¨‹åºæ§åˆ¶å°å¯ä»¥çœ‹åˆ°ï¼Œä¸Šä¼ çš„æ–‡ä»¶æ˜¯å­˜æ”¾åœ¨ä¸€ä¸ªä¸´æ—¶ç›®å½•\næ‰“å¼€ä¸´æ—¶ç›®å½•å¯ä»¥çœ‹åˆ°ä»¥ä¸‹å†…å®¹ï¼š\nè¡¨å•æäº¤çš„ä¸‰é¡¹æ•°æ®(å§“åã€å¹´é¾„ã€æ–‡ä»¶)ï¼Œåˆ†åˆ«å­˜å‚¨åœ¨ä¸åŒçš„ä¸´æ—¶æ–‡ä»¶ä¸­ï¼š\nå½“æˆ‘ä»¬ç¨‹åºè¿è¡Œå®Œæ¯•ä¹‹åï¼Œè¿™ä¸ªä¸´æ—¶æ–‡ä»¶ä¼šè‡ªåŠ¨åˆ é™¤ã€‚\næ‰€ä»¥ï¼Œæˆ‘ä»¬å¦‚æœæƒ³è¦å®ç°æ–‡ä»¶ä¸Šä¼ ï¼Œéœ€è¦å°†è¿™ä¸ªä¸´æ—¶æ–‡ä»¶ï¼Œè¦è½¬å­˜åˆ°æˆ‘ä»¬çš„ç£ç›˜ç›®å½•ä¸­ã€‚\n2.2 æœ¬åœ°å­˜å‚¨ å‰é¢æˆ‘ä»¬å·²åˆ†æäº†æ–‡ä»¶ä¸Šä¼ åŠŸèƒ½å‰ç«¯å’Œåç«¯çš„åŸºç¡€ä»£ç å®ç°ï¼Œæ–‡ä»¶ä¸Šä¼ æ—¶åœ¨æœåŠ¡ç«¯ä¼šäº§ç”Ÿä¸€ä¸ªä¸´æ—¶æ–‡ä»¶ï¼Œè¯·æ±‚å“åº”å®Œæˆä¹‹åï¼Œè¿™ä¸ªä¸´æ—¶æ–‡ä»¶è¢«è‡ªåŠ¨åˆ é™¤ï¼Œå¹¶æ²¡æœ‰è¿›è¡Œä¿å­˜ã€‚ä¸‹é¢å‘¢ï¼Œæˆ‘ä»¬å°±éœ€è¦å®Œæˆå°†ä¸Šä¼ çš„æ–‡ä»¶ä¿å­˜åœ¨æœåŠ¡å™¨çš„æœ¬åœ°ç£ç›˜ä¸Šã€‚\nä»£ç å®ç°ï¼š\nåœ¨æœåŠ¡å™¨æœ¬åœ°ç£ç›˜ä¸Šåˆ›å»ºimagesç›®å½•ï¼Œç”¨æ¥å­˜å‚¨ä¸Šä¼ çš„æ–‡ä»¶ï¼ˆä¾‹ï¼šEç›˜åˆ›å»ºimagesç›®å½•ï¼‰ ä½¿ç”¨MultipartFileç±»æä¾›çš„APIæ–¹æ³•ï¼ŒæŠŠä¸´æ—¶æ–‡ä»¶è½¬å­˜åˆ°æœ¬åœ°ç£ç›˜ç›®å½•ä¸‹ MultipartFile å¸¸è§æ–¹æ³•ï¼š\nString getOriginalFilename(); //è·å–åŸå§‹æ–‡ä»¶å void transferTo(File dest); //å°†æ¥æ”¶çš„æ–‡ä»¶è½¬å­˜åˆ°ç£ç›˜æ–‡ä»¶ä¸­ long getSize(); //è·å–æ–‡ä»¶çš„å¤§å°ï¼Œå•ä½ï¼šå­—èŠ‚ byte[] getBytes(); //è·å–æ–‡ä»¶å†…å®¹çš„å­—èŠ‚æ•°ç»„ InputStream getInputStream(); //è·å–æ¥æ”¶åˆ°çš„æ–‡ä»¶å†…å®¹çš„è¾“å…¥æµ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 @Slf4j @RestController public class UploadController { @PostMapping(\u0026#34;/upload\u0026#34;) public Result upload(String username, Integer age, MultipartFile image) throws IOException { log.info(\u0026#34;æ–‡ä»¶ä¸Šä¼ ï¼š{},{},{}\u0026#34;,username,age,image); //è·å–åŸå§‹æ–‡ä»¶å String originalFilename = image.getOriginalFilename(); //å°†æ–‡ä»¶å­˜å‚¨åœ¨æœåŠ¡å™¨çš„ç£ç›˜ç›®å½• image.transferTo(new File(\u0026#34;E:/images/\u0026#34;+originalFilename)); return Result.success(); } } åˆ©ç”¨postmanæµ‹è¯•ï¼š\næ³¨æ„ï¼šè¯·æ±‚å‚æ•°åå’Œcontrolleræ–¹æ³•å½¢å‚åä¿æŒä¸€è‡´\né€šè¿‡postmanæµ‹è¯•ï¼Œæˆ‘ä»¬å‘ç°æ–‡ä»¶ä¸Šä¼ æ˜¯æ²¡æœ‰é—®é¢˜çš„ã€‚ä½†æ˜¯ç”±äºæˆ‘ä»¬æ˜¯ä½¿ç”¨åŸå§‹æ–‡ä»¶åä½œä¸ºæ‰€ä¸Šä¼ æ–‡ä»¶çš„å­˜å‚¨åå­—ï¼Œå½“æˆ‘ä»¬å†æ¬¡ä¸Šä¼ ä¸€ä¸ªåä¸º1.jpgæ–‡ä»¶æ—¶ï¼Œå‘ç°ä¼šæŠŠä¹‹å‰å·²ç»ä¸Šä¼ æˆåŠŸçš„æ–‡ä»¶è¦†ç›–æ‰ã€‚\nè§£å†³æ–¹æ¡ˆï¼šä¿è¯æ¯æ¬¡ä¸Šä¼ æ–‡ä»¶æ—¶æ–‡ä»¶åéƒ½å”¯ä¸€çš„ï¼ˆä½¿ç”¨UUIDè·å–éšæœºæ–‡ä»¶åï¼‰\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 @Slf4j @RestController public class UploadController { @PostMapping(\u0026#34;/upload\u0026#34;) public Result upload(String username, Integer age, MultipartFile image) throws IOException { log.info(\u0026#34;æ–‡ä»¶ä¸Šä¼ ï¼š{},{},{}\u0026#34;,username,age,image); //è·å–åŸå§‹æ–‡ä»¶å String originalFilename = image.getOriginalFilename(); //æ„å»ºæ–°çš„æ–‡ä»¶å String extname = originalFilename.substring(originalFilename.lastIndexOf(\u0026#34;.\u0026#34;));//æ–‡ä»¶æ‰©å±•å String newFileName = UUID.randomUUID().toString()+extname;//éšæœºå+æ–‡ä»¶æ‰©å±•å //å°†æ–‡ä»¶å­˜å‚¨åœ¨æœåŠ¡å™¨çš„ç£ç›˜ç›®å½• image.transferTo(new File(\u0026#34;E:/images/\u0026#34;+newFileName)); return Result.success(); } } åœ¨è§£å†³äº†æ–‡ä»¶åå”¯ä¸€æ€§çš„é—®é¢˜åï¼Œæˆ‘ä»¬å†æ¬¡ä¸Šä¼ ä¸€ä¸ªè¾ƒå¤§çš„æ–‡ä»¶(è¶…å‡º1M)æ—¶å‘ç°ï¼Œåç«¯ç¨‹åºæŠ¥é”™ï¼š\næŠ¥é”™åŸå› å‘¢æ˜¯å› ä¸ºï¼šåœ¨SpringBootä¸­ï¼Œæ–‡ä»¶ä¸Šä¼ æ—¶é»˜è®¤å•ä¸ªæ–‡ä»¶æœ€å¤§å¤§å°ä¸º1M\né‚£ä¹ˆå¦‚æœéœ€è¦ä¸Šä¼ å¤§æ–‡ä»¶ï¼Œå¯ä»¥åœ¨application.propertiesè¿›è¡Œå¦‚ä¸‹é…ç½®ï¼š\n1 2 3 4 5 #é…ç½®å•ä¸ªæ–‡ä»¶æœ€å¤§ä¸Šä¼ å¤§å° spring.servlet.multipart.max-file-size=10MB #é…ç½®å•ä¸ªè¯·æ±‚æœ€å¤§ä¸Šä¼ å¤§å°(ä¸€æ¬¡è¯·æ±‚å¯ä»¥ä¸Šä¼ å¤šä¸ªæ–‡ä»¶) spring.servlet.multipart.max-request-size=100MB åˆ°æ—¶æ­¤ï¼Œæˆ‘ä»¬æ–‡ä»¶ä¸Šä¼ çš„æœ¬åœ°å­˜å‚¨æ–¹å¼å·²å®Œæˆäº†ã€‚ä½†æ˜¯è¿™ç§æœ¬åœ°å­˜å‚¨æ–¹å¼è¿˜å­˜åœ¨ä¸€é—®é¢˜ï¼š\nå¦‚æœç›´æ¥å­˜å‚¨åœ¨æœåŠ¡å™¨çš„ç£ç›˜ç›®å½•ä¸­ï¼Œå­˜åœ¨ä»¥ä¸‹ç¼ºç‚¹ï¼š\nä¸å®‰å…¨ï¼šç£ç›˜å¦‚æœæŸåï¼Œæ‰€æœ‰çš„æ–‡ä»¶å°±ä¼šä¸¢å¤± å®¹é‡æœ‰é™ï¼šå¦‚æœå­˜å‚¨å¤§é‡çš„å›¾ç‰‡ï¼Œç£ç›˜ç©ºé—´æœ‰é™(ç£ç›˜ä¸å¯èƒ½æ— é™åˆ¶æ‰©å®¹) æ— æ³•ç›´æ¥è®¿é—® ä¸ºäº†è§£å†³ä¸Šè¿°é—®é¢˜å‘¢ï¼Œé€šå¸¸æœ‰ä¸¤ç§è§£å†³æ–¹æ¡ˆï¼š\nè‡ªå·±æ­å»ºå­˜å‚¨æœåŠ¡å™¨ï¼Œå¦‚ï¼šfastDFS ã€MinIO ä½¿ç”¨ç°æˆçš„äº‘æœåŠ¡ï¼Œå¦‚ï¼šé˜¿é‡Œäº‘ï¼Œè…¾è®¯äº‘ï¼Œåä¸ºäº‘ 2.3 é˜¿é‡Œäº‘OSS 2.3.1 å‡†å¤‡ é˜¿é‡Œäº‘æ˜¯é˜¿é‡Œå·´å·´é›†å›¢æ——ä¸‹å…¨çƒé¢†å…ˆçš„äº‘è®¡ç®—å…¬å¸ï¼Œä¹Ÿæ˜¯å›½å†…æœ€å¤§çš„äº‘æœåŠ¡æä¾›å•† ã€‚\näº‘æœåŠ¡æŒ‡çš„å°±æ˜¯é€šè¿‡äº’è”ç½‘å¯¹å¤–æä¾›çš„å„ç§å„æ ·çš„æœåŠ¡ï¼Œæ¯”å¦‚åƒï¼šè¯­éŸ³æœåŠ¡ã€çŸ­ä¿¡æœåŠ¡ã€é‚®ä»¶æœåŠ¡ã€è§†é¢‘ç›´æ’­æœåŠ¡ã€æ–‡å­—è¯†åˆ«æœåŠ¡ã€å¯¹è±¡å­˜å‚¨æœåŠ¡ç­‰ç­‰ã€‚\nå½“æˆ‘ä»¬åœ¨é¡¹ç›®å¼€å‘æ—¶éœ€è¦ç”¨åˆ°æŸä¸ªæˆ–æŸäº›æœåŠ¡ï¼Œå°±ä¸éœ€è¦è‡ªå·±æ¥å¼€å‘äº†ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨é˜¿é‡Œäº‘æä¾›å¥½çš„è¿™äº›ç°æˆæœåŠ¡å°±å¯ä»¥äº†ã€‚æ¯”å¦‚ï¼šåœ¨é¡¹ç›®å¼€å‘å½“ä¸­ï¼Œæˆ‘ä»¬è¦å®ç°ä¸€ä¸ªçŸ­ä¿¡å‘é€çš„åŠŸèƒ½ï¼Œå¦‚æœæˆ‘ä»¬é¡¹ç›®ç»„è‡ªå·±å®ç°ï¼Œå°†ä¼šéå¸¸ç¹çï¼Œå› ä¸ºä½ éœ€è¦å’Œå„ä¸ªè¿è¥å•†è¿›è¡Œå¯¹æ¥ã€‚è€Œæ­¤æ—¶é˜¿é‡Œäº‘å®Œæˆäº†å’Œä¸‰å¤§è¿è¥å•†å¯¹æ¥ï¼Œå¹¶å¯¹å¤–æä¾›äº†ä¸€ä¸ªçŸ­ä¿¡æœåŠ¡ã€‚æˆ‘ä»¬é¡¹ç›®ç»„åªéœ€è¦è°ƒç”¨é˜¿é‡Œäº‘æä¾›çš„çŸ­ä¿¡æœåŠ¡ï¼Œå°±å¯ä»¥å¾ˆæ–¹ä¾¿çš„æ¥å‘é€çŸ­ä¿¡äº†ã€‚è¿™æ ·å°±é™ä½äº†æˆ‘ä»¬é¡¹ç›®çš„å¼€å‘éš¾åº¦ï¼ŒåŒæ—¶ä¹Ÿæé«˜äº†é¡¹ç›®çš„å¼€å‘æ•ˆç‡ã€‚ï¼ˆå¤§ç™½è¯ï¼šåˆ«äººå¸®æˆ‘ä»¬å®ç°å¥½äº†åŠŸèƒ½ï¼Œæˆ‘ä»¬åªè¦è°ƒç”¨å³å¯ï¼‰\näº‘æœåŠ¡æä¾›å•†ç»™æˆ‘ä»¬æä¾›çš„è½¯ä»¶æœåŠ¡é€šå¸¸æ˜¯éœ€è¦æ”¶å–ä¸€éƒ¨åˆ†è´¹ç”¨çš„ã€‚\né˜¿é‡Œäº‘å¯¹è±¡å­˜å‚¨OSSï¼ˆObject Storage Serviceï¼‰ï¼Œæ˜¯ä¸€æ¬¾æµ·é‡ã€å®‰å…¨ã€ä½æˆæœ¬ã€é«˜å¯é çš„äº‘å­˜å‚¨æœåŠ¡ã€‚ä½¿ç”¨OSSï¼Œæ‚¨å¯ä»¥é€šè¿‡ç½‘ç»œéšæ—¶å­˜å‚¨å’Œè°ƒç”¨åŒ…æ‹¬æ–‡æœ¬ã€å›¾ç‰‡ã€éŸ³é¢‘å’Œè§†é¢‘ç­‰åœ¨å†…çš„å„ç§æ–‡ä»¶ã€‚\nåœ¨æˆ‘ä»¬ä½¿ç”¨äº†é˜¿é‡Œäº‘OSSå¯¹è±¡å­˜å‚¨æœåŠ¡ä¹‹åï¼Œæˆ‘ä»¬çš„é¡¹ç›®å½“ä¸­å¦‚æœæ¶‰åŠåˆ°æ–‡ä»¶ä¸Šä¼ è¿™æ ·çš„ä¸šåŠ¡ï¼Œåœ¨å‰ç«¯è¿›è¡Œæ–‡ä»¶ä¸Šä¼ å¹¶è¯·æ±‚åˆ°æœåŠ¡ç«¯æ—¶ï¼Œåœ¨æœåŠ¡å™¨æœ¬åœ°ç£ç›˜å½“ä¸­å°±ä¸éœ€è¦å†æ¥å­˜å‚¨æ–‡ä»¶äº†ã€‚æˆ‘ä»¬ç›´æ¥å°†æ¥æ”¶åˆ°çš„æ–‡ä»¶ä¸Šä¼ åˆ°ossï¼Œç”± osså¸®æˆ‘ä»¬å­˜å‚¨å’Œç®¡ç†ï¼ŒåŒæ—¶é˜¿é‡Œäº‘çš„osså­˜å‚¨æœåŠ¡è¿˜ä¿éšœäº†æˆ‘ä»¬æ‰€å­˜å‚¨å†…å®¹çš„å®‰å…¨å¯é ã€‚\né‚£æˆ‘ä»¬å­¦ä¹ ä½¿ç”¨è¿™ç±»äº‘æœåŠ¡ï¼Œæˆ‘ä»¬ä¸»è¦å­¦ä¹ ä»€ä¹ˆå‘¢ï¼Ÿå…¶å®æˆ‘ä»¬ä¸»è¦å­¦ä¹ çš„æ˜¯å¦‚ä½•åœ¨é¡¹ç›®å½“ä¸­æ¥ä½¿ç”¨äº‘æœåŠ¡å®Œæˆå…·ä½“çš„ä¸šåŠ¡åŠŸèƒ½ã€‚è€Œæ— è®ºä½¿ç”¨ä»€ä¹ˆæ ·çš„äº‘æœåŠ¡ï¼Œé˜¿é‡Œäº‘ä¹Ÿå¥½ï¼Œè…¾è®¯äº‘ã€åä¸ºäº‘ä¹Ÿç½¢ï¼Œåœ¨ä½¿ç”¨ç¬¬ä¸‰æ–¹çš„æœåŠ¡æ—¶ï¼Œæ“ä½œçš„æ€è·¯éƒ½æ˜¯ä¸€æ ·çš„ã€‚\nSDKï¼šSoftware Development Kit çš„ç¼©å†™ï¼Œè½¯ä»¶å¼€å‘å·¥å…·åŒ…ï¼ŒåŒ…æ‹¬è¾…åŠ©è½¯ä»¶å¼€å‘çš„ä¾èµ–ï¼ˆjaråŒ…ï¼‰ã€ä»£ç ç¤ºä¾‹ç­‰ï¼Œéƒ½å¯ä»¥å«åšSDKã€‚\nç®€å•è¯´ï¼Œsdkä¸­åŒ…å«äº†æˆ‘ä»¬ä½¿ç”¨ç¬¬ä¸‰æ–¹äº‘æœåŠ¡æ—¶æ‰€éœ€è¦çš„ä¾èµ–ï¼Œä»¥åŠä¸€äº›ç¤ºä¾‹ä»£ç ã€‚æˆ‘ä»¬å¯ä»¥å‚ç…§sdkæ‰€æä¾›çš„ç¤ºä¾‹ä»£ç å°±å¯ä»¥å®Œæˆå…¥é—¨ç¨‹åºã€‚\nç¬¬ä¸‰æ–¹æœåŠ¡ä½¿ç”¨çš„é€šç”¨æ€è·¯ï¼Œæˆ‘ä»¬åšä¸€ä¸ªç®€å•ä»‹ç»ä¹‹åï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°±æ¥ä»‹ç»ä¸€ä¸‹æˆ‘ä»¬å½“å‰è¦ä½¿ç”¨çš„é˜¿é‡Œäº‘osså¯¹è±¡å­˜å‚¨æœåŠ¡å…·ä½“çš„ä½¿ç”¨æ­¥éª¤ã€‚\nBucketï¼šå­˜å‚¨ç©ºé—´æ˜¯ç”¨æˆ·ç”¨äºå­˜å‚¨å¯¹è±¡ï¼ˆObjectï¼Œå°±æ˜¯æ–‡ä»¶ï¼‰çš„å®¹å™¨ï¼Œæ‰€æœ‰çš„å¯¹è±¡éƒ½å¿…é¡»éš¶å±äºæŸä¸ªå­˜å‚¨ç©ºé—´ã€‚\nä¸‹é¢æˆ‘ä»¬æ ¹æ®ä¹‹å‰ä»‹ç»çš„ä½¿ç”¨æ­¥éª¤ï¼Œå®Œæˆå‡†å¤‡å·¥ä½œï¼š\næ³¨å†Œé˜¿é‡Œäº‘è´¦æˆ·ï¼ˆæ³¨å†Œå®Œæˆåéœ€è¦å®åè®¤è¯ï¼‰ æ³¨å†Œå®Œè´¦å·ä¹‹åï¼Œå°±å¯ä»¥ç™»å½•é˜¿é‡Œäº‘ é€šè¿‡æ§åˆ¶å°æ‰¾åˆ°å¯¹è±¡å­˜å‚¨OSSæœåŠ¡ å¦‚æœæ˜¯ç¬¬ä¸€æ¬¡è®¿é—®ï¼Œè¿˜éœ€è¦å¼€é€šå¯¹è±¡å­˜å‚¨æœåŠ¡OSS\nå¼€é€šOSSæœåŠ¡ä¹‹åï¼Œå°±å¯ä»¥è¿›å…¥åˆ°é˜¿é‡Œäº‘å¯¹è±¡å­˜å‚¨çš„æ§åˆ¶å° ç‚¹å‡»å·¦ä¾§çš„ \u0026ldquo;Bucketåˆ—è¡¨\u0026rdquo;ï¼Œåˆ›å»ºä¸€ä¸ªBucket å¤§å®¶å¯ä»¥å‚ç…§\u0026quot;èµ„æ–™\\04. é˜¿é‡Œäº‘oss\u0026quot;ä¸­æä¾›çš„æ–‡æ¡£ï¼Œå¼€é€šé˜¿é‡Œäº‘OSSæœåŠ¡ã€‚\n2.3.2 å…¥é—¨ é˜¿é‡Œäº‘oss å¯¹è±¡å­˜å‚¨æœåŠ¡çš„å‡†å¤‡å·¥ä½œæˆ‘ä»¬å·²ç»å®Œæˆäº†ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°±æ¥å®Œæˆç¬¬äºŒæ­¥æ“ä½œï¼šå‚ç…§å®˜æ–¹æ‰€æä¾›çš„sdkç¤ºä¾‹æ¥ç¼–å†™å…¥é—¨ç¨‹åºã€‚\né¦–å…ˆæˆ‘ä»¬éœ€è¦æ¥æ‰“å¼€é˜¿é‡Œäº‘OSSçš„å®˜æ–¹æ–‡æ¡£ï¼Œåœ¨å®˜æ–¹æ–‡æ¡£ä¸­æ‰¾åˆ° SDK çš„ç¤ºä¾‹ä»£ç ï¼š\nå¦‚æœæ˜¯åœ¨å®é™…å¼€å‘å½“ä¸­ï¼Œæˆ‘ä»¬æ˜¯éœ€è¦ä»å‰å¾€åä»”ç»†çš„å»é˜…è¯»è¿™ä¸€ä»½æ–‡æ¡£çš„ï¼Œä½†æ˜¯ç”±äºç°åœ¨æ˜¯æ•™å­¦ï¼Œæˆ‘ä»¬å°±åªæŒ‘é‡ç‚¹çš„å»çœ‹ã€‚æœ‰å…´è¶£çš„åŒå­¦å¤§å®¶ä¸‹æ¥ä¹Ÿå¯ä»¥è‡ªå·±å»çœ‹ä¸€ä¸‹è¿™ä»½å®˜æ–¹æ–‡æ¡£ã€‚\nå‚ç…§å®˜æ–¹æä¾›çš„SDKï¼Œæ”¹é€ ä¸€ä¸‹ï¼Œå³å¯å®ç°æ–‡ä»¶ä¸Šä¼ åŠŸèƒ½ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 import com.aliyun.oss.ClientException; import com.aliyun.oss.OSS; import com.aliyun.oss.OSSClientBuilder; import com.aliyun.oss.OSSException; import com.aliyun.oss.model.PutObjectRequest; import com.aliyun.oss.model.PutObjectResult; import java.io.FileInputStream; import java.io.InputStream; public class AliOssTest { public static void main(String[] args) throws Exception { // Endpointä»¥åä¸œ1ï¼ˆæ­å·ï¼‰ä¸ºä¾‹ï¼Œå…¶å®ƒRegionè¯·æŒ‰å®é™…æƒ…å†µå¡«å†™ã€‚ String endpoint = \u0026#34;oss-cn-shanghai.aliyuncs.com\u0026#34;; // é˜¿é‡Œäº‘è´¦å·AccessKeyæ‹¥æœ‰æ‰€æœ‰APIçš„è®¿é—®æƒé™ï¼Œé£é™©å¾ˆé«˜ã€‚å¼ºçƒˆå»ºè®®æ‚¨åˆ›å»ºå¹¶ä½¿ç”¨RAMç”¨æˆ·è¿›è¡ŒAPIè®¿é—®æˆ–æ—¥å¸¸è¿ç»´ï¼Œè¯·ç™»å½•RAMæ§åˆ¶å°åˆ›å»ºRAMç”¨æˆ·ã€‚ String accessKeyId = \u0026#34;LTAI5t9MZK8iq5T2Av5GLDxX\u0026#34;; String accessKeySecret = \u0026#34;C0IrHzKZGKqU8S7YQcevcotD3Zd5Tc\u0026#34;; // å¡«å†™Bucketåç§°ï¼Œä¾‹å¦‚examplebucketã€‚ String bucketName = \u0026#34;web-framework01\u0026#34;; // å¡«å†™Objectå®Œæ•´è·¯å¾„ï¼Œå®Œæ•´è·¯å¾„ä¸­ä¸èƒ½åŒ…å«Bucketåç§°ï¼Œä¾‹å¦‚exampledir/exampleobject.txtã€‚ String objectName = \u0026#34;1.jpg\u0026#34;; // å¡«å†™æœ¬åœ°æ–‡ä»¶çš„å®Œæ•´è·¯å¾„ï¼Œä¾‹å¦‚D:\\\\localpath\\\\examplefile.txtã€‚ // å¦‚æœæœªæŒ‡å®šæœ¬åœ°è·¯å¾„ï¼Œåˆ™é»˜è®¤ä»ç¤ºä¾‹ç¨‹åºæ‰€å±é¡¹ç›®å¯¹åº”æœ¬åœ°è·¯å¾„ä¸­ä¸Šä¼ æ–‡ä»¶æµã€‚ String filePath= \u0026#34;C:\\\\Users\\\\Administrator\\\\Pictures\\\\1.jpg\u0026#34;; // åˆ›å»ºOSSClientå®ä¾‹ã€‚ OSS ossClient = new OSSClientBuilder().build(endpoint, accessKeyId, accessKeySecret); try { InputStream inputStream = new FileInputStream(filePath); // åˆ›å»ºPutObjectRequestå¯¹è±¡ã€‚ PutObjectRequest putObjectRequest = new PutObjectRequest(bucketName, objectName, inputStream); // è®¾ç½®è¯¥å±æ€§å¯ä»¥è¿”å›responseã€‚å¦‚æœä¸è®¾ç½®ï¼Œåˆ™è¿”å›çš„responseä¸ºç©ºã€‚ putObjectRequest.setProcess(\u0026#34;true\u0026#34;); // åˆ›å»ºPutObjectè¯·æ±‚ã€‚ PutObjectResult result = ossClient.putObject(putObjectRequest); // å¦‚æœä¸Šä¼ æˆåŠŸï¼Œåˆ™è¿”å›200ã€‚ System.out.println(result.getResponse().getStatusCode()); } catch (OSSException oe) { System.out.println(\u0026#34;Caught an OSSException, which means your request made it to OSS, \u0026#34; + \u0026#34;but was rejected with an error response for some reason.\u0026#34;); System.out.println(\u0026#34;Error Message:\u0026#34; + oe.getErrorMessage()); System.out.println(\u0026#34;Error Code:\u0026#34; + oe.getErrorCode()); System.out.println(\u0026#34;Request ID:\u0026#34; + oe.getRequestId()); System.out.println(\u0026#34;Host ID:\u0026#34; + oe.getHostId()); } catch (ClientException ce) { System.out.println(\u0026#34;Caught an ClientException, which means the client encountered \u0026#34; + \u0026#34;a serious internal problem while trying to communicate with OSS, \u0026#34; + \u0026#34;such as not being able to access the network.\u0026#34;); System.out.println(\u0026#34;Error Message:\u0026#34; + ce.getMessage()); } finally { if (ossClient != null) { ossClient.shutdown(); } } } } åœ¨ä»¥ä¸Šä»£ç ä¸­ï¼Œéœ€è¦æ›¿æ¢çš„å†…å®¹ä¸ºï¼š\naccessKeyIdï¼šé˜¿é‡Œäº‘è´¦å·AccessKey accessKeySecretï¼šé˜¿é‡Œäº‘è´¦å·AccessKeyå¯¹åº”çš„ç§˜é’¥ bucketNameï¼šBucketåç§° objectNameï¼šå¯¹è±¡åç§°ï¼Œåœ¨Bucketä¸­å­˜å‚¨çš„å¯¹è±¡çš„åç§° filePathï¼šæ–‡ä»¶è·¯å¾„ AccessKey ï¼š\nè¿è¡Œä»¥ä¸Šç¨‹åºåï¼Œä¼šæŠŠæœ¬åœ°çš„æ–‡ä»¶ä¸Šä¼ åˆ°é˜¿é‡Œäº‘OSSæœåŠ¡å™¨ä¸Šï¼š\n2.3.3 é›†æˆ é˜¿é‡Œäº‘osså¯¹è±¡å­˜å‚¨æœåŠ¡çš„å‡†å¤‡å·¥ä½œä»¥åŠå…¥é—¨ç¨‹åºæˆ‘ä»¬éƒ½å·²ç»å®Œæˆäº†ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°±éœ€è¦åœ¨æ¡ˆä¾‹å½“ä¸­é›†æˆosså¯¹è±¡å­˜å‚¨æœåŠ¡ï¼Œæ¥å­˜å‚¨å’Œç®¡ç†æ¡ˆä¾‹ä¸­ä¸Šä¼ çš„å›¾ç‰‡ã€‚\nåœ¨æ–°å¢å‘˜å·¥çš„æ—¶å€™ï¼Œä¸Šä¼ å‘˜å·¥çš„å›¾åƒï¼Œè€Œä¹‹æ‰€ä»¥éœ€è¦ä¸Šä¼ å‘˜å·¥çš„å›¾åƒï¼Œæ˜¯å› ä¸ºå°†æ¥æˆ‘ä»¬éœ€è¦åœ¨ç³»ç»Ÿé¡µé¢å½“ä¸­è®¿é—®å¹¶å±•ç¤ºå‘˜å·¥çš„å›¾åƒã€‚è€Œè¦æƒ³å®Œæˆè¿™ä¸ªæ“ä½œï¼Œéœ€è¦åšä¸¤ä»¶äº‹ï¼š\néœ€è¦ä¸Šä¼ å‘˜å·¥çš„å›¾åƒï¼Œå¹¶æŠŠå›¾åƒä¿å­˜èµ·æ¥ï¼ˆå­˜å‚¨åˆ°é˜¿é‡Œäº‘OSSï¼‰ è®¿é—®å‘˜å·¥å›¾åƒï¼ˆé€šè¿‡å›¾åƒåœ¨é˜¿é‡Œäº‘OSSçš„å­˜å‚¨åœ°å€è®¿é—®å›¾åƒï¼‰ OSSä¸­çš„æ¯ä¸€ä¸ªæ–‡ä»¶éƒ½ä¼šåˆ†é…ä¸€ä¸ªè®¿é—®çš„urlï¼Œé€šè¿‡è¿™ä¸ªurlå°±å¯ä»¥è®¿é—®åˆ°å­˜å‚¨åœ¨é˜¿é‡Œäº‘ä¸Šçš„å›¾ç‰‡ã€‚æ‰€ä»¥éœ€è¦æŠŠurlè¿”å›ç»™å‰ç«¯ï¼Œè¿™æ ·å‰ç«¯å°±å¯ä»¥é€šè¿‡urlè·å–åˆ°å›¾åƒã€‚ æˆ‘ä»¬å‚ç…§æ¥å£æ–‡æ¡£æ¥å¼€å‘æ–‡ä»¶ä¸Šä¼ åŠŸèƒ½ï¼š\nåŸºæœ¬ä¿¡æ¯\n1 2 3 4 5 è¯·æ±‚è·¯å¾„ï¼š/upload è¯·æ±‚æ–¹å¼ï¼šPOST æ¥å£æè¿°ï¼šä¸Šä¼ å›¾ç‰‡æ¥å£ è¯·æ±‚å‚æ•°\nå‚æ•°æ ¼å¼ï¼šmultipart/form-data\nå‚æ•°è¯´æ˜ï¼š\nå‚æ•°åç§° å‚æ•°ç±»å‹ æ˜¯å¦å¿…é¡» ç¤ºä¾‹ å¤‡æ³¨ image file æ˜¯ å“åº”æ•°æ®\nå‚æ•°æ ¼å¼ï¼šapplication/json\nå‚æ•°è¯´æ˜ï¼š\nå‚æ•°å ç±»å‹ æ˜¯å¦å¿…é¡» å¤‡æ³¨ code number å¿…é¡» å“åº”ç ï¼Œ1 ä»£è¡¨æˆåŠŸï¼Œ0 ä»£è¡¨å¤±è´¥ msg string éå¿…é¡» æç¤ºä¿¡æ¯ data object éå¿…é¡» è¿”å›çš„æ•°æ®ï¼Œä¸Šä¼ å›¾ç‰‡çš„è®¿é—®è·¯å¾„ å“åº”æ•°æ®æ ·ä¾‹ï¼š\n1 2 3 4 5 { \u0026#34;code\u0026#34;: 1, \u0026#34;msg\u0026#34;: \u0026#34;success\u0026#34;, \u0026#34;data\u0026#34;: \u0026#34;https://web-framework.oss-cn-hangzhou.aliyuncs.com/2022-09-02-00-27-0400.jpg\u0026#34; } å¼•å…¥é˜¿é‡Œäº‘OSSä¸Šä¼ æ–‡ä»¶å·¥å…·ç±»ï¼ˆç”±å®˜æ–¹çš„ç¤ºä¾‹ä»£ç æ”¹é€ è€Œæ¥ï¼‰\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 import com.aliyun.oss.OSS; import com.aliyun.oss.OSSClientBuilder; import org.springframework.stereotype.Component; import org.springframework.web.multipart.MultipartFile; import java.io.IOException; import java.io.InputStream; import java.util.UUID; @Component public class AliOSSUtils { private String endpoint = \u0026#34;https://oss-cn-shanghai.aliyuncs.com\u0026#34;; private String accessKeyId = \u0026#34;LTAI5t9MZK8iq5T2Av5GLDxX\u0026#34;; private String accessKeySecret = \u0026#34;C0IrHzKZGKqU8S7YQcevcotD3Zd5Tc\u0026#34;; private String bucketName = \u0026#34;web-framework01\u0026#34;; /** * å®ç°ä¸Šä¼ å›¾ç‰‡åˆ°OSS */ public String upload(MultipartFile multipartFile) throws IOException { // è·å–ä¸Šä¼ çš„æ–‡ä»¶çš„è¾“å…¥æµ InputStream inputStream = multipartFile.getInputStream(); // é¿å…æ–‡ä»¶è¦†ç›– String originalFilename = multipartFile.getOriginalFilename(); String fileName = UUID.randomUUID().toString() + originalFilename.substring(originalFilename.lastIndexOf(\u0026#34;.\u0026#34;)); //ä¸Šä¼ æ–‡ä»¶åˆ° OSS OSS ossClient = new OSSClientBuilder().build(endpoint, accessKeyId, accessKeySecret); ossClient.putObject(bucketName, fileName, inputStream); //æ–‡ä»¶è®¿é—®è·¯å¾„ String url = endpoint.split(\u0026#34;//\u0026#34;)[0] + \u0026#34;//\u0026#34; + bucketName + \u0026#34;.\u0026#34; + endpoint.split(\u0026#34;//\u0026#34;)[1] + \u0026#34;/\u0026#34; + fileName; // å…³é—­ossClient ossClient.shutdown(); return url;// æŠŠä¸Šä¼ åˆ°ossçš„è·¯å¾„è¿”å› } } ä¿®æ”¹UploadControllerä»£ç ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 import com.itheima.pojo.Result; import com.itheima.utils.AliOSSUtils; import lombok.extern.slf4j.Slf4j; import org.springframework.beans.factory.annotation.Autowired; import org.springframework.web.bind.annotation.PostMapping; import org.springframework.web.bind.annotation.RestController; import org.springframework.web.multipart.MultipartFile; import java.io.IOException; @Slf4j @RestController public class UploadController { @Autowired private AliOSSUtils aliOSSUtils; @PostMapping(\u0026#34;/upload\u0026#34;) public Result upload(MultipartFile image) throws IOException { //è°ƒç”¨é˜¿é‡Œäº‘OSSå·¥å…·ç±»ï¼Œå°†ä¸Šä¼ ä¸Šæ¥çš„æ–‡ä»¶å­˜å…¥é˜¿é‡Œäº‘ String url = aliOSSUtils.upload(image); //å°†å›¾ç‰‡ä¸Šä¼ å®Œæˆåçš„urlè¿”å›ï¼Œç”¨äºæµè§ˆå™¨å›æ˜¾å±•ç¤º return Result.success(url); } } ä½¿ç”¨postmanæµ‹è¯•ï¼š\n3. ä¿®æ”¹å‘˜å·¥ éœ€æ±‚ï¼šä¿®æ”¹å‘˜å·¥ä¿¡æ¯\nåœ¨è¿›è¡Œä¿®æ”¹å‘˜å·¥ä¿¡æ¯çš„æ—¶å€™ï¼Œæˆ‘ä»¬é¦–å…ˆå…ˆè¦æ ¹æ®å‘˜å·¥çš„IDæŸ¥è¯¢å‘˜å·¥çš„ä¿¡æ¯ç”¨äºé¡µé¢å›æ˜¾å±•ç¤ºï¼Œç„¶åç”¨æˆ·ä¿®æ”¹å‘˜å·¥æ•°æ®ä¹‹åï¼Œç‚¹å‡»ä¿å­˜æŒ‰é’®ï¼Œå°±å¯ä»¥å°†ä¿®æ”¹çš„æ•°æ®æäº¤åˆ°æœåŠ¡ç«¯ï¼Œä¿å­˜åˆ°æ•°æ®åº“ã€‚ å…·ä½“æ“ä½œä¸ºï¼š\næ ¹æ®IDæŸ¥è¯¢å‘˜å·¥ä¿¡æ¯ ä¿å­˜ä¿®æ”¹çš„å‘˜å·¥ä¿¡æ¯ 3.1 æŸ¥è¯¢å›æ˜¾ 3.1.1 æ¥å£æ–‡æ¡£ æ ¹æ®IDæŸ¥è¯¢å‘˜å·¥æ•°æ®\nåŸºæœ¬ä¿¡æ¯\n1 2 3 4 5 è¯·æ±‚è·¯å¾„ï¼š/emps/{id} è¯·æ±‚æ–¹å¼ï¼šGET æ¥å£æè¿°ï¼šè¯¥æ¥å£ç”¨äºæ ¹æ®ä¸»é”®IDæŸ¥è¯¢å‘˜å·¥çš„ä¿¡æ¯ è¯·æ±‚å‚æ•°\nå‚æ•°æ ¼å¼ï¼šè·¯å¾„å‚æ•°\nå‚æ•°è¯´æ˜ï¼š\nå‚æ•°å ç±»å‹ æ˜¯å¦å¿…é¡» å¤‡æ³¨ id number å¿…é¡» å‘˜å·¥ID è¯·æ±‚å‚æ•°æ ·ä¾‹ï¼š\n1 /emps/1 å“åº”æ•°æ®\nå‚æ•°æ ¼å¼ï¼šapplication/json\nå‚æ•°è¯´æ˜ï¼š\nåç§° ç±»å‹ æ˜¯å¦å¿…é¡» é»˜è®¤å€¼ å¤‡æ³¨ code number å¿…é¡» å“åº”ç , 1 æˆåŠŸ , 0 å¤±è´¥ msg string éå¿…é¡» æç¤ºä¿¡æ¯ data object å¿…é¡» è¿”å›çš„æ•°æ® |- id number éå¿…é¡» id |- username string éå¿…é¡» ç”¨æˆ·å |- name string éå¿…é¡» å§“å |- password string éå¿…é¡» å¯†ç  |- entrydate string éå¿…é¡» å…¥èŒæ—¥æœŸ |- gender number éå¿…é¡» æ€§åˆ« , 1 ç”· ; 2 å¥³ |- image string éå¿…é¡» å›¾åƒ |- job number éå¿…é¡» èŒä½, è¯´æ˜: 1 ç­ä¸»ä»»,2 è®²å¸ˆ, 3 å­¦å·¥ä¸»ç®¡, 4 æ•™ç ”ä¸»ç®¡, 5 å’¨è¯¢å¸ˆ |- deptId number éå¿…é¡» éƒ¨é—¨id |- createTime string éå¿…é¡» åˆ›å»ºæ—¶é—´ |- updateTime string éå¿…é¡» æ›´æ–°æ—¶é—´ å“åº”æ•°æ®æ ·ä¾‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 { \u0026#34;code\u0026#34;: 1, \u0026#34;msg\u0026#34;: \u0026#34;success\u0026#34;, \u0026#34;data\u0026#34;: { \u0026#34;id\u0026#34;: 2, \u0026#34;username\u0026#34;: \u0026#34;zhangwuji\u0026#34;, \u0026#34;password\u0026#34;: \u0026#34;123456\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;å¼ æ— å¿Œ\u0026#34;, \u0026#34;gender\u0026#34;: 1, \u0026#34;image\u0026#34;: \u0026#34;https://web-framework.oss-cn-hangzhou.aliyuncs.com/2022-09-02-00-27-53B.jpg\u0026#34;, \u0026#34;job\u0026#34;: 2, \u0026#34;entrydate\u0026#34;: \u0026#34;2015-01-01\u0026#34;, \u0026#34;deptId\u0026#34;: 2, \u0026#34;createTime\u0026#34;: \u0026#34;2022-09-01T23:06:30\u0026#34;, \u0026#34;updateTime\u0026#34;: \u0026#34;2022-09-02T00:29:04\u0026#34; } } 3.1.2 å®ç°æ€è·¯ 3.1.3 ä»£ç å®ç° EmpMapper 1 2 3 4 5 6 7 8 9 10 11 12 @Mapper public interface EmpMapper { //æ ¹æ®IDæŸ¥è¯¢å‘˜å·¥ä¿¡æ¯ @Select(\u0026#34;select id, username, password, name, gender, image, job, entrydate, dept_id, create_time, update_time \u0026#34; + \u0026#34;from emp \u0026#34; + \u0026#34;where id = #{id}\u0026#34;) public Emp findById(Integer id); //çœç•¥... } EmpService 1 2 3 4 5 6 7 8 9 10 11 public interface EmpService { /** * æ ¹æ®IDæŸ¥è¯¢å‘˜å·¥ * @param id * @return */ public Emp getById(Integer id); //çœç•¥... } EmpServiceImpl 1 2 3 4 5 6 7 8 9 10 11 12 13 @Slf4j @Service public class EmpServiceImpl implements EmpService { @Autowired private EmpMapper empMapper; @Override public Emp getById(Integer id) { return empMapper.findById(id); } //çœç•¥... } EmpController 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 @Slf4j @RestController @RequestMapping(\u0026#34;/emps\u0026#34;) public class EmpController { @Autowired private EmpService empService; //æ ¹æ®idæŸ¥è¯¢ @GetMapping(\u0026#34;/{id}\u0026#34;) public Result getById(@PathVariable Integer id){ Emp emp = empService.getById(id); return Result.success(emp); } //çœç•¥... } 3.1.4 postmanæµ‹è¯• 3.2 ä¿®æ”¹å‘˜å·¥ å½“ç”¨æˆ·ä¿®æ”¹å®Œæ•°æ®ä¹‹åï¼Œç‚¹å‡»ä¿å­˜æŒ‰é’®ï¼Œå°±éœ€è¦å°†æ•°æ®æäº¤åˆ°æœåŠ¡ç«¯ï¼Œç„¶åæœåŠ¡ç«¯éœ€è¦å°†ä¿®æ”¹åçš„æ•°æ®æ›´æ–°åˆ°æ•°æ®åº“ä¸­ã€‚\n3.2.1 æ¥å£æ–‡æ¡£ åŸºæœ¬ä¿¡æ¯\n1 2 3 4 5 è¯·æ±‚è·¯å¾„ï¼š/emps è¯·æ±‚æ–¹å¼ï¼šPUT æ¥å£æè¿°ï¼šè¯¥æ¥å£ç”¨äºä¿®æ”¹å‘˜å·¥çš„æ•°æ®ä¿¡æ¯ è¯·æ±‚å‚æ•°\nå‚æ•°æ ¼å¼ï¼šapplication/json\nå‚æ•°è¯´æ˜ï¼š\nåç§° ç±»å‹ æ˜¯å¦å¿…é¡» å¤‡æ³¨ id number å¿…é¡» id username string å¿…é¡» ç”¨æˆ·å name string å¿…é¡» å§“å gender number å¿…é¡» æ€§åˆ«, è¯´æ˜: 1 ç”·, 2 å¥³ image string éå¿…é¡» å›¾åƒ deptId number éå¿…é¡» éƒ¨é—¨id entrydate string éå¿…é¡» å…¥èŒæ—¥æœŸ job number éå¿…é¡» èŒä½, è¯´æ˜: 1 ç­ä¸»ä»»,2 è®²å¸ˆ, 3 å­¦å·¥ä¸»ç®¡, 4 æ•™ç ”ä¸»ç®¡, 5 å’¨è¯¢å¸ˆ è¯·æ±‚æ•°æ®æ ·ä¾‹ï¼š\n1 2 3 4 5 6 7 8 9 10 { \u0026#34;id\u0026#34;: 1, \u0026#34;image\u0026#34;: \u0026#34;https://web-framework.oss-cn-hangzhou.aliyuncs.com/2022-09-03-07-37-38222.jpg\u0026#34;, \u0026#34;username\u0026#34;: \u0026#34;linpingzhi\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;æ—å¹³ä¹‹\u0026#34;, \u0026#34;gender\u0026#34;: 1, \u0026#34;job\u0026#34;: 1, \u0026#34;entrydate\u0026#34;: \u0026#34;2022-09-18\u0026#34;, \u0026#34;deptId\u0026#34;: 1 } å“åº”æ•°æ®\nå‚æ•°æ ¼å¼ï¼šapplication/json\nå‚æ•°è¯´æ˜ï¼š\nå‚æ•°å ç±»å‹ æ˜¯å¦å¿…é¡» å¤‡æ³¨ code number å¿…é¡» å“åº”ç ï¼Œ1 ä»£è¡¨æˆåŠŸï¼Œ0 ä»£è¡¨å¤±è´¥ msg string éå¿…é¡» æç¤ºä¿¡æ¯ data object éå¿…é¡» è¿”å›çš„æ•°æ® å“åº”æ•°æ®æ ·ä¾‹ï¼š\n1 2 3 4 5 { \u0026#34;code\u0026#34;:1, \u0026#34;msg\u0026#34;:\u0026#34;success\u0026#34;, \u0026#34;data\u0026#34;:null } 3.2.2 å®ç°æ€è·¯ 3.2.3 ä»£ç å®ç° EmpMapper 1 2 3 4 5 6 7 @Mapper public interface EmpMapper { //ä¿®æ”¹å‘˜å·¥ä¿¡æ¯ public void update(Emp emp); //çœç•¥... } EmpMapper.xml 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 \u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34; ?\u0026gt; \u0026lt;!DOCTYPE mapper PUBLIC \u0026#34;-//mybatis.org//DTD Mapper 3.0//EN\u0026#34; \u0026#34;http://mybatis.org/dtd/mybatis-3-mapper.dtd\u0026#34;\u0026gt; \u0026lt;mapper namespace=\u0026#34;com.itheima.mapper.EmpMapper\u0026#34;\u0026gt; \u0026lt;!--æ›´æ–°å‘˜å·¥ä¿¡æ¯--\u0026gt; \u0026lt;update id=\u0026#34;update\u0026#34;\u0026gt; update emp \u0026lt;set\u0026gt; \u0026lt;if test=\u0026#34;username != null and username != \u0026#39;\u0026#39;\u0026#34;\u0026gt; username = #{username}, \u0026lt;/if\u0026gt; \u0026lt;if test=\u0026#34;password != null and password != \u0026#39;\u0026#39;\u0026#34;\u0026gt; password = #{password}, \u0026lt;/if\u0026gt; \u0026lt;if test=\u0026#34;name != null and name != \u0026#39;\u0026#39;\u0026#34;\u0026gt; name = #{name}, \u0026lt;/if\u0026gt; \u0026lt;if test=\u0026#34;gender != null\u0026#34;\u0026gt; gender = #{gender}, \u0026lt;/if\u0026gt; \u0026lt;if test=\u0026#34;image != null and image != \u0026#39;\u0026#39;\u0026#34;\u0026gt; image = #{image}, \u0026lt;/if\u0026gt; \u0026lt;if test=\u0026#34;job != null\u0026#34;\u0026gt; job = #{job}, \u0026lt;/if\u0026gt; \u0026lt;if test=\u0026#34;entrydate != null\u0026#34;\u0026gt; entrydate = #{entrydate}, \u0026lt;/if\u0026gt; \u0026lt;if test=\u0026#34;deptId != null\u0026#34;\u0026gt; dept_id = #{deptId}, \u0026lt;/if\u0026gt; \u0026lt;if test=\u0026#34;updateTime != null\u0026#34;\u0026gt; update_time = #{updateTime} \u0026lt;/if\u0026gt; \u0026lt;/set\u0026gt; where id = #{id} \u0026lt;/update\u0026gt; \u0026lt;!-- çœç•¥... --\u0026gt; \u0026lt;/mapper\u0026gt; EmpService 1 2 3 4 5 6 7 8 9 public interface EmpService { /** * æ›´æ–°å‘˜å·¥ * @param emp */ public void update(Emp emp); //çœç•¥... } EmpServiceImpl 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 @Slf4j @Service public class EmpServiceImpl implements EmpService { @Autowired private EmpMapper empMapper; @Override public void update(Emp emp) { emp.setUpdateTime(LocalDateTime.now()); //æ›´æ–°ä¿®æ”¹æ—¶é—´ä¸ºå½“å‰æ—¶é—´ empMapper.update(emp); } //çœç•¥... } EmpController 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 @Slf4j @RestController @RequestMapping(\u0026#34;/emps\u0026#34;) public class EmpController { @Autowired private EmpService empService; //ä¿®æ”¹å‘˜å·¥ @PutMapping public Result update(@RequestBody Emp emp){ empService.update(emp); return Result.success(); } //çœç•¥... } 3.2.4 postmanæµ‹è¯• 3.2.5 å‰åç«¯è”è°ƒæµ‹è¯• 4. é…ç½®æ–‡ä»¶ å‘˜å·¥ç®¡ç†çš„å¢åˆ æ”¹æŸ¥åŠŸèƒ½æˆ‘ä»¬å·²å¼€å‘å®Œæˆï¼Œä½†åœ¨æˆ‘ä»¬æ‰€å¼€å‘çš„ç¨‹åºä¸­è¿˜ä¸€äº›å°é—®é¢˜ï¼Œä¸‹é¢æˆ‘ä»¬å°±æ¥åˆ†æä¸€ä¸‹å½“å‰æ¡ˆä¾‹ä¸­å­˜åœ¨çš„é—®é¢˜ä»¥åŠå¦‚ä½•ä¼˜åŒ–è§£å†³ã€‚\n4.1 å‚æ•°é…ç½®åŒ– åœ¨æˆ‘ä»¬ä¹‹å‰ç¼–å†™çš„ç¨‹åºä¸­è¿›è¡Œæ–‡ä»¶ä¸Šä¼ æ—¶ï¼Œéœ€è¦è°ƒç”¨AliOSSUtilså·¥å…·ç±»ï¼Œå°†æ–‡ä»¶ä¸Šä¼ åˆ°é˜¿é‡Œäº‘OSSå¯¹è±¡å­˜å‚¨æœåŠ¡å½“ä¸­ã€‚è€Œåœ¨è°ƒç”¨å·¥å…·ç±»è¿›è¡Œæ–‡ä»¶ä¸Šä¼ æ—¶ï¼Œéœ€è¦ä¸€äº›å‚æ•°ï¼š\nendpoint //é˜¿é‡Œäº‘OSSåŸŸå accessKeyID //ç”¨æˆ·èº«ä»½ID accessKeySecret //ç”¨æˆ·å¯†é’¥ bucketName //å­˜å‚¨ç©ºé—´çš„åå­— å…³äºä»¥ä¸Šçš„è¿™äº›é˜¿é‡Œäº‘ç›¸å…³é…ç½®ä¿¡æ¯ï¼Œæˆ‘ä»¬æ˜¯ç›´æ¥å†™æ­»åœ¨javaä»£ç ä¸­äº†(ç¡¬ç¼–ç )ï¼Œå¦‚æœæˆ‘ä»¬åœ¨åšé¡¹ç›®æ—¶æ¯æ¶‰åŠåˆ°ä¸€ä¸ªç¬¬ä¸‰æ–¹æŠ€æœ¯æœåŠ¡ï¼Œå°±å°†å…¶å‚æ•°ç¡¬ç¼–ç ï¼Œé‚£ä¹ˆåœ¨Javaç¨‹åºä¸­ä¼šå­˜åœ¨ä¸¤ä¸ªé—®é¢˜ï¼š\nå¦‚æœè¿™äº›å‚æ•°å‘ç”Ÿå˜åŒ–äº†ï¼Œå°±å¿…é¡»åœ¨æºç¨‹åºä»£ç ä¸­æ”¹åŠ¨è¿™äº›å‚æ•°ï¼Œç„¶åéœ€è¦é‡æ–°è¿›è¡Œä»£ç çš„ç¼–è¯‘ï¼Œå°†Javaä»£ç ç¼–è¯‘æˆclasså­—èŠ‚ç æ–‡ä»¶å†é‡æ–°è¿è¡Œç¨‹åºã€‚ï¼ˆæ¯”è¾ƒç¹çï¼‰ å¦‚æœæˆ‘ä»¬å¼€å‘çš„æ˜¯ä¸€ä¸ªçœŸå®çš„ä¼ä¸šçº§é¡¹ç›®ï¼Œ Javaç±»å¯èƒ½ä¼šæœ‰å¾ˆå¤šï¼Œå¦‚æœå°†è¿™äº›å‚æ•°åˆ†æ•£çš„å®šä¹‰åœ¨å„ä¸ªJavaç±»å½“ä¸­ï¼Œæˆ‘ä»¬è¦ä¿®æ”¹ä¸€ä¸ªå‚æ•°å€¼ï¼Œæˆ‘ä»¬å°±éœ€è¦åœ¨ä¼—å¤šçš„Javaä»£ç å½“ä¸­æ¥å®šä½åˆ°å¯¹åº”çš„ä½ç½®ï¼Œå†æ¥ä¿®æ”¹å‚æ•°ï¼Œä¿®æ”¹å®Œæ¯•ä¹‹åå†é‡æ–°ç¼–è¯‘å†è¿è¡Œã€‚ï¼ˆå‚æ•°é…ç½®è¿‡äºåˆ†æ•£ï¼Œæ˜¯ä¸æ–¹ä¾¿é›†ä¸­çš„ç®¡ç†å’Œç»´æŠ¤ï¼‰ ä¸ºäº†è§£å†³ä»¥ä¸Šåˆ†æçš„é—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥å°†å‚æ•°é…ç½®åœ¨é…ç½®æ–‡ä»¶ä¸­ã€‚å¦‚ä¸‹ï¼š\n1 2 3 4 5 #è‡ªå®šä¹‰çš„é˜¿é‡Œäº‘OSSé…ç½®ä¿¡æ¯ aliyun.oss.endpoint=https://oss-cn-hangzhou.aliyuncs.com aliyun.oss.accessKeyId=LTAI4GCH1vX6DKqJWxd6nEuW aliyun.oss.accessKeySecret=yBshYweHOpqDuhCArrVHwIiBKpyqSL aliyun.oss.bucketName=web-tlias åœ¨å°†é˜¿é‡Œäº‘OSSé…ç½®å‚æ•°äº¤ç»™propertiesé…ç½®æ–‡ä»¶æ¥ç®¡ç†ä¹‹åï¼Œæˆ‘ä»¬çš„AliOSSUtilså·¥å…·ç±»å°±å˜ä¸ºä»¥ä¸‹å½¢å¼ï¼š\n1 2 3 4 5 6 7 8 9 10 @Component public class AliOSSUtils { /*ä»¥ä¸‹4ä¸ªå‚æ•°æ²¡æœ‰æŒ‡å®šå€¼ï¼ˆé»˜è®¤å€¼ï¼šnullï¼‰*/ private String endpoint; private String accessKeyId; private String accessKeySecret; private String bucketName; //çœç•¥å…¶ä»–ä»£ç ... } è€Œæ­¤æ—¶å¦‚æœç›´æ¥è°ƒç”¨AliOSSUtilsç±»å½“ä¸­çš„uploadæ–¹æ³•è¿›è¡Œæ–‡ä»¶ä¸Šä¼ æ—¶ï¼Œè¿™4é¡¹å‚æ•°å…¨éƒ¨ä¸ºnullï¼ŒåŸå› æ˜¯å› ä¸ºå¹¶æ²¡æœ‰ç»™å®ƒèµ‹å€¼ã€‚\næ­¤æ—¶æˆ‘ä»¬æ˜¯ä¸æ˜¯éœ€è¦å°†é…ç½®æ–‡ä»¶å½“ä¸­æ‰€é…ç½®çš„å±æ€§å€¼è¯»å–å‡ºæ¥ï¼Œå¹¶åˆ†åˆ«èµ‹å€¼ç»™AliOSSUtilså·¥å…·ç±»å½“ä¸­çš„å„ä¸ªå±æ€§å‘¢ï¼Ÿé‚£åº”è¯¥æ€ä¹ˆåšå‘¢ï¼Ÿ\nå› ä¸ºapplication.propertiesæ˜¯springbooté¡¹ç›®é»˜è®¤çš„é…ç½®æ–‡ä»¶ï¼Œæ‰€ä»¥springbootç¨‹åºåœ¨å¯åŠ¨æ—¶ä¼šé»˜è®¤è¯»å–application.propertiesé…ç½®æ–‡ä»¶ï¼Œè€Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸€ä¸ªç°æˆçš„æ³¨è§£ï¼š@Valueï¼Œè·å–é…ç½®æ–‡ä»¶ä¸­çš„æ•°æ®ã€‚\n@Value æ³¨è§£é€šå¸¸ç”¨äºå¤–éƒ¨é…ç½®çš„å±æ€§æ³¨å…¥ï¼Œå…·ä½“ç”¨æ³•ä¸ºï¼š @Value(\u0026quot;${é…ç½®æ–‡ä»¶ä¸­çš„key}\u0026quot;)\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 @Component public class AliOSSUtils { @Value(\u0026#34;${aliyun.oss.endpoint}\u0026#34;) private String endpoint; @Value(\u0026#34;${aliyun.oss.accessKeyId}\u0026#34;) private String accessKeyId; @Value(\u0026#34;${aliyun.oss.accessKeySecret}\u0026#34;) private String accessKeySecret; @Value(\u0026#34;${aliyun.oss.bucketName}\u0026#34;) private String bucketName; //çœç•¥å…¶ä»–ä»£ç ... } ä½¿ç”¨postmanæµ‹è¯•ï¼š\n4.2 ymlé…ç½®æ–‡ä»¶ å‰é¢æˆ‘ä»¬ä¸€ç›´ä½¿ç”¨springbooté¡¹ç›®åˆ›å»ºå®Œæ¯•åè‡ªå¸¦çš„application.propertiesè¿›è¡Œå±æ€§çš„é…ç½®ï¼Œé‚£å…¶å®å‘¢ï¼Œåœ¨springbooté¡¹ç›®å½“ä¸­æ˜¯æ”¯æŒå¤šç§é…ç½®æ–¹å¼çš„ï¼Œé™¤äº†æ”¯æŒpropertiesé…ç½®æ–‡ä»¶ä»¥å¤–ï¼Œè¿˜æ”¯æŒå¦å¤–ä¸€ç§ç±»å‹çš„é…ç½®æ–‡ä»¶ï¼Œå°±æ˜¯æˆ‘ä»¬æ¥ä¸‹æ¥è¦è®²è§£çš„ymlæ ¼å¼çš„é…ç½®æ–‡ä»¶ã€‚\napplication.properties\n1 2 server.port=8080 server.address=127.0.0.1 application.yml\n1 2 3 server: port: 8080 address: 127.0.0.1 application.yaml\n1 2 3 server: port: 8080 address: 127.0.0.1 yml æ ¼å¼çš„é…ç½®æ–‡ä»¶ï¼Œåç¼€åæœ‰ä¸¤ç§ï¼š\nyml ï¼ˆæ¨èï¼‰ yaml å¸¸è§é…ç½®æ–‡ä»¶æ ¼å¼å¯¹æ¯”ï¼š\næˆ‘ä»¬å¯ä»¥çœ‹åˆ°é…ç½®åŒæ ·çš„æ•°æ®ä¿¡æ¯ï¼Œymlæ ¼å¼çš„æ•°æ®æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š\nå®¹æ˜“é˜…è¯» å®¹æ˜“ä¸è„šæœ¬è¯­è¨€äº¤äº’ ä»¥æ•°æ®ä¸ºæ ¸å¿ƒï¼Œé‡æ•°æ®è½»æ ¼å¼ ç®€å•çš„äº†è§£è¿‡springbootæ‰€æ”¯æŒçš„é…ç½®æ–‡ä»¶ï¼Œä»¥åŠä¸åŒç±»å‹é…ç½®æ–‡ä»¶ä¹‹é—´çš„ä¼˜ç¼ºç‚¹ä¹‹åï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°±æ¥äº†è§£ä¸‹ymlé…ç½®æ–‡ä»¶çš„åŸºæœ¬è¯­æ³•ï¼š\nå¤§å°å†™æ•æ„Ÿ æ•°å€¼å‰è¾¹å¿…é¡»æœ‰ç©ºæ ¼ï¼Œä½œä¸ºåˆ†éš”ç¬¦ ä½¿ç”¨ç¼©è¿›è¡¨ç¤ºå±‚çº§å…³ç³»ï¼Œç¼©è¿›æ—¶ï¼Œä¸å…è®¸ä½¿ç”¨Tabé”®ï¼Œåªèƒ½ç”¨ç©ºæ ¼ï¼ˆideaä¸­ä¼šè‡ªåŠ¨å°†Tabè½¬æ¢ä¸ºç©ºæ ¼ï¼‰ ç¼©è¿›çš„ç©ºæ ¼æ•°ç›®ä¸é‡è¦ï¼Œåªè¦ç›¸åŒå±‚çº§çš„å…ƒç´ å·¦ä¾§å¯¹é½å³å¯ #è¡¨ç¤ºæ³¨é‡Šï¼Œä»è¿™ä¸ªå­—ç¬¦ä¸€ç›´åˆ°è¡Œå°¾ï¼Œéƒ½ä¼šè¢«è§£æå™¨å¿½ç•¥ äº†è§£å®Œymlæ ¼å¼é…ç½®æ–‡ä»¶çš„åŸºæœ¬è¯­æ³•ä¹‹åï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å†æ¥çœ‹ä¸‹ymlæ–‡ä»¶ä¸­å¸¸è§çš„æ•°æ®æ ¼å¼ã€‚åœ¨è¿™é‡Œæˆ‘ä»¬ä¸»è¦ä»‹ç»æœ€ä¸ºå¸¸è§çš„ä¸¤ç±»ï¼š\nå®šä¹‰å¯¹è±¡æˆ–Mapé›†åˆ å®šä¹‰æ•°ç»„ã€listæˆ–seté›†åˆ å¯¹è±¡/Mapé›†åˆ\n1 2 3 4 user: name: zhangsan age: 18 password: 123456 æ•°ç»„/List/Seté›†åˆ\n1 2 3 4 hobby: - java - game - sport ç†Ÿæ‚‰å®Œäº†ymlæ–‡ä»¶çš„åŸºæœ¬è¯­æ³•åï¼Œæˆ‘ä»¬ä¿®æ”¹ä¸‹ä¹‹å‰æ¡ˆä¾‹ä¸­ä½¿ç”¨çš„é…ç½®æ–‡ä»¶ï¼Œå˜æ›´ä¸ºapplication.ymlé…ç½®æ–¹å¼ï¼š\nä¿®æ”¹application.propertiesåå­—ä¸ºï¼š_application.propertiesï¼ˆåå­—éšä¾¿æ›´æ¢ï¼Œåªè¦åŠ è½½ä¸åˆ°å³å¯ï¼‰ åˆ›å»ºæ–°çš„é…ç½®æ–‡ä»¶ï¼š application.yml åŸæœ‰application.propertiesæ–‡ä»¶ï¼š\næ–°å»ºçš„application.ymlæ–‡ä»¶ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 spring: datasource: driver-class-name: com.mysql.cj.jdbc.Driver url: jdbc:mysql://localhost:3306/tlias username: root password: 1234 servlet: multipart: max-file-size: 10MB max-request-size: 100MB mybatis: configuration: log-impl: org.apache.ibatis.logging.stdout.StdOutImpl map-underscore-to-camel-case: true aliyun: oss: endpoint: https://oss-cn-hangzhou.aliyuncs.com accessKeyId: LTAI4GCH1vX6DKqJWxd6nEuW accessKeySecret: yBshYweHOpqDuhCArrVHwIiBKpyqSL bucketName: web-397 4.3 @ConfigurationProperties è®²è§£å®Œäº†ymlé…ç½®æ–‡ä»¶ä¹‹åï¼Œæœ€åå†æ¥ä»‹ç»ä¸€ä¸ªæ³¨è§£@ConfigurationPropertiesã€‚åœ¨ä»‹ç»æ³¨è§£ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸ªåœºæ™¯ï¼Œåˆ†æä¸‹ä»£ç å½“ä¸­å¯èƒ½å­˜åœ¨çš„é—®é¢˜ï¼š\næˆ‘ä»¬åœ¨application.propertiesæˆ–è€…application.ymlä¸­é…ç½®äº†é˜¿é‡Œäº‘OSSçš„å››é¡¹å‚æ•°ä¹‹åï¼Œå¦‚æœjavaç¨‹åºä¸­éœ€è¦è¿™å››é¡¹å‚æ•°æ•°æ®ï¼Œæˆ‘ä»¬ç›´æ¥é€šè¿‡@Valueæ³¨è§£æ¥è¿›è¡Œæ³¨å…¥ã€‚è¿™ç§æ–¹å¼æœ¬èº«æ²¡æœ‰ä»€ä¹ˆé—®é¢˜é—®é¢˜ï¼Œä½†æ˜¯å¦‚æœè¯´éœ€è¦æ³¨å…¥çš„å±æ€§è¾ƒå¤š(ä¾‹ï¼šéœ€è¦20å¤šä¸ªå‚æ•°æ•°æ®)ï¼Œæˆ‘ä»¬å†™èµ·æ¥å°±ä¼šæ¯”è¾ƒç¹çã€‚\né‚£ä¹ˆæœ‰æ²¡æœ‰ä¸€ç§æ–¹å¼å¯ä»¥ç®€åŒ–è¿™äº›é…ç½®å‚æ•°çš„æ³¨å…¥å‘¢ï¼Ÿç­”æ¡ˆæ˜¯è‚¯å®šæœ‰ï¼Œåœ¨Springä¸­ç»™æˆ‘ä»¬æä¾›äº†ä¸€ç§ç®€åŒ–æ–¹å¼ï¼Œå¯ä»¥ç›´æ¥å°†é…ç½®æ–‡ä»¶ä¸­é…ç½®é¡¹çš„å€¼è‡ªåŠ¨çš„æ³¨å…¥åˆ°å¯¹è±¡çš„å±æ€§ä¸­ã€‚\nSpringæä¾›çš„ç®€åŒ–æ–¹å¼å¥—è·¯ï¼š\néœ€è¦åˆ›å»ºä¸€ä¸ªå®ç°ç±»ï¼Œä¸”å®ä½“ç±»ä¸­çš„å±æ€§åå’Œé…ç½®æ–‡ä»¶å½“ä¸­keyçš„åå­—å¿…é¡»è¦ä¸€è‡´\næ¯”å¦‚ï¼šé…ç½®æ–‡ä»¶å½“ä¸­å«endpointsï¼Œå®ä½“ç±»å½“ä¸­çš„å±æ€§ä¹Ÿå¾—å«endpointsï¼Œå¦å¤–å®ä½“ç±»å½“ä¸­çš„å±æ€§è¿˜éœ€è¦æä¾› getter / setteræ–¹æ³•\néœ€è¦å°†å®ä½“ç±»äº¤ç»™Springçš„IOCå®¹å™¨ç®¡ç†ï¼Œæˆä¸ºIOCå®¹å™¨å½“ä¸­çš„beanå¯¹è±¡\nåœ¨å®ä½“ç±»ä¸Šæ·»åŠ @ConfigurationPropertiesæ³¨è§£ï¼Œå¹¶é€šè¿‡perfectå±æ€§æ¥æŒ‡å®šé…ç½®å‚æ•°é¡¹çš„å‰ç¼€\nå®ä½“ç±»ï¼šAliOSSProperties\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 import lombok.Data; import org.springframework.boot.context.properties.ConfigurationProperties; import org.springframework.stereotype.Component; /*é˜¿é‡Œäº‘OSSç›¸å…³é…ç½®*/ @Data @Component @ConfigurationProperties(prefix = \u0026#34;aliyun.oss\u0026#34;) public class AliOSSProperties { //åŒºåŸŸ private String endpoint; //èº«ä»½ID private String accessKeyId ; //èº«ä»½å¯†é’¥ private String accessKeySecret ; //å­˜å‚¨ç©ºé—´ private String bucketName; } AliOSSUtilså·¥å…·ç±»ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 import com.aliyun.oss.OSS; import com.aliyun.oss.OSSClientBuilder; import org.springframework.beans.factory.annotation.Autowired; import org.springframework.stereotype.Component; import org.springframework.web.multipart.MultipartFile; import java.io.IOException; import java.io.InputStream; import java.util.UUID; @Component //å½“å‰ç±»å¯¹è±¡ç”±Springåˆ›å»ºå’Œç®¡ç† public class AliOSSUtils { //æ³¨å…¥é…ç½®å‚æ•°å®ä½“ç±»å¯¹è±¡ @Autowired private AliOSSProperties aliOSSProperties; /** * å®ç°ä¸Šä¼ å›¾ç‰‡åˆ°OSS */ public String upload(MultipartFile multipartFile) throws IOException { // è·å–ä¸Šä¼ çš„æ–‡ä»¶çš„è¾“å…¥æµ InputStream inputStream = multipartFile.getInputStream(); // é¿å…æ–‡ä»¶è¦†ç›– String originalFilename = multipartFile.getOriginalFilename(); String fileName = UUID.randomUUID().toString() + originalFilename.substring(originalFilename.lastIndexOf(\u0026#34;.\u0026#34;)); //ä¸Šä¼ æ–‡ä»¶åˆ° OSS OSS ossClient = new OSSClientBuilder().build(aliOSSProperties.getEndpoint(), aliOSSProperties.getAccessKeyId(), aliOSSProperties.getAccessKeySecret()); ossClient.putObject(aliOSSProperties.getBucketName(), fileName, inputStream); //æ–‡ä»¶è®¿é—®è·¯å¾„ String url =aliOSSProperties.getEndpoint().split(\u0026#34;//\u0026#34;)[0] + \u0026#34;//\u0026#34; + aliOSSProperties.getBucketName() + \u0026#34;.\u0026#34; + aliOSSProperties.getEndpoint().split(\u0026#34;//\u0026#34;)[1] + \u0026#34;/\u0026#34; + fileName; // å…³é—­ossClient ossClient.shutdown(); return url;// æŠŠä¸Šä¼ åˆ°ossçš„è·¯å¾„è¿”å› } } åœ¨æˆ‘ä»¬æ·»åŠ ä¸Šæ³¨è§£åï¼Œä¼šå‘ç°ideaçª—å£ä¸Šé¢å‡ºç°ä¸€ä¸ªçº¢è‰²è­¦å‘Šï¼š\nè¿™ä¸ªè­¦å‘Šæç¤ºæ˜¯å‘ŠçŸ¥æˆ‘ä»¬è¿˜éœ€è¦å¼•å…¥ä¸€ä¸ªä¾èµ–ï¼š\n1 2 3 4 \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.springframework.boot\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;spring-boot-configuration-processor\u0026lt;/artifactId\u0026gt; \u0026lt;/dependency\u0026gt; å½“æˆ‘ä»¬åœ¨pom.xmlæ–‡ä»¶å½“ä¸­é…ç½®äº†è¿™é¡¹ä¾èµ–ä¹‹åï¼Œæˆ‘ä»¬é‡æ–°å¯åŠ¨æœåŠ¡ï¼Œå¤§å®¶å°±ä¼šçœ‹åˆ°åœ¨propertiesæˆ–è€…æ˜¯ymlé…ç½®æ–‡ä»¶å½“ä¸­ï¼Œå°±ä¼šæç¤ºé˜¿é‡Œäº‘ OSS ç›¸å…³çš„é…ç½®é¡¹ã€‚æ‰€ä»¥è¿™é¡¹ä¾èµ–å®ƒçš„ä½œç”¨å°±æ˜¯ä¼šè‡ªåŠ¨çš„è¯†åˆ«è¢«@Configuration Propertiesæ³¨è§£æ ‡è¯†çš„beanå¯¹è±¡ã€‚\nåˆšæ‰çš„çº¢è‰²è­¦å‘Šï¼Œå·²ç»å˜æˆäº†ä¸€ä¸ªç°è‰²çš„æç¤ºï¼Œæç¤ºæˆ‘ä»¬éœ€è¦é‡æ–°è¿è¡ŒspringbootæœåŠ¡\n@ConfigurationPropertiesæ³¨è§£æˆ‘ä»¬å·²ç»ä»‹ç»å®Œäº†ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°±æ¥åŒºåˆ†ä¸€ä¸‹@ConfigurationPropertiesæ³¨è§£ä»¥åŠæˆ‘ä»¬å‰é¢æ‰€ä»‹ç»çš„å¦å¤–ä¸€ä¸ª@Valueæ³¨è§£ï¼š\nç›¸åŒç‚¹ï¼šéƒ½æ˜¯ç”¨æ¥æ³¨å…¥å¤–éƒ¨é…ç½®çš„å±æ€§çš„ã€‚\nä¸åŒç‚¹ï¼š\n@Valueæ³¨è§£åªèƒ½ä¸€ä¸ªä¸€ä¸ªçš„è¿›è¡Œå¤–éƒ¨å±æ€§çš„æ³¨å…¥ã€‚\n@ConfigurationPropertieså¯ä»¥æ‰¹é‡çš„å°†å¤–éƒ¨çš„å±æ€§é…ç½®æ³¨å…¥åˆ°beanå¯¹è±¡çš„å±æ€§ä¸­ã€‚\nå¦‚æœè¦æ³¨å…¥çš„å±æ€§éå¸¸çš„å¤šï¼Œå¹¶ä¸”è¿˜æƒ³åšåˆ°å¤ç”¨ï¼Œå°±å¯ä»¥å®šä¹‰è¿™ä¹ˆä¸€ä¸ªbeanå¯¹è±¡ã€‚é€šè¿‡ configuration properties æ‰¹é‡çš„å°†å¤–éƒ¨çš„å±æ€§é…ç½®ç›´æ¥æ³¨å…¥åˆ° bin å¯¹è±¡çš„å±æ€§å½“ä¸­ã€‚åœ¨å…¶ä»–çš„ç±»å½“ä¸­ï¼Œæˆ‘è¦æƒ³è·å–åˆ°æ³¨å…¥è¿›æ¥çš„å±æ€§ï¼Œæˆ‘ç›´æ¥æ³¨å…¥ bin å¯¹è±¡ï¼Œç„¶åè°ƒç”¨ get æ–¹æ³•ï¼Œå°±å¯ä»¥è·å–åˆ°å¯¹åº”çš„å±æ€§å€¼äº†\n","date":"0001-01-01T00:00:00Z","permalink":"http://localhost:1313/p/","title":""},{"content":"æ¡ˆä¾‹-ç™»å½•è®¤è¯ åœ¨å‰é¢çš„è¯¾ç¨‹ä¸­ï¼Œæˆ‘ä»¬å·²ç»å®ç°äº†éƒ¨é—¨ç®¡ç†ã€å‘˜å·¥ç®¡ç†çš„åŸºæœ¬åŠŸèƒ½ï¼Œä½†æ˜¯å¤§å®¶ä¼šå‘ç°ï¼Œæˆ‘ä»¬å¹¶æ²¡æœ‰ç™»å½•ï¼Œå°±ç›´æ¥è®¿é—®åˆ°äº†Tliasæ™ºèƒ½å­¦ä¹ è¾…åŠ©ç³»ç»Ÿçš„åå°ã€‚ è¿™æ˜¯ä¸å®‰å…¨çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬ä»Šå¤©çš„ä¸»é¢˜å°±æ˜¯ç™»å½•è®¤è¯ã€‚ æœ€ç»ˆæˆ‘ä»¬è¦å®ç°çš„æ•ˆæœå°±æ˜¯ç”¨æˆ·å¿…é¡»ç™»å½•ä¹‹åï¼Œæ‰å¯ä»¥è®¿é—®åå°ç³»ç»Ÿä¸­çš„åŠŸèƒ½ã€‚\n1. ç™»å½•åŠŸèƒ½ 1.1 éœ€æ±‚ åœ¨ç™»å½•ç•Œé¢ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥è¾“å…¥ç”¨æˆ·çš„ç”¨æˆ·åä»¥åŠå¯†ç ï¼Œç„¶åç‚¹å‡» \u0026ldquo;ç™»å½•\u0026rdquo; æŒ‰é’®å°±è¦è¯·æ±‚æœåŠ¡å™¨ï¼ŒæœåŠ¡ç«¯åˆ¤æ–­ç”¨æˆ·è¾“å…¥çš„ç”¨æˆ·åæˆ–è€…å¯†ç æ˜¯å¦æ­£ç¡®ã€‚å¦‚æœæ­£ç¡®ï¼Œåˆ™è¿”å›æˆåŠŸç»“æœï¼Œå‰ç«¯è·³è½¬è‡³ç³»ç»Ÿé¦–é¡µé¢ã€‚\n1.2 æ¥å£æ–‡æ¡£ æˆ‘ä»¬å‚ç…§æ¥å£æ–‡æ¡£æ¥å¼€å‘ç™»å½•åŠŸèƒ½\nåŸºæœ¬ä¿¡æ¯\n1 2 3 4 5 è¯·æ±‚è·¯å¾„ï¼š/login è¯·æ±‚æ–¹å¼ï¼šPOST æ¥å£æè¿°ï¼šè¯¥æ¥å£ç”¨äºå‘˜å·¥ç™»å½•Tliasæ™ºèƒ½å­¦ä¹ è¾…åŠ©ç³»ç»Ÿï¼Œç™»å½•å®Œæ¯•åï¼Œç³»ç»Ÿä¸‹å‘JWTä»¤ç‰Œã€‚ è¯·æ±‚å‚æ•°\nå‚æ•°æ ¼å¼ï¼šapplication/json\nå‚æ•°è¯´æ˜ï¼š\nåç§° ç±»å‹ æ˜¯å¦å¿…é¡» å¤‡æ³¨ username string å¿…é¡» ç”¨æˆ·å password string å¿…é¡» å¯†ç  è¯·æ±‚æ•°æ®æ ·ä¾‹ï¼š\n1 2 3 4 { \u0026#34;username\u0026#34;: \u0026#34;jinyong\u0026#34;, \u0026#34;password\u0026#34;: \u0026#34;123456\u0026#34; } å“åº”æ•°æ®\nå‚æ•°æ ¼å¼ï¼šapplication/json\nå‚æ•°è¯´æ˜ï¼š\nåç§° ç±»å‹ æ˜¯å¦å¿…é¡» é»˜è®¤å€¼ å¤‡æ³¨ å…¶ä»–ä¿¡æ¯ code number å¿…é¡» å“åº”ç , 1 æˆåŠŸ ; 0 å¤±è´¥ msg string éå¿…é¡» æç¤ºä¿¡æ¯ data string å¿…é¡» è¿”å›çš„æ•°æ® , jwtä»¤ç‰Œ å“åº”æ•°æ®æ ·ä¾‹ï¼š\n1 2 3 4 5 { \u0026#34;code\u0026#34;: 1, \u0026#34;msg\u0026#34;: \u0026#34;success\u0026#34;, \u0026#34;data\u0026#34;: \u0026#34;eyJhbGciOiJIUzI1NiJ9.eyJuYW1lIjoi6YeR5bq4IiwiaWQiOjEsInVzZXJuYW1lIjoiamlueW9uZyIsImV4cCI6MTY2MjIwNzA0OH0.KkUc_CXJZJ8Dd063eImx4H9Ojfrr6XMJ-yVzaWCVZCo\u0026#34; } 1.3 æ€è·¯åˆ†æ ç™»å½•æœåŠ¡ç«¯çš„æ ¸å¿ƒé€»è¾‘å°±æ˜¯ï¼šæ¥æ”¶å‰ç«¯è¯·æ±‚ä¼ é€’çš„ç”¨æˆ·åå’Œå¯†ç  ï¼Œç„¶åå†æ ¹æ®ç”¨æˆ·åå’Œå¯†ç æŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯ï¼Œå¦‚æœç”¨æˆ·ä¿¡æ¯å­˜åœ¨ï¼Œåˆ™è¯´æ˜ç”¨æˆ·è¾“å…¥çš„ç”¨æˆ·åå’Œå¯†ç æ­£ç¡®ã€‚å¦‚æœæŸ¥è¯¢åˆ°çš„ç”¨æˆ·ä¸å­˜åœ¨ï¼Œåˆ™è¯´æ˜ç”¨æˆ·è¾“å…¥çš„ç”¨æˆ·åå’Œå¯†ç é”™è¯¯ã€‚\n1.4 åŠŸèƒ½å¼€å‘ LoginController\n1 2 3 4 5 6 7 8 9 10 11 12 @RestController public class LoginController { @Autowired private EmpService empService; @PostMapping(\u0026#34;/login\u0026#34;) public Result login(@RequestBody Emp emp){ Emp e = empService.login(emp); return e != null ? Result.success():Result.error(\u0026#34;ç”¨æˆ·åæˆ–å¯†ç é”™è¯¯\u0026#34;); } } EmpService\n1 2 3 4 5 6 7 8 9 10 11 public interface EmpService { /** * ç”¨æˆ·ç™»å½• * @param emp * @return */ public Emp login(Emp emp); //çœç•¥å…¶ä»–ä»£ç ... } EmpServiceImpl\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 @Slf4j @Service public class EmpServiceImpl implements EmpService { @Autowired private EmpMapper empMapper; @Override public Emp login(Emp emp) { //è°ƒç”¨daoå±‚åŠŸèƒ½ï¼šç™»å½• Emp loginEmp = empMapper.getByUsernameAndPassword(emp); //è¿”å›æŸ¥è¯¢ç»“æœç»™Controller return loginEmp; } //çœç•¥å…¶ä»–ä»£ç ... } EmpMapper\n1 2 3 4 5 6 7 8 9 10 @Mapper public interface EmpMapper { @Select(\u0026#34;select id, username, password, name, gender, image, job, entrydate, dept_id, create_time, update_time \u0026#34; + \u0026#34;from emp \u0026#34; + \u0026#34;where username=#{username} and password =#{password}\u0026#34;) public Emp getByUsernameAndPassword(Emp emp); //çœç•¥å…¶ä»–ä»£ç ... } 1.5 æµ‹è¯• åŠŸèƒ½å¼€å‘å®Œæ¯•åï¼Œæˆ‘ä»¬å°±å¯ä»¥å¯åŠ¨æœåŠ¡ï¼Œæ‰“å¼€postmanè¿›è¡Œæµ‹è¯•äº†ã€‚\nå‘èµ·POSTè¯·æ±‚ï¼Œè®¿é—®ï¼šhttp://localhost:8080/login\npostmanæµ‹è¯•é€šè¿‡äº†ï¼Œé‚£æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±å¯ä»¥ç»“åˆç€å‰ç«¯å·¥ç¨‹è¿›è¡Œè”è°ƒæµ‹è¯•ã€‚\nå…ˆé€€å‡ºç³»ç»Ÿï¼Œè¿›å…¥åˆ°ç™»å½•é¡µé¢ï¼š\nåœ¨ç™»å½•é¡µé¢è¾“å…¥è´¦æˆ·å¯†ç ï¼š\nç™»å½•æˆåŠŸä¹‹åè¿›å…¥åˆ°åå°ç®¡ç†ç³»ç»Ÿé¡µé¢ï¼š\n2. ç™»å½•æ ¡éªŒ 2.1 é—®é¢˜åˆ†æ æˆ‘ä»¬å·²ç»å®Œæˆäº†åŸºç¡€ç™»å½•åŠŸèƒ½çš„å¼€å‘ä¸æµ‹è¯•ï¼Œåœ¨æˆ‘ä»¬ç™»å½•æˆåŠŸåå°±å¯ä»¥è¿›å…¥åˆ°åå°ç®¡ç†ç³»ç»Ÿä¸­è¿›è¡Œæ•°æ®çš„æ“ä½œã€‚\nä½†æ˜¯å½“æˆ‘ä»¬åœ¨æµè§ˆå™¨ä¸­æ–°çš„é¡µé¢ä¸Šè¾“å…¥åœ°å€ï¼šhttp://localhost:9528/#/system/deptï¼Œå‘ç°æ²¡æœ‰ç™»å½•ä»ç„¶å¯ä»¥è¿›å…¥åˆ°åç«¯ç®¡ç†ç³»ç»Ÿé¡µé¢ã€‚\nè€ŒçœŸæ­£çš„ç™»å½•åŠŸèƒ½åº”è¯¥æ˜¯ï¼šç™»é™†åæ‰èƒ½è®¿é—®åç«¯ç³»ç»Ÿé¡µé¢ï¼Œä¸ç™»é™†åˆ™è·³è½¬ç™»é™†é¡µé¢è¿›è¡Œç™»é™†ã€‚\nä¸ºä»€ä¹ˆä¼šå‡ºç°è¿™ä¸ªé—®é¢˜ï¼Ÿå…¶å®åŸå› å¾ˆç®€å•ï¼Œå°±æ˜¯å› ä¸ºé’ˆå¯¹äºæˆ‘ä»¬å½“å‰æ‰€å¼€å‘çš„éƒ¨é—¨ç®¡ç†ã€å‘˜å·¥ç®¡ç†ä»¥åŠæ–‡ä»¶ä¸Šä¼ ç­‰ç›¸å…³æ¥å£æ¥è¯´ï¼Œæˆ‘ä»¬åœ¨æœåŠ¡å™¨ç«¯å¹¶æ²¡æœ‰åšä»»ä½•çš„åˆ¤æ–­ï¼Œæ²¡æœ‰å»åˆ¤æ–­ç”¨æˆ·æ˜¯å¦ç™»å½•äº†ã€‚æ‰€ä»¥æ— è®ºç”¨æˆ·æ˜¯å¦ç™»å½•ï¼Œéƒ½å¯ä»¥è®¿é—®éƒ¨é—¨ç®¡ç†ä»¥åŠå‘˜å·¥ç®¡ç†çš„ç›¸å…³æ•°æ®ã€‚æ‰€ä»¥æˆ‘ä»¬ç›®å‰æ‰€å¼€å‘çš„ç™»å½•åŠŸèƒ½ï¼Œå®ƒåªæ˜¯å¾’æœ‰å…¶è¡¨ã€‚è€Œæˆ‘ä»¬è¦æƒ³è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å°±éœ€è¦å®Œæˆä¸€æ­¥éå¸¸é‡è¦çš„æ“ä½œï¼šç™»å½•æ ¡éªŒã€‚\nä»€ä¹ˆæ˜¯ç™»å½•æ ¡éªŒï¼Ÿ\næ‰€è°“ç™»å½•æ ¡éªŒï¼ŒæŒ‡çš„æ˜¯æˆ‘ä»¬åœ¨æœåŠ¡å™¨ç«¯æ¥æ”¶åˆ°æµè§ˆå™¨å‘é€è¿‡æ¥çš„è¯·æ±‚ä¹‹åï¼Œé¦–å…ˆæˆ‘ä»¬è¦å¯¹è¯·æ±‚è¿›è¡Œæ ¡éªŒã€‚å…ˆè¦æ ¡éªŒä¸€ä¸‹ç”¨æˆ·ç™»å½•äº†æ²¡æœ‰ï¼Œå¦‚æœç”¨æˆ·å·²ç»ç™»å½•äº†ï¼Œå°±ç›´æ¥æ‰§è¡Œå¯¹åº”çš„ä¸šåŠ¡æ“ä½œå°±å¯ä»¥äº†ï¼›å¦‚æœç”¨æˆ·æ²¡æœ‰ç™»å½•ï¼Œæ­¤æ—¶å°±ä¸å…è®¸ä»–æ‰§è¡Œç›¸å…³çš„ä¸šåŠ¡æ“ä½œï¼Œç›´æ¥ç»™å‰ç«¯å“åº”ä¸€ä¸ªé”™è¯¯çš„ç»“æœï¼Œæœ€ç»ˆè·³è½¬åˆ°ç™»å½•é¡µé¢ï¼Œè¦æ±‚ä»–ç™»å½•æˆåŠŸä¹‹åï¼Œå†æ¥è®¿é—®å¯¹åº”çš„æ•°æ®ã€‚ äº†è§£å®Œä»€ä¹ˆæ˜¯ç™»å½•æ ¡éªŒä¹‹åï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬åˆ†æä¸€ä¸‹ç™»å½•æ ¡éªŒå¤§æ¦‚çš„å®ç°æ€è·¯ã€‚\né¦–å…ˆæˆ‘ä»¬åœ¨å®è§‚ä¸Šå…ˆæœ‰ä¸€ä¸ªè®¤çŸ¥ï¼š\nå‰é¢åœ¨è®²è§£HTTPåè®®çš„æ—¶å€™ï¼Œæˆ‘ä»¬æåˆ°HTTPåè®®æ˜¯æ— çŠ¶æ€åè®®ã€‚ä»€ä¹ˆåˆæ˜¯æ— çŠ¶æ€çš„åè®®ï¼Ÿ\næ‰€è°“æ— çŠ¶æ€ï¼ŒæŒ‡çš„æ˜¯æ¯ä¸€æ¬¡è¯·æ±‚éƒ½æ˜¯ç‹¬ç«‹çš„ï¼Œä¸‹ä¸€æ¬¡è¯·æ±‚å¹¶ä¸ä¼šæºå¸¦ä¸Šä¸€æ¬¡è¯·æ±‚çš„æ•°æ®ã€‚è€Œæµè§ˆå™¨ä¸æœåŠ¡å™¨ä¹‹é—´è¿›è¡Œäº¤äº’ï¼ŒåŸºäºHTTPåè®®ä¹Ÿå°±æ„å‘³ç€ç°åœ¨æˆ‘ä»¬é€šè¿‡æµè§ˆå™¨æ¥è®¿é—®äº†ç™»é™†è¿™ä¸ªæ¥å£ï¼Œå®ç°äº†ç™»é™†çš„æ“ä½œï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬åœ¨æ‰§è¡Œå…¶ä»–ä¸šåŠ¡æ“ä½œæ—¶ï¼ŒæœåŠ¡å™¨ä¹Ÿå¹¶ä¸çŸ¥é“è¿™ä¸ªå‘˜å·¥åˆ°åº•ç™»é™†äº†æ²¡æœ‰ã€‚å› ä¸ºHTTPåè®®æ˜¯æ— çŠ¶æ€çš„ï¼Œä¸¤æ¬¡è¯·æ±‚ä¹‹é—´æ˜¯ç‹¬ç«‹çš„ï¼Œæ‰€ä»¥æ˜¯æ— æ³•åˆ¤æ–­è¿™ä¸ªå‘˜å·¥åˆ°åº•ç™»é™†äº†æ²¡æœ‰ã€‚\né‚£åº”è¯¥æ€ä¹ˆæ¥å®ç°ç™»å½•æ ¡éªŒçš„æ“ä½œå‘¢ï¼Ÿå…·ä½“çš„å®ç°æ€è·¯å¯ä»¥åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼š\nåœ¨å‘˜å·¥ç™»å½•æˆåŠŸåï¼Œéœ€è¦å°†ç”¨æˆ·ç™»å½•æˆåŠŸçš„ä¿¡æ¯å­˜èµ·æ¥ï¼Œè®°å½•ç”¨æˆ·å·²ç»ç™»å½•æˆåŠŸçš„æ ‡è®°ã€‚ åœ¨æµè§ˆå™¨å‘èµ·è¯·æ±‚æ—¶ï¼Œéœ€è¦åœ¨æœåŠ¡ç«¯è¿›è¡Œç»Ÿä¸€æ‹¦æˆªï¼Œæ‹¦æˆªåè¿›è¡Œç™»å½•æ ¡éªŒã€‚ æƒ³è¦åˆ¤æ–­å‘˜å·¥æ˜¯å¦å·²ç»ç™»å½•ï¼Œæˆ‘ä»¬éœ€è¦åœ¨å‘˜å·¥ç™»å½•æˆåŠŸä¹‹åï¼Œå­˜å‚¨ä¸€ä¸ªç™»å½•æˆåŠŸçš„æ ‡è®°ï¼Œæ¥ä¸‹æ¥åœ¨æ¯ä¸€ä¸ªæ¥å£æ–¹æ³•æ‰§è¡Œä¹‹å‰ï¼Œå…ˆåšä¸€ä¸ªæ¡ä»¶åˆ¤æ–­ï¼Œåˆ¤æ–­ä¸€ä¸‹è¿™ä¸ªå‘˜å·¥åˆ°åº•ç™»å½•äº†æ²¡æœ‰ã€‚å¦‚æœæ˜¯ç™»å½•äº†ï¼Œå°±å¯ä»¥æ‰§è¡Œæ­£å¸¸çš„ä¸šåŠ¡æ“ä½œï¼Œå¦‚æœæ²¡æœ‰ç™»å½•ï¼Œä¼šç›´æ¥ç»™å‰ç«¯è¿”å›ä¸€ä¸ªé”™è¯¯çš„ä¿¡æ¯ï¼Œå‰ç«¯æ‹¿åˆ°è¿™ä¸ªé”™è¯¯ä¿¡æ¯ä¹‹åä¼šè‡ªåŠ¨çš„è·³è½¬åˆ°ç™»å½•é¡µé¢ã€‚\næˆ‘ä»¬ç¨‹åºä¸­æ‰€å¼€å‘çš„æŸ¥è¯¢åŠŸèƒ½ã€åˆ é™¤åŠŸèƒ½ã€æ·»åŠ åŠŸèƒ½ã€ä¿®æ”¹åŠŸèƒ½ï¼Œéƒ½éœ€è¦ä½¿ç”¨ä»¥ä¸Šå¥—è·¯è¿›è¡Œç™»å½•æ ¡éªŒã€‚æ­¤æ—¶å°±ä¼šå‡ºç°ï¼šç›¸åŒä»£ç é€»è¾‘ï¼Œæ¯ä¸ªåŠŸèƒ½éƒ½éœ€è¦ç¼–å†™ï¼Œå°±ä¼šé€ æˆä»£ç éå¸¸ç¹çã€‚\nä¸ºäº†ç®€åŒ–è¿™å—æ“ä½œï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸€ç§æŠ€æœ¯ï¼šç»Ÿä¸€æ‹¦æˆªæŠ€æœ¯ã€‚\né€šè¿‡ç»Ÿä¸€æ‹¦æˆªçš„æŠ€æœ¯ï¼Œæˆ‘ä»¬å¯ä»¥æ¥æ‹¦æˆªæµè§ˆå™¨å‘é€è¿‡æ¥çš„æ‰€æœ‰çš„è¯·æ±‚ï¼Œæ‹¦æˆªåˆ°è¿™ä¸ªè¯·æ±‚ä¹‹åï¼Œå°±å¯ä»¥é€šè¿‡è¯·æ±‚æ¥è·å–ä¹‹å‰æ‰€å­˜å…¥çš„ç™»å½•æ ‡è®°ï¼Œåœ¨è·å–åˆ°ç™»å½•æ ‡è®°ä¸”æ ‡è®°ä¸ºç™»å½•æˆåŠŸï¼Œå°±è¯´æ˜å‘˜å·¥å·²ç»ç™»å½•äº†ã€‚å¦‚æœå·²ç»ç™»å½•ï¼Œæˆ‘ä»¬å°±ç›´æ¥æ”¾è¡Œ(æ„æ€å°±æ˜¯å¯ä»¥è®¿é—®æ­£å¸¸çš„ä¸šåŠ¡æ¥å£äº†)ã€‚\næˆ‘ä»¬è¦å®Œæˆä»¥ä¸Šæ“ä½œï¼Œä¼šæ¶‰åŠåˆ°webå¼€å‘ä¸­çš„ä¸¤ä¸ªæŠ€æœ¯ï¼š\nä¼šè¯æŠ€æœ¯ ç»Ÿä¸€æ‹¦æˆªæŠ€æœ¯ è€Œç»Ÿä¸€æ‹¦æˆªæŠ€æœ¯ç°å®æ–¹æ¡ˆä¹Ÿæœ‰ä¸¤ç§ï¼š\nServletè§„èŒƒä¸­çš„Filterè¿‡æ»¤å™¨ Springæä¾›çš„interceptoræ‹¦æˆªå™¨ ä¸‹é¢æˆ‘ä»¬å…ˆå­¦ä¹ ä¼šè¯æŠ€æœ¯ï¼Œç„¶åå†å­¦ä¹ ç»Ÿä¸€æ‹¦æˆªæŠ€æœ¯ã€‚\n2.2 ä¼šè¯æŠ€æœ¯ ä»‹ç»äº†ç™»å½•æ ¡éªŒçš„å¤§æ¦‚æ€è·¯ä¹‹åï¼Œæˆ‘ä»¬å…ˆæ¥å­¦ä¹ ä¸‹ä¼šè¯æŠ€æœ¯ã€‚\n2.2.1 ä¼šè¯æŠ€æœ¯ä»‹ç» ä»€ä¹ˆæ˜¯ä¼šè¯ï¼Ÿ\nåœ¨æˆ‘ä»¬æ—¥å¸¸ç”Ÿæ´»å½“ä¸­ï¼Œä¼šè¯æŒ‡çš„å°±æ˜¯è°ˆè¯ã€äº¤è°ˆã€‚\nåœ¨webå¼€å‘å½“ä¸­ï¼Œä¼šè¯æŒ‡çš„å°±æ˜¯æµè§ˆå™¨ä¸æœåŠ¡å™¨ä¹‹é—´çš„ä¸€æ¬¡è¿æ¥ï¼Œæˆ‘ä»¬å°±ç§°ä¸ºä¸€æ¬¡ä¼šè¯ã€‚\nåœ¨ç”¨æˆ·æ‰“å¼€æµè§ˆå™¨ç¬¬ä¸€æ¬¡è®¿é—®æœåŠ¡å™¨çš„æ—¶å€™ï¼Œè¿™ä¸ªä¼šè¯å°±å»ºç«‹äº†ï¼Œç›´åˆ°æœ‰ä»»ä½•ä¸€æ–¹æ–­å¼€è¿æ¥ï¼Œæ­¤æ—¶ä¼šè¯å°±ç»“æŸäº†ã€‚åœ¨ä¸€æ¬¡ä¼šè¯å½“ä¸­ï¼Œæ˜¯å¯ä»¥åŒ…å«å¤šæ¬¡è¯·æ±‚å’Œå“åº”çš„ã€‚\næ¯”å¦‚ï¼šæ‰“å¼€äº†æµè§ˆå™¨æ¥è®¿é—®webæœåŠ¡å™¨ä¸Šçš„èµ„æºï¼ˆæµè§ˆå™¨ä¸èƒ½å…³é—­ã€æœåŠ¡å™¨ä¸èƒ½æ–­å¼€ï¼‰\nç¬¬1æ¬¡ï¼šè®¿é—®çš„æ˜¯ç™»å½•çš„æ¥å£ï¼Œå®Œæˆç™»å½•æ“ä½œ ç¬¬2æ¬¡ï¼šè®¿é—®çš„æ˜¯éƒ¨é—¨ç®¡ç†æ¥å£ï¼ŒæŸ¥è¯¢æ‰€æœ‰éƒ¨é—¨æ•°æ® ç¬¬3æ¬¡ï¼šè®¿é—®çš„æ˜¯å‘˜å·¥ç®¡ç†æ¥å£ï¼ŒæŸ¥è¯¢å‘˜å·¥æ•°æ® åªè¦æµè§ˆå™¨å’ŒæœåŠ¡å™¨éƒ½æ²¡æœ‰å…³é—­ï¼Œä»¥ä¸Š3æ¬¡è¯·æ±‚éƒ½å±äºä¸€æ¬¡ä¼šè¯å½“ä¸­å®Œæˆçš„ã€‚\néœ€è¦æ³¨æ„çš„æ˜¯ï¼šä¼šè¯æ˜¯å’Œæµè§ˆå™¨å…³è”çš„ï¼Œå½“æœ‰ä¸‰ä¸ªæµè§ˆå™¨å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨å»ºç«‹äº†è¿æ¥æ—¶ï¼Œå°±ä¼šæœ‰ä¸‰ä¸ªä¼šè¯ã€‚åŒä¸€ä¸ªæµè§ˆå™¨åœ¨æœªå…³é—­ä¹‹å‰è¯·æ±‚äº†å¤šæ¬¡æœåŠ¡å™¨ï¼Œè¿™å¤šæ¬¡è¯·æ±‚æ˜¯å±äºåŒä¸€ä¸ªä¼šè¯ã€‚æ¯”å¦‚ï¼š1ã€2ã€3è¿™ä¸‰ä¸ªè¯·æ±‚éƒ½æ˜¯å±äºåŒä¸€ä¸ªä¼šè¯ã€‚å½“æˆ‘ä»¬å…³é—­æµè§ˆå™¨ä¹‹åï¼Œè¿™æ¬¡ä¼šè¯å°±ç»“æŸäº†ã€‚è€Œå¦‚æœæˆ‘ä»¬æ˜¯ç›´æ¥æŠŠwebæœåŠ¡å™¨å…³äº†ï¼Œé‚£ä¹ˆæ‰€æœ‰çš„ä¼šè¯å°±éƒ½ç»“æŸäº†ã€‚\nçŸ¥é“äº†ä¼šè¯çš„æ¦‚å¿µäº†ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å†æ¥äº†è§£ä¸‹ä¼šè¯è·Ÿè¸ªã€‚\nä¼šè¯è·Ÿè¸ªï¼šä¸€ç§ç»´æŠ¤æµè§ˆå™¨çŠ¶æ€çš„æ–¹æ³•ï¼ŒæœåŠ¡å™¨éœ€è¦è¯†åˆ«å¤šæ¬¡è¯·æ±‚æ˜¯å¦æ¥è‡ªäºåŒä¸€æµè§ˆå™¨ï¼Œä»¥ä¾¿åœ¨åŒä¸€æ¬¡ä¼šè¯çš„å¤šæ¬¡è¯·æ±‚é—´å…±äº«æ•°æ®ã€‚\næœåŠ¡å™¨ä¼šæ¥æ”¶å¾ˆå¤šçš„è¯·æ±‚ï¼Œä½†æ˜¯æœåŠ¡å™¨æ˜¯éœ€è¦è¯†åˆ«å‡ºè¿™äº›è¯·æ±‚æ˜¯ä¸æ˜¯åŒä¸€ä¸ªæµè§ˆå™¨å‘å‡ºæ¥çš„ã€‚æ¯”å¦‚ï¼š1å’Œ2è¿™ä¸¤ä¸ªè¯·æ±‚æ˜¯ä¸æ˜¯åŒä¸€ä¸ªæµè§ˆå™¨å‘å‡ºæ¥çš„ï¼Œ3å’Œ5è¿™ä¸¤ä¸ªè¯·æ±‚ä¸æ˜¯åŒä¸€ä¸ªæµè§ˆå™¨å‘å‡ºæ¥çš„ã€‚å¦‚æœæ˜¯åŒä¸€ä¸ªæµè§ˆå™¨å‘å‡ºæ¥çš„ï¼Œå°±è¯´æ˜æ˜¯åŒä¸€ä¸ªä¼šè¯ã€‚å¦‚æœæ˜¯ä¸åŒçš„æµè§ˆå™¨å‘å‡ºæ¥çš„ï¼Œå°±è¯´æ˜æ˜¯ä¸åŒçš„ä¼šè¯ã€‚è€Œè¯†åˆ«å¤šæ¬¡è¯·æ±‚æ˜¯å¦æ¥è‡ªäºåŒä¸€æµè§ˆå™¨çš„è¿‡ç¨‹ï¼Œæˆ‘ä»¬å°±ç§°ä¸ºä¼šè¯è·Ÿè¸ªã€‚\næˆ‘ä»¬ä½¿ç”¨ä¼šè¯è·Ÿè¸ªæŠ€æœ¯å°±æ˜¯è¦å®Œæˆåœ¨åŒä¸€ä¸ªä¼šè¯ä¸­ï¼Œå¤šä¸ªè¯·æ±‚ä¹‹é—´è¿›è¡Œå…±äº«æ•°æ®ã€‚\nä¸ºä»€ä¹ˆè¦å…±äº«æ•°æ®å‘¢ï¼Ÿ\nç”±äºHTTPæ˜¯æ— çŠ¶æ€åè®®ï¼Œåœ¨åé¢è¯·æ±‚ä¸­æ€ä¹ˆæ‹¿åˆ°å‰ä¸€æ¬¡è¯·æ±‚ç”Ÿæˆçš„æ•°æ®å‘¢ï¼Ÿæ­¤æ—¶å°±éœ€è¦åœ¨ä¸€æ¬¡ä¼šè¯çš„å¤šæ¬¡è¯·æ±‚ä¹‹é—´è¿›è¡Œæ•°æ®å…±äº«\nä¼šè¯è·Ÿè¸ªæŠ€æœ¯æœ‰ä¸¤ç§ï¼š\nCookieï¼ˆå®¢æˆ·ç«¯ä¼šè¯è·Ÿè¸ªæŠ€æœ¯ï¼‰ æ•°æ®å­˜å‚¨åœ¨å®¢æˆ·ç«¯æµè§ˆå™¨å½“ä¸­ Sessionï¼ˆæœåŠ¡ç«¯ä¼šè¯è·Ÿè¸ªæŠ€æœ¯ï¼‰ æ•°æ®å­˜å‚¨åœ¨å‚¨åœ¨æœåŠ¡ç«¯ ä»¤ç‰ŒæŠ€æœ¯ 2.2.2 ä¼šè¯è·Ÿè¸ªæ–¹æ¡ˆ ä¸Šé¢æˆ‘ä»¬ä»‹ç»äº†ä»€ä¹ˆæ˜¯ä¼šè¯ï¼Œä»€ä¹ˆæ˜¯ä¼šè¯è·Ÿè¸ªï¼Œå¹¶ä¸”ä¹Ÿæåˆ°äº†ä¼šè¯è·Ÿè¸ª 3 ç§å¸¸è§çš„æŠ€æœ¯æ–¹æ¡ˆã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±æ¥å¯¹æ¯”ä¸€ä¸‹è¿™ 3 ç§ä¼šè¯è·Ÿè¸ªçš„æŠ€æœ¯æ–¹æ¡ˆï¼Œæ¥çœ‹ä¸€ä¸‹å…·ä½“çš„å®ç°æ€è·¯ï¼Œä»¥åŠå®ƒä»¬ä¹‹é—´çš„ä¼˜ç¼ºç‚¹ã€‚\n2.2.2.1 æ–¹æ¡ˆä¸€ - Cookie cookie æ˜¯å®¢æˆ·ç«¯ä¼šè¯è·Ÿè¸ªæŠ€æœ¯ï¼Œå®ƒæ˜¯å­˜å‚¨åœ¨å®¢æˆ·ç«¯æµè§ˆå™¨çš„ï¼Œæˆ‘ä»¬ä½¿ç”¨ cookie æ¥è·Ÿè¸ªä¼šè¯ï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨æµè§ˆå™¨ç¬¬ä¸€æ¬¡å‘èµ·è¯·æ±‚æ¥è¯·æ±‚æœåŠ¡å™¨çš„æ—¶å€™ï¼Œæˆ‘ä»¬åœ¨æœåŠ¡å™¨ç«¯æ¥è®¾ç½®ä¸€ä¸ªcookieã€‚\næ¯”å¦‚ç¬¬ä¸€æ¬¡è¯·æ±‚äº†ç™»å½•æ¥å£ï¼Œç™»å½•æ¥å£æ‰§è¡Œå®Œæˆä¹‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥è®¾ç½®ä¸€ä¸ªcookieï¼Œåœ¨ cookie å½“ä¸­æˆ‘ä»¬å°±å¯ä»¥æ¥å­˜å‚¨ç”¨æˆ·ç›¸å…³çš„ä¸€äº›æ•°æ®ä¿¡æ¯ã€‚æ¯”å¦‚æˆ‘å¯ä»¥åœ¨ cookie å½“ä¸­æ¥å­˜å‚¨å½“å‰ç™»å½•ç”¨æˆ·çš„ç”¨æˆ·åï¼Œç”¨æˆ·çš„IDã€‚\næœåŠ¡å™¨ç«¯åœ¨ç»™å®¢æˆ·ç«¯åœ¨å“åº”æ•°æ®çš„æ—¶å€™ï¼Œä¼šè‡ªåŠ¨çš„å°† cookie å“åº”ç»™æµè§ˆå™¨ï¼Œæµè§ˆå™¨æ¥æ”¶åˆ°å“åº”å›æ¥çš„ cookie ä¹‹åï¼Œä¼šè‡ªåŠ¨çš„å°† cookie çš„å€¼å­˜å‚¨åœ¨æµè§ˆå™¨æœ¬åœ°ã€‚æ¥ä¸‹æ¥åœ¨åç»­çš„æ¯ä¸€æ¬¡è¯·æ±‚å½“ä¸­ï¼Œéƒ½ä¼šå°†æµè§ˆå™¨æœ¬åœ°æ‰€å­˜å‚¨çš„ cookie è‡ªåŠ¨åœ°æºå¸¦åˆ°æœåŠ¡ç«¯ã€‚\næ¥ä¸‹æ¥åœ¨æœåŠ¡ç«¯æˆ‘ä»¬å°±å¯ä»¥è·å–åˆ° cookie çš„å€¼ã€‚æˆ‘ä»¬å¯ä»¥å»åˆ¤æ–­ä¸€ä¸‹è¿™ä¸ª cookie çš„å€¼æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœä¸å­˜åœ¨è¿™ä¸ªcookieï¼Œå°±è¯´æ˜å®¢æˆ·ç«¯ä¹‹å‰æ˜¯æ²¡æœ‰è®¿é—®ç™»å½•æ¥å£çš„ï¼›å¦‚æœå­˜åœ¨ cookie çš„å€¼ï¼Œå°±è¯´æ˜å®¢æˆ·ç«¯ä¹‹å‰å·²ç»ç™»å½•å®Œæˆäº†ã€‚è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥åŸºäº cookie åœ¨åŒä¸€æ¬¡ä¼šè¯çš„ä¸åŒè¯·æ±‚ä¹‹é—´æ¥å…±äº«æ•°æ®ã€‚\næˆ‘åˆšæ‰åœ¨ä»‹ç»æµç¨‹çš„æ—¶å€™ï¼Œç”¨äº† 3 ä¸ªè‡ªåŠ¨ï¼š\næœåŠ¡å™¨ä¼š è‡ªåŠ¨ çš„å°† cookie å“åº”ç»™æµè§ˆå™¨ã€‚\næµè§ˆå™¨æ¥æ”¶åˆ°å“åº”å›æ¥çš„æ•°æ®ä¹‹åï¼Œä¼š è‡ªåŠ¨ çš„å°† cookie å­˜å‚¨åœ¨æµè§ˆå™¨æœ¬åœ°ã€‚\nåœ¨åç»­çš„è¯·æ±‚å½“ä¸­ï¼Œæµè§ˆå™¨ä¼š è‡ªåŠ¨ çš„å°† cookie æºå¸¦åˆ°æœåŠ¡å™¨ç«¯ã€‚\nä¸ºä»€ä¹ˆè¿™ä¸€åˆ‡éƒ½æ˜¯è‡ªåŠ¨åŒ–è¿›è¡Œçš„ï¼Ÿ\næ˜¯å› ä¸º cookie å®ƒæ˜¯ HTP åè®®å½“ä¸­æ‰€æ”¯æŒçš„æŠ€æœ¯ï¼Œè€Œå„å¤§æµè§ˆå™¨å‚å•†éƒ½æ”¯æŒäº†è¿™ä¸€æ ‡å‡†ã€‚åœ¨ HTTP åè®®å®˜æ–¹ç»™æˆ‘ä»¬æä¾›äº†ä¸€ä¸ªå“åº”å¤´å’Œè¯·æ±‚å¤´ï¼š\nå“åº”å¤´ Set-Cookie ï¼šè®¾ç½®Cookieæ•°æ®çš„\nè¯·æ±‚å¤´ Cookieï¼šæºå¸¦Cookieæ•°æ®çš„\nä»£ç æµ‹è¯•\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 @Slf4j @RestController public class SessionController { //è®¾ç½®Cookie @GetMapping(\u0026#34;/c1\u0026#34;) public Result cookie1(HttpServletResponse response){ response.addCookie(new Cookie(\u0026#34;login_username\u0026#34;,\u0026#34;itheima\u0026#34;)); //è®¾ç½®Cookie/å“åº”Cookie return Result.success(); } //è·å–Cookie @GetMapping(\u0026#34;/c2\u0026#34;) public Result cookie2(HttpServletRequest request){ Cookie[] cookies = request.getCookies(); for (Cookie cookie : cookies) { if(cookie.getName().equals(\u0026#34;login_username\u0026#34;)){ System.out.println(\u0026#34;login_username: \u0026#34;+cookie.getValue()); //è¾“å‡ºnameä¸ºlogin_usernameçš„cookie } } return Result.success(); } } A. è®¿é—®c1æ¥å£ï¼Œè®¾ç½®Cookieï¼Œhttp://localhost:8080/c1\næˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œè®¾ç½®çš„cookieï¼Œé€šè¿‡å“åº”å¤´Set-Cookieå“åº”ç»™æµè§ˆå™¨ï¼Œå¹¶ä¸”æµè§ˆå™¨ä¼šå°†Cookieï¼Œå­˜å‚¨åœ¨æµè§ˆå™¨ç«¯ã€‚\nB. è®¿é—®c2æ¥å£ http://localhost:8080/c2ï¼Œæ­¤æ—¶æµè§ˆå™¨ä¼šè‡ªåŠ¨çš„å°†Cookieæºå¸¦åˆ°æœåŠ¡ç«¯ï¼Œæ˜¯é€šè¿‡è¯·æ±‚å¤´Cookieï¼Œæºå¸¦çš„ã€‚\nä¼˜ç¼ºç‚¹\nä¼˜ç‚¹ï¼šHTTPåè®®ä¸­æ”¯æŒçš„æŠ€æœ¯ï¼ˆåƒSet-Cookie å“åº”å¤´çš„è§£æä»¥åŠ Cookie è¯·æ±‚å¤´æ•°æ®çš„æºå¸¦ï¼Œéƒ½æ˜¯æµè§ˆå™¨è‡ªåŠ¨è¿›è¡Œçš„ï¼Œæ˜¯æ— éœ€æˆ‘ä»¬æ‰‹åŠ¨æ“ä½œçš„ï¼‰ ç¼ºç‚¹ï¼š ç§»åŠ¨ç«¯APP(Androidã€IOS)ä¸­æ— æ³•ä½¿ç”¨Cookie ä¸å®‰å…¨ï¼Œç”¨æˆ·å¯ä»¥è‡ªå·±ç¦ç”¨Cookie Cookieä¸èƒ½è·¨åŸŸ è·¨åŸŸä»‹ç»ï¼š\nâ€‹\tç°åœ¨çš„é¡¹ç›®ï¼Œå¤§éƒ¨åˆ†éƒ½æ˜¯å‰åç«¯åˆ†ç¦»çš„ï¼Œå‰åç«¯æœ€ç»ˆä¹Ÿä¼šåˆ†å¼€éƒ¨ç½²ï¼Œå‰ç«¯éƒ¨ç½²åœ¨æœåŠ¡å™¨ 192.168.150.200 ä¸Šï¼Œç«¯å£ 80ï¼Œåç«¯éƒ¨ç½²åœ¨ 192.168.150.100ä¸Šï¼Œç«¯å£ 8080 æˆ‘ä»¬æ‰“å¼€æµè§ˆå™¨ç›´æ¥è®¿é—®å‰ç«¯å·¥ç¨‹ï¼Œè®¿é—®urlï¼šhttp://192.168.150.200/login.html ç„¶ååœ¨è¯¥é¡µé¢å‘èµ·è¯·æ±‚åˆ°æœåŠ¡ç«¯ï¼Œè€ŒæœåŠ¡ç«¯æ‰€åœ¨åœ°å€ä¸å†æ˜¯localhostï¼Œè€Œæ˜¯æœåŠ¡å™¨çš„IPåœ°å€192.168.150.100ï¼Œå‡è®¾è®¿é—®æ¥å£åœ°å€ä¸ºï¼šhttp://192.168.150.100:8080/login é‚£æ­¤æ—¶å°±å­˜åœ¨è·¨åŸŸæ“ä½œäº†ï¼Œå› ä¸ºæˆ‘ä»¬æ˜¯åœ¨ http://192.168.150.200/login.html è¿™ä¸ªé¡µé¢ä¸Šè®¿é—®äº†http://192.168.150.100:8080/login æ¥å£ æ­¤æ—¶å¦‚æœæœåŠ¡å™¨è®¾ç½®äº†ä¸€ä¸ªCookieï¼Œè¿™ä¸ªCookieæ˜¯ä¸èƒ½ä½¿ç”¨çš„ï¼Œå› ä¸ºCookieæ— æ³•è·¨åŸŸ åŒºåˆ†è·¨åŸŸçš„ç»´åº¦ï¼š\nåè®® IP/åè®® ç«¯å£ åªè¦ä¸Šè¿°çš„ä¸‰ä¸ªç»´åº¦æœ‰ä»»ä½•ä¸€ä¸ªç»´åº¦ä¸åŒï¼Œé‚£å°±æ˜¯è·¨åŸŸæ“ä½œ\nä¸¾ä¾‹ï¼š\nâ€‹\thttp://192.168.150.200/login.html \u0026mdash;\u0026mdash;\u0026mdash;-\u0026gt; https://192.168.150.200/login [åè®®ä¸åŒï¼Œè·¨åŸŸ]\nâ€‹\thttp://192.168.150.200/login.html \u0026mdash;\u0026mdash;\u0026mdash;-\u0026gt; http://192.168.150.100/login [IPä¸åŒï¼Œè·¨åŸŸ]\nâ€‹\thttp://192.168.150.200/login.html \u0026mdash;\u0026mdash;\u0026mdash;-\u0026gt; http://192.168.150.200:8080/login [ç«¯å£ä¸åŒï¼Œè·¨åŸŸ]\nâ€‹ http://192.168.150.200/login.html \u0026mdash;\u0026mdash;\u0026mdash;-\u0026gt; http://192.168.150.200/login [ä¸è·¨åŸŸ]\n2.2.2.2 æ–¹æ¡ˆäºŒ - Session å‰é¢ä»‹ç»çš„æ—¶å€™ï¼Œæˆ‘ä»¬æåˆ°Sessionï¼Œå®ƒæ˜¯æœåŠ¡å™¨ç«¯ä¼šè¯è·Ÿè¸ªæŠ€æœ¯ï¼Œæ‰€ä»¥å®ƒæ˜¯å­˜å‚¨åœ¨æœåŠ¡å™¨ç«¯çš„ã€‚è€Œ Session çš„åº•å±‚å…¶å®å°±æ˜¯åŸºäºæˆ‘ä»¬åˆšæ‰æ‰€ä»‹ç»çš„ Cookie æ¥å®ç°çš„ã€‚\nè·å–Session\nå¦‚æœæˆ‘ä»¬ç°åœ¨è¦åŸºäº Session æ¥è¿›è¡Œä¼šè¯è·Ÿè¸ªï¼Œæµè§ˆå™¨åœ¨ç¬¬ä¸€æ¬¡è¯·æ±‚æœåŠ¡å™¨çš„æ—¶å€™ï¼Œæˆ‘ä»¬å°±å¯ä»¥ç›´æ¥åœ¨æœåŠ¡å™¨å½“ä¸­æ¥è·å–åˆ°ä¼šè¯å¯¹è±¡Sessionã€‚å¦‚æœæ˜¯ç¬¬ä¸€æ¬¡è¯·æ±‚Session ï¼Œä¼šè¯å¯¹è±¡æ˜¯ä¸å­˜åœ¨çš„ï¼Œè¿™ä¸ªæ—¶å€™æœåŠ¡å™¨ä¼šè‡ªåŠ¨çš„åˆ›å»ºä¸€ä¸ªä¼šè¯å¯¹è±¡Session ã€‚è€Œæ¯ä¸€ä¸ªä¼šè¯å¯¹è±¡Session ï¼Œå®ƒéƒ½æœ‰ä¸€ä¸ªIDï¼ˆç¤ºæ„å›¾ä¸­Sessionåé¢æ‹¬å·ä¸­çš„1ï¼Œå°±è¡¨ç¤ºIDï¼‰ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸º Session çš„IDã€‚\nå“åº”Cookie (JSESSIONID)\næ¥ä¸‹æ¥ï¼ŒæœåŠ¡å™¨ç«¯åœ¨ç»™æµè§ˆå™¨å“åº”æ•°æ®çš„æ—¶å€™ï¼Œå®ƒä¼šå°† Session çš„ ID é€šè¿‡ Cookie å“åº”ç»™æµè§ˆå™¨ã€‚å…¶å®åœ¨å“åº”å¤´å½“ä¸­å¢åŠ äº†ä¸€ä¸ª Set-Cookie å“åº”å¤´ã€‚è¿™ä¸ª Set-Cookie å“åº”å¤´å¯¹åº”çš„å€¼æ˜¯ä¸æ˜¯cookieï¼Ÿ cookie çš„åå­—æ˜¯å›ºå®šçš„ JSESSIONID ä»£è¡¨çš„æœåŠ¡å™¨ç«¯ä¼šè¯å¯¹è±¡ Session çš„ IDã€‚æµè§ˆå™¨ä¼šè‡ªåŠ¨è¯†åˆ«è¿™ä¸ªå“åº”å¤´ï¼Œç„¶åè‡ªåŠ¨å°†Cookieå­˜å‚¨åœ¨æµè§ˆå™¨æœ¬åœ°ã€‚\næŸ¥æ‰¾Session\næ¥ä¸‹æ¥ï¼Œåœ¨åç»­çš„æ¯ä¸€æ¬¡è¯·æ±‚å½“ä¸­ï¼Œéƒ½ä¼šå°† Cookie çš„æ•°æ®è·å–å‡ºæ¥ï¼Œå¹¶ä¸”æºå¸¦åˆ°æœåŠ¡ç«¯ã€‚æ¥ä¸‹æ¥æœåŠ¡å™¨æ‹¿åˆ°JSESSIONIDè¿™ä¸ª Cookie çš„å€¼ï¼Œä¹Ÿå°±æ˜¯ Session çš„IDã€‚æ‹¿åˆ° ID ä¹‹åï¼Œå°±ä¼šä»ä¼—å¤šçš„ Session å½“ä¸­æ¥æ‰¾åˆ°å½“å‰è¯·æ±‚å¯¹åº”çš„ä¼šè¯å¯¹è±¡Sessionã€‚\nè¿™æ ·æˆ‘ä»¬æ˜¯ä¸æ˜¯å°±å¯ä»¥é€šè¿‡ Session ä¼šè¯å¯¹è±¡åœ¨åŒä¸€æ¬¡ä¼šè¯çš„å¤šæ¬¡è¯·æ±‚ä¹‹é—´æ¥å…±äº«æ•°æ®äº†ï¼Ÿå¥½ï¼Œè¿™å°±æ˜¯åŸºäº Session è¿›è¡Œä¼šè¯è·Ÿè¸ªçš„æµç¨‹ã€‚\nä»£ç æµ‹è¯•\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 @Slf4j @RestController public class SessionController { @GetMapping(\u0026#34;/s1\u0026#34;) public Result session1(HttpSession session){ log.info(\u0026#34;HttpSession-s1: {}\u0026#34;, session.hashCode()); session.setAttribute(\u0026#34;loginUser\u0026#34;, \u0026#34;tom\u0026#34;); //å¾€sessionä¸­å­˜å‚¨æ•°æ® return Result.success(); } @GetMapping(\u0026#34;/s2\u0026#34;) public Result session2(HttpServletRequest request){ HttpSession session = request.getSession(); log.info(\u0026#34;HttpSession-s2: {}\u0026#34;, session.hashCode()); Object loginUser = session.getAttribute(\u0026#34;loginUser\u0026#34;); //ä»sessionä¸­è·å–æ•°æ® log.info(\u0026#34;loginUser: {}\u0026#34;, loginUser); return Result.success(loginUser); } } A. è®¿é—® s1 æ¥å£ï¼Œhttp://localhost:8080/s1\nè¯·æ±‚å®Œæˆä¹‹åï¼Œåœ¨å“åº”å¤´ä¸­ï¼Œå°±ä¼šçœ‹åˆ°æœ‰ä¸€ä¸ªSet-Cookieçš„å“åº”å¤´ï¼Œé‡Œé¢å“åº”å›æ¥äº†ä¸€ä¸ªCookieï¼Œå°±æ˜¯JSESSIONIDï¼Œè¿™ä¸ªå°±æ˜¯æœåŠ¡ç«¯ä¼šè¯å¯¹è±¡ Session çš„IDã€‚\nB. è®¿é—® s2 æ¥å£ï¼Œhttp://localhost:8080/s2\næ¥ä¸‹æ¥ï¼Œåœ¨åç»­çš„æ¯æ¬¡è¯·æ±‚æ—¶ï¼Œéƒ½ä¼šå°†Cookieçš„å€¼ï¼Œæºå¸¦åˆ°æœåŠ¡ç«¯ï¼Œé‚£æœåŠ¡ç«¯å‘¢ï¼Œæ¥æ”¶åˆ°Cookieä¹‹åï¼Œä¼šè‡ªåŠ¨çš„æ ¹æ®JSESSIONIDçš„å€¼ï¼Œæ‰¾åˆ°å¯¹åº”çš„ä¼šè¯å¯¹è±¡Sessionã€‚\né‚£ç»è¿‡è¿™ä¸¤æ­¥æµ‹è¯•ï¼Œå¤§å®¶ä¹Ÿä¼šçœ‹åˆ°ï¼Œåœ¨æ§åˆ¶å°ä¸­è¾“å‡ºå¦‚ä¸‹æ—¥å¿—ï¼š\nä¸¤æ¬¡è¯·æ±‚ï¼Œè·å–åˆ°çš„Sessionä¼šè¯å¯¹è±¡çš„hashcodeæ˜¯ä¸€æ ·çš„ï¼Œå°±è¯´æ˜æ˜¯åŒä¸€ä¸ªä¼šè¯å¯¹è±¡ã€‚è€Œä¸”ï¼Œç¬¬ä¸€æ¬¡è¯·æ±‚æ—¶ï¼Œå¾€Sessionä¼šè¯å¯¹è±¡ä¸­å­˜å‚¨çš„å€¼ï¼Œç¬¬äºŒæ¬¡è¯·æ±‚æ—¶ï¼Œä¹Ÿè·å–åˆ°äº†ã€‚ é‚£è¿™æ ·ï¼Œæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡Sessionä¼šè¯å¯¹è±¡ï¼Œåœ¨åŒä¸€ä¸ªä¼šè¯çš„å¤šæ¬¡è¯·æ±‚ä¹‹é—´æ¥è¿›è¡Œæ•°æ®å…±äº«äº†ã€‚\nä¼˜ç¼ºç‚¹\nä¼˜ç‚¹ï¼šSessionæ˜¯å­˜å‚¨åœ¨æœåŠ¡ç«¯çš„ï¼Œå®‰å…¨ ç¼ºç‚¹ï¼š æœåŠ¡å™¨é›†ç¾¤ç¯å¢ƒä¸‹æ— æ³•ç›´æ¥ä½¿ç”¨Session ç§»åŠ¨ç«¯APP(Androidã€IOS)ä¸­æ— æ³•ä½¿ç”¨Cookie ç”¨æˆ·å¯ä»¥è‡ªå·±ç¦ç”¨Cookie Cookieä¸èƒ½è·¨åŸŸ PSï¼šSession åº•å±‚æ˜¯åŸºäºCookieå®ç°çš„ä¼šè¯è·Ÿè¸ªï¼Œå¦‚æœCookieä¸å¯ç”¨ï¼Œåˆ™è¯¥æ–¹æ¡ˆï¼Œä¹Ÿå°±å¤±æ•ˆäº†ã€‚\næœåŠ¡å™¨é›†ç¾¤ç¯å¢ƒä¸ºä½•æ— æ³•ä½¿ç”¨Sessionï¼Ÿ\nâ€‹\té¦–å…ˆç¬¬ä¸€ç‚¹ï¼Œæˆ‘ä»¬ç°åœ¨æ‰€å¼€å‘çš„é¡¹ç›®ï¼Œä¸€èˆ¬éƒ½ä¸ä¼šåªéƒ¨ç½²åœ¨ä¸€å°æœåŠ¡å™¨ä¸Šï¼Œå› ä¸ºä¸€å°æœåŠ¡å™¨ä¼šå­˜åœ¨ä¸€ä¸ªå¾ˆå¤§çš„é—®é¢˜ï¼Œå°±æ˜¯å•ç‚¹æ•…éšœã€‚æ‰€è°“å•ç‚¹æ•…éšœï¼ŒæŒ‡çš„å°±æ˜¯ä¸€æ—¦è¿™å°æœåŠ¡å™¨æŒ‚äº†ï¼Œæ•´ä¸ªåº”ç”¨éƒ½æ²¡æ³•è®¿é—®äº†ã€‚ â€‹ æ‰€ä»¥åœ¨ç°åœ¨çš„ä¼ä¸šé¡¹ç›®å¼€å‘å½“ä¸­ï¼Œæœ€ç»ˆéƒ¨ç½²çš„æ—¶å€™éƒ½æ˜¯ä»¥é›†ç¾¤çš„å½¢å¼æ¥è¿›è¡Œéƒ¨ç½²ï¼Œä¹Ÿå°±æ˜¯åŒä¸€ä¸ªé¡¹ç›®å®ƒä¼šéƒ¨ç½²å¤šä»½ã€‚æ¯”å¦‚è¿™ä¸ªé¡¹ç›®æˆ‘ä»¬ç°åœ¨å°±éƒ¨ç½²äº† 3 ä»½ã€‚\nè€Œç”¨æˆ·åœ¨è®¿é—®çš„æ—¶å€™ï¼Œåˆ°åº•è®¿é—®è¿™ä¸‰å°å…¶ä¸­çš„å“ªä¸€å°ï¼Ÿå…¶å®ç”¨æˆ·åœ¨è®¿é—®çš„æ—¶å€™ï¼Œä»–ä¼šè®¿é—®ä¸€å°å‰ç½®çš„æœåŠ¡å™¨ï¼Œæˆ‘ä»¬å«è´Ÿè½½å‡è¡¡æœåŠ¡å™¨ï¼Œæˆ‘ä»¬åœ¨åé¢é¡¹ç›®å½“ä¸­ä¼šè¯¦ç»†è®²è§£ã€‚ç›®å‰å¤§å®¶å…ˆæœ‰ä¸€ä¸ªå°è±¡è´Ÿè½½å‡è¡¡æœåŠ¡å™¨ï¼Œå®ƒçš„ä½œç”¨å°±æ˜¯å°†å‰ç«¯å‘èµ·çš„è¯·æ±‚å‡åŒ€çš„åˆ†å‘ç»™åé¢çš„è¿™ä¸‰å°æœåŠ¡å™¨ã€‚\næ­¤æ—¶å‡å¦‚æˆ‘ä»¬é€šè¿‡ session æ¥è¿›è¡Œä¼šè¯è·Ÿè¸ªï¼Œå¯èƒ½å°±ä¼šå­˜åœ¨è¿™æ ·ä¸€ä¸ªé—®é¢˜ã€‚ç”¨æˆ·æ‰“å¼€æµè§ˆå™¨è¦è¿›è¡Œç™»å½•æ“ä½œï¼Œæ­¤æ—¶ä¼šå‘èµ·ç™»å½•è¯·æ±‚ã€‚ç™»å½•è¯·æ±‚åˆ°è¾¾è´Ÿè½½å‡è¡¡æœåŠ¡å™¨ï¼Œå°†è¿™ä¸ªè¯·æ±‚è½¬ç»™äº†ç¬¬ä¸€å° Tomcat æœåŠ¡å™¨ã€‚\nTomcat æœåŠ¡å™¨æ¥æ”¶åˆ°è¯·æ±‚ä¹‹åï¼Œè¦è·å–åˆ°ä¼šè¯å¯¹è±¡sessionã€‚è·å–åˆ°ä¼šè¯å¯¹è±¡ session ä¹‹åï¼Œè¦ç»™æµè§ˆå™¨å“åº”æ•°æ®ï¼Œæœ€ç»ˆåœ¨ç»™æµè§ˆå™¨å“åº”æ•°æ®çš„æ—¶å€™ï¼Œå°±ä¼šæºå¸¦è¿™ä¹ˆä¸€ä¸ª cookie çš„åå­—ï¼Œå°±æ˜¯ JSESSIONID ï¼Œä¸‹ä¸€æ¬¡å†è¯·æ±‚çš„æ—¶å€™ï¼Œæ˜¯ä¸æ˜¯åˆä¼šå°† Cookie æºå¸¦åˆ°æœåŠ¡ç«¯ï¼Ÿ\nå¥½ã€‚æ­¤æ—¶å‡å¦‚åˆæ‰§è¡Œäº†ä¸€æ¬¡æŸ¥è¯¢æ“ä½œï¼Œè¦æŸ¥è¯¢éƒ¨é—¨çš„æ•°æ®ã€‚è¿™æ¬¡è¯·æ±‚åˆ°è¾¾è´Ÿè½½å‡è¡¡æœåŠ¡å™¨ä¹‹åï¼Œè´Ÿè½½å‡è¡¡æœåŠ¡å™¨å°†è¿™æ¬¡è¯·æ±‚è½¬ç»™äº†ç¬¬äºŒå° Tomcat æœåŠ¡å™¨ï¼Œæ­¤æ—¶ä»–å°±è¦åˆ°ç¬¬äºŒå° Tomcat æœåŠ¡å™¨å½“ä¸­ã€‚æ ¹æ®JSESSIONID ä¹Ÿå°±æ˜¯å¯¹åº”çš„ session çš„ ID å€¼ï¼Œè¦æ‰¾å¯¹åº”çš„ session ä¼šè¯å¯¹è±¡ã€‚\næˆ‘æƒ³è¯·é—®åœ¨ç¬¬äºŒå°æœåŠ¡å™¨å½“ä¸­æœ‰æ²¡æœ‰è¿™ä¸ªIDçš„ä¼šè¯å¯¹è±¡ Sessionï¼Œ æ˜¯æ²¡æœ‰çš„ã€‚æ­¤æ—¶æ˜¯ä¸æ˜¯å°±å‡ºç°é—®é¢˜äº†ï¼Ÿæˆ‘åŒä¸€ä¸ªæµè§ˆå™¨å‘èµ·äº† 2 æ¬¡è¯·æ±‚ï¼Œç»“æœè·å–åˆ°çš„ä¸æ˜¯åŒä¸€ä¸ªä¼šè¯å¯¹è±¡ï¼Œè¿™å°±æ˜¯Sessionè¿™ç§ä¼šè¯è·Ÿè¸ªæ–¹æ¡ˆå®ƒçš„ç¼ºç‚¹ï¼Œåœ¨æœåŠ¡å™¨é›†ç¾¤ç¯å¢ƒä¸‹æ— æ³•ç›´æ¥ä½¿ç”¨Sessionã€‚\nå¤§å®¶ä¼šçœ‹åˆ°ä¸Šé¢è¿™ä¸¤ç§ä¼ ç»Ÿçš„ä¼šè¯æŠ€æœ¯ï¼Œåœ¨ç°åœ¨çš„ä¼ä¸šå¼€å‘å½“ä¸­æ˜¯ä¸æ˜¯ä¼šå­˜åœ¨å¾ˆå¤šçš„é—®é¢˜ã€‚ ä¸ºäº†è§£å†³è¿™äº›é—®é¢˜ï¼Œåœ¨ç°åœ¨çš„ä¼ä¸šå¼€å‘å½“ä¸­ï¼ŒåŸºæœ¬ä¸Šéƒ½ä¼šé‡‡ç”¨ç¬¬ä¸‰ç§æ–¹æ¡ˆï¼Œé€šè¿‡ä»¤ç‰ŒæŠ€æœ¯æ¥è¿›è¡Œä¼šè¯è·Ÿè¸ªã€‚æ¥ä¸‹æ¥æˆ‘ä»¬å°±æ¥ä»‹ç»ä¸€ä¸‹ä»¤ç‰ŒæŠ€æœ¯ï¼Œæ¥çœ‹ä¸€ä¸‹ä»¤ç‰ŒæŠ€æœ¯åˆæ˜¯å¦‚ä½•è·Ÿè¸ªä¼šè¯çš„ã€‚\n2.2.2.3 æ–¹æ¡ˆä¸‰ - ä»¤ç‰ŒæŠ€æœ¯ è¿™é‡Œæˆ‘ä»¬æ‰€æåˆ°çš„ä»¤ç‰Œï¼Œå…¶å®å®ƒå°±æ˜¯ä¸€ä¸ªç”¨æˆ·èº«ä»½çš„æ ‡è¯†ï¼Œçœ‹ä¼¼å¾ˆé«˜å¤§ä¸Šï¼Œå¾ˆç¥ç§˜ï¼Œå…¶å®æœ¬è´¨å°±æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚\nå¦‚æœé€šè¿‡ä»¤ç‰ŒæŠ€æœ¯æ¥è·Ÿè¸ªä¼šè¯ï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨æµè§ˆå™¨å‘èµ·è¯·æ±‚ã€‚åœ¨è¯·æ±‚ç™»å½•æ¥å£çš„æ—¶å€™ï¼Œå¦‚æœç™»å½•æˆåŠŸï¼Œæˆ‘å°±å¯ä»¥ç”Ÿæˆä¸€ä¸ªä»¤ç‰Œï¼Œä»¤ç‰Œå°±æ˜¯ç”¨æˆ·çš„åˆæ³•èº«ä»½å‡­è¯ã€‚æ¥ä¸‹æ¥æˆ‘åœ¨å“åº”æ•°æ®çš„æ—¶å€™ï¼Œæˆ‘å°±å¯ä»¥ç›´æ¥å°†ä»¤ç‰Œå“åº”ç»™å‰ç«¯ã€‚\næ¥ä¸‹æ¥æˆ‘ä»¬åœ¨å‰ç«¯ç¨‹åºå½“ä¸­æ¥æ”¶åˆ°ä»¤ç‰Œä¹‹åï¼Œå°±éœ€è¦å°†è¿™ä¸ªä»¤ç‰Œå­˜å‚¨èµ·æ¥ã€‚è¿™ä¸ªå­˜å‚¨å¯ä»¥å­˜å‚¨åœ¨ cookie å½“ä¸­ï¼Œä¹Ÿå¯ä»¥å­˜å‚¨åœ¨å…¶ä»–çš„å­˜å‚¨ç©ºé—´(æ¯”å¦‚ï¼šlocalStorage)å½“ä¸­ã€‚\næ¥ä¸‹æ¥ï¼Œåœ¨åç»­çš„æ¯ä¸€æ¬¡è¯·æ±‚å½“ä¸­ï¼Œéƒ½éœ€è¦å°†ä»¤ç‰Œæºå¸¦åˆ°æœåŠ¡ç«¯ã€‚æºå¸¦åˆ°æœåŠ¡ç«¯ä¹‹åï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°±éœ€è¦æ¥æ ¡éªŒä»¤ç‰Œçš„æœ‰æ•ˆæ€§ã€‚å¦‚æœä»¤ç‰Œæ˜¯æœ‰æ•ˆçš„ï¼Œå°±è¯´æ˜ç”¨æˆ·å·²ç»æ‰§è¡Œäº†ç™»å½•æ“ä½œï¼Œå¦‚æœä»¤ç‰Œæ˜¯æ— æ•ˆçš„ï¼Œå°±è¯´æ˜ç”¨æˆ·ä¹‹å‰å¹¶æœªæ‰§è¡Œç™»å½•æ“ä½œã€‚\næ­¤æ—¶ï¼Œå¦‚æœæ˜¯åœ¨åŒä¸€æ¬¡ä¼šè¯çš„å¤šæ¬¡è¯·æ±‚ä¹‹é—´ï¼Œæˆ‘ä»¬æƒ³å…±äº«æ•°æ®ï¼Œæˆ‘ä»¬å°±å¯ä»¥å°†å…±äº«çš„æ•°æ®å­˜å‚¨åœ¨ä»¤ç‰Œå½“ä¸­å°±å¯ä»¥äº†ã€‚\nä¼˜ç¼ºç‚¹\nä¼˜ç‚¹ï¼š æ”¯æŒPCç«¯ã€ç§»åŠ¨ç«¯ è§£å†³é›†ç¾¤ç¯å¢ƒä¸‹çš„è®¤è¯é—®é¢˜ å‡è½»æœåŠ¡å™¨çš„å­˜å‚¨å‹åŠ›ï¼ˆæ— éœ€åœ¨æœåŠ¡å™¨ç«¯å­˜å‚¨ï¼‰ ç¼ºç‚¹ï¼šéœ€è¦è‡ªå·±å®ç°ï¼ˆåŒ…æ‹¬ä»¤ç‰Œçš„ç”Ÿæˆã€ä»¤ç‰Œçš„ä¼ é€’ã€ä»¤ç‰Œçš„æ ¡éªŒï¼‰ é’ˆå¯¹äºè¿™ä¸‰ç§æ–¹æ¡ˆï¼Œç°åœ¨ä¼ä¸šå¼€å‘å½“ä¸­ä½¿ç”¨çš„æœ€å¤šçš„å°±æ˜¯ç¬¬ä¸‰ç§ä»¤ç‰ŒæŠ€æœ¯è¿›è¡Œä¼šè¯è·Ÿè¸ªã€‚è€Œå‰é¢çš„è¿™ä¸¤ç§ä¼ ç»Ÿçš„æ–¹æ¡ˆï¼Œç°åœ¨ä¼ä¸šé¡¹ç›®å¼€å‘å½“ä¸­å·²ç»å¾ˆå°‘ä½¿ç”¨äº†ã€‚æ‰€ä»¥åœ¨æˆ‘ä»¬çš„è¯¾ç¨‹å½“ä¸­ï¼Œæˆ‘ä»¬ä¹Ÿå°†ä¼šé‡‡ç”¨ä»¤ç‰ŒæŠ€æœ¯æ¥è§£å†³æ¡ˆä¾‹é¡¹ç›®å½“ä¸­çš„ä¼šè¯è·Ÿè¸ªé—®é¢˜ã€‚\n2.3 JWTä»¤ç‰Œ å‰é¢æˆ‘ä»¬ä»‹ç»äº†åŸºäºä»¤ç‰ŒæŠ€æœ¯æ¥å®ç°ä¼šè¯è¿½è¸ªã€‚è¿™é‡Œæ‰€æåˆ°çš„ä»¤ç‰Œå°±æ˜¯ç”¨æˆ·èº«ä»½çš„æ ‡è¯†ï¼Œå…¶æœ¬è´¨å°±æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚ä»¤ç‰Œçš„å½¢å¼æœ‰å¾ˆå¤šï¼Œæˆ‘ä»¬ä½¿ç”¨çš„æ˜¯åŠŸèƒ½å¼ºå¤§çš„ JWTä»¤ç‰Œã€‚\n2.3.1 ä»‹ç» JWTå…¨ç§°ï¼šJSON Web Token ï¼ˆå®˜ç½‘ï¼šhttps://jwt.io/ï¼‰\nå®šä¹‰äº†ä¸€ç§ç®€æ´çš„ã€è‡ªåŒ…å«çš„æ ¼å¼ï¼Œç”¨äºåœ¨é€šä¿¡åŒæ–¹ä»¥jsonæ•°æ®æ ¼å¼å®‰å…¨çš„ä¼ è¾“ä¿¡æ¯ã€‚ç”±äºæ•°å­—ç­¾åçš„å­˜åœ¨ï¼Œè¿™äº›ä¿¡æ¯æ˜¯å¯é çš„ã€‚\nç®€æ´ï¼šæ˜¯æŒ‡jwtå°±æ˜¯ä¸€ä¸ªç®€å•çš„å­—ç¬¦ä¸²ã€‚å¯ä»¥åœ¨è¯·æ±‚å‚æ•°æˆ–è€…æ˜¯è¯·æ±‚å¤´å½“ä¸­ç›´æ¥ä¼ é€’ã€‚\nè‡ªåŒ…å«ï¼šæŒ‡çš„æ˜¯jwtä»¤ç‰Œï¼Œçœ‹ä¼¼æ˜¯ä¸€ä¸ªéšæœºçš„å­—ç¬¦ä¸²ï¼Œä½†æ˜¯æˆ‘ä»¬æ˜¯å¯ä»¥æ ¹æ®è‡ªèº«çš„éœ€æ±‚åœ¨jwtä»¤ç‰Œä¸­å­˜å‚¨è‡ªå®šä¹‰çš„æ•°æ®å†…å®¹ã€‚å¦‚ï¼šå¯ä»¥ç›´æ¥åœ¨jwtä»¤ç‰Œä¸­å­˜å‚¨ç”¨æˆ·çš„ç›¸å…³ä¿¡æ¯ã€‚\nç®€å•æ¥è®²ï¼Œjwtå°±æ˜¯å°†åŸå§‹çš„jsonæ•°æ®æ ¼å¼è¿›è¡Œäº†å®‰å…¨çš„å°è£…ï¼Œè¿™æ ·å°±å¯ä»¥ç›´æ¥åŸºäºjwtåœ¨é€šä¿¡åŒæ–¹å®‰å…¨çš„è¿›è¡Œä¿¡æ¯ä¼ è¾“äº†ã€‚\nJWTçš„ç»„æˆï¼š ï¼ˆJWTä»¤ç‰Œç”±ä¸‰ä¸ªéƒ¨åˆ†ç»„æˆï¼Œä¸‰ä¸ªéƒ¨åˆ†ä¹‹é—´ä½¿ç”¨è‹±æ–‡çš„ç‚¹æ¥åˆ†å‰²ï¼‰\nç¬¬ä¸€éƒ¨åˆ†ï¼šHeader(å¤´ï¼‰ï¼Œ è®°å½•ä»¤ç‰Œç±»å‹ã€ç­¾åç®—æ³•ç­‰ã€‚ ä¾‹å¦‚ï¼š{\u0026ldquo;alg\u0026rdquo;:\u0026ldquo;HS256\u0026rdquo;,\u0026ldquo;type\u0026rdquo;:\u0026ldquo;JWT\u0026rdquo;}\nç¬¬äºŒéƒ¨åˆ†ï¼šPayload(æœ‰æ•ˆè½½è·ï¼‰ï¼Œæºå¸¦ä¸€äº›è‡ªå®šä¹‰ä¿¡æ¯ã€é»˜è®¤ä¿¡æ¯ç­‰ã€‚ ä¾‹å¦‚ï¼š{\u0026ldquo;id\u0026rdquo;:\u0026ldquo;1\u0026rdquo;,\u0026ldquo;username\u0026rdquo;:\u0026ldquo;Tom\u0026rdquo;}\nç¬¬ä¸‰éƒ¨åˆ†ï¼šSignature(ç­¾åï¼‰ï¼Œé˜²æ­¢Tokenè¢«ç¯¡æ”¹ã€ç¡®ä¿å®‰å…¨æ€§ã€‚å°†headerã€payloadï¼Œå¹¶åŠ å…¥æŒ‡å®šç§˜é’¥ï¼Œé€šè¿‡æŒ‡å®šç­¾åç®—æ³•è®¡ç®—è€Œæ¥ã€‚\nç­¾åçš„ç›®çš„å°±æ˜¯ä¸ºäº†é˜²jwtä»¤ç‰Œè¢«ç¯¡æ”¹ï¼Œè€Œæ­£æ˜¯å› ä¸ºjwtä»¤ç‰Œæœ€åä¸€ä¸ªéƒ¨åˆ†æ•°å­—ç­¾åçš„å­˜åœ¨ï¼Œæ‰€ä»¥æ•´ä¸ªjwt ä»¤ç‰Œæ˜¯éå¸¸å®‰å…¨å¯é çš„ã€‚ä¸€æ—¦jwtä»¤ç‰Œå½“ä¸­ä»»ä½•ä¸€ä¸ªéƒ¨åˆ†ã€ä»»ä½•ä¸€ä¸ªå­—ç¬¦è¢«ç¯¡æ”¹äº†ï¼Œæ•´ä¸ªä»¤ç‰Œåœ¨æ ¡éªŒçš„æ—¶å€™éƒ½ä¼šå¤±è´¥ï¼Œæ‰€ä»¥å®ƒæ˜¯éå¸¸å®‰å…¨å¯é çš„ã€‚\nJWTæ˜¯å¦‚ä½•å°†åŸå§‹çš„JSONæ ¼å¼æ•°æ®ï¼Œè½¬å˜ä¸ºå­—ç¬¦ä¸²çš„å‘¢ï¼Ÿ\nå…¶å®åœ¨ç”ŸæˆJWTä»¤ç‰Œæ—¶ï¼Œä¼šå¯¹JSONæ ¼å¼çš„æ•°æ®è¿›è¡Œä¸€æ¬¡ç¼–ç ï¼šè¿›è¡Œbase64ç¼–ç \nBase64ï¼šæ˜¯ä¸€ç§åŸºäº64ä¸ªå¯æ‰“å°çš„å­—ç¬¦æ¥è¡¨ç¤ºäºŒè¿›åˆ¶æ•°æ®çš„ç¼–ç æ–¹å¼ã€‚æ—¢ç„¶èƒ½ç¼–ç ï¼Œé‚£ä¹Ÿå°±æ„å‘³ç€ä¹Ÿèƒ½è§£ç ã€‚æ‰€ä½¿ç”¨çš„64ä¸ªå­—ç¬¦åˆ†åˆ«æ˜¯Aåˆ°Zã€aåˆ°zã€ 0- 9ï¼Œä¸€ä¸ªåŠ å·ï¼Œä¸€ä¸ªæ–œæ ï¼ŒåŠ èµ·æ¥å°±æ˜¯64ä¸ªå­—ç¬¦ã€‚ä»»ä½•æ•°æ®ç»è¿‡base64ç¼–ç ä¹‹åï¼Œæœ€ç»ˆå°±ä¼šé€šè¿‡è¿™64ä¸ªå­—ç¬¦æ¥è¡¨ç¤ºã€‚å½“ç„¶è¿˜æœ‰ä¸€ä¸ªç¬¦å·ï¼Œé‚£å°±æ˜¯ç­‰å·ã€‚ç­‰å·å®ƒæ˜¯ä¸€ä¸ªè¡¥ä½çš„ç¬¦å·\néœ€è¦æ³¨æ„çš„æ˜¯Base64æ˜¯ç¼–ç æ–¹å¼ï¼Œè€Œä¸æ˜¯åŠ å¯†æ–¹å¼ã€‚\nJWTä»¤ç‰Œæœ€å…¸å‹çš„åº”ç”¨åœºæ™¯å°±æ˜¯ç™»å½•è®¤è¯ï¼š\nåœ¨æµè§ˆå™¨å‘èµ·è¯·æ±‚æ¥æ‰§è¡Œç™»å½•æ“ä½œï¼Œæ­¤æ—¶ä¼šè®¿é—®ç™»å½•çš„æ¥å£ï¼Œå¦‚æœç™»å½•æˆåŠŸä¹‹åï¼Œæˆ‘ä»¬éœ€è¦ç”Ÿæˆä¸€ä¸ªjwtä»¤ç‰Œï¼Œå°†ç”Ÿæˆçš„ jwtä»¤ç‰Œè¿”å›ç»™å‰ç«¯ã€‚ å‰ç«¯æ‹¿åˆ°jwtä»¤ç‰Œä¹‹åï¼Œä¼šå°†jwtä»¤ç‰Œå­˜å‚¨èµ·æ¥ã€‚åœ¨åç»­çš„æ¯ä¸€æ¬¡è¯·æ±‚ä¸­éƒ½ä¼šå°†jwtä»¤ç‰Œæºå¸¦åˆ°æœåŠ¡ç«¯ã€‚ æœåŠ¡ç«¯ç»Ÿä¸€æ‹¦æˆªè¯·æ±‚ä¹‹åï¼Œå…ˆæ¥åˆ¤æ–­ä¸€ä¸‹è¿™æ¬¡è¯·æ±‚æœ‰æ²¡æœ‰æŠŠä»¤ç‰Œå¸¦è¿‡æ¥ï¼Œå¦‚æœæ²¡æœ‰å¸¦è¿‡æ¥ï¼Œç›´æ¥æ‹’ç»è®¿é—®ï¼Œå¦‚æœå¸¦è¿‡æ¥äº†ï¼Œè¿˜è¦æ ¡éªŒä¸€ä¸‹ä»¤ç‰Œæ˜¯å¦æ˜¯æœ‰æ•ˆã€‚å¦‚æœæœ‰æ•ˆï¼Œå°±ç›´æ¥æ”¾è¡Œè¿›è¡Œè¯·æ±‚çš„å¤„ç†ã€‚ åœ¨JWTç™»å½•è®¤è¯çš„åœºæ™¯ä¸­æˆ‘ä»¬å‘ç°ï¼Œæ•´ä¸ªæµç¨‹å½“ä¸­æ¶‰åŠåˆ°ä¸¤æ­¥æ“ä½œï¼š\nåœ¨ç™»å½•æˆåŠŸä¹‹åï¼Œè¦ç”Ÿæˆä»¤ç‰Œã€‚ æ¯ä¸€æ¬¡è¯·æ±‚å½“ä¸­ï¼Œè¦æ¥æ”¶ä»¤ç‰Œå¹¶å¯¹ä»¤ç‰Œè¿›è¡Œæ ¡éªŒã€‚ ç¨åæˆ‘ä»¬å†æ¥å­¦ä¹ å¦‚ä½•æ¥ç”Ÿæˆjwtä»¤ç‰Œï¼Œä»¥åŠå¦‚ä½•æ¥æ ¡éªŒjwtä»¤ç‰Œã€‚\n2.3.2 ç”Ÿæˆå’Œæ ¡éªŒ ç®€å•ä»‹ç»äº†JWTä»¤ç‰Œä»¥åŠJWTä»¤ç‰Œçš„ç»„æˆä¹‹åï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°±æ¥å­¦ä¹ åŸºäºJavaä»£ç å¦‚ä½•ç”Ÿæˆå’Œæ ¡éªŒJWTä»¤ç‰Œã€‚\né¦–å…ˆæˆ‘ä»¬å…ˆæ¥å®ç°JWTä»¤ç‰Œçš„ç”Ÿæˆã€‚è¦æƒ³ä½¿ç”¨JWTä»¤ç‰Œï¼Œéœ€è¦å…ˆå¼•å…¥JWTçš„ä¾èµ–ï¼š\n1 2 3 4 5 6 \u0026lt;!-- JWTä¾èµ–--\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;io.jsonwebtoken\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;jjwt\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;0.9.1\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; åœ¨å¼•å…¥å®ŒJWTæ¥èµ–åï¼Œå°±å¯ä»¥è°ƒç”¨å·¥å…·åŒ…ä¸­æä¾›çš„APIæ¥å®ŒæˆJWTä»¤ç‰Œçš„ç”Ÿæˆå’Œæ ¡éªŒ\nå·¥å…·ç±»ï¼šJwts\nç”ŸæˆJWTä»£ç å®ç°ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 @Test public void genJwt(){ Map\u0026lt;String,Object\u0026gt; claims = new HashMap\u0026lt;\u0026gt;(); claims.put(\u0026#34;id\u0026#34;,1); claims.put(\u0026#34;username\u0026#34;,\u0026#34;Tom\u0026#34;); String jwt = Jwts.builder() .setClaims(claims) //è‡ªå®šä¹‰å†…å®¹(è½½è·) .signWith(SignatureAlgorithm.HS256, \u0026#34;itheima\u0026#34;) //ç­¾åç®—æ³• .setExpiration(new Date(System.currentTimeMillis() + 24*3600*1000)) //æœ‰æ•ˆæœŸ .compact(); System.out.println(jwt); } è¿è¡Œæµ‹è¯•æ–¹æ³•ï¼š\n1 eyJhbGciOiJIUzI1NiJ9.eyJpZCI6MSwiZXhwIjoxNjcyNzI5NzMwfQ.fHi0Ub8npbyt71UqLXDdLyipptLgxBUg_mSuGJtXtBk è¾“å‡ºçš„ç»“æœå°±æ˜¯ç”Ÿæˆçš„JWTä»¤ç‰Œ,ï¼Œé€šè¿‡è‹±æ–‡çš„ç‚¹åˆ†å‰²å¯¹ä¸‰ä¸ªéƒ¨åˆ†è¿›è¡Œåˆ†å‰²ï¼Œæˆ‘ä»¬å¯ä»¥å°†ç”Ÿæˆçš„ä»¤ç‰Œå¤åˆ¶ä¸€ä¸‹ï¼Œç„¶åæ‰“å¼€JWTçš„å®˜ç½‘ï¼Œå°†ç”Ÿæˆçš„ä»¤ç‰Œç›´æ¥æ”¾åœ¨Encodedä½ç½®ï¼Œæ­¤æ—¶å°±ä¼šè‡ªåŠ¨çš„å°†ä»¤ç‰Œè§£æå‡ºæ¥ã€‚\nç¬¬ä¸€éƒ¨åˆ†è§£æå‡ºæ¥ï¼Œçœ‹åˆ°JSONæ ¼å¼çš„åŸå§‹æ•°æ®ï¼Œæ‰€ä½¿ç”¨çš„ç­¾åç®—æ³•ä¸ºHS256ã€‚\nç¬¬äºŒä¸ªéƒ¨åˆ†æ˜¯æˆ‘ä»¬è‡ªå®šä¹‰çš„æ•°æ®ï¼Œä¹‹å‰æˆ‘ä»¬è‡ªå®šä¹‰çš„æ•°æ®å°±æ˜¯idï¼Œè¿˜æœ‰ä¸€ä¸ªexpä»£è¡¨çš„æ˜¯æˆ‘ä»¬æ‰€è®¾ç½®çš„è¿‡æœŸæ—¶é—´ã€‚\nç”±äºå‰ä¸¤ä¸ªéƒ¨åˆ†æ˜¯base64ç¼–ç ï¼Œæ‰€ä»¥æ˜¯å¯ä»¥ç›´æ¥è§£ç å‡ºæ¥ã€‚ä½†æœ€åä¸€ä¸ªéƒ¨åˆ†å¹¶ä¸æ˜¯base64ç¼–ç ï¼Œæ˜¯ç»è¿‡ç­¾åç®—æ³•è®¡ç®—å‡ºæ¥çš„ï¼Œæ‰€ä»¥æœ€åä¸€ä¸ªéƒ¨åˆ†æ˜¯ä¸ä¼šè§£æçš„ã€‚\nå®ç°äº†JWTä»¤ç‰Œçš„ç”Ÿæˆï¼Œä¸‹é¢æˆ‘ä»¬æ¥ç€ä½¿ç”¨Javaä»£ç æ¥æ ¡éªŒJWTä»¤ç‰Œ(è§£æç”Ÿæˆçš„ä»¤ç‰Œ)ï¼š\n1 2 3 4 5 6 7 8 9 @Test public void parseJwt(){ Claims claims = Jwts.parser() .setSigningKey(\u0026#34;itheima\u0026#34;)//æŒ‡å®šç­¾åå¯†é’¥ï¼ˆå¿…é¡»ä¿è¯å’Œç”Ÿæˆä»¤ç‰Œæ—¶ä½¿ç”¨ç›¸åŒçš„ç­¾åå¯†é’¥ï¼‰ .parseClaimsJws(\u0026#34;eyJhbGciOiJIUzI1NiJ9.eyJpZCI6MSwiZXhwIjoxNjcyNzI5NzMwfQ.fHi0Ub8npbyt71UqLXDdLyipptLgxBUg_mSuGJtXtBk\u0026#34;) .getBody(); System.out.println(claims); } è¿è¡Œæµ‹è¯•æ–¹æ³•ï¼š\n1 {id=1, exp=1672729730} ä»¤ç‰Œè§£æåï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°idå’Œè¿‡æœŸæ—¶é—´ï¼Œå¦‚æœåœ¨è§£æçš„è¿‡ç¨‹å½“ä¸­æ²¡æœ‰æŠ¥é”™ï¼Œå°±è¯´æ˜è§£ææˆåŠŸäº†ã€‚\nä¸‹é¢æˆ‘ä»¬åšä¸€ä¸ªæµ‹è¯•ï¼šæŠŠä»¤ç‰Œheaderä¸­çš„æ•°å­—9å˜ä¸º8ï¼Œè¿è¡Œæµ‹è¯•æ–¹æ³•åå‘ç°æŠ¥é”™ï¼š\nåŸheaderï¼š eyJhbGciOiJIUzI1NiJ9\nä¿®æ”¹ä¸ºï¼š eyJhbGciOiJIUzI1NiJ8\nç»“è®ºï¼šç¯¡æ”¹ä»¤ç‰Œä¸­çš„ä»»ä½•ä¸€ä¸ªå­—ç¬¦ï¼Œåœ¨å¯¹ä»¤ç‰Œè¿›è¡Œè§£ææ—¶éƒ½ä¼šæŠ¥é”™ï¼Œæ‰€ä»¥JWTä»¤ç‰Œæ˜¯éå¸¸å®‰å…¨å¯é çš„ã€‚\næˆ‘ä»¬ç»§ç»­æµ‹è¯•ï¼šä¿®æ”¹ç”Ÿæˆä»¤ç‰Œçš„æ—¶æŒ‡å®šçš„è¿‡æœŸæ—¶é—´ï¼Œä¿®æ”¹ä¸º1åˆ†é’Ÿ\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 @Test public void genJwt(){ Map\u0026lt;String,Object\u0026gt; claims = new HashMap\u0026lt;\u0026gt;(); claims.put(â€œidâ€,1); claims.put(â€œusernameâ€,â€œTomâ€); String jwt = Jwts.builder() .setClaims(claims) //è‡ªå®šä¹‰å†…å®¹(è½½è·) .signWith(SignatureAlgorithm.HS256, â€œitheimaâ€) //ç­¾åç®—æ³• .setExpiration(new Date(System.currentTimeMillis() + 60*1000)) //æœ‰æ•ˆæœŸ60ç§’ .compact(); System.out.println(jwt); //è¾“å‡ºç»“æœï¼šeyJhbGciOiJIUzI1NiJ9.eyJpZCI6MSwiZXhwIjoxNjczMDA5NzU0fQ.RcVIR65AkGiax-ID6FjW60eLFH3tPTKdoK7UtE4A1ro } @Test public void parseJwt(){ Claims claims = Jwts.parser() .setSigningKey(\u0026#34;itheima\u0026#34;)//æŒ‡å®šç­¾åå¯†é’¥ .parseClaimsJws(\u0026#34;eyJhbGciOiJIUzI1NiJ9.eyJpZCI6MSwiZXhwIjoxNjczMDA5NzU0fQ.RcVIR65AkGiax-ID6FjW60eLFH3tPTKdoK7UtE4A1ro\u0026#34;) .getBody(); System.out.println(claims); } ç­‰å¾…1åˆ†é’Ÿä¹‹åè¿è¡Œæµ‹è¯•æ–¹æ³•å‘ç°ä¹ŸæŠ¥é”™äº†ï¼Œè¯´æ˜ï¼šJWTä»¤ç‰Œè¿‡æœŸåï¼Œä»¤ç‰Œå°±å¤±æ•ˆäº†ï¼Œè§£æçš„ä¸ºéæ³•ä»¤ç‰Œã€‚\né€šè¿‡ä»¥ä¸Šæµ‹è¯•ï¼Œæˆ‘ä»¬åœ¨ä½¿ç”¨JWTä»¤ç‰Œæ—¶éœ€è¦æ³¨æ„ï¼š\nJWTæ ¡éªŒæ—¶ä½¿ç”¨çš„ç­¾åç§˜é’¥ï¼Œå¿…é¡»å’Œç”ŸæˆJWTä»¤ç‰Œæ—¶ä½¿ç”¨çš„ç§˜é’¥æ˜¯é…å¥—çš„ã€‚\nå¦‚æœJWTä»¤ç‰Œè§£ææ ¡éªŒæ—¶æŠ¥é”™ï¼Œåˆ™è¯´æ˜ JWTä»¤ç‰Œè¢«ç¯¡æ”¹ æˆ– å¤±æ•ˆäº†ï¼Œä»¤ç‰Œéæ³•ã€‚\n2.3.3 ç™»å½•ä¸‹å‘ä»¤ç‰Œ JWTä»¤ç‰Œçš„ç”Ÿæˆå’Œæ ¡éªŒçš„åŸºæœ¬æ“ä½œæˆ‘ä»¬å·²ç»å­¦ä¹ å®Œäº†ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°±éœ€è¦åœ¨æ¡ˆä¾‹å½“ä¸­é€šè¿‡JWTä»¤ç‰ŒæŠ€æœ¯æ¥è·Ÿè¸ªä¼šè¯ã€‚å…·ä½“çš„æ€è·¯æˆ‘ä»¬å‰é¢å·²ç»åˆ†æè¿‡äº†ï¼Œä¸»è¦å°±æ˜¯ä¸¤æ­¥æ“ä½œï¼š\nç”Ÿæˆä»¤ç‰Œ åœ¨ç™»å½•æˆåŠŸä¹‹åæ¥ç”Ÿæˆä¸€ä¸ªJWTä»¤ç‰Œï¼Œå¹¶ä¸”æŠŠè¿™ä¸ªä»¤ç‰Œç›´æ¥è¿”å›ç»™å‰ç«¯ æ ¡éªŒä»¤ç‰Œ æ‹¦æˆªå‰ç«¯è¯·æ±‚ï¼Œä»è¯·æ±‚ä¸­è·å–åˆ°ä»¤ç‰Œï¼Œå¯¹ä»¤ç‰Œè¿›è¡Œè§£ææ ¡éªŒ é‚£æˆ‘ä»¬é¦–å…ˆæ¥å®Œæˆï¼šç™»å½•æˆåŠŸä¹‹åç”ŸæˆJWTä»¤ç‰Œï¼Œå¹¶ä¸”æŠŠä»¤ç‰Œè¿”å›ç»™å‰ç«¯ã€‚\nJWTä»¤ç‰Œæ€ä¹ˆè¿”å›ç»™å‰ç«¯å‘¢ï¼Ÿæ­¤æ—¶æˆ‘ä»¬å°±éœ€è¦å†æ¥çœ‹ä¸€ä¸‹æ¥å£æ–‡æ¡£å½“ä¸­å…³äºç™»å½•æ¥å£çš„æè¿°ï¼ˆä¸»è¦çœ‹å“åº”æ•°æ®ï¼‰ï¼š\nå“åº”æ•°æ®\nå‚æ•°æ ¼å¼ï¼šapplication/json\nå‚æ•°è¯´æ˜ï¼š\nåç§° ç±»å‹ æ˜¯å¦å¿…é¡» é»˜è®¤å€¼ å¤‡æ³¨ å…¶ä»–ä¿¡æ¯ code number å¿…é¡» å“åº”ç , 1 æˆåŠŸ ; 0 å¤±è´¥ msg string éå¿…é¡» æç¤ºä¿¡æ¯ data string å¿…é¡» è¿”å›çš„æ•°æ® , jwtä»¤ç‰Œ å“åº”æ•°æ®æ ·ä¾‹ï¼š\n1 2 3 4 5 { \u0026#34;code\u0026#34;: 1, \u0026#34;msg\u0026#34;: \u0026#34;success\u0026#34;, \u0026#34;data\u0026#34;: \u0026#34;eyJhbGciOiJIUzI1NiJ9.eyJuYW1lIjoi6YeR5bq4IiwiaWQiOjEsInVzZXJuYW1lIjoiamlueW9uZyIsImV4cCI6MTY2MjIwNzA0OH0.KkUc_CXJZJ8Dd063eImx4H9Ojfrr6XMJ-yVzaWCVZCo\u0026#34; } å¤‡æ³¨è¯´æ˜\nç”¨æˆ·ç™»å½•æˆåŠŸåï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨ä¸‹å‘JWTä»¤ç‰Œï¼Œç„¶ååœ¨åç»­çš„æ¯æ¬¡è¯·æ±‚ä¸­ï¼Œéƒ½éœ€è¦åœ¨è¯·æ±‚å¤´headerä¸­æºå¸¦åˆ°æœåŠ¡ç«¯ï¼Œè¯·æ±‚å¤´çš„åç§°ä¸º token ï¼Œå€¼ä¸º ç™»å½•æ—¶ä¸‹å‘çš„JWTä»¤ç‰Œã€‚\nå¦‚æœæ£€æµ‹åˆ°ç”¨æˆ·æœªç™»å½•ï¼Œåˆ™ä¼šè¿”å›å¦‚ä¸‹å›ºå®šé”™è¯¯ä¿¡æ¯ï¼š\n1 2 3 4 5 { \u0026#34;code\u0026#34;: 0, \u0026#34;msg\u0026#34;: \u0026#34;NOT_LOGIN\u0026#34;, \u0026#34;data\u0026#34;: null } è§£è¯»å®Œæ¥å£æ–‡æ¡£ä¸­çš„æè¿°äº†ï¼Œç›®å‰æˆ‘ä»¬å…ˆæ¥å®Œæˆä»¤ç‰Œçš„ç”Ÿæˆå’Œä»¤ç‰Œçš„ä¸‹å‘ï¼Œæˆ‘ä»¬åªéœ€è¦ç”Ÿæˆä¸€ä¸ªä»¤ç‰Œè¿”å›ç»™å‰ç«¯å°±å¯ä»¥äº†ã€‚\nå®ç°æ­¥éª¤ï¼š\nå¼•å…¥JWTå·¥å…·ç±» åœ¨é¡¹ç›®å·¥ç¨‹ä¸‹åˆ›å»ºcom.itheima.utilsåŒ…ï¼Œå¹¶æŠŠæä¾›JWTå·¥å…·ç±»å¤åˆ¶åˆ°è¯¥åŒ…ä¸‹ ç™»å½•å®Œæˆåï¼Œè°ƒç”¨å·¥å…·ç±»ç”ŸæˆJWTä»¤ç‰Œå¹¶è¿”å› JWTå·¥å…·ç±»\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 public class JwtUtils { private static String signKey = \u0026#34;itheima\u0026#34;;//ç­¾åå¯†é’¥ private static Long expire = 43200000L; //æœ‰æ•ˆæ—¶é—´ /** * ç”ŸæˆJWTä»¤ç‰Œ * @param claims JWTç¬¬äºŒéƒ¨åˆ†è´Ÿè½½ payload ä¸­å­˜å‚¨çš„å†…å®¹ * @return */ public static String generateJwt(Map\u0026lt;String, Object\u0026gt; claims){ String jwt = Jwts.builder() .addClaims(claims)//è‡ªå®šä¹‰ä¿¡æ¯ï¼ˆæœ‰æ•ˆè½½è·ï¼‰ .signWith(SignatureAlgorithm.HS256, signKey)//ç­¾åç®—æ³•ï¼ˆå¤´éƒ¨ï¼‰ .setExpiration(new Date(System.currentTimeMillis() + expire))//è¿‡æœŸæ—¶é—´ .compact(); return jwt; } /** * è§£æJWTä»¤ç‰Œ * @param jwt JWTä»¤ç‰Œ * @return JWTç¬¬äºŒéƒ¨åˆ†è´Ÿè½½ payload ä¸­å­˜å‚¨çš„å†…å®¹ */ public static Claims parseJWT(String jwt){ Claims claims = Jwts.parser() .setSigningKey(signKey)//æŒ‡å®šç­¾åå¯†é’¥ .parseClaimsJws(jwt)//æŒ‡å®šä»¤ç‰ŒToken .getBody(); return claims; } } ç™»å½•æˆåŠŸï¼Œç”ŸæˆJWTä»¤ç‰Œå¹¶è¿”å›\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 @RestController @Slf4j public class LoginController { //ä¾èµ–ä¸šåŠ¡å±‚å¯¹è±¡ @Autowired private EmpService empService; @PostMapping(\u0026#34;/login\u0026#34;) public Result login(@RequestBody Emp emp) { //è°ƒç”¨ä¸šåŠ¡å±‚ï¼šç™»å½•åŠŸèƒ½ Emp loginEmp = empService.login(emp); //åˆ¤æ–­ï¼šç™»å½•ç”¨æˆ·æ˜¯å¦å­˜åœ¨ if(loginEmp !=null ){ //è‡ªå®šä¹‰ä¿¡æ¯ Map\u0026lt;String , Object\u0026gt; claims = new HashMap\u0026lt;\u0026gt;(); claims.put(\u0026#34;id\u0026#34;, loginEmp.getId()); claims.put(\u0026#34;username\u0026#34;,loginEmp.getUsername()); claims.put(\u0026#34;name\u0026#34;,loginEmp.getName()); //ä½¿ç”¨JWTå·¥å…·ç±»ï¼Œç”Ÿæˆèº«ä»½ä»¤ç‰Œ String token = JwtUtils.generateJwt(claims); return Result.success(token); } return Result.error(\u0026#34;ç”¨æˆ·åæˆ–å¯†ç é”™è¯¯\u0026#34;); } } é‡å¯æœåŠ¡ï¼Œæ‰“å¼€postmanæµ‹è¯•ç™»å½•æ¥å£ï¼š\næ‰“å¼€æµè§ˆå™¨å®Œæˆå‰åç«¯è”è°ƒæ“ä½œï¼šåˆ©ç”¨å¼€å‘è€…å·¥å…·ï¼ŒæŠ“å–ä¸€ä¸‹ç½‘ç»œè¯·æ±‚\nç™»å½•è¯·æ±‚å®Œæˆåï¼Œå¯ä»¥çœ‹åˆ°JWTä»¤ç‰Œå·²ç»å“åº”ç»™äº†å‰ç«¯ï¼Œæ­¤æ—¶å‰ç«¯å°±ä¼šå°†JWTä»¤ç‰Œå­˜å‚¨åœ¨æµè§ˆå™¨æœ¬åœ°ã€‚\næœåŠ¡å™¨å“åº”çš„JWTä»¤ç‰Œå­˜å‚¨åœ¨æœ¬åœ°æµè§ˆå™¨å“ªé‡Œäº†å‘¢ï¼Ÿ\nåœ¨å½“å‰æ¡ˆä¾‹ä¸­ï¼ŒJWTä»¤ç‰Œå­˜å‚¨åœ¨æµè§ˆå™¨çš„æœ¬åœ°å­˜å‚¨ç©ºé—´local storageä¸­äº†ã€‚ local storageæ˜¯æµè§ˆå™¨çš„æœ¬åœ°å­˜å‚¨ï¼Œåœ¨ç§»åŠ¨ç«¯ä¹Ÿæ˜¯æ”¯æŒçš„ã€‚ æˆ‘ä»¬åœ¨å‘èµ·ä¸€ä¸ªæŸ¥è¯¢éƒ¨é—¨æ•°æ®çš„è¯·æ±‚ï¼Œæ­¤æ—¶æˆ‘ä»¬å¯ä»¥çœ‹åˆ°åœ¨è¯·æ±‚å¤´ä¸­åŒ…å«ä¸€ä¸ªtoken(JWTä»¤ç‰Œ)ï¼Œåç»­çš„æ¯ä¸€æ¬¡è¯·æ±‚å½“ä¸­ï¼Œéƒ½ä¼šå°†è¿™ä¸ªä»¤ç‰Œæºå¸¦åˆ°æœåŠ¡ç«¯ã€‚\n2.4 è¿‡æ»¤å™¨Filter åˆšæ‰é€šè¿‡æµè§ˆå™¨çš„å¼€å‘è€…å·¥å…·ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°åœ¨åç»­çš„è¯·æ±‚å½“ä¸­ï¼Œéƒ½ä¼šåœ¨è¯·æ±‚å¤´ä¸­æºå¸¦JWTä»¤ç‰Œåˆ°æœåŠ¡ç«¯ï¼Œè€ŒæœåŠ¡ç«¯éœ€è¦ç»Ÿä¸€æ‹¦æˆªæ‰€æœ‰çš„è¯·æ±‚ï¼Œä»è€Œåˆ¤æ–­æ˜¯å¦æºå¸¦çš„æœ‰åˆæ³•çš„JWTä»¤ç‰Œã€‚ é‚£æ€ä¹ˆæ ·æ¥ç»Ÿä¸€æ‹¦æˆªåˆ°æ‰€æœ‰çš„è¯·æ±‚æ ¡éªŒä»¤ç‰Œçš„æœ‰æ•ˆæ€§å‘¢ï¼Ÿè¿™é‡Œæˆ‘ä»¬ä¼šå­¦ä¹ ä¸¤ç§è§£å†³æ–¹æ¡ˆï¼š\nFilterè¿‡æ»¤å™¨ Interceptoræ‹¦æˆªå™¨ æˆ‘ä»¬é¦–å…ˆæ¥å­¦ä¹ è¿‡æ»¤å™¨Filterã€‚\n2.4.1 å¿«é€Ÿå…¥é—¨ ä»€ä¹ˆæ˜¯Filterï¼Ÿ\nFilterè¡¨ç¤ºè¿‡æ»¤å™¨ï¼Œæ˜¯ JavaWebä¸‰å¤§ç»„ä»¶(Servletã€Filterã€Listener)ä¹‹ä¸€ã€‚ è¿‡æ»¤å™¨å¯ä»¥æŠŠå¯¹èµ„æºçš„è¯·æ±‚æ‹¦æˆªä¸‹æ¥ï¼Œä»è€Œå®ç°ä¸€äº›ç‰¹æ®Šçš„åŠŸèƒ½ ä½¿ç”¨äº†è¿‡æ»¤å™¨ä¹‹åï¼Œè¦æƒ³è®¿é—®webæœåŠ¡å™¨ä¸Šçš„èµ„æºï¼Œå¿…é¡»å…ˆç»è¿‡æ»¤å™¨ï¼Œè¿‡æ»¤å™¨å¤„ç†å®Œæ¯•ä¹‹åï¼Œæ‰å¯ä»¥è®¿é—®å¯¹åº”çš„èµ„æºã€‚ è¿‡æ»¤å™¨ä¸€èˆ¬å®Œæˆä¸€äº›é€šç”¨çš„æ“ä½œï¼Œæ¯”å¦‚ï¼šç™»å½•æ ¡éªŒã€ç»Ÿä¸€ç¼–ç å¤„ç†ã€æ•æ„Ÿå­—ç¬¦å¤„ç†ç­‰ã€‚ ä¸‹é¢æˆ‘ä»¬é€šè¿‡Filterå¿«é€Ÿå…¥é—¨ç¨‹åºæŒæ¡è¿‡æ»¤å™¨çš„åŸºæœ¬ä½¿ç”¨æ“ä½œï¼š\nç¬¬1æ­¥ï¼Œå®šä¹‰è¿‡æ»¤å™¨ ï¼š1.å®šä¹‰ä¸€ä¸ªç±»ï¼Œå®ç° Filter æ¥å£ï¼Œå¹¶é‡å†™å…¶æ‰€æœ‰æ–¹æ³•ã€‚ ç¬¬2æ­¥ï¼Œé…ç½®è¿‡æ»¤å™¨ï¼šFilterç±»ä¸ŠåŠ  @WebFilter æ³¨è§£ï¼Œé…ç½®æ‹¦æˆªèµ„æºçš„è·¯å¾„ã€‚å¼•å¯¼ç±»ä¸ŠåŠ  @ServletComponentScan å¼€å¯Servletç»„ä»¶æ”¯æŒã€‚ å®šä¹‰è¿‡æ»¤å™¨\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 //å®šä¹‰ä¸€ä¸ªç±»ï¼Œå®ç°ä¸€ä¸ªæ ‡å‡†çš„Filterè¿‡æ»¤å™¨çš„æ¥å£ public class DemoFilter implements Filter { @Override //åˆå§‹åŒ–æ–¹æ³•, åªè°ƒç”¨ä¸€æ¬¡ public void init(FilterConfig filterConfig) throws ServletException { System.out.println(\u0026#34;init åˆå§‹åŒ–æ–¹æ³•æ‰§è¡Œäº†\u0026#34;); } @Override //æ‹¦æˆªåˆ°è¯·æ±‚ä¹‹åè°ƒç”¨, è°ƒç”¨å¤šæ¬¡ public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException { System.out.println(\u0026#34;Demo æ‹¦æˆªåˆ°äº†è¯·æ±‚...æ”¾è¡Œå‰é€»è¾‘\u0026#34;); //æ”¾è¡Œ chain.doFilter(request,response); } @Override //é”€æ¯æ–¹æ³•, åªè°ƒç”¨ä¸€æ¬¡ public void destroy() { System.out.println(\u0026#34;destroy é”€æ¯æ–¹æ³•æ‰§è¡Œäº†\u0026#34;); } } initæ–¹æ³•ï¼šè¿‡æ»¤å™¨çš„åˆå§‹åŒ–æ–¹æ³•ã€‚åœ¨webæœåŠ¡å™¨å¯åŠ¨çš„æ—¶å€™ä¼šè‡ªåŠ¨çš„åˆ›å»ºFilterè¿‡æ»¤å™¨å¯¹è±¡ï¼Œåœ¨åˆ›å»ºè¿‡æ»¤å™¨å¯¹è±¡çš„æ—¶å€™ä¼šè‡ªåŠ¨è°ƒç”¨initåˆå§‹åŒ–æ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•åªä¼šè¢«è°ƒç”¨ä¸€æ¬¡ã€‚\ndoFilteræ–¹æ³•ï¼šè¿™ä¸ªæ–¹æ³•æ˜¯åœ¨æ¯ä¸€æ¬¡æ‹¦æˆªåˆ°è¯·æ±‚ä¹‹åéƒ½ä¼šè¢«è°ƒç”¨ï¼Œæ‰€ä»¥è¿™ä¸ªæ–¹æ³•æ˜¯ä¼šè¢«è°ƒç”¨å¤šæ¬¡çš„ï¼Œæ¯æ‹¦æˆªåˆ°ä¸€æ¬¡è¯·æ±‚å°±ä¼šè°ƒç”¨ä¸€æ¬¡doFilter()æ–¹æ³•ã€‚\ndestroyæ–¹æ³•ï¼š æ˜¯é”€æ¯çš„æ–¹æ³•ã€‚å½“æˆ‘ä»¬å…³é—­æœåŠ¡å™¨çš„æ—¶å€™ï¼Œå®ƒä¼šè‡ªåŠ¨çš„è°ƒç”¨é”€æ¯æ–¹æ³•destroyï¼Œè€Œè¿™ä¸ªé”€æ¯æ–¹æ³•ä¹Ÿåªä¼šè¢«è°ƒç”¨ä¸€æ¬¡ã€‚\nåœ¨å®šä¹‰å®ŒFilterä¹‹åï¼ŒFilterå…¶å®å¹¶ä¸ä¼šç”Ÿæ•ˆï¼Œè¿˜éœ€è¦å®ŒæˆFilterçš„é…ç½®ï¼ŒFilterçš„é…ç½®éå¸¸ç®€å•ï¼Œåªéœ€è¦åœ¨Filterç±»ä¸Šæ·»åŠ ä¸€ä¸ªæ³¨è§£ï¼š@WebFilterï¼Œå¹¶æŒ‡å®šå±æ€§urlPatternsï¼Œé€šè¿‡è¿™ä¸ªå±æ€§æŒ‡å®šè¿‡æ»¤å™¨è¦æ‹¦æˆªå“ªäº›è¯·æ±‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 @WebFilter(urlPatterns = \u0026#34;/*\u0026#34;) //é…ç½®è¿‡æ»¤å™¨è¦æ‹¦æˆªçš„è¯·æ±‚è·¯å¾„ï¼ˆ /* è¡¨ç¤ºæ‹¦æˆªæµè§ˆå™¨çš„æ‰€æœ‰è¯·æ±‚ ï¼‰ public class DemoFilter implements Filter { @Override //åˆå§‹åŒ–æ–¹æ³•, åªè°ƒç”¨ä¸€æ¬¡ public void init(FilterConfig filterConfig) throws ServletException { System.out.println(\u0026#34;init åˆå§‹åŒ–æ–¹æ³•æ‰§è¡Œäº†\u0026#34;); } @Override //æ‹¦æˆªåˆ°è¯·æ±‚ä¹‹åè°ƒç”¨, è°ƒç”¨å¤šæ¬¡ public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException { System.out.println(\u0026#34;Demo æ‹¦æˆªåˆ°äº†è¯·æ±‚...æ”¾è¡Œå‰é€»è¾‘\u0026#34;); //æ”¾è¡Œ chain.doFilter(request,response); } @Override //é”€æ¯æ–¹æ³•, åªè°ƒç”¨ä¸€æ¬¡ public void destroy() { System.out.println(\u0026#34;destroy é”€æ¯æ–¹æ³•æ‰§è¡Œäº†\u0026#34;); } } å½“æˆ‘ä»¬åœ¨Filterç±»ä¸Šé¢åŠ äº†@WebFilteræ³¨è§£ä¹‹åï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬è¿˜éœ€è¦åœ¨å¯åŠ¨ç±»ä¸Šé¢åŠ ä¸Šä¸€ä¸ªæ³¨è§£@ServletComponentScanï¼Œé€šè¿‡è¿™ä¸ª@ServletComponentScanæ³¨è§£æ¥å¼€å¯SpringBooté¡¹ç›®å¯¹äºServletç»„ä»¶çš„æ”¯æŒã€‚\n1 2 3 4 5 6 7 8 9 @ServletComponentScan @SpringBootApplication public class TliasWebManagementApplication { public static void main(String[] args) { SpringApplication.run(TliasWebManagementApplication.class, args); } } é‡æ–°å¯åŠ¨æœåŠ¡ï¼Œæ‰“å¼€æµè§ˆå™¨ï¼Œæ‰§è¡Œéƒ¨é—¨ç®¡ç†çš„è¯·æ±‚ï¼Œå¯ä»¥çœ‹åˆ°æ§åˆ¶å°è¾“å‡ºäº†è¿‡æ»¤å™¨ä¸­çš„å†…å®¹ï¼š\næ³¨æ„äº‹é¡¹ï¼š\nâ€‹\tåœ¨è¿‡æ»¤å™¨Filterä¸­ï¼Œå¦‚æœä¸æ‰§è¡Œæ”¾è¡Œæ“ä½œï¼Œå°†æ— æ³•è®¿é—®åé¢çš„èµ„æºã€‚ æ”¾è¡Œæ“ä½œï¼šchain.doFilter(request, response);\nç°åœ¨æˆ‘ä»¬å·²å®Œæˆäº†Filterè¿‡æ»¤å™¨çš„åŸºæœ¬ä½¿ç”¨ï¼Œä¸‹é¢æˆ‘ä»¬å°†å­¦ä¹ Filterè¿‡æ»¤å™¨åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­çš„ä¸€äº›ç»†èŠ‚ã€‚\n2.4.2 Filterè¯¦è§£ Filterè¿‡æ»¤å™¨çš„å¿«é€Ÿå…¥é—¨ç¨‹åºæˆ‘ä»¬å·²ç»å®Œæˆäº†ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°±è¦è¯¦ç»†çš„ä»‹ç»ä¸€ä¸‹è¿‡æ»¤å™¨Filteråœ¨ä½¿ç”¨ä¸­çš„ä¸€äº›ç»†èŠ‚ã€‚ä¸»è¦ä»‹ç»ä»¥ä¸‹3ä¸ªæ–¹é¢çš„ç»†èŠ‚ï¼š\nè¿‡æ»¤å™¨çš„æ‰§è¡Œæµç¨‹ è¿‡æ»¤å™¨çš„æ‹¦æˆªè·¯å¾„é…ç½® è¿‡æ»¤å™¨é“¾ 2.4.2.1 æ‰§è¡Œæµç¨‹ é¦–å…ˆæˆ‘ä»¬å…ˆæ¥çœ‹ä¸‹è¿‡æ»¤å™¨çš„æ‰§è¡Œæµç¨‹ï¼š\nè¿‡æ»¤å™¨å½“ä¸­æˆ‘ä»¬æ‹¦æˆªåˆ°äº†è¯·æ±‚ä¹‹åï¼Œå¦‚æœå¸Œæœ›ç»§ç»­è®¿é—®åé¢çš„webèµ„æºï¼Œå°±è¦æ‰§è¡Œæ”¾è¡Œæ“ä½œï¼Œæ”¾è¡Œå°±æ˜¯è°ƒç”¨ FilterChainå¯¹è±¡å½“ä¸­çš„doFilter()æ–¹æ³•ï¼Œåœ¨è°ƒç”¨doFilter()è¿™ä¸ªæ–¹æ³•ä¹‹å‰æ‰€ç¼–å†™çš„ä»£ç å±äºæ”¾è¡Œä¹‹å‰çš„é€»è¾‘ã€‚\nåœ¨æ”¾è¡Œåè®¿é—®å®Œ web èµ„æºä¹‹åè¿˜ä¼šå›åˆ°è¿‡æ»¤å™¨å½“ä¸­ï¼Œå›åˆ°è¿‡æ»¤å™¨ä¹‹åå¦‚æœ‰éœ€æ±‚è¿˜å¯ä»¥æ‰§è¡Œæ”¾è¡Œä¹‹åçš„é€»è¾‘ï¼Œæ”¾è¡Œä¹‹åçš„é€»è¾‘æˆ‘ä»¬å†™åœ¨doFilter()è¿™è¡Œä»£ç ä¹‹åã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 @WebFilter(urlPatterns = \u0026#34;/*\u0026#34;) public class DemoFilter implements Filter { @Override //åˆå§‹åŒ–æ–¹æ³•, åªè°ƒç”¨ä¸€æ¬¡ public void init(FilterConfig filterConfig) throws ServletException { System.out.println(\u0026#34;init åˆå§‹åŒ–æ–¹æ³•æ‰§è¡Œäº†\u0026#34;); } @Override public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain) throws IOException, ServletException { System.out.println(\u0026#34;DemoFilter æ”¾è¡Œå‰é€»è¾‘.....\u0026#34;); //æ”¾è¡Œè¯·æ±‚ filterChain.doFilter(servletRequest,servletResponse); System.out.println(\u0026#34;DemoFilter æ”¾è¡Œåé€»è¾‘.....\u0026#34;); } @Override //é”€æ¯æ–¹æ³•, åªè°ƒç”¨ä¸€æ¬¡ public void destroy() { System.out.println(\u0026#34;destroy é”€æ¯æ–¹æ³•æ‰§è¡Œäº†\u0026#34;); } } 2.4.2.2 æ‹¦æˆªè·¯å¾„ æ‰§è¡Œæµç¨‹æˆ‘ä»¬ææ¸…æ¥šä¹‹åï¼Œæ¥ä¸‹æ¥å†æ¥ä»‹ç»ä¸€ä¸‹è¿‡æ»¤å™¨çš„æ‹¦æˆªè·¯å¾„ï¼ŒFilterå¯ä»¥æ ¹æ®éœ€æ±‚ï¼Œé…ç½®ä¸åŒçš„æ‹¦æˆªèµ„æºè·¯å¾„ï¼š\næ‹¦æˆªè·¯å¾„ urlPatternså€¼ å«ä¹‰ æ‹¦æˆªå…·ä½“è·¯å¾„ /login åªæœ‰è®¿é—® /login è·¯å¾„æ—¶ï¼Œæ‰ä¼šè¢«æ‹¦æˆª ç›®å½•æ‹¦æˆª /emps/* è®¿é—®/empsä¸‹çš„æ‰€æœ‰èµ„æºï¼Œéƒ½ä¼šè¢«æ‹¦æˆª æ‹¦æˆªæ‰€æœ‰ /* è®¿é—®æ‰€æœ‰èµ„æºï¼Œéƒ½ä¼šè¢«æ‹¦æˆª ä¸‹é¢æˆ‘ä»¬æ¥æµ‹è¯•\u0026quot;æ‹¦æˆªå…·ä½“è·¯å¾„\u0026quot;ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 @WebFilter(urlPatterns = \u0026#34;/login\u0026#34;) //æ‹¦æˆª/loginå…·ä½“è·¯å¾„ public class DemoFilter implements Filter { @Override public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain) throws IOException, ServletException { System.out.println(\u0026#34;DemoFilter æ”¾è¡Œå‰é€»è¾‘.....\u0026#34;); //æ”¾è¡Œè¯·æ±‚ filterChain.doFilter(servletRequest,servletResponse); System.out.println(\u0026#34;DemoFilter æ”¾è¡Œåé€»è¾‘.....\u0026#34;); } @Override public void init(FilterConfig filterConfig) throws ServletException { Filter.super.init(filterConfig); } @Override public void destroy() { Filter.super.destroy(); } } æµ‹è¯•1ï¼šè®¿é—®éƒ¨é—¨ç®¡ç†è¯·æ±‚ï¼Œå‘ç°è¿‡æ»¤å™¨æ²¡æœ‰æ‹¦æˆªè¯·æ±‚\næµ‹è¯•2ï¼šè®¿é—®ç™»å½•è¯·æ±‚/loginï¼Œå‘ç°è¿‡æ»¤å™¨æ‹¦æˆªè¯·æ±‚\nä¸‹é¢æˆ‘ä»¬æ¥æµ‹è¯•\u0026quot;ç›®å½•æ‹¦æˆª\u0026quot;ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 @WebFilter(urlPatterns = \u0026#34;/depts/*\u0026#34;) //æ‹¦æˆªæ‰€æœ‰ä»¥/deptså¼€å¤´ï¼Œåé¢æ˜¯ä»€ä¹ˆæ— æ‰€è°“ public class DemoFilter implements Filter { @Override public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain) throws IOException, ServletException { System.out.println(\u0026#34;DemoFilter æ”¾è¡Œå‰é€»è¾‘.....\u0026#34;); //æ”¾è¡Œè¯·æ±‚ filterChain.doFilter(servletRequest,servletResponse); System.out.println(\u0026#34;DemoFilter æ”¾è¡Œåé€»è¾‘.....\u0026#34;); } @Override public void init(FilterConfig filterConfig) throws ServletException { Filter.super.init(filterConfig); } @Override public void destroy() { Filter.super.destroy(); } } æµ‹è¯•1ï¼šè®¿é—®éƒ¨é—¨ç®¡ç†è¯·æ±‚ï¼Œå‘ç°è¿‡æ»¤å™¨æ‹¦æˆªäº†è¯·æ±‚\næµ‹è¯•2ï¼šè®¿é—®ç™»å½•è¯·æ±‚/loginï¼Œå‘ç°è¿‡æ»¤å™¨æ²¡æœ‰æ‹¦æˆªè¯·æ±‚\n2.4.2.3 è¿‡æ»¤å™¨é“¾ æœ€åæˆ‘ä»¬åœ¨æ¥ä»‹ç»ä¸‹è¿‡æ»¤å™¨é“¾ï¼Œä»€ä¹ˆæ˜¯è¿‡æ»¤å™¨é“¾å‘¢ï¼Ÿæ‰€è°“è¿‡æ»¤å™¨é“¾æŒ‡çš„æ˜¯åœ¨ä¸€ä¸ªwebåº”ç”¨ç¨‹åºå½“ä¸­ï¼Œå¯ä»¥é…ç½®å¤šä¸ªè¿‡æ»¤å™¨ï¼Œå¤šä¸ªè¿‡æ»¤å™¨å°±å½¢æˆäº†ä¸€ä¸ªè¿‡æ»¤å™¨é“¾ã€‚\næ¯”å¦‚ï¼šåœ¨æˆ‘ä»¬webæœåŠ¡å™¨å½“ä¸­ï¼Œå®šä¹‰äº†ä¸¤ä¸ªè¿‡æ»¤å™¨ï¼Œè¿™ä¸¤ä¸ªè¿‡æ»¤å™¨å°±å½¢æˆäº†ä¸€ä¸ªè¿‡æ»¤å™¨é“¾ã€‚\nè€Œè¿™ä¸ªé“¾ä¸Šçš„è¿‡æ»¤å™¨åœ¨æ‰§è¡Œçš„æ—¶å€™ä¼šä¸€ä¸ªä¸€ä¸ªçš„æ‰§è¡Œï¼Œä¼šå…ˆæ‰§è¡Œç¬¬ä¸€ä¸ªFilterï¼Œæ”¾è¡Œä¹‹åå†æ¥æ‰§è¡Œç¬¬äºŒä¸ªFilterï¼Œå¦‚æœæ‰§è¡Œåˆ°äº†æœ€åä¸€ä¸ªè¿‡æ»¤å™¨æ”¾è¡Œä¹‹åï¼Œæ‰ä¼šè®¿é—®å¯¹åº”çš„webèµ„æºã€‚\nè®¿é—®å®Œwebèµ„æºä¹‹åï¼ŒæŒ‰ç…§æˆ‘ä»¬åˆšæ‰æ‰€ä»‹ç»çš„è¿‡æ»¤å™¨çš„æ‰§è¡Œæµç¨‹ï¼Œè¿˜ä¼šå›åˆ°è¿‡æ»¤å™¨å½“ä¸­æ¥æ‰§è¡Œè¿‡æ»¤å™¨æ”¾è¡Œåçš„é€»è¾‘ï¼Œè€Œåœ¨æ‰§è¡Œæ”¾è¡Œåçš„é€»è¾‘çš„æ—¶å€™ï¼Œé¡ºåºæ˜¯åç€çš„ã€‚\nå…ˆè¦æ‰§è¡Œè¿‡æ»¤å™¨2æ”¾è¡Œä¹‹åçš„é€»è¾‘ï¼Œå†æ¥æ‰§è¡Œè¿‡æ»¤å™¨1æ”¾è¡Œä¹‹åçš„é€»è¾‘ï¼Œæœ€ååœ¨ç»™æµè§ˆå™¨å“åº”æ•°æ®ã€‚\nä»¥ä¸Šå°±æ˜¯å½“æˆ‘ä»¬åœ¨webåº”ç”¨å½“ä¸­é…ç½®äº†å¤šä¸ªè¿‡æ»¤å™¨ï¼Œå½¢æˆäº†è¿™æ ·ä¸€ä¸ªè¿‡æ»¤å™¨é“¾ä»¥åŠè¿‡æ»¤å™¨é“¾çš„æ‰§è¡Œé¡ºåºã€‚ä¸‹é¢æˆ‘ä»¬é€šè¿‡ideaæ¥éªŒè¯ä¸‹è¿‡æ»¤å™¨é“¾ã€‚\néªŒè¯æ­¥éª¤ï¼š\nåœ¨filteråŒ…ä¸‹å†æ¥æ–°å»ºä¸€ä¸ªFilterè¿‡æ»¤å™¨ç±»ï¼šAbcFilter åœ¨AbcFilterè¿‡æ»¤å™¨ä¸­ç¼–å†™æ”¾è¡Œå‰å’Œæ”¾è¡Œåé€»è¾‘ é…ç½®AbcFilterè¿‡æ»¤å™¨æ‹¦æˆªè¯·æ±‚è·¯å¾„ä¸ºï¼š/* é‡å¯SpringBootæœåŠ¡ï¼ŒæŸ¥çœ‹DemoFilterã€AbcFilterçš„æ‰§è¡Œæ—¥å¿— AbcFilterè¿‡æ»¤å™¨\n1 2 3 4 5 6 7 8 9 10 11 12 @WebFilter(urlPatterns = \u0026#34;/*\u0026#34;) public class AbcFilter implements Filter { @Override public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException { System.out.println(\u0026#34;Abc æ‹¦æˆªåˆ°äº†è¯·æ±‚... æ”¾è¡Œå‰é€»è¾‘\u0026#34;); //æ”¾è¡Œ chain.doFilter(request,response); System.out.println(\u0026#34;Abc æ‹¦æˆªåˆ°äº†è¯·æ±‚... æ”¾è¡Œåé€»è¾‘\u0026#34;); } } DemoFilterè¿‡æ»¤å™¨\n1 2 3 4 5 6 7 8 9 10 11 12 @WebFilter(urlPatterns = \u0026#34;/*\u0026#34;) public class DemoFilter implements Filter { @Override public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain) throws IOException, ServletException { System.out.println(\u0026#34;DemoFilter æ”¾è¡Œå‰é€»è¾‘.....\u0026#34;); //æ”¾è¡Œè¯·æ±‚ filterChain.doFilter(servletRequest,servletResponse); System.out.println(\u0026#34;DemoFilter æ”¾è¡Œåé€»è¾‘.....\u0026#34;); } } æ‰“å¼€æµè§ˆå™¨è®¿é—®ç™»å½•æ¥å£ï¼š\né€šè¿‡æ§åˆ¶å°æ—¥å¿—çš„è¾“å‡ºï¼Œå¤§å®¶å‘ç°AbcFilterå…ˆæ‰§è¡ŒDemoFilteråæ‰§è¡Œï¼Œè¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ\nå…¶å®æ˜¯å’Œè¿‡æ»¤å™¨çš„ç±»åæœ‰å…³ç³»ã€‚ä»¥æ³¨è§£æ–¹å¼é…ç½®çš„Filterè¿‡æ»¤å™¨ï¼Œå®ƒçš„æ‰§è¡Œä¼˜å…ˆçº§æ˜¯æŒ‰æ—¶è¿‡æ»¤å™¨ç±»åçš„è‡ªåŠ¨æ’åºç¡®å®šçš„ï¼Œç±»åæ’åè¶Šé å‰ï¼Œä¼˜å…ˆçº§è¶Šé«˜ã€‚\nå‡å¦‚æˆ‘ä»¬æƒ³è®©DemoFilterå…ˆæ‰§è¡Œï¼Œæ€ä¹ˆåŠå‘¢ï¼Ÿç­”æ¡ˆå°±æ˜¯ä¿®æ”¹ç±»åã€‚\næµ‹è¯•ï¼šä¿®æ”¹AbcFilterç±»åä¸ºXbcFilterï¼Œè¿è¡Œç¨‹åºæŸ¥çœ‹æ§åˆ¶å°æ—¥å¿—\n1 2 3 4 5 6 7 8 9 10 11 12 @WebFilter(urlPatterns = \u0026#34;/*\u0026#34;) public class XbcFilter implements Filter { @Override public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException { System.out.println(\u0026#34;Xbc æ‹¦æˆªåˆ°äº†è¯·æ±‚...æ”¾è¡Œå‰é€»è¾‘\u0026#34;); //æ”¾è¡Œ chain.doFilter(request,response); System.out.println(\u0026#34;Xbc æ‹¦æˆªåˆ°äº†è¯·æ±‚...æ”¾è¡Œåé€»è¾‘\u0026#34;); } } åˆ°æ­¤ï¼Œå…³äºè¿‡æ»¤å™¨çš„ä½¿ç”¨ç»†èŠ‚ï¼Œæˆ‘ä»¬å·²ç»å…¨éƒ¨ä»‹ç»å®Œæ¯•äº†ã€‚\n2.4.3 ç™»å½•æ ¡éªŒ-Filter 2.4.3.1 åˆ†æ è¿‡æ»¤å™¨Filterçš„å¿«é€Ÿå…¥é—¨ä»¥åŠä½¿ç”¨ç»†èŠ‚æˆ‘ä»¬å·²ç»ä»‹ç»å®Œäº†ï¼Œæ¥ä¸‹æ¥æœ€åä¸€æ­¥ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨è¿‡æ»¤å™¨Filteræ¥å®Œæˆæ¡ˆä¾‹å½“ä¸­çš„ç™»å½•æ ¡éªŒåŠŸèƒ½ã€‚\næˆ‘ä»¬å…ˆæ¥å›é¡¾ä¸‹å‰é¢åˆ†æè¿‡çš„ç™»å½•æ ¡éªŒçš„åŸºæœ¬æµç¨‹ï¼š\nè¦è¿›å…¥åˆ°åå°ç®¡ç†ç³»ç»Ÿï¼Œæˆ‘ä»¬å¿…é¡»å…ˆå®Œæˆç™»å½•æ“ä½œï¼Œæ­¤æ—¶å°±éœ€è¦è®¿é—®ç™»å½•æ¥å£loginã€‚\nç™»å½•æˆåŠŸä¹‹åï¼Œæˆ‘ä»¬ä¼šåœ¨æœåŠ¡ç«¯ç”Ÿæˆä¸€ä¸ªJWTä»¤ç‰Œï¼Œå¹¶ä¸”æŠŠJWTä»¤ç‰Œè¿”å›ç»™å‰ç«¯ï¼Œå‰ç«¯ä¼šå°†JWTä»¤ç‰Œå­˜å‚¨ä¸‹æ¥ã€‚\nåœ¨åç»­çš„æ¯ä¸€æ¬¡è¯·æ±‚å½“ä¸­ï¼Œéƒ½ä¼šå°†JWTä»¤ç‰Œæºå¸¦åˆ°æœåŠ¡ç«¯ï¼Œè¯·æ±‚åˆ°è¾¾æœåŠ¡ç«¯ä¹‹åï¼Œè¦æƒ³å»è®¿é—®å¯¹åº”çš„ä¸šåŠ¡åŠŸèƒ½ï¼Œæ­¤æ—¶æˆ‘ä»¬å¿…é¡»å…ˆè¦æ ¡éªŒä»¤ç‰Œçš„æœ‰æ•ˆæ€§ã€‚\nå¯¹äºæ ¡éªŒä»¤ç‰Œçš„è¿™ä¸€å—æ“ä½œï¼Œæˆ‘ä»¬ä½¿ç”¨ç™»å½•æ ¡éªŒçš„è¿‡æ»¤å™¨ï¼Œåœ¨è¿‡æ»¤å™¨å½“ä¸­æ¥æ ¡éªŒä»¤ç‰Œçš„æœ‰æ•ˆæ€§ã€‚å¦‚æœä»¤ç‰Œæ˜¯æ— æ•ˆçš„ï¼Œå°±å“åº”ä¸€ä¸ªé”™è¯¯çš„ä¿¡æ¯ï¼Œä¹Ÿä¸ä¼šå†å»æ”¾è¡Œè®¿é—®å¯¹åº”çš„èµ„æºäº†ã€‚å¦‚æœä»¤ç‰Œå­˜åœ¨ï¼Œå¹¶ä¸”å®ƒæ˜¯æœ‰æ•ˆçš„ï¼Œæ­¤æ—¶å°±ä¼šæ”¾è¡Œå»è®¿é—®å¯¹åº”çš„webèµ„æºï¼Œæ‰§è¡Œç›¸åº”çš„ä¸šåŠ¡æ“ä½œã€‚\nå¤§æ¦‚æ¸…æ¥šäº†åœ¨Filterè¿‡æ»¤å™¨çš„å®ç°æ­¥éª¤äº†ï¼Œé‚£åœ¨æ­£å¼å¼€å‘ç™»å½•æ ¡éªŒè¿‡æ»¤å™¨ä¹‹å‰ï¼Œæˆ‘ä»¬æ€è€ƒä¸¤ä¸ªé—®é¢˜ï¼š\næ‰€æœ‰çš„è¯·æ±‚ï¼Œæ‹¦æˆªåˆ°äº†ä¹‹åï¼Œéƒ½éœ€è¦æ ¡éªŒä»¤ç‰Œå—ï¼Ÿ\nç­”æ¡ˆï¼šç™»å½•è¯·æ±‚ä¾‹å¤– æ‹¦æˆªåˆ°è¯·æ±‚åï¼Œä»€ä¹ˆæƒ…å†µä¸‹æ‰å¯ä»¥æ”¾è¡Œï¼Œæ‰§è¡Œä¸šåŠ¡æ“ä½œï¼Ÿ\nç­”æ¡ˆï¼šæœ‰ä»¤ç‰Œï¼Œä¸”ä»¤ç‰Œæ ¡éªŒé€šè¿‡(åˆæ³•)ï¼›å¦åˆ™éƒ½è¿”å›æœªç™»å½•é”™è¯¯ç»“æœ 2.4.3.2 å…·ä½“æµç¨‹ æˆ‘ä»¬è¦å®Œæˆç™»å½•æ ¡éªŒï¼Œä¸»è¦æ˜¯åˆ©ç”¨Filterè¿‡æ»¤å™¨å®ç°ï¼Œè€ŒFilterè¿‡æ»¤å™¨çš„æµç¨‹æ­¥éª¤ï¼š\nåŸºäºä¸Šé¢çš„ä¸šåŠ¡æµç¨‹ï¼Œæˆ‘ä»¬åˆ†æå‡ºå…·ä½“çš„æ“ä½œæ­¥éª¤ï¼š\nè·å–è¯·æ±‚url åˆ¤æ–­è¯·æ±‚urlä¸­æ˜¯å¦åŒ…å«loginï¼Œå¦‚æœåŒ…å«ï¼Œè¯´æ˜æ˜¯ç™»å½•æ“ä½œï¼Œæ”¾è¡Œ è·å–è¯·æ±‚å¤´ä¸­çš„ä»¤ç‰Œï¼ˆtokenï¼‰ åˆ¤æ–­ä»¤ç‰Œæ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œè¿”å›é”™è¯¯ç»“æœï¼ˆæœªç™»å½•ï¼‰ è§£ætokenï¼Œå¦‚æœè§£æå¤±è´¥ï¼Œè¿”å›é”™è¯¯ç»“æœï¼ˆæœªç™»å½•ï¼‰ æ”¾è¡Œ 2.4.3.3 ä»£ç å®ç° åˆ†ææ¸…æ¥šäº†ä»¥ä¸Šçš„é—®é¢˜åï¼Œæˆ‘ä»¬å°±å‚ç…§æ¥å£æ–‡æ¡£æ¥å¼€å‘ç™»å½•åŠŸèƒ½äº†ï¼Œç™»å½•æ¥å£æè¿°å¦‚ä¸‹ï¼š\nåŸºæœ¬ä¿¡æ¯\n1 2 3 4 5 è¯·æ±‚è·¯å¾„ï¼š/login è¯·æ±‚æ–¹å¼ï¼šPOST æ¥å£æè¿°ï¼šè¯¥æ¥å£ç”¨äºå‘˜å·¥ç™»å½•Tliasæ™ºèƒ½å­¦ä¹ è¾…åŠ©ç³»ç»Ÿï¼Œç™»å½•å®Œæ¯•åï¼Œç³»ç»Ÿä¸‹å‘JWTä»¤ç‰Œã€‚ è¯·æ±‚å‚æ•°\nå‚æ•°æ ¼å¼ï¼šapplication/json\nå‚æ•°è¯´æ˜ï¼š\nåç§° ç±»å‹ æ˜¯å¦å¿…é¡» å¤‡æ³¨ username string å¿…é¡» ç”¨æˆ·å password string å¿…é¡» å¯†ç  è¯·æ±‚æ•°æ®æ ·ä¾‹ï¼š\n1 2 3 4 { \u0026#34;username\u0026#34;: \u0026#34;jinyong\u0026#34;, \u0026#34;password\u0026#34;: \u0026#34;123456\u0026#34; } å“åº”æ•°æ®\nå‚æ•°æ ¼å¼ï¼šapplication/json\nå‚æ•°è¯´æ˜ï¼š\nåç§° ç±»å‹ æ˜¯å¦å¿…é¡» é»˜è®¤å€¼ å¤‡æ³¨ å…¶ä»–ä¿¡æ¯ code number å¿…é¡» å“åº”ç , 1 æˆåŠŸ ; 0 å¤±è´¥ msg string éå¿…é¡» æç¤ºä¿¡æ¯ data string å¿…é¡» è¿”å›çš„æ•°æ® , jwtä»¤ç‰Œ å“åº”æ•°æ®æ ·ä¾‹ï¼š\n1 2 3 4 5 { \u0026#34;code\u0026#34;: 1, \u0026#34;msg\u0026#34;: \u0026#34;success\u0026#34;, \u0026#34;data\u0026#34;: \u0026#34;eyJhbGciOiJIUzI1NiJ9.eyJuYW1lIjoi6YeR5bq4IiwiaWQiOjEsInVzZXJuYW1lIjoiamlueW9uZyIsImV4cCI6MTY2MjIwNzA0OH0.KkUc_CXJZJ8Dd063eImx4H9Ojfrr6XMJ-yVzaWCVZCo\u0026#34; } å¤‡æ³¨è¯´æ˜\nç”¨æˆ·ç™»å½•æˆåŠŸåï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨ä¸‹å‘JWTä»¤ç‰Œï¼Œç„¶ååœ¨åç»­çš„æ¯æ¬¡è¯·æ±‚ä¸­ï¼Œéƒ½éœ€è¦åœ¨è¯·æ±‚å¤´headerä¸­æºå¸¦åˆ°æœåŠ¡ç«¯ï¼Œè¯·æ±‚å¤´çš„åç§°ä¸º token ï¼Œå€¼ä¸º ç™»å½•æ—¶ä¸‹å‘çš„JWTä»¤ç‰Œã€‚\nå¦‚æœæ£€æµ‹åˆ°ç”¨æˆ·æœªç™»å½•ï¼Œåˆ™ä¼šè¿”å›å¦‚ä¸‹å›ºå®šé”™è¯¯ä¿¡æ¯ï¼š\n1 2 3 4 5 { \u0026#34;code\u0026#34;: 0, \u0026#34;msg\u0026#34;: \u0026#34;NOT_LOGIN\u0026#34;, \u0026#34;data\u0026#34;: null } ç™»å½•æ ¡éªŒè¿‡æ»¤å™¨ï¼šLoginCheckFilter\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 @Slf4j @WebFilter(urlPatterns = \u0026#34;/*\u0026#34;) //æ‹¦æˆªæ‰€æœ‰è¯·æ±‚ public class LoginCheckFilter implements Filter { @Override public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain chain) throws IOException, ServletException { //å‰ç½®ï¼šå¼ºåˆ¶è½¬æ¢ä¸ºhttpåè®®çš„è¯·æ±‚å¯¹è±¡ã€å“åº”å¯¹è±¡ ï¼ˆè½¬æ¢åŸå› ï¼šè¦ä½¿ç”¨å­ç±»ä¸­ç‰¹æœ‰æ–¹æ³•ï¼‰ HttpServletRequest request = (HttpServletRequest) servletRequest; HttpServletResponse response = (HttpServletResponse) servletResponse; //1.è·å–è¯·æ±‚url String url = request.getRequestURL().toString(); log.info(\u0026#34;è¯·æ±‚è·¯å¾„ï¼š{}\u0026#34;, url); //è¯·æ±‚è·¯å¾„ï¼šhttp://localhost:8080/login //2.åˆ¤æ–­è¯·æ±‚urlä¸­æ˜¯å¦åŒ…å«loginï¼Œå¦‚æœåŒ…å«ï¼Œè¯´æ˜æ˜¯ç™»å½•æ“ä½œï¼Œæ”¾è¡Œ if(url.contains(\u0026#34;/login\u0026#34;)){ chain.doFilter(request, response);//æ”¾è¡Œè¯·æ±‚ return;//ç»“æŸå½“å‰æ–¹æ³•çš„æ‰§è¡Œ } //3.è·å–è¯·æ±‚å¤´ä¸­çš„ä»¤ç‰Œï¼ˆtokenï¼‰ String token = request.getHeader(\u0026#34;token\u0026#34;); log.info(\u0026#34;ä»è¯·æ±‚å¤´ä¸­è·å–çš„ä»¤ç‰Œï¼š{}\u0026#34;,token); //4.åˆ¤æ–­ä»¤ç‰Œæ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œè¿”å›é”™è¯¯ç»“æœï¼ˆæœªç™»å½•ï¼‰ if(!StringUtils.hasLength(token)){ log.info(\u0026#34;Tokenä¸å­˜åœ¨\u0026#34;); Result responseResult = Result.error(\u0026#34;NOT_LOGIN\u0026#34;); //æŠŠResultå¯¹è±¡è½¬æ¢ä¸ºJSONæ ¼å¼å­—ç¬¦ä¸² (fastjsonæ˜¯é˜¿é‡Œå·´å·´æä¾›çš„ç”¨äºå®ç°å¯¹è±¡å’Œjsonçš„è½¬æ¢å·¥å…·ç±») String json = JSONObject.toJSONString(responseResult); response.setContentType(\u0026#34;application/json;charset=utf-8\u0026#34;); //å“åº” response.getWriter().write(json); return; } //5.è§£ætokenï¼Œå¦‚æœè§£æå¤±è´¥ï¼Œè¿”å›é”™è¯¯ç»“æœï¼ˆæœªç™»å½•ï¼‰ try { JwtUtils.parseJWT(token); }catch (Exception e){ log.info(\u0026#34;ä»¤ç‰Œè§£æå¤±è´¥!\u0026#34;); Result responseResult = Result.error(\u0026#34;NOT_LOGIN\u0026#34;); //æŠŠResultå¯¹è±¡è½¬æ¢ä¸ºJSONæ ¼å¼å­—ç¬¦ä¸² (fastjsonæ˜¯é˜¿é‡Œå·´å·´æä¾›çš„ç”¨äºå®ç°å¯¹è±¡å’Œjsonçš„è½¬æ¢å·¥å…·ç±») String json = JSONObject.toJSONString(responseResult); response.setContentType(\u0026#34;application/json;charset=utf-8\u0026#34;); //å“åº” response.getWriter().write(json); return; } //6.æ”¾è¡Œ chain.doFilter(request, response); } } åœ¨ä¸Šè¿°è¿‡æ»¤å™¨çš„åŠŸèƒ½å®ç°ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨åˆ°äº†ä¸€ä¸ªç¬¬ä¸‰æ–¹jsonå¤„ç†çš„å·¥å…·åŒ…fastjsonã€‚æˆ‘ä»¬è¦æƒ³ä½¿ç”¨ï¼Œéœ€è¦å¼•å…¥å¦‚ä¸‹ä¾èµ–ï¼š\n1 2 3 4 5 \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;com.alibaba\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;fastjson\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;1.2.76\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; ç™»å½•æ ¡éªŒçš„è¿‡æ»¤å™¨æˆ‘ä»¬ç¼–å†™å®Œæˆäº†ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°±å¯ä»¥é‡æ–°å¯åŠ¨æœåŠ¡æ¥åšä¸€ä¸ªæµ‹è¯•ï¼š\næµ‹è¯•å‰å…ˆæŠŠä¹‹å‰æ‰€ç¼–å†™çš„æµ‹è¯•ä½¿ç”¨çš„è¿‡æ»¤å™¨ï¼Œæš‚æ—¶æ³¨é‡Šæ‰ã€‚ç›´æ¥å°†@WebFilteræ³¨è§£ç»™æ³¨é‡Šæ‰å³å¯ã€‚\næµ‹è¯•1ï¼šæœªç™»å½•æ˜¯å¦å¯ä»¥è®¿é—®éƒ¨é—¨ç®¡ç†é¡µé¢\né¦–å…ˆå…³é—­æµè§ˆå™¨ï¼Œé‡æ–°æ‰“å¼€æµè§ˆå™¨ï¼Œåœ¨åœ°å€æ ä¸­è¾“å…¥ï¼šhttp://localhost:9528/#/system/dept\nç”±äºç”¨æˆ·æ²¡æœ‰ç™»å½•ï¼Œç™»å½•æ ¡éªŒè¿‡æ»¤å™¨è¿”å›é”™è¯¯ä¿¡æ¯ï¼Œå‰ç«¯é¡µé¢æ ¹æ®è¿”å›çš„é”™è¯¯ä¿¡æ¯ç»“æœï¼Œè‡ªåŠ¨è·³è½¬åˆ°ç™»å½•é¡µé¢äº†\næµ‹è¯•2ï¼šå…ˆè¿›è¡Œç™»å½•æ“ä½œï¼Œå†è®¿é—®éƒ¨é—¨ç®¡ç†é¡µé¢\nç™»å½•æ ¡éªŒæˆåŠŸä¹‹åï¼Œå¯ä»¥æ­£å¸¸è®¿é—®ç›¸å…³ä¸šåŠ¡æ“ä½œé¡µé¢\n2.5 æ‹¦æˆªå™¨Interceptor å­¦ä¹ å®Œäº†è¿‡æ»¤å™¨Filterä¹‹åï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬ç»§ç»­å­¦ä¹ æ‹¦æˆªå™¨Interseptorã€‚\næ‹¦æˆªå™¨æˆ‘ä»¬ä¸»è¦åˆ†ä¸ºä¸‰ä¸ªæ–¹é¢è¿›è¡Œè®²è§£ï¼š\nä»‹ç»ä¸‹ä»€ä¹ˆæ˜¯æ‹¦æˆªå™¨ï¼Œå¹¶é€šè¿‡å¿«é€Ÿå…¥é—¨ç¨‹åºä¸Šæ‰‹æ‹¦æˆªå™¨ æ‹¦æˆªå™¨çš„ä½¿ç”¨ç»†èŠ‚ é€šè¿‡æ‹¦æˆªå™¨Interceptorå®Œæˆç™»å½•æ ¡éªŒåŠŸèƒ½ æˆ‘ä»¬å…ˆå­¦ä¹ ç¬¬ä¸€å—å†…å®¹ï¼šæ‹¦æˆªå™¨å¿«é€Ÿå…¥é—¨\n2.5.1 å¿«é€Ÿå…¥é—¨ ä»€ä¹ˆæ˜¯æ‹¦æˆªå™¨ï¼Ÿ\næ˜¯ä¸€ç§åŠ¨æ€æ‹¦æˆªæ–¹æ³•è°ƒç”¨çš„æœºåˆ¶ï¼Œç±»ä¼¼äºè¿‡æ»¤å™¨ã€‚ æ‹¦æˆªå™¨æ˜¯Springæ¡†æ¶ä¸­æä¾›çš„ï¼Œç”¨æ¥åŠ¨æ€æ‹¦æˆªæ§åˆ¶å™¨æ–¹æ³•çš„æ‰§è¡Œã€‚ æ‹¦æˆªå™¨çš„ä½œç”¨ï¼š\næ‹¦æˆªè¯·æ±‚ï¼Œåœ¨æŒ‡å®šæ–¹æ³•è°ƒç”¨å‰åï¼Œæ ¹æ®ä¸šåŠ¡éœ€è¦æ‰§è¡Œé¢„å…ˆè®¾å®šçš„ä»£ç ã€‚ åœ¨æ‹¦æˆªå™¨å½“ä¸­ï¼Œæˆ‘ä»¬é€šå¸¸ä¹Ÿæ˜¯åšä¸€äº›é€šç”¨æ€§çš„æ“ä½œï¼Œæ¯”å¦‚ï¼šæˆ‘ä»¬å¯ä»¥é€šè¿‡æ‹¦æˆªå™¨æ¥æ‹¦æˆªå‰ç«¯å‘èµ·çš„è¯·æ±‚ï¼Œå°†ç™»å½•æ ¡éªŒçš„é€»è¾‘å…¨éƒ¨ç¼–å†™åœ¨æ‹¦æˆªå™¨å½“ä¸­ã€‚åœ¨æ ¡éªŒçš„è¿‡ç¨‹å½“ä¸­ï¼Œå¦‚å‘ç°ç”¨æˆ·ç™»å½•äº†(æºå¸¦JWTä»¤ç‰Œä¸”æ˜¯åˆæ³•ä»¤ç‰Œ)ï¼Œå°±å¯ä»¥ç›´æ¥æ”¾è¡Œï¼Œå»è®¿é—®springå½“ä¸­çš„èµ„æºã€‚å¦‚æœæ ¡éªŒæ—¶å‘ç°å¹¶æ²¡æœ‰ç™»å½•æˆ–æ˜¯éæ³•ä»¤ç‰Œï¼Œå°±å¯ä»¥ç›´æ¥ç»™å‰ç«¯å“åº”æœªç™»å½•çš„é”™è¯¯ä¿¡æ¯ã€‚\nä¸‹é¢æˆ‘ä»¬é€šè¿‡å¿«é€Ÿå…¥é—¨ç¨‹åºï¼Œæ¥å­¦ä¹ ä¸‹æ‹¦æˆªå™¨çš„åŸºæœ¬ä½¿ç”¨ã€‚æ‹¦æˆªå™¨çš„ä½¿ç”¨æ­¥éª¤å’Œè¿‡æ»¤å™¨ç±»ä¼¼ï¼Œä¹Ÿåˆ†ä¸ºä¸¤æ­¥ï¼š\nå®šä¹‰æ‹¦æˆªå™¨\næ³¨å†Œé…ç½®æ‹¦æˆªå™¨\n**è‡ªå®šä¹‰æ‹¦æˆªå™¨ï¼š**å®ç°HandlerInterceptoræ¥å£ï¼Œå¹¶é‡å†™å…¶æ‰€æœ‰æ–¹æ³•\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 //è‡ªå®šä¹‰æ‹¦æˆªå™¨ @Component public class LoginCheckInterceptor implements HandlerInterceptor { //ç›®æ ‡èµ„æºæ–¹æ³•æ‰§è¡Œå‰æ‰§è¡Œã€‚ è¿”å›trueï¼šæ”¾è¡Œ è¿”å›falseï¼šä¸æ”¾è¡Œ @Override public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception { System.out.println(\u0026#34;preHandle .... \u0026#34;); return true; //trueè¡¨ç¤ºæ”¾è¡Œ } //ç›®æ ‡èµ„æºæ–¹æ³•æ‰§è¡Œåæ‰§è¡Œ @Override public void postHandle(HttpServletRequest request, HttpServletResponse response, Object handler, ModelAndView modelAndView) throws Exception { System.out.println(\u0026#34;postHandle ... \u0026#34;); } //è§†å›¾æ¸²æŸ“å®Œæ¯•åæ‰§è¡Œï¼Œæœ€åæ‰§è¡Œ @Override public void afterCompletion(HttpServletRequest request, HttpServletResponse response, Object handler, Exception ex) throws Exception { System.out.println(\u0026#34;afterCompletion .... \u0026#34;); } } æ³¨æ„ï¼š\nâ€‹\tpreHandleæ–¹æ³•ï¼šç›®æ ‡èµ„æºæ–¹æ³•æ‰§è¡Œå‰æ‰§è¡Œã€‚ è¿”å›trueï¼šæ”¾è¡Œ è¿”å›falseï¼šä¸æ”¾è¡Œ\nâ€‹\tpostHandleæ–¹æ³•ï¼šç›®æ ‡èµ„æºæ–¹æ³•æ‰§è¡Œåæ‰§è¡Œ\nâ€‹\tafterCompletionæ–¹æ³•ï¼šè§†å›¾æ¸²æŸ“å®Œæ¯•åæ‰§è¡Œï¼Œæœ€åæ‰§è¡Œ\næ³¨å†Œé…ç½®æ‹¦æˆªå™¨ï¼šå®ç°WebMvcConfigureræ¥å£ï¼Œå¹¶é‡å†™addInterceptorsæ–¹æ³•\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 @Configuration public class WebConfig implements WebMvcConfigurer { //è‡ªå®šä¹‰çš„æ‹¦æˆªå™¨å¯¹è±¡ @Autowired private LoginCheckInterceptor loginCheckInterceptor; @Override public void addInterceptors(InterceptorRegistry registry) { //æ³¨å†Œè‡ªå®šä¹‰æ‹¦æˆªå™¨å¯¹è±¡ registry.addInterceptor(loginCheckInterceptor).addPathPatterns(\u0026#34;/**\u0026#34;);//è®¾ç½®æ‹¦æˆªå™¨æ‹¦æˆªçš„è¯·æ±‚è·¯å¾„ï¼ˆ /** è¡¨ç¤ºæ‹¦æˆªæ‰€æœ‰è¯·æ±‚ï¼‰ } } é‡æ–°å¯åŠ¨SpringBootæœåŠ¡ï¼Œæ‰“å¼€postmanæµ‹è¯•ï¼š\næ¥ä¸‹æ¥æˆ‘ä»¬å†æ¥åšä¸€ä¸ªæµ‹è¯•ï¼šå°†æ‹¦æˆªå™¨ä¸­è¿”å›å€¼æ”¹ä¸ºfalse\nä½¿ç”¨postmanï¼Œå†æ¬¡ç‚¹å‡»sendå‘é€è¯·æ±‚åï¼Œæ²¡æœ‰å“åº”æ•°æ®ï¼Œè¯´æ˜è¯·æ±‚è¢«æ‹¦æˆªäº†æ²¡æœ‰æ”¾è¡Œ\n2.5.2 Interceptorè¯¦è§£ æ‹¦æˆªå™¨çš„å…¥é—¨ç¨‹åºå®Œæˆä¹‹åï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬æ¥ä»‹ç»æ‹¦æˆªå™¨çš„ä½¿ç”¨ç»†èŠ‚ã€‚æ‹¦æˆªå™¨çš„ä½¿ç”¨ç»†èŠ‚æˆ‘ä»¬ä¸»è¦ä»‹ç»ä¸¤ä¸ªéƒ¨åˆ†ï¼š\næ‹¦æˆªå™¨çš„æ‹¦æˆªè·¯å¾„é…ç½® æ‹¦æˆªå™¨çš„æ‰§è¡Œæµç¨‹ 2.5.2.1 æ‹¦æˆªè·¯å¾„ é¦–å…ˆæˆ‘ä»¬å…ˆæ¥çœ‹æ‹¦æˆªå™¨çš„æ‹¦æˆªè·¯å¾„çš„é…ç½®ï¼Œåœ¨æ³¨å†Œé…ç½®æ‹¦æˆªå™¨çš„æ—¶å€™ï¼Œæˆ‘ä»¬è¦æŒ‡å®šæ‹¦æˆªå™¨çš„æ‹¦æˆªè·¯å¾„ï¼Œé€šè¿‡addPathPatterns(\u0026quot;è¦æ‹¦æˆªè·¯å¾„\u0026quot;)æ–¹æ³•ï¼Œå°±å¯ä»¥æŒ‡å®šè¦æ‹¦æˆªå“ªäº›èµ„æºã€‚\nåœ¨å…¥é—¨ç¨‹åºä¸­æˆ‘ä»¬é…ç½®çš„æ˜¯/**ï¼Œè¡¨ç¤ºæ‹¦æˆªæ‰€æœ‰èµ„æºï¼Œè€Œåœ¨é…ç½®æ‹¦æˆªå™¨æ—¶ï¼Œä¸ä»…å¯ä»¥æŒ‡å®šè¦æ‹¦æˆªå“ªäº›èµ„æºï¼Œè¿˜å¯ä»¥æŒ‡å®šä¸æ‹¦æˆªå“ªäº›èµ„æºï¼Œåªéœ€è¦è°ƒç”¨excludePathPatterns(\u0026quot;ä¸æ‹¦æˆªè·¯å¾„\u0026quot;)æ–¹æ³•ï¼ŒæŒ‡å®šå“ªäº›èµ„æºä¸éœ€è¦æ‹¦æˆªã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 @Configuration public class WebConfig implements WebMvcConfigurer { //æ‹¦æˆªå™¨å¯¹è±¡ @Autowired private LoginCheckInterceptor loginCheckInterceptor; @Override public void addInterceptors(InterceptorRegistry registry) { //æ³¨å†Œè‡ªå®šä¹‰æ‹¦æˆªå™¨å¯¹è±¡ registry.addInterceptor(loginCheckInterceptor) .addPathPatterns(\u0026#34;/**\u0026#34;)//è®¾ç½®æ‹¦æˆªå™¨æ‹¦æˆªçš„è¯·æ±‚è·¯å¾„ï¼ˆ /** è¡¨ç¤ºæ‹¦æˆªæ‰€æœ‰è¯·æ±‚ï¼‰ .excludePathPatterns(\u0026#34;/login\u0026#34;);//è®¾ç½®ä¸æ‹¦æˆªçš„è¯·æ±‚è·¯å¾„ } } åœ¨æ‹¦æˆªå™¨ä¸­é™¤äº†å¯ä»¥è®¾ç½®/**æ‹¦æˆªæ‰€æœ‰èµ„æºå¤–ï¼Œè¿˜æœ‰ä¸€äº›å¸¸è§æ‹¦æˆªè·¯å¾„è®¾ç½®ï¼š\næ‹¦æˆªè·¯å¾„ å«ä¹‰ ä¸¾ä¾‹ /* ä¸€çº§è·¯å¾„ èƒ½åŒ¹é…/deptsï¼Œ/empsï¼Œ/loginï¼Œä¸èƒ½åŒ¹é… /depts/1 /** ä»»æ„çº§è·¯å¾„ èƒ½åŒ¹é…/deptsï¼Œ/depts/1ï¼Œ/depts/1/2 /depts/* /deptsä¸‹çš„ä¸€çº§è·¯å¾„ èƒ½åŒ¹é…/depts/1ï¼Œä¸èƒ½åŒ¹é…/depts/1/2ï¼Œ/depts /depts/** /deptsä¸‹çš„ä»»æ„çº§è·¯å¾„ èƒ½åŒ¹é…/deptsï¼Œ/depts/1ï¼Œ/depts/1/2ï¼Œä¸èƒ½åŒ¹é…/emps/1 ä¸‹é¢ä¸»è¦æ¥æ¼”ç¤ºä¸‹/**ä¸/*çš„åŒºåˆ«ï¼š\nä¿®æ”¹æ‹¦æˆªå™¨é…ç½®ï¼ŒæŠŠæ‹¦æˆªè·¯å¾„è®¾ç½®ä¸º/* 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 @Configuration public class WebConfig implements WebMvcConfigurer { //æ‹¦æˆªå™¨å¯¹è±¡ @Autowired private LoginCheckInterceptor loginCheckInterceptor; @Override public void addInterceptors(InterceptorRegistry registry) { //æ³¨å†Œè‡ªå®šä¹‰æ‹¦æˆªå™¨å¯¹è±¡ registry.addInterceptor(loginCheckInterceptor) .addPathPatterns(\u0026#34;/*\u0026#34;) .excludePathPatterns(\u0026#34;/login\u0026#34;);//è®¾ç½®ä¸æ‹¦æˆªçš„è¯·æ±‚è·¯å¾„ } } ä½¿ç”¨postmanæµ‹è¯•ï¼šhttp://localhost:8080/emps/1\næ§åˆ¶å°æ²¡æœ‰è¾“å‡ºæ‹¦æˆªå™¨ä¸­çš„æ—¥å¿—ä¿¡æ¯ï¼Œè¯´æ˜/*æ²¡æœ‰åŒ¹é…åˆ°æ‹¦æˆªè·¯å¾„/emp/1 ã€‚\n2.5.2.2 æ‰§è¡Œæµç¨‹ ä»‹ç»å®Œæ‹¦æˆªè·¯å¾„çš„é…ç½®ä¹‹åï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å†æ¥ä»‹ç»æ‹¦æˆªå™¨çš„æ‰§è¡Œæµç¨‹ã€‚é€šè¿‡æ‰§è¡Œæµç¨‹ï¼Œå¤§å®¶å°±èƒ½å¤Ÿæ¸…æ™°çš„çŸ¥é“è¿‡æ»¤å™¨ä¸æ‹¦æˆªå™¨çš„æ‰§è¡Œæ—¶æœºã€‚\nå½“æˆ‘ä»¬æ‰“å¼€æµè§ˆå™¨æ¥è®¿é—®éƒ¨ç½²åœ¨webæœåŠ¡å™¨å½“ä¸­çš„webåº”ç”¨æ—¶ï¼Œæ­¤æ—¶æˆ‘ä»¬æ‰€å®šä¹‰çš„è¿‡æ»¤å™¨ä¼šæ‹¦æˆªåˆ°è¿™æ¬¡è¯·æ±‚ã€‚æ‹¦æˆªåˆ°è¿™æ¬¡è¯·æ±‚ä¹‹åï¼Œå®ƒä¼šå…ˆæ‰§è¡Œæ”¾è¡Œå‰çš„é€»è¾‘ï¼Œç„¶åå†æ‰§è¡Œæ”¾è¡Œæ“ä½œã€‚è€Œç”±äºæˆ‘ä»¬å½“å‰æ˜¯åŸºäºspringbootå¼€å‘çš„ï¼Œæ‰€ä»¥æ”¾è¡Œä¹‹åæ˜¯è¿›å…¥åˆ°äº†springçš„ç¯å¢ƒå½“ä¸­ï¼Œä¹Ÿå°±æ˜¯è¦æ¥è®¿é—®æˆ‘ä»¬æ‰€å®šä¹‰çš„controllerå½“ä¸­çš„æ¥å£æ–¹æ³•ã€‚\nTomcatå¹¶ä¸è¯†åˆ«æ‰€ç¼–å†™çš„Controllerç¨‹åºï¼Œä½†æ˜¯å®ƒè¯†åˆ«Servletç¨‹åºï¼Œæ‰€ä»¥åœ¨Springçš„Webç¯å¢ƒä¸­æä¾›äº†ä¸€ä¸ªéå¸¸æ ¸å¿ƒçš„Servletï¼šDispatcherServletï¼ˆå‰ç«¯æ§åˆ¶å™¨ï¼‰ï¼Œæ‰€æœ‰è¯·æ±‚éƒ½ä¼šå…ˆè¿›è¡Œåˆ°DispatcherServletï¼Œå†å°†è¯·æ±‚è½¬ç»™Controllerã€‚\nå½“æˆ‘ä»¬å®šä¹‰äº†æ‹¦æˆªå™¨åï¼Œä¼šåœ¨æ‰§è¡ŒControllerçš„æ–¹æ³•ä¹‹å‰ï¼Œè¯·æ±‚è¢«æ‹¦æˆªå™¨æ‹¦æˆªä½ã€‚æ‰§è¡ŒpreHandle()æ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•æ‰§è¡Œå®Œæˆåéœ€è¦è¿”å›ä¸€ä¸ªå¸ƒå°”ç±»å‹çš„å€¼ï¼Œå¦‚æœè¿”å›trueï¼Œå°±è¡¨ç¤ºæ”¾è¡Œæœ¬æ¬¡æ“ä½œï¼Œæ‰ä¼šç»§ç»­è®¿é—®controllerä¸­çš„æ–¹æ³•ï¼›å¦‚æœè¿”å›falseï¼Œåˆ™ä¸ä¼šæ”¾è¡Œï¼ˆcontrollerä¸­çš„æ–¹æ³•ä¹Ÿä¸ä¼šæ‰§è¡Œï¼‰ã€‚\nåœ¨controllerå½“ä¸­çš„æ–¹æ³•æ‰§è¡Œå®Œæ¯•ä¹‹åï¼Œå†å›è¿‡æ¥æ‰§è¡ŒpostHandle()è¿™ä¸ªæ–¹æ³•ä»¥åŠafterCompletion() æ–¹æ³•ï¼Œç„¶åå†è¿”å›ç»™DispatcherServletï¼Œæœ€ç»ˆå†æ¥æ‰§è¡Œè¿‡æ»¤å™¨å½“ä¸­æ”¾è¡Œåçš„è¿™ä¸€éƒ¨åˆ†é€»è¾‘çš„é€»è¾‘ã€‚æ‰§è¡Œå®Œæ¯•ä¹‹åï¼Œæœ€ç»ˆç»™æµè§ˆå™¨å“åº”æ•°æ®ã€‚\næ¥ä¸‹æ¥æˆ‘ä»¬å°±æ¥æ¼”ç¤ºä¸‹è¿‡æ»¤å™¨å’Œæ‹¦æˆªå™¨åŒæ—¶å­˜åœ¨çš„æ‰§è¡Œæµç¨‹ï¼š\nå¼€å¯LoginCheckInterceptoræ‹¦æˆªå™¨ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 @Component public class LoginCheckInterceptor implements HandlerInterceptor { @Override public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception { System.out.println(\u0026#34;preHandle .... \u0026#34;); return true; //trueè¡¨ç¤ºæ”¾è¡Œ } @Override public void postHandle(HttpServletRequest request, HttpServletResponse response, Object handler, ModelAndView modelAndView) throws Exception { System.out.println(\u0026#34;postHandle ... \u0026#34;); } @Override public void afterCompletion(HttpServletRequest request, HttpServletResponse response, Object handler, Exception ex) throws Exception { System.out.println(\u0026#34;afterCompletion .... \u0026#34;); } } 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 @Configuration public class WebConfig implements WebMvcConfigurer { //æ‹¦æˆªå™¨å¯¹è±¡ @Autowired private LoginCheckInterceptor loginCheckInterceptor; @Override public void addInterceptors(InterceptorRegistry registry) { //æ³¨å†Œè‡ªå®šä¹‰æ‹¦æˆªå™¨å¯¹è±¡ registry.addInterceptor(loginCheckInterceptor) .addPathPatterns(\u0026#34;/**\u0026#34;)//æ‹¦æˆªæ‰€æœ‰è¯·æ±‚ .excludePathPatterns(\u0026#34;/login\u0026#34;);//ä¸æ‹¦æˆªç™»å½•è¯·æ±‚ } } å¼€å¯DemoFilterè¿‡æ»¤å™¨ 1 2 3 4 5 6 7 8 9 10 11 12 @WebFilter(urlPatterns = \u0026#34;/*\u0026#34;) public class DemoFilter implements Filter { @Override public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain) throws IOException, ServletException { System.out.println(\u0026#34;DemoFilter æ”¾è¡Œå‰é€»è¾‘.....\u0026#34;); //æ”¾è¡Œè¯·æ±‚ filterChain.doFilter(servletRequest,servletResponse); System.out.println(\u0026#34;DemoFilter æ”¾è¡Œåé€»è¾‘.....\u0026#34;); } } é‡å¯SpringBootæœåŠ¡åï¼Œæ¸…ç©ºæ—¥å¿—ï¼Œæ‰“å¼€Postmanï¼Œæµ‹è¯•æŸ¥è¯¢éƒ¨é—¨ï¼š\nä»¥ä¸Šå°±æ˜¯æ‹¦æˆªå™¨çš„æ‰§è¡Œæµç¨‹ã€‚é€šè¿‡æ‰§è¡Œæµç¨‹åˆ†æï¼Œå¤§å®¶åº”è¯¥å·²ç»æ¸…æ¥šäº†è¿‡æ»¤å™¨å’Œæ‹¦æˆªå™¨ä¹‹é—´çš„åŒºåˆ«ï¼Œå…¶å®å®ƒä»¬ä¹‹é—´çš„åŒºåˆ«ä¸»è¦æ˜¯ä¸¤ç‚¹ï¼š\næ¥å£è§„èŒƒä¸åŒï¼šè¿‡æ»¤å™¨éœ€è¦å®ç°Filteræ¥å£ï¼Œè€Œæ‹¦æˆªå™¨éœ€è¦å®ç°HandlerInterceptoræ¥å£ã€‚ æ‹¦æˆªèŒƒå›´ä¸åŒï¼šè¿‡æ»¤å™¨Filterä¼šæ‹¦æˆªæ‰€æœ‰çš„èµ„æºï¼Œè€ŒInterceptoråªä¼šæ‹¦æˆªSpringç¯å¢ƒä¸­çš„èµ„æºã€‚ 2.5.3 ç™»å½•æ ¡éªŒ- Interceptor è®²è§£å®Œäº†æ‹¦æˆªå™¨çš„åŸºæœ¬æ“ä½œä¹‹åï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬éœ€è¦å®Œæˆæœ€åä¸€æ­¥æ“ä½œï¼šé€šè¿‡æ‹¦æˆªå™¨æ¥å®Œæˆæ¡ˆä¾‹å½“ä¸­çš„ç™»å½•æ ¡éªŒåŠŸèƒ½ã€‚\nç™»å½•æ ¡éªŒçš„ä¸šåŠ¡é€»è¾‘ä»¥åŠæ“ä½œæ­¥éª¤æˆ‘ä»¬å‰é¢å·²ç»åˆ†æè¿‡äº†ï¼Œå’Œç™»å½•æ ¡éªŒFilterè¿‡æ»¤å™¨å½“ä¸­çš„é€»è¾‘æ˜¯å®Œå…¨ä¸€è‡´çš„ã€‚ç°åœ¨æˆ‘ä»¬åªéœ€è¦æŠŠè¿™ä¸ªæŠ€æœ¯æ–¹æ¡ˆç”±åŸæ¥çš„è¿‡æ»¤å™¨æ¢æˆæ‹¦æˆªå™¨interceptorå°±å¯ä»¥äº†ã€‚\nç™»å½•æ ¡éªŒæ‹¦æˆªå™¨\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 //è‡ªå®šä¹‰æ‹¦æˆªå™¨ @Component //å½“å‰æ‹¦æˆªå™¨å¯¹è±¡ç”±Springåˆ›å»ºå’Œç®¡ç† @Slf4j public class LoginCheckInterceptor implements HandlerInterceptor { //å‰ç½®æ–¹å¼ @Override public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception { System.out.println(\u0026#34;preHandle .... \u0026#34;); //1.è·å–è¯·æ±‚url //2.åˆ¤æ–­è¯·æ±‚urlä¸­æ˜¯å¦åŒ…å«loginï¼Œå¦‚æœåŒ…å«ï¼Œè¯´æ˜æ˜¯ç™»å½•æ“ä½œï¼Œæ”¾è¡Œ //3.è·å–è¯·æ±‚å¤´ä¸­çš„ä»¤ç‰Œï¼ˆtokenï¼‰ String token = request.getHeader(\u0026#34;token\u0026#34;); log.info(\u0026#34;ä»è¯·æ±‚å¤´ä¸­è·å–çš„ä»¤ç‰Œï¼š{}\u0026#34;,token); //4.åˆ¤æ–­ä»¤ç‰Œæ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œè¿”å›é”™è¯¯ç»“æœï¼ˆæœªç™»å½•ï¼‰ if(!StringUtils.hasLength(token)){ log.info(\u0026#34;Tokenä¸å­˜åœ¨\u0026#34;); //åˆ›å»ºå“åº”ç»“æœå¯¹è±¡ Result responseResult = Result.error(\u0026#34;NOT_LOGIN\u0026#34;); //æŠŠResultå¯¹è±¡è½¬æ¢ä¸ºJSONæ ¼å¼å­—ç¬¦ä¸² (fastjsonæ˜¯é˜¿é‡Œå·´å·´æä¾›çš„ç”¨äºå®ç°å¯¹è±¡å’Œjsonçš„è½¬æ¢å·¥å…·ç±») String json = JSONObject.toJSONString(responseResult); //è®¾ç½®å“åº”å¤´ï¼ˆå‘ŠçŸ¥æµè§ˆå™¨ï¼šå“åº”çš„æ•°æ®ç±»å‹ä¸ºjsonã€å“åº”çš„æ•°æ®ç¼–ç è¡¨ä¸ºutf-8ï¼‰ response.setContentType(\u0026#34;application/json;charset=utf-8\u0026#34;); //å“åº” response.getWriter().write(json); return false;//ä¸æ”¾è¡Œ } //5.è§£ætokenï¼Œå¦‚æœè§£æå¤±è´¥ï¼Œè¿”å›é”™è¯¯ç»“æœï¼ˆæœªç™»å½•ï¼‰ try { JwtUtils.parseJWT(token); }catch (Exception e){ log.info(\u0026#34;ä»¤ç‰Œè§£æå¤±è´¥!\u0026#34;); //åˆ›å»ºå“åº”ç»“æœå¯¹è±¡ Result responseResult = Result.error(\u0026#34;NOT_LOGIN\u0026#34;); //æŠŠResultå¯¹è±¡è½¬æ¢ä¸ºJSONæ ¼å¼å­—ç¬¦ä¸² (fastjsonæ˜¯é˜¿é‡Œå·´å·´æä¾›çš„ç”¨äºå®ç°å¯¹è±¡å’Œjsonçš„è½¬æ¢å·¥å…·ç±») String json = JSONObject.toJSONString(responseResult); //è®¾ç½®å“åº”å¤´ response.setContentType(\u0026#34;application/json;charset=utf-8\u0026#34;); //å“åº” response.getWriter().write(json); return false; } //6.æ”¾è¡Œ return true; } æ³¨å†Œé…ç½®æ‹¦æˆªå™¨\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 @Configuration public class WebConfig implements WebMvcConfigurer { //æ‹¦æˆªå™¨å¯¹è±¡ @Autowired private LoginCheckInterceptor loginCheckInterceptor; @Override public void addInterceptors(InterceptorRegistry registry) { //æ³¨å†Œè‡ªå®šä¹‰æ‹¦æˆªå™¨å¯¹è±¡ registry.addInterceptor(loginCheckInterceptor) .addPathPatterns(\u0026#34;/**\u0026#34;) .excludePathPatterns(\u0026#34;/login\u0026#34;); } } ç™»å½•æ ¡éªŒçš„æ‹¦æˆªå™¨ç¼–å†™å®Œæˆåï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°±å¯ä»¥é‡æ–°å¯åŠ¨æœåŠ¡æ¥åšä¸€ä¸ªæµ‹è¯•ï¼š ï¼ˆå…³é—­ç™»å½•æ ¡éªŒFilterè¿‡æ»¤å™¨ï¼‰\næµ‹è¯•1ï¼šæœªç™»å½•æ˜¯å¦å¯ä»¥è®¿é—®éƒ¨é—¨ç®¡ç†é¡µé¢\né¦–å…ˆå…³é—­æµè§ˆå™¨ï¼Œé‡æ–°æ‰“å¼€æµè§ˆå™¨ï¼Œåœ¨åœ°å€æ ä¸­è¾“å…¥ï¼šhttp://localhost:9528/#/system/dept\nç”±äºç”¨æˆ·æ²¡æœ‰ç™»å½•ï¼Œæ ¡éªŒæœºåˆ¶è¿”å›é”™è¯¯ä¿¡æ¯ï¼Œå‰ç«¯é¡µé¢æ ¹æ®è¿”å›çš„é”™è¯¯ä¿¡æ¯ç»“æœï¼Œè‡ªåŠ¨è·³è½¬åˆ°ç™»å½•é¡µé¢äº†\næµ‹è¯•2ï¼šå…ˆè¿›è¡Œç™»å½•æ“ä½œï¼Œå†è®¿é—®éƒ¨é—¨ç®¡ç†é¡µé¢\nç™»å½•æ ¡éªŒæˆåŠŸä¹‹åï¼Œå¯ä»¥æ­£å¸¸è®¿é—®ç›¸å…³ä¸šåŠ¡æ“ä½œé¡µé¢\nåˆ°æ­¤æˆ‘ä»¬ä¹Ÿå°±éªŒè¯äº†æ‰€å¼€å‘çš„ç™»å½•æ ¡éªŒçš„æ‹¦æˆªå™¨ä¹Ÿæ˜¯æ²¡é—®é¢˜çš„ã€‚ç™»å½•æ ¡éªŒçš„è¿‡æ»¤å™¨å’Œæ‹¦æˆªå™¨ï¼Œæˆ‘ä»¬åªéœ€è¦ä½¿ç”¨å…¶ä¸­çš„ä¸€ç§å°±å¯ä»¥äº†ã€‚\n3. å¼‚å¸¸å¤„ç† 3.1 å½“å‰é—®é¢˜ ç™»å½•åŠŸèƒ½å’Œç™»å½•æ ¡éªŒåŠŸèƒ½æˆ‘ä»¬éƒ½å®ç°äº†ï¼Œä¸‹é¢æˆ‘ä»¬å­¦ä¹ ä¸‹ä»Šå¤©æœ€åä¸€å—æŠ€æœ¯ç‚¹ï¼šå¼‚å¸¸å¤„ç†ã€‚é¦–å…ˆæˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸‹ç³»ç»Ÿå‡ºç°å¼‚å¸¸ä¹‹åä¼šå‘ç”Ÿä»€ä¹ˆç°è±¡ï¼Œå†æ¥ä»‹ç»å¼‚å¸¸å¤„ç†çš„æ–¹æ¡ˆã€‚\næˆ‘ä»¬æ‰“å¼€æµè§ˆå™¨ï¼Œè®¿é—®ç³»ç»Ÿä¸­çš„æ–°å¢éƒ¨é—¨æ“ä½œï¼Œç³»ç»Ÿä¸­å·²ç»æœ‰äº† \u0026ldquo;å°±ä¸šéƒ¨\u0026rdquo; è¿™ä¸ªéƒ¨é—¨ï¼Œæˆ‘ä»¬å†æ¥å¢åŠ ä¸€ä¸ªå°±ä¸šéƒ¨ï¼Œçœ‹çœ‹ä¼šå‘ç”Ÿä»€ä¹ˆç°è±¡ã€‚\nç‚¹å‡»ç¡®å®šä¹‹åï¼Œçª—å£å…³é—­äº†ï¼Œé¡µé¢æ²¡æœ‰ä»»ä½•ååº”ï¼Œå°±ä¸šéƒ¨ä¹Ÿæ²¡æœ‰æ·»åŠ ä¸Šã€‚ è€Œæ­¤æ—¶ï¼Œå¤§å®¶ä¼šå‘ç°ï¼Œç½‘ç»œè¯·æ±‚æŠ¥é”™äº†ã€‚\nçŠ¶æ€ç ä¸º500ï¼Œè¡¨ç¤ºæœåŠ¡å™¨ç«¯å¼‚å¸¸ï¼Œæˆ‘ä»¬æ‰“å¼€ideaï¼Œæ¥çœ‹ä¸€ä¸‹ï¼ŒæœåŠ¡å™¨ç«¯å‡ºäº†ä»€ä¹ˆé—®é¢˜ã€‚\nä¸Šè¿°é”™è¯¯ä¿¡æ¯çš„å«ä¹‰æ˜¯ï¼Œdeptéƒ¨é—¨è¡¨çš„nameå­—æ®µçš„å€¼ å°±ä¸šéƒ¨ é‡å¤äº†ï¼Œå› ä¸ºåœ¨æ•°æ®åº“è¡¨deptä¸­å·²ç»æœ‰äº†å°±ä¸šéƒ¨ï¼Œæˆ‘ä»¬ä¹‹å‰è®¾è®¡è¿™å¼ è¡¨æ—¶ï¼Œä¸ºnameå­—æ®µå»ºè®®äº†å”¯ä¸€çº¦æŸï¼Œæ‰€ä»¥è¯¥å­—æ®µçš„å€¼æ˜¯ä¸èƒ½é‡å¤çš„ã€‚\nè€Œå½“æˆ‘ä»¬å†æ·»åŠ å°±ä¸šéƒ¨ï¼Œè¿™ä¸ªéƒ¨é—¨æ—¶ï¼Œå°±è¿åäº†å”¯ä¸€çº¦æŸï¼Œæ­¤æ—¶å°±ä¼šæŠ¥é”™ã€‚\næˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹å‡ºç°å¼‚å¸¸ä¹‹åï¼Œæœ€ç»ˆæœåŠ¡ç«¯ç»™å‰ç«¯å“åº”å›æ¥çš„æ•°æ®é•¿ä»€ä¹ˆæ ·ã€‚\nå“åº”å›æ¥çš„æ•°æ®æ˜¯ä¸€ä¸ªJSONæ ¼å¼çš„æ•°æ®ã€‚ä½†è¿™ç§JSONæ ¼å¼çš„æ•°æ®è¿˜æ˜¯æˆ‘ä»¬å¼€å‘è§„èŒƒå½“ä¸­æ‰€æåˆ°çš„ç»Ÿä¸€å“åº”ç»“æœResultå—ï¼Ÿæ˜¾ç„¶å¹¶ä¸æ˜¯ã€‚ç”±äºè¿”å›çš„æ•°æ®ä¸ç¬¦åˆå¼€å‘è§„èŒƒï¼Œæ‰€ä»¥å‰ç«¯å¹¶ä¸èƒ½è§£æå‡ºå“åº”çš„JSONæ•°æ®ã€‚\næ¥ä¸‹æ¥æˆ‘ä»¬éœ€è¦æ€è€ƒçš„æ˜¯å‡ºç°å¼‚å¸¸ä¹‹åï¼Œå½“å‰æ¡ˆä¾‹é¡¹ç›®çš„å¼‚å¸¸æ˜¯æ€ä¹ˆå¤„ç†çš„ï¼Ÿ\nç­”æ¡ˆï¼šæ²¡æœ‰åšä»»ä½•çš„å¼‚å¸¸å¤„ç† å½“æˆ‘ä»¬æ²¡æœ‰åšä»»ä½•çš„å¼‚å¸¸å¤„ç†æ—¶ï¼Œæˆ‘ä»¬ä¸‰å±‚æ¶æ„å¤„ç†å¼‚å¸¸çš„æ–¹æ¡ˆï¼š\nMapperæ¥å£åœ¨æ“ä½œæ•°æ®åº“çš„æ—¶å€™å‡ºé”™äº†ï¼Œæ­¤æ—¶å¼‚å¸¸ä¼šå¾€ä¸ŠæŠ›(è°è°ƒç”¨Mapperå°±æŠ›ç»™è°)ï¼Œä¼šæŠ›ç»™serviceã€‚ service ä¸­ä¹Ÿå­˜åœ¨å¼‚å¸¸äº†ï¼Œä¼šæŠ›ç»™controllerã€‚ è€Œåœ¨controllerå½“ä¸­ï¼Œæˆ‘ä»¬ä¹Ÿæ²¡æœ‰åšä»»ä½•çš„å¼‚å¸¸å¤„ç†ï¼Œæ‰€ä»¥æœ€ç»ˆå¼‚å¸¸ä¼šå†å¾€ä¸ŠæŠ›ã€‚æœ€ç»ˆæŠ›ç»™æ¡†æ¶ä¹‹åï¼Œæ¡†æ¶å°±ä¼šè¿”å›ä¸€ä¸ªJSONæ ¼å¼çš„æ•°æ®ï¼Œé‡Œé¢å°è£…çš„å°±æ˜¯é”™è¯¯çš„ä¿¡æ¯ï¼Œä½†æ˜¯æ¡†æ¶è¿”å›çš„JSONæ ¼å¼çš„æ•°æ®å¹¶ä¸ç¬¦åˆæˆ‘ä»¬çš„å¼€å‘è§„èŒƒã€‚ 3.2 è§£å†³æ–¹æ¡ˆ é‚£ä¹ˆåœ¨ä¸‰å±‚æ„æ¶é¡¹ç›®ä¸­ï¼Œå‡ºç°äº†å¼‚å¸¸ï¼Œè¯¥å¦‚ä½•å¤„ç†?\næ–¹æ¡ˆä¸€ï¼šåœ¨æ‰€æœ‰Controllerçš„æ‰€æœ‰æ–¹æ³•ä¸­è¿›è¡Œtryâ€¦catchå¤„ç† ç¼ºç‚¹ï¼šä»£ç è‡ƒè‚¿ï¼ˆä¸æ¨èï¼‰ æ–¹æ¡ˆäºŒï¼šå…¨å±€å¼‚å¸¸å¤„ç†å™¨ å¥½å¤„ï¼šç®€å•ã€ä¼˜é›…ï¼ˆæ¨èï¼‰ 3.3 å…¨å±€å¼‚å¸¸å¤„ç†å™¨ æˆ‘ä»¬è¯¥æ€ä¹ˆæ ·å®šä¹‰å…¨å±€å¼‚å¸¸å¤„ç†å™¨ï¼Ÿ\nå®šä¹‰å…¨å±€å¼‚å¸¸å¤„ç†å™¨éå¸¸ç®€å•ï¼Œå°±æ˜¯å®šä¹‰ä¸€ä¸ªç±»ï¼Œåœ¨ç±»ä¸ŠåŠ ä¸Šä¸€ä¸ªæ³¨è§£@RestControllerAdviceï¼ŒåŠ ä¸Šè¿™ä¸ªæ³¨è§£å°±ä»£è¡¨æˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªå…¨å±€å¼‚å¸¸å¤„ç†å™¨ã€‚ åœ¨å…¨å±€å¼‚å¸¸å¤„ç†å™¨å½“ä¸­ï¼Œéœ€è¦å®šä¹‰ä¸€ä¸ªæ–¹æ³•æ¥æ•è·å¼‚å¸¸ï¼Œåœ¨è¿™ä¸ªæ–¹æ³•ä¸Šéœ€è¦åŠ ä¸Šæ³¨è§£@ExceptionHandlerã€‚é€šè¿‡@ExceptionHandleræ³¨è§£å½“ä¸­çš„valueå±æ€§æ¥æŒ‡å®šæˆ‘ä»¬è¦æ•è·çš„æ˜¯å“ªä¸€ç±»å‹çš„å¼‚å¸¸ã€‚ 1 2 3 4 5 6 7 8 9 10 11 12 @RestControllerAdvice public class GlobalExceptionHandler { //å¤„ç†å¼‚å¸¸ @ExceptionHandler(Exception.class) //æŒ‡å®šèƒ½å¤Ÿå¤„ç†çš„å¼‚å¸¸ç±»å‹ public Result ex(Exception e){ e.printStackTrace();//æ‰“å°å †æ ˆä¸­çš„å¼‚å¸¸ä¿¡æ¯ //æ•è·åˆ°å¼‚å¸¸ä¹‹åï¼Œå“åº”ä¸€ä¸ªæ ‡å‡†çš„Result return Result.error(\u0026#34;å¯¹ä¸èµ·,æ“ä½œå¤±è´¥,è¯·è”ç³»ç®¡ç†å‘˜\u0026#34;); } } @RestControllerAdvice = @ControllerAdvice + @ResponseBody\nå¤„ç†å¼‚å¸¸çš„æ–¹æ³•è¿”å›å€¼ä¼šè½¬æ¢ä¸ºjsonåå†å“åº”ç»™å‰ç«¯\né‡æ–°å¯åŠ¨SpringBootæœåŠ¡ï¼Œæ‰“å¼€æµè§ˆå™¨ï¼Œå†æ¥æµ‹è¯•ä¸€ä¸‹æ·»åŠ éƒ¨é—¨è¿™ä¸ªæ“ä½œï¼Œæˆ‘ä»¬ä¾ç„¶æ·»åŠ å·²å­˜åœ¨çš„ \u0026ldquo;å°±ä¸šéƒ¨\u0026rdquo; è¿™ä¸ªéƒ¨é—¨ï¼š\næ­¤æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œå‡ºç°å¼‚å¸¸ä¹‹åï¼Œå¼‚å¸¸å·²ç»è¢«å…¨å±€å¼‚å¸¸å¤„ç†å™¨æ•è·äº†ã€‚ç„¶åè¿”å›çš„é”™è¯¯ä¿¡æ¯ï¼Œè¢«å‰ç«¯ç¨‹åºæ­£å¸¸è§£æï¼Œç„¶åæç¤ºå‡ºäº†å¯¹åº”çš„é”™è¯¯æç¤ºä¿¡æ¯ã€‚\nä»¥ä¸Šå°±æ˜¯å…¨å±€å¼‚å¸¸å¤„ç†å™¨çš„ä½¿ç”¨ï¼Œä¸»è¦æ¶‰åŠåˆ°ä¸¤ä¸ªæ³¨è§£ï¼š\n@RestControllerAdvice //è¡¨ç¤ºå½“å‰ç±»ä¸ºå…¨å±€å¼‚å¸¸å¤„ç†å™¨ @ExceptionHandler //æŒ‡å®šå¯ä»¥æ•è·å“ªç§ç±»å‹çš„å¼‚å¸¸è¿›è¡Œå¤„ç† ","date":"0001-01-01T00:00:00Z","permalink":"http://localhost:1313/p/","title":""},{"content":"SpringBootWebè¯·æ±‚å“åº” å‰è¨€ åœ¨ä¸Šä¸€æ¬¡çš„è¯¾ç¨‹ä¸­ï¼Œæˆ‘ä»¬å¼€å‘äº†springbootwebçš„å…¥é—¨ç¨‹åºã€‚ åŸºäºSpringBootçš„æ–¹å¼å¼€å‘ä¸€ä¸ªwebåº”ç”¨ï¼Œæµè§ˆå™¨å‘èµ·è¯·æ±‚ /hello å ï¼Œç»™æµè§ˆå™¨è¿”å›å­—ç¬¦ä¸² â€œHello World ~â€ã€‚\nå…¶å®å‘¢ï¼Œæ˜¯æˆ‘ä»¬åœ¨æµè§ˆå™¨å‘èµ·è¯·æ±‚ï¼Œè¯·æ±‚äº†æˆ‘ä»¬çš„åç«¯webæœåŠ¡å™¨(ä¹Ÿå°±æ˜¯å†…ç½®çš„Tomcat)ã€‚è€Œæˆ‘ä»¬åœ¨å¼€å‘webç¨‹åºæ—¶å‘¢ï¼Œå®šä¹‰äº†ä¸€ä¸ªæ§åˆ¶å™¨ç±»Controllerï¼Œè¯·æ±‚ä¼šè¢«éƒ¨ç½²åœ¨Tomcatä¸­çš„Controlleræ¥æ”¶ï¼Œç„¶åControllerå†ç»™æµè§ˆå™¨ä¸€ä¸ªå“åº”ï¼Œå“åº”ä¸€ä¸ªå­—ç¬¦ä¸² â€œHello Worldâ€ã€‚ è€Œåœ¨è¯·æ±‚å“åº”çš„è¿‡ç¨‹ä¸­æ˜¯éµå¾ªHTTPåè®®çš„ã€‚\nä½†æ˜¯å‘¢ï¼Œè¿™é‡Œè¦å‘Šè¯‰å¤§å®¶çš„æ—¶ï¼Œå…¶å®åœ¨Tomcatè¿™ç±»WebæœåŠ¡å™¨ä¸­ï¼Œæ˜¯ä¸è¯†åˆ«æˆ‘ä»¬è‡ªå·±å®šä¹‰çš„Controllerçš„ã€‚ä½†æ˜¯æˆ‘ä»¬å‰é¢è®²åˆ°è¿‡Tomcatæ˜¯ä¸€ä¸ªServletå®¹å™¨ï¼Œæ˜¯æ”¯æŒSerlvetè§„èŒƒçš„ï¼Œæ‰€ä»¥å‘¢ï¼Œåœ¨tomcatä¸­æ˜¯å¯ä»¥è¯†åˆ« Servletç¨‹åºçš„ã€‚ é‚£æˆ‘ä»¬æ‰€ç¼–å†™çš„XxxController æ˜¯å¦‚ä½•å¤„ç†è¯·æ±‚çš„ï¼Œåˆä¸Servletä¹‹é—´æœ‰ä»€ä¹ˆè”ç³»å‘¢ï¼Ÿ\nå…¶å®å‘¢ï¼Œåœ¨SpringBootè¿›è¡Œwebç¨‹åºå¼€å‘æ—¶ï¼Œå®ƒå†…ç½®äº†ä¸€ä¸ªæ ¸å¿ƒçš„Servletç¨‹åº DispatcherServletï¼Œç§°ä¹‹ä¸º æ ¸å¿ƒæ§åˆ¶å™¨ã€‚ DispatcherServlet è´Ÿè´£æ¥æ”¶é¡µé¢å‘é€çš„è¯·æ±‚ï¼Œç„¶åæ ¹æ®æ‰§è¡Œçš„è§„åˆ™ï¼Œå°†è¯·æ±‚å†è½¬å‘ç»™åé¢çš„è¯·æ±‚å¤„ç†å™¨Controllerï¼Œè¯·æ±‚å¤„ç†å™¨å¤„ç†å®Œè¯·æ±‚ä¹‹åï¼Œæœ€ç»ˆå†ç”±DispatcherServletç»™æµè§ˆå™¨å“åº”æ•°æ®ã€‚\né‚£å°†æ¥æµè§ˆå™¨å‘é€è¯·æ±‚ï¼Œä¼šæºå¸¦è¯·æ±‚æ•°æ®ï¼ŒåŒ…æ‹¬ï¼šè¯·æ±‚è¡Œã€è¯·æ±‚å¤´ï¼›è¯·æ±‚åˆ°è¾¾tomcatä¹‹åï¼Œtomcatä¼šè´Ÿè´£è§£æè¿™äº›è¯·æ±‚æ•°æ®ï¼Œç„¶åå‘¢å°†è§£æåçš„è¯·æ±‚æ•°æ®ä¼šä¼ é€’ç»™Servletç¨‹åºçš„HttpServletRequestå¯¹è±¡ï¼Œé‚£ä¹Ÿå°±æ„å‘³ç€ HttpServletRequest å¯¹è±¡å°±å¯ä»¥è·å–åˆ°è¯·æ±‚æ•°æ®ã€‚ è€ŒTomcatï¼Œè¿˜ç»™Servletç¨‹åºä¼ é€’äº†ä¸€ä¸ªå‚æ•° HttpServletResponseï¼Œé€šè¿‡è¿™ä¸ªå¯¹è±¡ï¼Œæˆ‘ä»¬å°±å¯ä»¥ç»™æµè§ˆå™¨è®¾ç½®å“åº”æ•°æ® ã€‚\né‚£ä¸Šè¿°æ‰€æè¿°çš„è¿™ç§æµè§ˆå™¨/æœåŠ¡å™¨çš„æ¶æ„æ¨¡å¼å‘¢ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºï¼šBSæ¶æ„ã€‚\nâ€¢ BSæ¶æ„ï¼šBrowser/Serverï¼Œæµè§ˆå™¨/æœåŠ¡å™¨æ¶æ„æ¨¡å¼ã€‚å®¢æˆ·ç«¯åªéœ€è¦æµè§ˆå™¨ï¼Œåº”ç”¨ç¨‹åºçš„é€»è¾‘å’Œæ•°æ®éƒ½å­˜å‚¨åœ¨æœåŠ¡ç«¯ã€‚\né‚£ä»Šå¤©å‘¢ï¼Œæˆ‘ä»¬çš„è¯¾ç¨‹å†…å®¹ä¸»è¦å°±å›´ç»•ç€ï¼šè¯·æ±‚ã€å“åº”è¿›è¡Œã€‚ ä»Šå¤©è¯¾ç¨‹å†…å®¹ï¼Œä¸»è¦åŒ…å«ä¸‰ä¸ªéƒ¨åˆ†ï¼š\nè¯·æ±‚ å“åº” åˆ†å±‚è§£è€¦ 1. è¯·æ±‚ åœ¨æœ¬ç« èŠ‚å‘¢ï¼Œæˆ‘ä»¬ä¸»è¦è®²è§£ï¼Œå¦‚ä½•æ¥æ”¶é¡µé¢ä¼ é€’è¿‡æ¥çš„è¯·æ±‚æ•°æ®ã€‚\n1.1 Postman ä¹‹å‰æˆ‘ä»¬è¯¾ç¨‹ä¸­æœ‰æåˆ°å½“å‰æœ€ä¸ºä¸»æµçš„å¼€å‘æ¨¡å¼ï¼šå‰åç«¯åˆ†ç¦»\nåœ¨è¿™ç§æ¨¡å¼ä¸‹ï¼Œå‰ç«¯æŠ€æœ¯äººå‘˜åŸºäº\u0026quot;æ¥å£æ–‡æ¡£\u0026quot;ï¼Œå¼€å‘å‰ç«¯ç¨‹åºï¼›åç«¯æŠ€æœ¯äººå‘˜ä¹ŸåŸºäº\u0026quot;æ¥å£æ–‡æ¡£\u0026quot;ï¼Œå¼€å‘åç«¯ç¨‹åºã€‚\nç”±äºå‰åç«¯åˆ†ç¦»ï¼Œå¯¹æˆ‘ä»¬åç«¯æŠ€æœ¯äººå‘˜æ¥è®²ï¼Œåœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œæ˜¯æ²¡æœ‰å‰ç«¯é¡µé¢çš„ï¼Œé‚£æˆ‘ä»¬æ€ä¹ˆæµ‹è¯•è‡ªå·±æ‰€å¼€å‘çš„ç¨‹åºå‘¢ï¼Ÿ\næ–¹å¼1ï¼šåƒä¹‹å‰SpringBootå…¥é—¨æ¡ˆä¾‹ä¸­ä¸€æ ·ï¼Œç›´æ¥ä½¿ç”¨æµè§ˆå™¨ã€‚åœ¨æµè§ˆå™¨ä¸­è¾“å…¥åœ°å€ï¼Œæµ‹è¯•åç«¯ç¨‹åºã€‚\nå¼Šç«¯ï¼šåœ¨æµè§ˆå™¨åœ°å€æ ä¸­è¾“å…¥åœ°å€è¿™ç§æ–¹å¼éƒ½æ˜¯GETè¯·æ±‚ï¼Œå¦‚ä½•æˆ‘ä»¬è¦ç”¨åˆ°POSTè¯·æ±‚æ€ä¹ˆåŠå‘¢ï¼Ÿ è¦è§£å†³POSTè¯·æ±‚ï¼Œéœ€è¦ç¨‹åºå‘˜è‡ªå·±ç¼–å†™å‰ç«¯ä»£ç ï¼ˆæ¯”è¾ƒéº»çƒ¦ï¼‰ æ–¹å¼2ï¼šä½¿ç”¨ä¸“ä¸šçš„æ¥å£æµ‹è¯•å·¥å…·ï¼ˆè¯¾ç¨‹ä¸­æˆ‘ä»¬ä½¿ç”¨Postmanå·¥å…·ï¼‰\n1.1.1 ä»‹ç» Postmanæ˜¯ä¸€æ¬¾åŠŸèƒ½å¼ºå¤§çš„ç½‘é¡µè°ƒè¯•ä¸å‘é€ç½‘é¡µHTTPè¯·æ±‚çš„Chromeæ’ä»¶ã€‚\nPostmanåŸæ˜¯Chromeæµè§ˆå™¨çš„æ’ä»¶ï¼Œå¯ä»¥æ¨¡æ‹Ÿæµè§ˆå™¨å‘åç«¯æœåŠ¡å™¨å‘èµ·ä»»ä½•å½¢å¼(å¦‚:getã€post)çš„HTTPè¯·æ±‚\nä½¿ç”¨Postmanè¿˜å¯ä»¥åœ¨å‘èµ·è¯·æ±‚æ—¶ï¼Œæºå¸¦ä¸€äº›è¯·æ±‚å‚æ•°ã€è¯·æ±‚å¤´ç­‰ä¿¡æ¯\nä½œç”¨ï¼šå¸¸ç”¨äºè¿›è¡Œæ¥å£æµ‹è¯•\nç‰¹å¾\nç®€å• å®ç”¨ ç¾è§‚ å¤§æ–¹ 1.1.2 å®‰è£… åŒå‡»èµ„æ–™ä¸­æä¾›çš„Postman-win64-8.3.1-Setup.exeå³å¯è‡ªåŠ¨å®‰è£…ã€‚\nå®‰è£…å®Œæˆä¹‹åï¼Œè¿›å…¥é¡µé¢ä¸­ä¼šæç¤ºæœ‰æ–°ç‰ˆæœ¬å¯ä»¥å‡çº§ï¼ˆæ— éœ€å‡çº§ï¼‰\nç•Œé¢ä»‹ç»:\nå¦‚æœæˆ‘ä»¬éœ€è¦å°†æµ‹è¯•çš„è¯·æ±‚ä¿¡æ¯ä¿å­˜ä¸‹æ¥ï¼Œå°±éœ€è¦åˆ›å»ºä¸€ä¸ªpostmançš„è´¦å·ï¼Œç„¶åç™»å½•ä¹‹åæ‰å¯ä»¥ã€‚\nç™»å½•å®Œæˆä¹‹åï¼Œå¯ä»¥åˆ›å»ºå·¥ä½œç©ºé—´ï¼š\nåˆ›å»ºè¯·æ±‚ï¼š\nç‚¹å‡»\u0026quot;Save\u0026quot;ï¼Œä¿å­˜å½“å‰è¯·æ±‚\n1.2 ç®€å•å‚æ•° ç®€å•å‚æ•°ï¼šåœ¨å‘æœåŠ¡å™¨å‘èµ·è¯·æ±‚æ—¶ï¼Œå‘æœåŠ¡å™¨ä¼ é€’çš„æ˜¯ä¸€äº›æ™®é€šçš„è¯·æ±‚æ•°æ®ã€‚\né‚£ä¹ˆåœ¨åç«¯ç¨‹åºä¸­ï¼Œå¦‚ä½•æ¥æ”¶ä¼ é€’è¿‡æ¥çš„æ™®é€šå‚æ•°æ•°æ®å‘¢ï¼Ÿ\næˆ‘ä»¬åœ¨è¿™é‡Œè®²è§£ä¸¤ç§æ–¹å¼ï¼š\nåŸå§‹æ–¹å¼ SpringBootæ–¹å¼ 1.2.1 åŸå§‹æ–¹å¼ åœ¨åŸå§‹çš„Webç¨‹åºå½“ä¸­ï¼Œéœ€è¦é€šè¿‡Servletä¸­æä¾›çš„APIï¼šHttpServletRequestï¼ˆè¯·æ±‚å¯¹è±¡ï¼‰ï¼Œè·å–è¯·æ±‚çš„ç›¸å…³ä¿¡æ¯ã€‚æ¯”å¦‚è·å–è¯·æ±‚å‚æ•°ï¼š\nTomcatæ¥æ”¶åˆ°httpè¯·æ±‚æ—¶ï¼šæŠŠè¯·æ±‚çš„ç›¸å…³ä¿¡æ¯å°è£…åˆ°HttpServletRequestå¯¹è±¡ä¸­\nåœ¨Controllerä¸­ï¼Œæˆ‘ä»¬è¦æƒ³è·å–Requestå¯¹è±¡ï¼Œå¯ä»¥ç›´æ¥åœ¨æ–¹æ³•çš„å½¢å‚ä¸­å£°æ˜ HttpServletRequest å¯¹è±¡ã€‚ç„¶åå°±å¯ä»¥é€šè¿‡è¯¥å¯¹è±¡æ¥è·å–è¯·æ±‚ä¿¡æ¯ï¼š\n1 2 //æ ¹æ®æŒ‡å®šçš„å‚æ•°åè·å–è¯·æ±‚å‚æ•°çš„æ•°æ®å€¼ String request.getParameter(\u0026#34;å‚æ•°å\u0026#34;) 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 @RestController public class RequestController { //åŸå§‹æ–¹å¼ @RequestMapping(\u0026#34;/simpleParam\u0026#34;) public String simpleParam(HttpServletRequest request){ // http://localhost:8080/simpleParam?name=Tom\u0026amp;age=10 // è¯·æ±‚å‚æ•°ï¼š name=Tom\u0026amp;age=10 ï¼ˆæœ‰2ä¸ªè¯·æ±‚å‚æ•°ï¼‰ // ç¬¬1ä¸ªè¯·æ±‚å‚æ•°ï¼š name=Tom å‚æ•°å:nameï¼Œå‚æ•°å€¼:Tom // ç¬¬2ä¸ªè¯·æ±‚å‚æ•°ï¼š age=10 å‚æ•°å:age , å‚æ•°å€¼:10 String name = request.getParameter(\u0026#34;name\u0026#34;);//nameå°±æ˜¯è¯·æ±‚å‚æ•°å String ageStr = request.getParameter(\u0026#34;age\u0026#34;);//ageå°±æ˜¯è¯·æ±‚å‚æ•°å int age = Integer.parseInt(ageStr);//éœ€è¦æ‰‹åŠ¨è¿›è¡Œç±»å‹è½¬æ¢ System.out.println(name+\u0026#34; : \u0026#34;+age); return \u0026#34;OK\u0026#34;; } } ä»¥ä¸Šè¿™ç§æ–¹å¼ï¼Œæˆ‘ä»¬ä»…åšäº†è§£ã€‚ï¼ˆåœ¨ä»¥åçš„å¼€å‘ä¸­ä¸ä¼šä½¿ç”¨åˆ°ï¼‰\n1.2.2 SpringBootæ–¹å¼ åœ¨Springbootçš„ç¯å¢ƒä¸­ï¼Œå¯¹åŸå§‹çš„APIè¿›è¡Œäº†å°è£…ï¼Œæ¥æ”¶å‚æ•°çš„å½¢å¼æ›´åŠ ç®€å•ã€‚ å¦‚æœæ˜¯ç®€å•å‚æ•°ï¼Œå‚æ•°åä¸å½¢å‚å˜é‡åç›¸åŒï¼Œå®šä¹‰åŒåçš„å½¢å‚å³å¯æ¥æ”¶å‚æ•°ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 @RestController public class RequestController { // http://localhost:8080/simpleParam?name=Tom\u0026amp;age=10 // ç¬¬1ä¸ªè¯·æ±‚å‚æ•°ï¼š name=Tom å‚æ•°å:nameï¼Œå‚æ•°å€¼:Tom // ç¬¬2ä¸ªè¯·æ±‚å‚æ•°ï¼š age=10 å‚æ•°å:age , å‚æ•°å€¼:10 //springbootæ–¹å¼ @RequestMapping(\u0026#34;/simpleParam\u0026#34;) public String simpleParam(String name , Integer age ){//å½¢å‚åå’Œè¯·æ±‚å‚æ•°åä¿æŒä¸€è‡´ System.out.println(name+\u0026#34; : \u0026#34;+age); return \u0026#34;OK\u0026#34;; } } postmanæµ‹è¯•( GET è¯·æ±‚)ï¼š\npostmanæµ‹è¯•( POSTè¯·æ±‚ )ï¼š\nç»“è®ºï¼šä¸è®ºæ˜¯GETè¯·æ±‚è¿˜æ˜¯POSTè¯·æ±‚ï¼Œå¯¹äºç®€å•å‚æ•°æ¥è®²ï¼Œåªè¦ä¿è¯==è¯·æ±‚å‚æ•°åå’ŒControlleræ–¹æ³•ä¸­çš„å½¢å‚åä¿æŒä¸€è‡´==ï¼Œå°±å¯ä»¥è·å–åˆ°è¯·æ±‚å‚æ•°ä¸­çš„æ•°æ®å€¼ã€‚\n1.2.3 å‚æ•°åä¸ä¸€è‡´ å¦‚æœæ–¹æ³•å½¢å‚åç§°ä¸è¯·æ±‚å‚æ•°åç§°ä¸ä¸€è‡´ï¼Œcontrolleræ–¹æ³•ä¸­çš„å½¢å‚è¿˜èƒ½æ¥æ”¶åˆ°è¯·æ±‚å‚æ•°å€¼å—ï¼Ÿ\n1 2 3 4 5 6 7 8 9 10 11 12 @RestController public class RequestController { // http://localhost:8080/simpleParam?name=Tom\u0026amp;age=20 // è¯·æ±‚å‚æ•°åï¼šname //springbootæ–¹å¼ @RequestMapping(\u0026#34;/simpleParam\u0026#34;) public String simpleParam(String username , Integer age ){//è¯·æ±‚å‚æ•°åå’Œå½¢å‚åä¸ç›¸åŒ System.out.println(username+\u0026#34; : \u0026#34;+age); return \u0026#34;OK\u0026#34;; } } ç­”æ¡ˆï¼šè¿è¡Œæ²¡æœ‰æŠ¥é”™ã€‚ controlleræ–¹æ³•ä¸­çš„usernameå€¼ä¸ºï¼šnullï¼Œageå€¼ä¸º20\nç»“è®ºï¼šå¯¹äºç®€å•å‚æ•°æ¥è®²ï¼Œè¯·æ±‚å‚æ•°åå’Œcontrolleræ–¹æ³•ä¸­çš„å½¢å‚åä¸ä¸€è‡´æ—¶ï¼Œæ— æ³•æ¥æ”¶åˆ°è¯·æ±‚æ•°æ® é‚£ä¹ˆå¦‚æœæˆ‘ä»¬å¼€å‘ä¸­ï¼Œé‡åˆ°äº†è¿™ç§è¯·æ±‚å‚æ•°åå’Œcontrolleræ–¹æ³•ä¸­çš„å½¢å‚åä¸ç›¸åŒï¼Œæ€ä¹ˆåŠï¼Ÿ\nè§£å†³æ–¹æ¡ˆï¼šå¯ä»¥ä½¿ç”¨Springæä¾›çš„@RequestParamæ³¨è§£å®Œæˆæ˜ å°„\nåœ¨æ–¹æ³•å½¢å‚å‰é¢åŠ ä¸Š @RequestParam ç„¶åé€šè¿‡valueå±æ€§æ‰§è¡Œè¯·æ±‚å‚æ•°åï¼Œä»è€Œå®Œæˆæ˜ å°„ã€‚ä»£ç å¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 @RestController public class RequestController { // http://localhost:8080/simpleParam?name=Tom\u0026amp;age=20 // è¯·æ±‚å‚æ•°åï¼šname //springbootæ–¹å¼ @RequestMapping(\u0026#34;/simpleParam\u0026#34;) public String simpleParam(@RequestParam(\u0026#34;name\u0026#34;) String username , Integer age ){ System.out.println(username+\u0026#34; : \u0026#34;+age); return \u0026#34;OK\u0026#34;; } } æ³¨æ„äº‹é¡¹ï¼š\n@RequestParamä¸­çš„requiredå±æ€§é»˜è®¤ä¸ºtrueï¼ˆé»˜è®¤å€¼ä¹Ÿæ˜¯trueï¼‰ï¼Œä»£è¡¨è¯¥è¯·æ±‚å‚æ•°å¿…é¡»ä¼ é€’ï¼Œå¦‚æœä¸ä¼ é€’å°†æŠ¥é”™\nå¦‚æœè¯¥å‚æ•°æ˜¯å¯é€‰çš„ï¼Œå¯ä»¥å°†requiredå±æ€§è®¾ç½®ä¸ºfalse\n1 2 3 4 5 @RequestMapping(\u0026#34;/simpleParam\u0026#34;) public String simpleParam(@RequestParam(name = \u0026#34;name\u0026#34;, required = false) String username, Integer age){ System.out.println(username+ \u0026#34;:\u0026#34; + age); return \u0026#34;OK\u0026#34;; } 1.3 å®ä½“å‚æ•° åœ¨ä½¿ç”¨ç®€å•å‚æ•°åšä¸ºæ•°æ®ä¼ é€’æ–¹å¼æ—¶ï¼Œå‰ç«¯ä¼ é€’äº†å¤šå°‘ä¸ªè¯·æ±‚å‚æ•°ï¼Œåç«¯controlleræ–¹æ³•ä¸­çš„å½¢å‚å°±è¦ä¹¦å†™å¤šå°‘ä¸ªã€‚å¦‚æœè¯·æ±‚å‚æ•°æ¯”è¾ƒå¤šï¼Œé€šè¿‡ä¸Šè¿°çš„æ–¹å¼ä¸€ä¸ªå‚æ•°ä¸€ä¸ªå‚æ•°çš„æ¥æ”¶ï¼Œä¼šæ¯”è¾ƒç¹çã€‚\næ­¤æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥è€ƒè™‘å°†è¯·æ±‚å‚æ•°å°è£…åˆ°ä¸€ä¸ªå®ä½“ç±»å¯¹è±¡ä¸­ã€‚ è¦æƒ³å®Œæˆæ•°æ®å°è£…ï¼Œéœ€è¦éµå®ˆå¦‚ä¸‹è§„åˆ™ï¼šè¯·æ±‚å‚æ•°åä¸å®ä½“ç±»çš„å±æ€§åç›¸åŒ\n1.3.1 ç®€å•å®ä½“å¯¹è±¡ å®šä¹‰POJOå®ä½“ç±»ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 public class User { private String name; private Integer age; public String getName() { return name; } public void setName(String name) { this.name = name; } public Integer getAge() { return age; } public void setAge(Integer age) { this.age = age; } @Override public String toString() { return \u0026#34;User{\u0026#34; + \u0026#34;name=\u0026#39;\u0026#34; + name + \u0026#39;\\\u0026#39;\u0026#39; + \u0026#34;, age=\u0026#34; + age + \u0026#39;}\u0026#39;; } } Controlleræ–¹æ³•ï¼š\n1 2 3 4 5 6 7 8 9 @RestController public class RequestController { //å®ä½“å‚æ•°ï¼šç®€å•å®ä½“å¯¹è±¡ @RequestMapping(\u0026#34;/simplePojo\u0026#34;) public String simplePojo(User user){ System.out.println(user); return \u0026#34;OK\u0026#34;; } } Postmanæµ‹è¯•ï¼š\nå‚æ•°åå’Œå®ä½“ç±»å±æ€§åä¸€è‡´æ—¶ å‚æ•°åå’Œå®ä½“ç±»å±æ€§åä¸ä¸€è‡´æ—¶ 1.3.2 å¤æ‚å®ä½“å¯¹è±¡ ä¸Šé¢æˆ‘ä»¬è®²çš„å‘¢æ˜¯ç®€å•çš„å®ä½“å¯¹è±¡ï¼Œä¸‹é¢æˆ‘ä»¬åœ¨æ¥å­¦ä¹ ä¸‹å¤æ‚çš„å®ä½“å¯¹è±¡ã€‚\nå¤æ‚å®ä½“å¯¹è±¡æŒ‡çš„æ˜¯ï¼Œåœ¨å®ä½“ç±»ä¸­æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªå±æ€§ï¼Œä¹Ÿæ˜¯å®ä½“å¯¹è±¡ç±»å‹çš„ã€‚å¦‚ä¸‹ï¼š\nUserç±»ä¸­æœ‰ä¸€ä¸ªAddressç±»å‹çš„å±æ€§ï¼ˆAddressæ˜¯ä¸€ä¸ªå®ä½“ç±»ï¼‰ å¤æ‚å®ä½“å¯¹è±¡çš„å°è£…ï¼Œéœ€è¦éµå®ˆå¦‚ä¸‹è§„åˆ™ï¼š\nè¯·æ±‚å‚æ•°åä¸å½¢å‚å¯¹è±¡å±æ€§åç›¸åŒï¼ŒæŒ‰ç…§å¯¹è±¡å±‚æ¬¡ç»“æ„å…³ç³»å³å¯æ¥æ”¶åµŒå¥—å®ä½“ç±»å±æ€§å‚æ•°ã€‚ å®šä¹‰POJOå®ä½“ç±»ï¼š\nAddresså®ä½“ç±» 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 public class Address { private String province; private String city; public String getProvince() { return province; } public void setProvince(String province) { this.province = province; } public String getCity() { return city; } public void setCity(String city) { this.city = city; } @Override public String toString() { return \u0026#34;Address{\u0026#34; + \u0026#34;province=\u0026#39;\u0026#34; + province + \u0026#39;\\\u0026#39;\u0026#39; + \u0026#34;, city=\u0026#39;\u0026#34; + city + \u0026#39;\\\u0026#39;\u0026#39; + \u0026#39;}\u0026#39;; } } Userå®ä½“ç±» 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 public class User { private String name; private Integer age; private Address address; //åœ°å€å¯¹è±¡ public String getName() { return name; } public void setName(String name) { this.name = name; } public Integer getAge() { return age; } public void setAge(Integer age) { this.age = age; } public Address getAddress() { return address; } public void setAddress(Address address) { this.address = address; } @Override public String toString() { return \u0026#34;User{\u0026#34; + \u0026#34;name=\u0026#39;\u0026#34; + name + \u0026#39;\\\u0026#39;\u0026#39; + \u0026#34;, age=\u0026#34; + age + \u0026#34;, address=\u0026#34; + address + \u0026#39;}\u0026#39;; } } Controlleræ–¹æ³•ï¼š\n1 2 3 4 5 6 7 8 9 @RestController public class RequestController { //å®ä½“å‚æ•°ï¼šå¤æ‚å®ä½“å¯¹è±¡ @RequestMapping(\u0026#34;/complexPojo\u0026#34;) public String complexPojo(User user){ System.out.println(user); return \u0026#34;OK\u0026#34;; } } Postmanæµ‹è¯•ï¼š\n1.4 æ•°ç»„é›†åˆå‚æ•° æ•°ç»„é›†åˆå‚æ•°çš„ä½¿ç”¨åœºæ™¯ï¼šåœ¨HTMLçš„è¡¨å•ä¸­ï¼Œæœ‰ä¸€ä¸ªè¡¨å•é¡¹æ˜¯æ”¯æŒå¤šé€‰çš„(å¤é€‰æ¡†)ï¼Œå¯ä»¥æäº¤é€‰æ‹©çš„å¤šä¸ªå€¼ã€‚\nå¤šä¸ªå€¼æ˜¯æ€ä¹ˆæäº¤çš„å‘¢ï¼Ÿå…¶å®å¤šä¸ªå€¼ä¹Ÿæ˜¯ä¸€ä¸ªä¸€ä¸ªçš„æäº¤ã€‚\nåç«¯ç¨‹åºæ¥æ”¶ä¸Šè¿°å¤šä¸ªå€¼çš„æ–¹å¼æœ‰ä¸¤ç§ï¼š\næ•°ç»„ é›†åˆ 1.4.1 æ•°ç»„ æ•°ç»„å‚æ•°ï¼šè¯·æ±‚å‚æ•°åä¸å½¢å‚æ•°ç»„åç§°ç›¸åŒä¸”è¯·æ±‚å‚æ•°ä¸ºå¤šä¸ªï¼Œå®šä¹‰æ•°ç»„ç±»å‹å½¢å‚å³å¯æ¥æ”¶å‚æ•°\nControlleræ–¹æ³•ï¼š\n1 2 3 4 5 6 7 8 9 @RestController public class RequestController { //æ•°ç»„é›†åˆå‚æ•° @RequestMapping(\u0026#34;/arrayParam\u0026#34;) public String arrayParam(String[] hobby){ System.out.println(Arrays.toString(hobby)); return \u0026#34;OK\u0026#34;; } } Postmanæµ‹è¯•ï¼š\nåœ¨å‰ç«¯è¯·æ±‚æ—¶ï¼Œæœ‰ä¸¤ç§ä¼ é€’å½¢å¼ï¼š\næ–¹å¼ä¸€ï¼š xxxxxxxxxx?hobby=game\u0026amp;hobby=java\næ–¹å¼äºŒï¼šxxxxxxxxxxxxx?hobby=game,java\n1.4.2 é›†åˆ é›†åˆå‚æ•°ï¼šè¯·æ±‚å‚æ•°åä¸å½¢å‚é›†åˆå¯¹è±¡åç›¸åŒä¸”è¯·æ±‚å‚æ•°ä¸ºå¤šä¸ªï¼Œ@RequestParam ç»‘å®šå‚æ•°å…³ç³»\né»˜è®¤æƒ…å†µä¸‹ï¼Œè¯·æ±‚ä¸­å‚æ•°åç›¸åŒçš„å¤šä¸ªå€¼ï¼Œæ˜¯å°è£…åˆ°æ•°ç»„ã€‚å¦‚æœè¦å°è£…åˆ°é›†åˆï¼Œè¦ä½¿ç”¨@RequestParamç»‘å®šå‚æ•°å…³ç³»\nControlleræ–¹æ³•ï¼š\n1 2 3 4 5 6 7 8 9 @RestController public class RequestController { //æ•°ç»„é›†åˆå‚æ•° @RequestMapping(\u0026#34;/listParam\u0026#34;) public String listParam(@RequestParam List\u0026lt;String\u0026gt; hobby){ System.out.println(hobby); return \u0026#34;OK\u0026#34;; } } Postmanæµ‹è¯•ï¼š\næ–¹å¼ä¸€ï¼š xxxxxxxxxx?hobby=game\u0026amp;hobby=java\næ–¹å¼äºŒï¼šxxxxxxxxxxxxx?hobby=game,java\n1.5 æ—¥æœŸå‚æ•° ä¸Šè¿°æ¼”ç¤ºçš„éƒ½æ˜¯ä¸€äº›æ™®é€šçš„å‚æ•°ï¼Œåœ¨ä¸€äº›ç‰¹æ®Šçš„éœ€æ±‚ä¸­ï¼Œå¯èƒ½ä¼šæ¶‰åŠåˆ°æ—¥æœŸç±»å‹æ•°æ®çš„å°è£…ã€‚æ¯”å¦‚ï¼Œå¦‚ä¸‹éœ€æ±‚ï¼š\nå› ä¸ºæ—¥æœŸçš„æ ¼å¼å¤šç§å¤šæ ·ï¼ˆå¦‚ï¼š2022-12-12 10:05:45 ã€2022/12/12 10:05:45ï¼‰ï¼Œé‚£ä¹ˆå¯¹äºæ—¥æœŸç±»å‹çš„å‚æ•°åœ¨è¿›è¡Œå°è£…çš„æ—¶å€™ï¼Œéœ€è¦é€šè¿‡@DateTimeFormatæ³¨è§£ï¼Œä»¥åŠå…¶patternå±æ€§æ¥è®¾ç½®æ—¥æœŸçš„æ ¼å¼ã€‚\n@DateTimeFormatæ³¨è§£çš„patternå±æ€§ä¸­æŒ‡å®šäº†å“ªç§æ—¥æœŸæ ¼å¼ï¼Œå‰ç«¯çš„æ—¥æœŸå‚æ•°å°±å¿…é¡»æŒ‰ç…§æŒ‡å®šçš„æ ¼å¼ä¼ é€’ã€‚ åç«¯controlleræ–¹æ³•ä¸­ï¼Œéœ€è¦ä½¿ç”¨Dateç±»å‹æˆ–LocalDateTimeç±»å‹ï¼Œæ¥å°è£…ä¼ é€’çš„å‚æ•°ã€‚ Controlleræ–¹æ³•ï¼š\n1 2 3 4 5 6 7 8 9 @RestController public class RequestController { //æ—¥æœŸæ—¶é—´å‚æ•° @RequestMapping(\u0026#34;/dateParam\u0026#34;) public String dateParam(@DateTimeFormat(pattern = \u0026#34;yyyy-MM-dd HH:mm:ss\u0026#34;) LocalDateTime updateTime){ System.out.println(updateTime); return \u0026#34;OK\u0026#34;; } } Postmanæµ‹è¯•ï¼š\n1.6 JSONå‚æ•° åœ¨å­¦ä¹ å‰ç«¯æŠ€æœ¯æ—¶ï¼Œæˆ‘ä»¬æœ‰è®²åˆ°è¿‡JSONï¼Œè€Œåœ¨å‰åç«¯è¿›è¡Œäº¤äº’æ—¶ï¼Œå¦‚æœæ˜¯æ¯”è¾ƒå¤æ‚çš„å‚æ•°ï¼Œå‰åç«¯é€šè¿‡ä¼šä½¿ç”¨JSONæ ¼å¼çš„æ•°æ®è¿›è¡Œä¼ è¾“ã€‚ ï¼ˆJSONæ˜¯å¼€å‘ä¸­æœ€å¸¸ç”¨çš„å‰åç«¯æ•°æ®äº¤äº’æ–¹å¼ï¼‰\næˆ‘ä»¬å­¦ä¹ JSONæ ¼å¼å‚æ•°ï¼Œä¸»è¦ä»ä»¥ä¸‹ä¸¤ä¸ªæ–¹é¢ç€æ‰‹ï¼š\nPostmanåœ¨å‘é€è¯·æ±‚æ—¶ï¼Œå¦‚ä½•ä¼ é€’jsonæ ¼å¼çš„è¯·æ±‚å‚æ•° åœ¨æœåŠ¡ç«¯çš„controlleræ–¹æ³•ä¸­ï¼Œå¦‚ä½•æ¥æ”¶jsonæ ¼å¼çš„è¯·æ±‚å‚æ•° Postmanå‘é€JSONæ ¼å¼æ•°æ®ï¼š\næœåŠ¡ç«¯Controlleræ–¹æ³•æ¥æ”¶JSONæ ¼å¼æ•°æ®ï¼š\nä¼ é€’jsonæ ¼å¼çš„å‚æ•°ï¼Œåœ¨Controllerä¸­ä¼šä½¿ç”¨å®ä½“ç±»è¿›è¡Œå°è£…ã€‚ å°è£…è§„åˆ™ï¼šJSONæ•°æ®é”®åä¸å½¢å‚å¯¹è±¡å±æ€§åç›¸åŒï¼Œå®šä¹‰POJOç±»å‹å½¢å‚å³å¯æ¥æ”¶å‚æ•°ã€‚éœ€è¦ä½¿ç”¨ @RequestBodyæ ‡è¯†ã€‚ @RequestBodyæ³¨è§£ï¼šå°†JSONæ•°æ®æ˜ å°„åˆ°å½¢å‚çš„å®ä½“ç±»å¯¹è±¡ä¸­ï¼ˆJSONä¸­çš„keyå’Œå®ä½“ç±»ä¸­çš„å±æ€§åä¿æŒä¸€è‡´ï¼‰ å®ä½“ç±»ï¼šAddress\n1 2 3 4 5 6 public class Address { private String province; private String city; //çœç•¥GET , SET æ–¹æ³• } å®ä½“ç±»ï¼šUser\n1 2 3 4 5 6 7 public class User { private String name; private Integer age; private Address address; //çœç•¥GET , SET æ–¹æ³• } Controlleræ–¹æ³•ï¼š\n1 2 3 4 5 6 7 8 9 @RestController public class RequestController { //JSONå‚æ•° @RequestMapping(\u0026#34;/jsonParam\u0026#34;) public String jsonParam(@RequestBody User user){ System.out.println(user); return \u0026#34;OK\u0026#34;; } } Postmanæµ‹è¯•ï¼š\n1.7 è·¯å¾„å‚æ•° ä¼ ç»Ÿçš„å¼€å‘ä¸­è¯·æ±‚å‚æ•°æ˜¯æ”¾åœ¨è¯·æ±‚ä½“(POSTè¯·æ±‚)ä¼ é€’æˆ–è·Ÿåœ¨URLåé¢é€šè¿‡?key=valueçš„å½¢å¼ä¼ é€’(GETè¯·æ±‚)ã€‚\nåœ¨ç°åœ¨çš„å¼€å‘ä¸­ï¼Œç»å¸¸è¿˜ä¼šç›´æ¥åœ¨è¯·æ±‚çš„URLä¸­ä¼ é€’å‚æ•°ã€‚ä¾‹å¦‚ï¼š\n1 2 http://localhost:8080/user/1\thttp://localhost:880/user/1/0 ä¸Šè¿°çš„è¿™ç§ä¼ é€’è¯·æ±‚å‚æ•°çš„å½¢å¼å‘¢ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºï¼šè·¯å¾„å‚æ•°ã€‚\nå­¦ä¹ è·¯å¾„å‚æ•°å‘¢ï¼Œä¸»è¦æŒæ¡åœ¨åç«¯çš„controlleræ–¹æ³•ä¸­ï¼Œå¦‚ä½•æ¥æ”¶è·¯å¾„å‚æ•°ã€‚\nè·¯å¾„å‚æ•°ï¼š\nå‰ç«¯ï¼šé€šè¿‡è¯·æ±‚URLç›´æ¥ä¼ é€’å‚æ•° åç«¯ï¼šä½¿ç”¨{â€¦}æ¥æ ‡è¯†è¯¥è·¯å¾„å‚æ•°ï¼Œéœ€è¦ä½¿ç”¨@PathVariableè·å–è·¯å¾„å‚æ•° Controlleræ–¹æ³•ï¼š\n1 2 3 4 5 6 7 8 9 @RestController public class RequestController { //è·¯å¾„å‚æ•° @RequestMapping(\u0026#34;/path/{id}\u0026#34;) public String pathParam(@PathVariable Integer id){ System.out.println(id); return \u0026#34;OK\u0026#34;; } } Postmanæµ‹è¯•ï¼š\nä¼ é€’å¤šä¸ªè·¯å¾„å‚æ•°ï¼š\nPostmanï¼š\nControlleræ–¹æ³•ï¼š\n1 2 3 4 5 6 7 8 9 @RestController public class RequestController { //è·¯å¾„å‚æ•° @RequestMapping(\u0026#34;/path/{id}/{name}\u0026#34;) public String pathParam2(@PathVariable Integer id, @PathVariable String name){ System.out.println(id+ \u0026#34; : \u0026#34; +name); return \u0026#34;OK\u0026#34;; } } 2. å“åº” å‰é¢æˆ‘ä»¬å­¦ä¹ è¿‡HTTLåè®®çš„äº¤äº’æ–¹å¼ï¼šè¯·æ±‚å“åº”æ¨¡å¼ï¼ˆæœ‰è¯·æ±‚å°±æœ‰å“åº”ï¼‰\né‚£ä¹ˆControllerç¨‹åºå‘¢ï¼Œé™¤äº†æ¥æ”¶è¯·æ±‚å¤–ï¼Œè¿˜å¯ä»¥è¿›è¡Œå“åº”ã€‚\n2.1 @ResponseBody åœ¨æˆ‘ä»¬å‰é¢æ‰€ç¼–å†™çš„controlleræ–¹æ³•ä¸­ï¼Œéƒ½å·²ç»è®¾ç½®äº†å“åº”æ•°æ®ã€‚\ncontrolleræ–¹æ³•ä¸­çš„returnçš„ç»“æœï¼Œæ€ä¹ˆå°±å¯ä»¥å“åº”ç»™æµè§ˆå™¨å‘¢ï¼Ÿ\nç­”æ¡ˆï¼šä½¿ç”¨@ResponseBodyæ³¨è§£\n@ResponseBodyæ³¨è§£ï¼š\nç±»å‹ï¼šæ–¹æ³•æ³¨è§£ã€ç±»æ³¨è§£ ä½ç½®ï¼šä¹¦å†™åœ¨Controlleræ–¹æ³•ä¸Šæˆ–ç±»ä¸Š ä½œç”¨ï¼šå°†æ–¹æ³•è¿”å›å€¼ç›´æ¥å“åº”ç»™æµè§ˆå™¨ å¦‚æœè¿”å›å€¼ç±»å‹æ˜¯å®ä½“å¯¹è±¡/é›†åˆï¼Œå°†ä¼šè½¬æ¢ä¸ºJSONæ ¼å¼ååœ¨å“åº”ç»™æµè§ˆå™¨ ä½†æ˜¯åœ¨æˆ‘ä»¬æ‰€ä¹¦å†™çš„Controllerä¸­ï¼Œåªåœ¨ç±»ä¸Šæ·»åŠ äº†@RestControlleræ³¨è§£ã€æ–¹æ³•æ·»åŠ äº†@RequestMappingæ³¨è§£ï¼Œå¹¶æ²¡æœ‰ä½¿ç”¨@ResponseBodyæ³¨è§£ï¼Œæ€ä¹ˆç»™æµè§ˆå™¨å“åº”å‘¢ï¼Ÿ\n1 2 3 4 5 6 7 8 @RestController public class HelloController { @RequestMapping(\u0026#34;/hello\u0026#34;) public String hello(){ System.out.println(\u0026#34;Hello World ~\u0026#34;); return \u0026#34;Hello World ~\u0026#34;; } } åŸå› ï¼šåœ¨ç±»ä¸Šæ·»åŠ çš„@RestControlleræ³¨è§£ï¼Œæ˜¯ä¸€ä¸ªç»„åˆæ³¨è§£ã€‚\n@RestController = @Controller + @ResponseBody @RestControlleræºç ï¼š\n1 2 3 4 5 6 7 8 9 10 11 @Target({ElementType.TYPE}) //å…ƒæ³¨è§£ï¼ˆä¿®é¥°æ³¨è§£çš„æ³¨è§£ï¼‰ @Retention(RetentionPolicy.RUNTIME) //å…ƒæ³¨è§£ @Documented //å…ƒæ³¨è§£ @Controller @ResponseBody public @interface RestController { @AliasFor( annotation = Controller.class ) String value() default \u0026#34;\u0026#34;; } ç»“è®ºï¼šåœ¨ç±»ä¸Šæ·»åŠ @RestControllerå°±ç›¸å½“äºæ·»åŠ äº†@ResponseBodyæ³¨è§£ã€‚\nç±»ä¸Šæœ‰@RestControlleræ³¨è§£æˆ–@ResponseBodyæ³¨è§£æ—¶ï¼šè¡¨ç¤ºå½“å‰ç±»ä¸‹æ‰€æœ‰çš„æ–¹æ³•è¿”å›å€¼åšä¸ºå“åº”æ•°æ® æ–¹æ³•çš„è¿”å›å€¼ï¼Œå¦‚æœæ˜¯ä¸€ä¸ªPOJOå¯¹è±¡æˆ–é›†åˆæ—¶ï¼Œä¼šå…ˆè½¬æ¢ä¸ºJSONæ ¼å¼ï¼Œåœ¨å“åº”ç»™æµè§ˆå™¨ ä¸‹é¢æˆ‘ä»¬æ¥æµ‹è¯•ä¸‹å“åº”æ•°æ®ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 @RestController public class ResponseController { //å“åº”å­—ç¬¦ä¸² @RequestMapping(\u0026#34;/hello\u0026#34;) public String hello(){ System.out.println(\u0026#34;Hello World ~\u0026#34;); return \u0026#34;Hello World ~\u0026#34;; } //å“åº”å®ä½“å¯¹è±¡ @RequestMapping(\u0026#34;/getAddr\u0026#34;) public Address getAddr(){ Address addr = new Address();//åˆ›å»ºå®ä½“ç±»å¯¹è±¡ addr.setProvince(\u0026#34;å¹¿ä¸œ\u0026#34;); addr.setCity(\u0026#34;æ·±åœ³\u0026#34;); return addr; } //å“åº”é›†åˆæ•°æ® @RequestMapping(\u0026#34;/listAddr\u0026#34;) public List\u0026lt;Address\u0026gt; listAddr(){ List\u0026lt;Address\u0026gt; list = new ArrayList\u0026lt;\u0026gt;();//é›†åˆå¯¹è±¡ Address addr = new Address(); addr.setProvince(\u0026#34;å¹¿ä¸œ\u0026#34;); addr.setCity(\u0026#34;æ·±åœ³\u0026#34;); Address addr2 = new Address(); addr2.setProvince(\u0026#34;é™•è¥¿\u0026#34;); addr2.setCity(\u0026#34;è¥¿å®‰\u0026#34;); list.add(addr); list.add(addr2); return list; } } åœ¨æœåŠ¡ç«¯å“åº”äº†ä¸€ä¸ªå¯¹è±¡æˆ–è€…é›†åˆï¼Œé‚£ç§å‰ç«¯è·å–åˆ°çš„æ•°æ®æ˜¯ä»€ä¹ˆæ ·å­çš„å‘¢ï¼Ÿæˆ‘ä»¬ä½¿ç”¨postmanå‘é€è¯·æ±‚æ¥æµ‹è¯•ä¸‹ã€‚æµ‹è¯•æ•ˆæœå¦‚ä¸‹ï¼š\n2.2 ç»Ÿä¸€å“åº”ç»“æœ å¤§å®¶æœ‰æ²¡æœ‰å‘ç°ä¸€ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬åœ¨å‰é¢æ‰€ç¼–å†™çš„è¿™äº›Controlleræ–¹æ³•ä¸­ï¼Œè¿”å›å€¼å„ç§å„æ ·ï¼Œæ²¡æœ‰ä»»ä½•çš„è§„èŒƒã€‚\nå¦‚æœæˆ‘ä»¬å¼€å‘ä¸€ä¸ªå¤§å‹é¡¹ç›®ï¼Œé¡¹ç›®ä¸­controlleræ–¹æ³•å°†æˆåƒä¸Šä¸‡ï¼Œä½¿ç”¨ä¸Šè¿°æ–¹å¼å°†é€ æˆæ•´ä¸ªé¡¹ç›®éš¾ä»¥ç»´æŠ¤ã€‚é‚£åœ¨çœŸå®çš„é¡¹ç›®å¼€å‘ä¸­æ˜¯ä»€ä¹ˆæ ·å­çš„å‘¢ï¼Ÿ\nåœ¨çœŸå®çš„é¡¹ç›®å¼€å‘ä¸­ï¼Œæ— è®ºæ˜¯å“ªç§æ–¹æ³•ï¼Œæˆ‘ä»¬éƒ½ä¼šå®šä¹‰ä¸€ä¸ªç»Ÿä¸€çš„è¿”å›ç»“æœã€‚æ–¹æ¡ˆå¦‚ä¸‹ï¼š\nå‰ç«¯ï¼šåªéœ€è¦æŒ‰ç…§ç»Ÿä¸€æ ¼å¼çš„è¿”å›ç»“æœè¿›è¡Œè§£æ(ä»…ä¸€ç§è§£ææ–¹æ¡ˆ)ï¼Œå°±å¯ä»¥æ‹¿åˆ°æ•°æ®ã€‚\nç»Ÿä¸€çš„è¿”å›ç»“æœä½¿ç”¨ç±»æ¥æè¿°ï¼Œåœ¨è¿™ä¸ªç»“æœä¸­åŒ…å«ï¼š\nå“åº”çŠ¶æ€ç ï¼šå½“å‰è¯·æ±‚æ˜¯æˆåŠŸï¼Œè¿˜æ˜¯å¤±è´¥\nçŠ¶æ€ç ä¿¡æ¯ï¼šç»™é¡µé¢çš„æç¤ºä¿¡æ¯\nè¿”å›çš„æ•°æ®ï¼šç»™å‰ç«¯å“åº”çš„æ•°æ®ï¼ˆå­—ç¬¦ä¸²ã€å¯¹è±¡ã€é›†åˆï¼‰\nå®šä¹‰åœ¨ä¸€ä¸ªå®ä½“ç±»Resultæ¥åŒ…å«ä»¥ä¸Šä¿¡æ¯ã€‚ä»£ç å¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 public class Result { private Integer code;//å“åº”ç ï¼Œ1 ä»£è¡¨æˆåŠŸ; 0 ä»£è¡¨å¤±è´¥ private String msg; //å“åº”ç  æè¿°å­—ç¬¦ä¸² private Object data; //è¿”å›çš„æ•°æ® public Result() { } public Result(Integer code, String msg, Object data) { this.code = code; this.msg = msg; this.data = data; } public Integer getCode() { return code; } public void setCode(Integer code) { this.code = code; } public String getMsg() { return msg; } public void setMsg(String msg) { this.msg = msg; } public Object getData() { return data; } public void setData(Object data) { this.data = data; } //å¢åˆ æ”¹ æˆåŠŸå“åº”(ä¸éœ€è¦ç»™å‰ç«¯è¿”å›æ•°æ®) public static Result success(){ return new Result(1,\u0026#34;success\u0026#34;,null); } //æŸ¥è¯¢ æˆåŠŸå“åº”(æŠŠæŸ¥è¯¢ç»“æœåšä¸ºè¿”å›æ•°æ®å“åº”ç»™å‰ç«¯) public static Result success(Object data){ return new Result(1,\u0026#34;success\u0026#34;,data); } //å¤±è´¥å“åº” public static Result error(String msg){ return new Result(0,msg,null); } } æ”¹é€ Controllerï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 @RestController public class ResponseController { //å“åº”ç»Ÿä¸€æ ¼å¼çš„ç»“æœ @RequestMapping(\u0026#34;/hello\u0026#34;) public Result hello(){ System.out.println(\u0026#34;Hello World ~\u0026#34;); //return new Result(1,\u0026#34;success\u0026#34;,\u0026#34;Hello World ~\u0026#34;); return Result.success(\u0026#34;Hello World ~\u0026#34;); } //å“åº”ç»Ÿä¸€æ ¼å¼çš„ç»“æœ @RequestMapping(\u0026#34;/getAddr\u0026#34;) public Result getAddr(){ Address addr = new Address(); addr.setProvince(\u0026#34;å¹¿ä¸œ\u0026#34;); addr.setCity(\u0026#34;æ·±åœ³\u0026#34;); return Result.success(addr); } //å“åº”ç»Ÿä¸€æ ¼å¼çš„ç»“æœ @RequestMapping(\u0026#34;/listAddr\u0026#34;) public Result listAddr(){ List\u0026lt;Address\u0026gt; list = new ArrayList\u0026lt;\u0026gt;(); Address addr = new Address(); addr.setProvince(\u0026#34;å¹¿ä¸œ\u0026#34;); addr.setCity(\u0026#34;æ·±åœ³\u0026#34;); Address addr2 = new Address(); addr2.setProvince(\u0026#34;é™•è¥¿\u0026#34;); addr2.setCity(\u0026#34;è¥¿å®‰\u0026#34;); list.add(addr); list.add(addr2); return Result.success(list); } } ä½¿ç”¨Postmanæµ‹è¯•ï¼š\n2.3 æ¡ˆä¾‹ ä¸‹é¢æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªæ¡ˆä¾‹ï¼Œæ¥åŠ å¼ºå¯¹è¯·æ±‚å“åº”çš„å­¦ä¹ ã€‚\n2.3.1 éœ€æ±‚è¯´æ˜ éœ€æ±‚ï¼šåŠ è½½å¹¶è§£æxmlæ–‡ä»¶ä¸­çš„æ•°æ®ï¼Œå®Œæˆæ•°æ®å¤„ç†ï¼Œå¹¶åœ¨é¡µé¢å±•ç¤º\nè·å–å‘˜å·¥æ•°æ®ï¼Œè¿”å›ç»Ÿä¸€å“åº”ç»“æœï¼Œåœ¨é¡µé¢æ¸²æŸ“å±•ç¤º 2.3.2 å‡†å¤‡å·¥ä½œ æ¡ˆä¾‹å‡†å¤‡ï¼š\nXMLæ–‡ä»¶\nå·²ç»å‡†å¤‡å¥½(emp.xml)ï¼Œç›´æ¥å¯¼å…¥è¿›æ¥ï¼Œæ”¾åœ¨ src/main/resourcesç›®å½•ä¸‹ å·¥å…·ç±»\nå·²ç»å‡†å¤‡å¥½è§£æXMLæ–‡ä»¶çš„å·¥å…·ç±»ï¼Œæ— éœ€è‡ªå·±å®ç° ç›´æ¥åœ¨åˆ›å»ºä¸€ä¸ªåŒ… com.itheima.utils ï¼Œç„¶åå°†å·¥å…·ç±»æ‹·è´è¿›æ¥ å‰ç«¯é¡µé¢èµ„æº\nå·²ç»å‡†å¤‡å¥½ï¼Œç›´æ¥æ‹·è´è¿›æ¥ï¼Œæ”¾åœ¨src/main/resourcesä¸‹çš„staticç›®å½•ä¸‹ Springbooté¡¹ç›®çš„é™æ€èµ„æº(htmlï¼Œcssï¼Œjsç­‰å‰ç«¯èµ„æº)é»˜è®¤å­˜æ”¾ç›®å½•ä¸ºï¼šclasspath:/static ã€ classpath:/publicã€ classpath:/resources\nåœ¨SpringBooté¡¹ç›®ä¸­ï¼Œé™æ€èµ„æºé»˜è®¤å¯ä»¥å­˜æ”¾çš„ç›®å½•ï¼š\nclasspath:/static/ classpath:/public/ classpath:/resources/ classpath:/META-INF/resources/ classpathï¼š\nä»£è¡¨çš„æ˜¯ç±»è·¯å¾„ï¼Œåœ¨mavençš„é¡¹ç›®ä¸­ï¼Œå…¶å®æŒ‡çš„å°±æ˜¯ src/main/resources æˆ–è€… src/main/javaï¼Œä½†æ˜¯javaç›®å½•æ˜¯å­˜æ”¾javaä»£ç çš„ï¼Œæ‰€ä»¥ç›¸å…³çš„é…ç½®æ–‡ä»¶åŠé™æ€èµ„æºæ–‡æ¡£ï¼Œå°±æ”¾åœ¨ src/main/resourcesä¸‹ã€‚ 2.3.3 å®ç°æ­¥éª¤ åœ¨pom.xmlæ–‡ä»¶ä¸­å¼•å…¥dom4jçš„ä¾èµ–ï¼Œç”¨äºè§£æXMLæ–‡ä»¶\n1 2 3 4 5 \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.dom4j\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;dom4j\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;2.1.3\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; å¼•å…¥èµ„æ–™ä¸­æä¾›çš„ï¼šè§£æXMLçš„å·¥å…·ç±»XMLParserUtilsã€å®ä½“ç±»Empã€XMLæ–‡ä»¶emp.xml\nå¼•å…¥èµ„æ–™ä¸­æä¾›çš„é™æ€é¡µé¢æ–‡ä»¶ï¼Œæ”¾åœ¨resourcesä¸‹çš„staticç›®å½•ä¸‹\nåˆ›å»ºEmpControllerç±»ï¼Œç¼–å†™Controllerç¨‹åºï¼Œå¤„ç†è¯·æ±‚ï¼Œå“åº”æ•°æ®\n2.3.4 ä»£ç å®ç° Contrillerä»£ç ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 @RestController public class EmpController { @RequestMapping(\u0026#34;/listEmp\u0026#34;) public Result list(){ //1. åŠ è½½å¹¶è§£æemp.xml String file = this.getClass().getClassLoader().getResource(\u0026#34;emp.xml\u0026#34;).getFile(); //System.out.println(file); List\u0026lt;Emp\u0026gt; empList = XmlParserUtils.parse(file, Emp.class); //2. å¯¹æ•°æ®è¿›è¡Œè½¬æ¢å¤„ç† - gender, job empList.stream().forEach(emp -\u0026gt; { //å¤„ç† gender 1: ç”·, 2: å¥³ String gender = emp.getGender(); if(\u0026#34;1\u0026#34;.equals(gender)){ emp.setGender(\u0026#34;ç”·\u0026#34;); }else if(\u0026#34;2\u0026#34;.equals(gender)){ emp.setGender(\u0026#34;å¥³\u0026#34;); } //å¤„ç†job - 1: è®²å¸ˆ, 2: ç­ä¸»ä»» , 3: å°±ä¸šæŒ‡å¯¼ String job = emp.getJob(); if(\u0026#34;1\u0026#34;.equals(job)){ emp.setJob(\u0026#34;è®²å¸ˆ\u0026#34;); }else if(\u0026#34;2\u0026#34;.equals(job)){ emp.setJob(\u0026#34;ç­ä¸»ä»»\u0026#34;); }else if(\u0026#34;3\u0026#34;.equals(job)){ emp.setJob(\u0026#34;å°±ä¸šæŒ‡å¯¼\u0026#34;); } }); //3. å“åº”æ•°æ® return Result.success(empList); } } ç»Ÿä¸€è¿”å›ç»“æœå®ä½“ç±»ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 public class Result { private Integer code ;//1 æˆåŠŸ , 0 å¤±è´¥ private String msg; //æç¤ºä¿¡æ¯ private Object data; //æ•°æ® date public Result() { } public Result(Integer code, String msg, Object data) { this.code = code; this.msg = msg; this.data = data; } public Integer getCode() { return code; } public void setCode(Integer code) { this.code = code; } public String getMsg() { return msg; } public void setMsg(String msg) { this.msg = msg; } public Object getData() { return data; } public void setData(Object data) { this.data = data; } public static Result success(Object data){ return new Result(1, \u0026#34;success\u0026#34;, data); } public static Result success(){ return new Result(1, \u0026#34;success\u0026#34;, null); } public static Result error(String msg){ return new Result(0, msg, null); } } 2.3.5 æµ‹è¯• ä»£ç ç¼–å†™å®Œæ¯•ä¹‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥è¿è¡Œå¼•å¯¼ç±»ï¼Œå¯åŠ¨æœåŠ¡è¿›è¡Œæµ‹è¯•äº†ã€‚\nä½¿ç”¨Postmanæµ‹è¯•ï¼š\næ‰“å¼€æµè§ˆå™¨ï¼Œåœ¨æµè§ˆå™¨åœ°å€æ è¾“å…¥ï¼š http://localhost:8080/emp.html\n2.3.6 é—®é¢˜åˆ†æ ä¸Šè¿°æ¡ˆä¾‹çš„åŠŸèƒ½ï¼Œæˆ‘ä»¬è™½ç„¶å·²ç»å®ç°ï¼Œä½†æ˜¯å‘¢ï¼Œæˆ‘ä»¬ä¼šå‘ç°æ¡ˆä¾‹ä¸­ï¼šè§£æXMLæ•°æ®ï¼Œè·å–æ•°æ®çš„ä»£ç ï¼Œå¤„ç†æ•°æ®çš„é€»è¾‘çš„ä»£ç ï¼Œç»™é¡µé¢å“åº”çš„ä»£ç å…¨éƒ¨éƒ½å †ç§¯åœ¨ä¸€èµ·äº†ï¼Œå…¨éƒ¨éƒ½å†™åœ¨controlleræ–¹æ³•ä¸­äº†ã€‚\nå½“å‰ç¨‹åºçš„è¿™ä¸ªä¸šåŠ¡é€»è¾‘è¿˜æ˜¯æ¯”è¾ƒç®€å•çš„ï¼Œå¦‚æœä¸šåŠ¡é€»è¾‘å†ç¨å¾®å¤æ‚ä¸€ç‚¹ï¼Œæˆ‘ä»¬ä¼šçœ‹åˆ°Controlleræ–¹æ³•çš„ä»£ç é‡å°±å¾ˆå¤§äº†ã€‚\nå½“æˆ‘ä»¬è¦ä¿®æ”¹æ“ä½œæ•°æ®éƒ¨åˆ†çš„ä»£ç ï¼Œéœ€è¦æ”¹åŠ¨Controller\nå½“æˆ‘ä»¬è¦å®Œå–„é€»è¾‘å¤„ç†éƒ¨åˆ†çš„ä»£ç ï¼Œéœ€è¦æ”¹åŠ¨Controller\nå½“æˆ‘ä»¬éœ€è¦ä¿®æ”¹æ•°æ®å“åº”çš„ä»£ç ï¼Œè¿˜æ˜¯éœ€è¦æ”¹åŠ¨Controller\nè¿™æ ·å‘¢ï¼Œå°±ä¼šé€ æˆæˆ‘ä»¬æ•´ä¸ªå·¥ç¨‹ä»£ç çš„å¤ç”¨æ€§æ¯”è¾ƒå·®ï¼Œè€Œä¸”ä»£ç éš¾ä»¥ç»´æŠ¤ã€‚ é‚£å¦‚ä½•è§£å†³è¿™ä¸ªé—®é¢˜å‘¢ï¼Ÿå…¶å®åœ¨ç°åœ¨çš„å¼€å‘ä¸­ï¼Œæœ‰éå¸¸æˆç†Ÿçš„è§£å†³æ€è·¯ï¼Œé‚£å°±æ˜¯åˆ†å±‚å¼€å‘ã€‚\n3. åˆ†å±‚è§£è€¦ 3.1 ä¸‰å±‚æ¶æ„ 3.1.1 ä»‹ç» åœ¨æˆ‘ä»¬è¿›è¡Œç¨‹åºè®¾è®¡ä»¥åŠç¨‹åºå¼€å‘æ—¶ï¼Œå°½å¯èƒ½è®©æ¯ä¸€ä¸ªæ¥å£ã€ç±»ã€æ–¹æ³•çš„èŒè´£æ›´å•ä¸€äº›ï¼ˆå•ä¸€èŒè´£åŸåˆ™ï¼‰ã€‚\nå•ä¸€èŒè´£åŸåˆ™ï¼šä¸€ä¸ªç±»æˆ–ä¸€ä¸ªæ–¹æ³•ï¼Œå°±åªåšä¸€ä»¶äº‹æƒ…ï¼Œåªç®¡ä¸€å—åŠŸèƒ½ã€‚\nè¿™æ ·å°±å¯ä»¥è®©ç±»ã€æ¥å£ã€æ–¹æ³•çš„å¤æ‚åº¦æ›´ä½ï¼Œå¯è¯»æ€§æ›´å¼ºï¼Œæ‰©å±•æ€§æ›´å¥½ï¼Œä¹Ÿæ›´åˆ©ç”¨åæœŸçš„ç»´æŠ¤ã€‚\næˆ‘ä»¬ä¹‹å‰å¼€å‘çš„ç¨‹åºå‘¢ï¼Œå¹¶ä¸æ»¡è¶³å•ä¸€èŒè´£åŸåˆ™ã€‚ä¸‹é¢æˆ‘ä»¬æ¥åˆ†æä¸‹ä¹‹å‰çš„ç¨‹åºï¼š\né‚£å…¶å®æˆ‘ä»¬ä¸Šè¿°æ¡ˆä¾‹çš„å¤„ç†é€»è¾‘å‘¢ï¼Œä»ç»„æˆä¸Šçœ‹å¯ä»¥åˆ†ä¸ºä¸‰ä¸ªéƒ¨åˆ†ï¼š\næ•°æ®è®¿é—®ï¼šè´Ÿè´£ä¸šåŠ¡æ•°æ®çš„ç»´æŠ¤æ“ä½œï¼ŒåŒ…æ‹¬å¢ã€åˆ ã€æ”¹ã€æŸ¥ç­‰æ“ä½œã€‚ é€»è¾‘å¤„ç†ï¼šè´Ÿè´£ä¸šåŠ¡é€»è¾‘å¤„ç†çš„ä»£ç ã€‚ è¯·æ±‚å¤„ç†ã€å“åº”æ•°æ®ï¼šè´Ÿè´£ï¼Œæ¥æ”¶é¡µé¢çš„è¯·æ±‚ï¼Œç»™é¡µé¢å“åº”æ•°æ®ã€‚ æŒ‰ç…§ä¸Šè¿°çš„ä¸‰ä¸ªç»„æˆéƒ¨åˆ†ï¼Œåœ¨æˆ‘ä»¬é¡¹ç›®å¼€å‘ä¸­å‘¢ï¼Œå¯ä»¥å°†ä»£ç åˆ†ä¸ºä¸‰å±‚ï¼š\nControllerï¼šæ§åˆ¶å±‚ã€‚æ¥æ”¶å‰ç«¯å‘é€çš„è¯·æ±‚ï¼Œå¯¹è¯·æ±‚è¿›è¡Œå¤„ç†ï¼Œå¹¶å“åº”æ•°æ®ã€‚ Serviceï¼šä¸šåŠ¡é€»è¾‘å±‚ã€‚å¤„ç†å…·ä½“çš„ä¸šåŠ¡é€»è¾‘ã€‚ Daoï¼šæ•°æ®è®¿é—®å±‚(Data Access Object)ï¼Œä¹Ÿç§°ä¸ºæŒä¹…å±‚ã€‚è´Ÿè´£æ•°æ®è®¿é—®æ“ä½œï¼ŒåŒ…æ‹¬æ•°æ®çš„å¢ã€åˆ ã€æ”¹ã€æŸ¥ã€‚ åŸºäºä¸‰å±‚æ¶æ„çš„ç¨‹åºæ‰§è¡Œæµç¨‹ï¼š\nå‰ç«¯å‘èµ·çš„è¯·æ±‚ï¼Œç”±Controllerå±‚æ¥æ”¶ï¼ˆControllerå“åº”æ•°æ®ç»™å‰ç«¯ï¼‰ Controllerå±‚è°ƒç”¨Serviceå±‚æ¥è¿›è¡Œé€»è¾‘å¤„ç†ï¼ˆServiceå±‚å¤„ç†å®Œåï¼ŒæŠŠå¤„ç†ç»“æœè¿”å›ç»™Controllerå±‚ï¼‰ Serivceå±‚è°ƒç”¨Daoå±‚ï¼ˆé€»è¾‘å¤„ç†è¿‡ç¨‹ä¸­éœ€è¦ç”¨åˆ°çš„ä¸€äº›æ•°æ®è¦ä»Daoå±‚è·å–ï¼‰ Daoå±‚æ“ä½œæ–‡ä»¶ä¸­çš„æ•°æ®ï¼ˆDaoæ‹¿åˆ°çš„æ•°æ®ä¼šè¿”å›ç»™Serviceå±‚ï¼‰ æ€è€ƒï¼šæŒ‰ç…§ä¸‰å±‚æ¶æ„çš„æ€æƒ³ï¼Œå¦‚ä½•è¦å¯¹ä¸šåŠ¡é€»è¾‘(Serviceå±‚)è¿›è¡Œå˜æ›´ï¼Œä¼šå½±å“åˆ°Controllerå±‚å’ŒDaoå±‚å—ï¼Ÿ\nç­”æ¡ˆï¼šä¸ä¼šå½±å“ã€‚ ï¼ˆç¨‹åºçš„æ‰©å±•æ€§ã€ç»´æŠ¤æ€§å˜å¾—æ›´å¥½äº†ï¼‰\n3.1.2 ä»£ç æ‹†åˆ† æˆ‘ä»¬ä½¿ç”¨ä¸‰å±‚æ¶æ„æ€æƒ³ï¼Œæ¥æ”¹é€ ä¸‹ä¹‹å‰çš„ç¨‹åºï¼š\næ§åˆ¶å±‚åŒ…åï¼šxxxx.controller ä¸šåŠ¡é€»è¾‘å±‚åŒ…åï¼šxxxx.service æ•°æ®è®¿é—®å±‚åŒ…åï¼šxxxx.dao **æ§åˆ¶å±‚ï¼š**æ¥æ”¶å‰ç«¯å‘é€çš„è¯·æ±‚ï¼Œå¯¹è¯·æ±‚è¿›è¡Œå¤„ç†ï¼Œå¹¶å“åº”æ•°æ®\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 @RestController public class EmpController { //ä¸šåŠ¡å±‚å¯¹è±¡ private EmpService empService = new EmpServiceA(); @RequestMapping(\u0026#34;/listEmp\u0026#34;) public Result list(){ //1. è°ƒç”¨serviceå±‚, è·å–æ•°æ® List\u0026lt;Emp\u0026gt; empList = empService.listEmp(); //3. å“åº”æ•°æ® return Result.success(empList); } } **ä¸šåŠ¡é€»è¾‘å±‚ï¼š**å¤„ç†å…·ä½“çš„ä¸šåŠ¡é€»è¾‘\nä¸šåŠ¡æ¥å£ 1 2 3 4 5 //ä¸šåŠ¡é€»è¾‘æ¥å£ï¼ˆåˆ¶å®šä¸šåŠ¡æ ‡å‡†ï¼‰ public interface EmpService { //è·å–å‘˜å·¥åˆ—è¡¨ public List\u0026lt;Emp\u0026gt; listEmp(); } ä¸šåŠ¡å®ç°ç±» 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 //ä¸šåŠ¡é€»è¾‘å®ç°ç±»ï¼ˆæŒ‰ç…§ä¸šåŠ¡æ ‡å‡†å®ç°ï¼‰ public class EmpServiceA implements EmpService { //daoå±‚å¯¹è±¡ private EmpDao empDao = new EmpDaoA(); @Override public List\u0026lt;Emp\u0026gt; listEmp() { //1. è°ƒç”¨dao, è·å–æ•°æ® List\u0026lt;Emp\u0026gt; empList = empDao.listEmp(); //2. å¯¹æ•°æ®è¿›è¡Œè½¬æ¢å¤„ç† - gender, job empList.stream().forEach(emp -\u0026gt; { //å¤„ç† gender 1: ç”·, 2: å¥³ String gender = emp.getGender(); if(\u0026#34;1\u0026#34;.equals(gender)){ emp.setGender(\u0026#34;ç”·\u0026#34;); }else if(\u0026#34;2\u0026#34;.equals(gender)){ emp.setGender(\u0026#34;å¥³\u0026#34;); } //å¤„ç†job - 1: è®²å¸ˆ, 2: ç­ä¸»ä»» , 3: å°±ä¸šæŒ‡å¯¼ String job = emp.getJob(); if(\u0026#34;1\u0026#34;.equals(job)){ emp.setJob(\u0026#34;è®²å¸ˆ\u0026#34;); }else if(\u0026#34;2\u0026#34;.equals(job)){ emp.setJob(\u0026#34;ç­ä¸»ä»»\u0026#34;); }else if(\u0026#34;3\u0026#34;.equals(job)){ emp.setJob(\u0026#34;å°±ä¸šæŒ‡å¯¼\u0026#34;); } }); return empList; } } **æ•°æ®è®¿é—®å±‚ï¼š**è´Ÿè´£æ•°æ®çš„è®¿é—®æ“ä½œï¼ŒåŒ…å«æ•°æ®çš„å¢ã€åˆ ã€æ”¹ã€æŸ¥\næ•°æ®è®¿é—®æ¥å£ 1 2 3 4 5 //æ•°æ®è®¿é—®å±‚æ¥å£ï¼ˆåˆ¶å®šæ ‡å‡†ï¼‰ public interface EmpDao { //è·å–å‘˜å·¥åˆ—è¡¨æ•°æ® public List\u0026lt;Emp\u0026gt; listEmp(); } æ•°æ®è®¿é—®å®ç°ç±» 1 2 3 4 5 6 7 8 9 10 11 //æ•°æ®è®¿é—®å®ç°ç±» public class EmpDaoA implements EmpDao { @Override public List\u0026lt;Emp\u0026gt; listEmp() { //1. åŠ è½½å¹¶è§£æemp.xml String file = this.getClass().getClassLoader().getResource(\u0026#34;emp.xml\u0026#34;).getFile(); System.out.println(file); List\u0026lt;Emp\u0026gt; empList = XmlParserUtils.parse(file, Emp.class); return empList; } } ä¸‰å±‚æ¶æ„çš„å¥½å¤„ï¼š\nå¤ç”¨æ€§å¼º ä¾¿äºç»´æŠ¤ åˆ©ç”¨æ‰©å±• 3.2 åˆ†å±‚è§£è€¦ åˆšæ‰æˆ‘ä»¬å­¦ä¹ è¿‡ç¨‹åºåˆ†å±‚æ€æƒ³äº†ï¼Œæ¥ä¸‹æ¥å‘¢ï¼Œæˆ‘ä»¬æ¥å­¦ä¹ ä¸‹ç¨‹åºçš„è§£è€¦æ€æƒ³ã€‚\nè§£è€¦ï¼šè§£é™¤è€¦åˆã€‚\n3.2.1 è€¦åˆé—®é¢˜ é¦–å…ˆéœ€è¦äº†è§£è½¯ä»¶å¼€å‘æ¶‰åŠåˆ°çš„ä¸¤ä¸ªæ¦‚å¿µï¼šå†…èšå’Œè€¦åˆã€‚\nå†…èšï¼šè½¯ä»¶ä¸­å„ä¸ªåŠŸèƒ½æ¨¡å—å†…éƒ¨çš„åŠŸèƒ½è”ç³»ã€‚\nè€¦åˆï¼šè¡¡é‡è½¯ä»¶ä¸­å„ä¸ªå±‚/æ¨¡å—ä¹‹é—´çš„ä¾èµ–ã€å…³è”çš„ç¨‹åº¦ã€‚\nè½¯ä»¶è®¾è®¡åŸåˆ™ï¼šé«˜å†…èšä½è€¦åˆã€‚\né«˜å†…èšæŒ‡çš„æ˜¯ï¼šä¸€ä¸ªæ¨¡å—ä¸­å„ä¸ªå…ƒç´ ä¹‹é—´çš„è”ç³»çš„ç´§å¯†ç¨‹åº¦ï¼Œå¦‚æœå„ä¸ªå…ƒç´ (è¯­å¥ã€ç¨‹åºæ®µ)ä¹‹é—´çš„è”ç³»ç¨‹åº¦è¶Šé«˜ï¼Œåˆ™å†…èšæ€§è¶Šé«˜ï¼Œå³ \u0026ldquo;é«˜å†…èš\u0026rdquo;ã€‚\nä½è€¦åˆæŒ‡çš„æ˜¯ï¼šè½¯ä»¶ä¸­å„ä¸ªå±‚ã€æ¨¡å—ä¹‹é—´çš„ä¾èµ–å…³è”ç¨‹åºè¶Šä½è¶Šå¥½ã€‚\nç¨‹åºä¸­é«˜å†…èšçš„ä½“ç°ï¼š\nEmpServiceAç±»ä¸­åªç¼–å†™äº†å’Œå‘˜å·¥ç›¸å…³çš„é€»è¾‘å¤„ç†ä»£ç  ç¨‹åºä¸­è€¦åˆä»£ç çš„ä½“ç°ï¼š\næŠŠä¸šåŠ¡ç±»å˜ä¸ºEmpServiceBæ—¶ï¼Œéœ€è¦ä¿®æ”¹controllerå±‚ä¸­çš„ä»£ç  é«˜å†…èšã€ä½è€¦åˆçš„ç›®çš„æ˜¯ä½¿ç¨‹åºæ¨¡å—çš„å¯é‡ç”¨æ€§ã€ç§»æ¤æ€§å¤§å¤§å¢å¼ºã€‚\n3.2.2 è§£è€¦æ€è·¯ ä¹‹å‰æˆ‘ä»¬åœ¨ç¼–å†™ä»£ç æ—¶ï¼Œéœ€è¦ä»€ä¹ˆå¯¹è±¡ï¼Œå°±ç›´æ¥newä¸€ä¸ªå°±å¯ä»¥äº†ã€‚ è¿™ç§åšæ³•å‘¢ï¼Œå±‚ä¸å±‚ä¹‹é—´ä»£ç å°±è€¦åˆäº†ï¼Œå½“serviceå±‚çš„å®ç°å˜äº†ä¹‹åï¼Œ æˆ‘ä»¬è¿˜éœ€è¦ä¿®æ”¹controllerå±‚çš„ä»£ç ã€‚\né‚£åº”è¯¥æ€ä¹ˆè§£è€¦å‘¢ï¼Ÿ\né¦–å…ˆä¸èƒ½åœ¨EmpControllerä¸­ä½¿ç”¨newå¯¹è±¡ã€‚ä»£ç å¦‚ä¸‹ï¼š æ­¤æ—¶ï¼Œå°±å­˜åœ¨å¦ä¸€ä¸ªé—®é¢˜äº†ï¼Œä¸èƒ½newï¼Œå°±æ„å‘³ç€æ²¡æœ‰ä¸šåŠ¡å±‚å¯¹è±¡ï¼ˆç¨‹åºè¿è¡Œå°±æŠ¥é”™ï¼‰ï¼Œæ€ä¹ˆåŠå‘¢ï¼Ÿ æˆ‘ä»¬çš„è§£å†³æ€è·¯æ˜¯ï¼š æä¾›ä¸€ä¸ªå®¹å™¨ï¼Œå®¹å™¨ä¸­å­˜å‚¨ä¸€äº›å¯¹è±¡(ä¾‹ï¼šEmpServiceå¯¹è±¡) controllerç¨‹åºä»å®¹å™¨ä¸­è·å–EmpServiceç±»å‹çš„å¯¹è±¡ æˆ‘ä»¬æƒ³è¦å®ç°ä¸Šè¿°è§£è€¦æ“ä½œï¼Œå°±æ¶‰åŠåˆ°Springä¸­çš„ä¸¤ä¸ªæ ¸å¿ƒæ¦‚å¿µï¼š\næ§åˆ¶åè½¬ï¼š Inversion Of Controlï¼Œç®€ç§°IOCã€‚å¯¹è±¡çš„åˆ›å»ºæ§åˆ¶æƒç”±ç¨‹åºè‡ªèº«è½¬ç§»åˆ°å¤–éƒ¨ï¼ˆå®¹å™¨ï¼‰ï¼Œè¿™ç§æ€æƒ³ç§°ä¸ºæ§åˆ¶åè½¬ã€‚\nå¯¹è±¡çš„åˆ›å»ºæƒç”±ç¨‹åºå‘˜ä¸»åŠ¨åˆ›å»ºè½¬ç§»åˆ°å®¹å™¨(ç”±å®¹å™¨åˆ›å»ºã€ç®¡ç†å¯¹è±¡)ã€‚è¿™ä¸ªå®¹å™¨ç§°ä¸ºï¼šIOCå®¹å™¨æˆ–Springå®¹å™¨\nä¾èµ–æ³¨å…¥ï¼š Dependency Injectionï¼Œç®€ç§°DIã€‚å®¹å™¨ä¸ºåº”ç”¨ç¨‹åºæä¾›è¿è¡Œæ—¶ï¼Œæ‰€ä¾èµ–çš„èµ„æºï¼Œç§°ä¹‹ä¸ºä¾èµ–æ³¨å…¥ã€‚\nç¨‹åºè¿è¡Œæ—¶éœ€è¦æŸä¸ªèµ„æºï¼Œæ­¤æ—¶å®¹å™¨å°±ä¸ºå…¶æä¾›è¿™ä¸ªèµ„æºã€‚\nä¾‹ï¼šEmpControllerç¨‹åºè¿è¡Œæ—¶éœ€è¦EmpServiceå¯¹è±¡ï¼ŒSpringå®¹å™¨å°±ä¸ºå…¶æä¾›å¹¶æ³¨å…¥EmpServiceå¯¹è±¡\nIOCå®¹å™¨ä¸­åˆ›å»ºã€ç®¡ç†çš„å¯¹è±¡ï¼Œç§°ä¹‹ä¸ºï¼šbeanå¯¹è±¡\n3.3 IOC\u0026amp;DI ä¸Šé¢æˆ‘ä»¬å¼•å‡ºäº†Springä¸­IOCå’ŒDIçš„åŸºæœ¬æ¦‚å¿µï¼Œä¸‹é¢æˆ‘ä»¬å°±æ¥å…·ä½“å­¦ä¹ ä¸‹IOCå’ŒDIçš„ä»£ç å®ç°ã€‚\n3.3.1 IOC\u0026amp;DIå…¥é—¨ ä»»åŠ¡ï¼šå®ŒæˆControllerå±‚ã€Serviceå±‚ã€Daoå±‚çš„ä»£ç è§£è€¦\næ€è·¯ï¼š åˆ é™¤Controllerå±‚ã€Serviceå±‚ä¸­newå¯¹è±¡çš„ä»£ç  Serviceå±‚åŠDaoå±‚çš„å®ç°ç±»ï¼Œäº¤ç»™IOCå®¹å™¨ç®¡ç† ä¸ºControlleråŠServiceæ³¨å…¥è¿è¡Œæ—¶ä¾èµ–çš„å¯¹è±¡ Controllerç¨‹åºä¸­æ³¨å…¥ä¾èµ–çš„Serviceå±‚å¯¹è±¡ Serviceç¨‹åºä¸­æ³¨å…¥ä¾èµ–çš„Daoå±‚å¯¹è±¡ ç¬¬1æ­¥ï¼šåˆ é™¤Controllerå±‚ã€Serviceå±‚ä¸­newå¯¹è±¡çš„ä»£ç \nç¬¬2æ­¥ï¼šServiceå±‚åŠDaoå±‚çš„å®ç°ç±»ï¼Œäº¤ç»™IOCå®¹å™¨ç®¡ç†\nä½¿ç”¨Springæä¾›çš„æ³¨è§£ï¼š@Component ï¼Œå°±å¯ä»¥å®ç°ç±»äº¤ç»™IOCå®¹å™¨ç®¡ç† ç¬¬3æ­¥ï¼šä¸ºControlleråŠServiceæ³¨å…¥è¿è¡Œæ—¶ä¾èµ–çš„å¯¹è±¡\nä½¿ç”¨Springæä¾›çš„æ³¨è§£ï¼š@Autowired ï¼Œå°±å¯ä»¥å®ç°ç¨‹åºè¿è¡Œæ—¶IOCå®¹å™¨è‡ªåŠ¨æ³¨å…¥éœ€è¦çš„ä¾èµ–å¯¹è±¡ å®Œæ•´çš„ä¸‰å±‚ä»£ç ï¼š\nControllerå±‚ï¼š 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 @RestController public class EmpController { @Autowired //è¿è¡Œæ—¶,ä»IOCå®¹å™¨ä¸­è·å–è¯¥ç±»å‹å¯¹è±¡,èµ‹å€¼ç»™è¯¥å˜é‡ private EmpService empService ; @RequestMapping(\u0026#34;/listEmp\u0026#34;) public Result list(){ //1. è°ƒç”¨service, è·å–æ•°æ® List\u0026lt;Emp\u0026gt; empList = empService.listEmp(); //3. å“åº”æ•°æ® return Result.success(empList); } } Serviceå±‚ï¼š 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 @Component //å°†å½“å‰å¯¹è±¡äº¤ç»™IOCå®¹å™¨ç®¡ç†,æˆä¸ºIOCå®¹å™¨çš„bean public class EmpServiceA implements EmpService { @Autowired //è¿è¡Œæ—¶,ä»IOCå®¹å™¨ä¸­è·å–è¯¥ç±»å‹å¯¹è±¡,èµ‹å€¼ç»™è¯¥å˜é‡ private EmpDao empDao ; @Override public List\u0026lt;Emp\u0026gt; listEmp() { //1. è°ƒç”¨dao, è·å–æ•°æ® List\u0026lt;Emp\u0026gt; empList = empDao.listEmp(); //2. å¯¹æ•°æ®è¿›è¡Œè½¬æ¢å¤„ç† - gender, job empList.stream().forEach(emp -\u0026gt; { //å¤„ç† gender 1: ç”·, 2: å¥³ String gender = emp.getGender(); if(\u0026#34;1\u0026#34;.equals(gender)){ emp.setGender(\u0026#34;ç”·\u0026#34;); }else if(\u0026#34;2\u0026#34;.equals(gender)){ emp.setGender(\u0026#34;å¥³\u0026#34;); } //å¤„ç†job - 1: è®²å¸ˆ, 2: ç­ä¸»ä»» , 3: å°±ä¸šæŒ‡å¯¼ String job = emp.getJob(); if(\u0026#34;1\u0026#34;.equals(job)){ emp.setJob(\u0026#34;è®²å¸ˆ\u0026#34;); }else if(\u0026#34;2\u0026#34;.equals(job)){ emp.setJob(\u0026#34;ç­ä¸»ä»»\u0026#34;); }else if(\u0026#34;3\u0026#34;.equals(job)){ emp.setJob(\u0026#34;å°±ä¸šæŒ‡å¯¼\u0026#34;); } }); return empList; } } Daoå±‚ï¼š\n1 2 3 4 5 6 7 8 9 10 11 @Component //å°†å½“å‰å¯¹è±¡äº¤ç»™IOCå®¹å™¨ç®¡ç†,æˆä¸ºIOCå®¹å™¨çš„bean public class EmpDaoA implements EmpDao { @Override public List\u0026lt;Emp\u0026gt; listEmp() { //1. åŠ è½½å¹¶è§£æemp.xml String file = this.getClass().getClassLoader().getResource(\u0026#34;emp.xml\u0026#34;).getFile(); System.out.println(file); List\u0026lt;Emp\u0026gt; empList = XmlParserUtils.parse(file, Emp.class); return empList; } } è¿è¡Œæµ‹è¯•ï¼š\nå¯åŠ¨SpringBootå¼•å¯¼ç±»ï¼Œæ‰“å¼€æµè§ˆå™¨ï¼Œè¾“å…¥ï¼šhttp://localhost:8080/emp.html 3.3.2 IOCè¯¦è§£ é€šè¿‡IOCå’ŒDIçš„å…¥é—¨ç¨‹åºå‘¢ï¼Œæˆ‘ä»¬å·²ç»åŸºæœ¬äº†è§£äº†IOCå’ŒDIçš„åŸºç¡€æ“ä½œã€‚æ¥ä¸‹æ¥å‘¢ï¼Œæˆ‘ä»¬å­¦ä¹ ä¸‹IOCæ§åˆ¶åè½¬å’ŒDIä¾èµ–æ³¨å…¥çš„ç»†èŠ‚ã€‚\n3.3.2.1 beançš„å£°æ˜ å‰é¢æˆ‘ä»¬æåˆ°IOCæ§åˆ¶åè½¬ï¼Œå°±æ˜¯å°†å¯¹è±¡çš„æ§åˆ¶æƒäº¤ç»™Springçš„IOCå®¹å™¨ï¼Œç”±IOCå®¹å™¨åˆ›å»ºåŠç®¡ç†å¯¹è±¡ã€‚IOCå®¹å™¨åˆ›å»ºçš„å¯¹è±¡ç§°ä¸ºbeanå¯¹è±¡ã€‚\nåœ¨ä¹‹å‰çš„å…¥é—¨æ¡ˆä¾‹ä¸­ï¼Œè¦æŠŠæŸä¸ªå¯¹è±¡äº¤ç»™IOCå®¹å™¨ç®¡ç†ï¼Œéœ€è¦åœ¨ç±»ä¸Šæ·»åŠ ä¸€ä¸ªæ³¨è§£ï¼š@Component\nè€ŒSpringæ¡†æ¶ä¸ºäº†æ›´å¥½çš„æ ‡è¯†webåº”ç”¨ç¨‹åºå¼€å‘å½“ä¸­ï¼Œbeanå¯¹è±¡åˆ°åº•å½’å±äºå“ªä¸€å±‚ï¼Œåˆæä¾›äº†@Componentçš„è¡ç”Ÿæ³¨è§£ï¼š\n@Controller ï¼ˆæ ‡æ³¨åœ¨æ§åˆ¶å±‚ç±»ä¸Šï¼‰ @Service ï¼ˆæ ‡æ³¨åœ¨ä¸šåŠ¡å±‚ç±»ä¸Šï¼‰ @Repository ï¼ˆæ ‡æ³¨åœ¨æ•°æ®è®¿é—®å±‚ç±»ä¸Šï¼‰ ä¿®æ”¹å…¥é—¨æ¡ˆä¾‹ä»£ç ï¼š\nControllerå±‚ï¼š 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 @RestController //@RestController = @Controller + @ResponseBody public class EmpController { @Autowired //è¿è¡Œæ—¶,ä»IOCå®¹å™¨ä¸­è·å–è¯¥ç±»å‹å¯¹è±¡,èµ‹å€¼ç»™è¯¥å˜é‡ private EmpService empService ; @RequestMapping(\u0026#34;/listEmp\u0026#34;) public Result list(){ //1. è°ƒç”¨service, è·å–æ•°æ® List\u0026lt;Emp\u0026gt; empList = empService.listEmp(); //3. å“åº”æ•°æ® return Result.success(empList); } } Serviceå±‚ï¼š 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 @Service public class EmpServiceA implements EmpService { @Autowired //è¿è¡Œæ—¶,ä»IOCå®¹å™¨ä¸­è·å–è¯¥ç±»å‹å¯¹è±¡,èµ‹å€¼ç»™è¯¥å˜é‡ private EmpDao empDao ; @Override public List\u0026lt;Emp\u0026gt; listEmp() { //1. è°ƒç”¨dao, è·å–æ•°æ® List\u0026lt;Emp\u0026gt; empList = empDao.listEmp(); //2. å¯¹æ•°æ®è¿›è¡Œè½¬æ¢å¤„ç† - gender, job empList.stream().forEach(emp -\u0026gt; { //å¤„ç† gender 1: ç”·, 2: å¥³ String gender = emp.getGender(); if(\u0026#34;1\u0026#34;.equals(gender)){ emp.setGender(\u0026#34;ç”·\u0026#34;); }else if(\u0026#34;2\u0026#34;.equals(gender)){ emp.setGender(\u0026#34;å¥³\u0026#34;); } //å¤„ç†job - 1: è®²å¸ˆ, 2: ç­ä¸»ä»» , 3: å°±ä¸šæŒ‡å¯¼ String job = emp.getJob(); if(\u0026#34;1\u0026#34;.equals(job)){ emp.setJob(\u0026#34;è®²å¸ˆ\u0026#34;); }else if(\u0026#34;2\u0026#34;.equals(job)){ emp.setJob(\u0026#34;ç­ä¸»ä»»\u0026#34;); }else if(\u0026#34;3\u0026#34;.equals(job)){ emp.setJob(\u0026#34;å°±ä¸šæŒ‡å¯¼\u0026#34;); } }); return empList; } } Daoå±‚ï¼š\n1 2 3 4 5 6 7 8 9 10 11 @Repository public class EmpDaoA implements EmpDao { @Override public List\u0026lt;Emp\u0026gt; listEmp() { //1. åŠ è½½å¹¶è§£æemp.xml String file = this.getClass().getClassLoader().getResource(\u0026#34;emp.xml\u0026#34;).getFile(); System.out.println(file); List\u0026lt;Emp\u0026gt; empList = XmlParserUtils.parse(file, Emp.class); return empList; } } è¦æŠŠæŸä¸ªå¯¹è±¡äº¤ç»™IOCå®¹å™¨ç®¡ç†ï¼Œéœ€è¦åœ¨å¯¹åº”çš„ç±»ä¸ŠåŠ ä¸Šå¦‚ä¸‹æ³¨è§£ä¹‹ä¸€ï¼š\næ³¨è§£ è¯´æ˜ ä½ç½® @Controller @Componentçš„è¡ç”Ÿæ³¨è§£ æ ‡æ³¨åœ¨æ§åˆ¶å™¨ç±»ä¸Š @Service @Componentçš„è¡ç”Ÿæ³¨è§£ æ ‡æ³¨åœ¨ä¸šåŠ¡ç±»ä¸Š @Repository @Componentçš„è¡ç”Ÿæ³¨è§£ æ ‡æ³¨åœ¨æ•°æ®è®¿é—®ç±»ä¸Šï¼ˆç”±äºä¸mybatisæ•´åˆï¼Œç”¨çš„å°‘ï¼‰ @Component å£°æ˜beançš„åŸºç¡€æ³¨è§£ ä¸å±äºä»¥ä¸Šä¸‰ç±»æ—¶ï¼Œç”¨æ­¤æ³¨è§£ æŸ¥çœ‹æºç ï¼š\nåœ¨IOCå®¹å™¨ä¸­ï¼Œæ¯ä¸€ä¸ªBeanéƒ½æœ‰ä¸€ä¸ªå±äºè‡ªå·±çš„åå­—ï¼Œå¯ä»¥é€šè¿‡æ³¨è§£çš„valueå±æ€§æŒ‡å®šbeançš„åå­—ã€‚å¦‚æœæ²¡æœ‰æŒ‡å®šï¼Œé»˜è®¤ä¸ºç±»åé¦–å­—æ¯å°å†™ã€‚\næ³¨æ„äº‹é¡¹:\nå£°æ˜beançš„æ—¶å€™ï¼Œå¯ä»¥é€šè¿‡valueå±æ€§æŒ‡å®šbeançš„åå­—ï¼Œå¦‚æœæ²¡æœ‰æŒ‡å®šï¼Œé»˜è®¤ä¸ºç±»åé¦–å­—æ¯å°å†™ã€‚ ä½¿ç”¨ä»¥ä¸Šå››ä¸ªæ³¨è§£éƒ½å¯ä»¥å£°æ˜beanï¼Œä½†æ˜¯åœ¨springbooté›†æˆwebå¼€å‘ä¸­ï¼Œå£°æ˜æ§åˆ¶å™¨beanåªèƒ½ç”¨@Controllerã€‚ 3.3.2.2 ç»„ä»¶æ‰«æ é—®é¢˜ï¼šä½¿ç”¨å‰é¢å­¦ä¹ çš„å››ä¸ªæ³¨è§£å£°æ˜çš„beanï¼Œä¸€å®šä¼šç”Ÿæ•ˆå—ï¼Ÿ\nç­”æ¡ˆï¼šä¸ä¸€å®šã€‚ï¼ˆåŸå› ï¼šbeanæƒ³è¦ç”Ÿæ•ˆï¼Œè¿˜éœ€è¦è¢«ç»„ä»¶æ‰«æï¼‰\nä¸‹é¢æˆ‘ä»¬é€šè¿‡ä¿®æ”¹é¡¹ç›®å·¥ç¨‹çš„ç›®å½•ç»“æ„ï¼Œæ¥æµ‹è¯•beanå¯¹è±¡æ˜¯å¦ç”Ÿæ•ˆï¼š\nè¿è¡Œç¨‹åºåï¼ŒæŠ¥é”™ï¼š\nä¸ºä»€ä¹ˆæ²¡æœ‰æ‰¾åˆ°beanå¯¹è±¡å‘¢ï¼Ÿ\nä½¿ç”¨å››å¤§æ³¨è§£å£°æ˜çš„beanï¼Œè¦æƒ³ç”Ÿæ•ˆï¼Œè¿˜éœ€è¦è¢«ç»„ä»¶æ‰«ææ³¨è§£@ComponentScanæ‰«æ @ComponentScanæ³¨è§£è™½ç„¶æ²¡æœ‰æ˜¾å¼é…ç½®ï¼Œä½†æ˜¯å®é™…ä¸Šå·²ç»åŒ…å«åœ¨äº†å¼•å¯¼ç±»å£°æ˜æ³¨è§£ @SpringBootApplication ä¸­ï¼Œ==é»˜è®¤æ‰«æçš„èŒƒå›´æ˜¯SpringBootå¯åŠ¨ç±»æ‰€åœ¨åŒ…åŠå…¶å­åŒ…==ã€‚\nè§£å†³æ–¹æ¡ˆï¼šæ‰‹åŠ¨æ·»åŠ @ComponentScanæ³¨è§£ï¼ŒæŒ‡å®šè¦æ‰«æçš„åŒ… ï¼ˆ==ä»…åšäº†è§£ï¼Œä¸æ¨è==ï¼‰ æ¨èåšæ³•ï¼ˆå¦‚ä¸‹å›¾ï¼‰ï¼š\nå°†æˆ‘ä»¬å®šä¹‰çš„controllerï¼Œserviceï¼Œdaoè¿™äº›åŒ…å‘¢ï¼Œéƒ½æ”¾åœ¨å¼•å¯¼ç±»æ‰€åœ¨åŒ…com.itheimaçš„å­åŒ…ä¸‹ï¼Œè¿™æ ·æˆ‘ä»¬å®šä¹‰çš„beanå°±ä¼šè¢«è‡ªåŠ¨çš„æ‰«æåˆ° 3.3.3 DIè¯¦è§£ ä¸Šä¸€å°èŠ‚æˆ‘ä»¬è®²è§£äº†æ§åˆ¶åè½¬IOCçš„ç»†èŠ‚ï¼Œæ¥ä¸‹æ¥å‘¢ï¼Œæˆ‘ä»¬å­¦ä¹ ä¾èµ–æ³¨è§£DIçš„ç»†èŠ‚ã€‚\nä¾èµ–æ³¨å…¥ï¼Œæ˜¯æŒ‡IOCå®¹å™¨è¦ä¸ºåº”ç”¨ç¨‹åºå»æä¾›è¿è¡Œæ—¶æ‰€ä¾èµ–çš„èµ„æºï¼Œè€Œèµ„æºæŒ‡çš„å°±æ˜¯å¯¹è±¡ã€‚\nåœ¨å…¥é—¨ç¨‹åºæ¡ˆä¾‹ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†@Autowiredè¿™ä¸ªæ³¨è§£ï¼Œå®Œæˆäº†ä¾èµ–æ³¨å…¥çš„æ“ä½œï¼Œè€Œè¿™ä¸ªAutowiredç¿»è¯‘è¿‡æ¥å«ï¼šè‡ªåŠ¨è£…é…ã€‚\n@Autowiredæ³¨è§£ï¼Œé»˜è®¤æ˜¯æŒ‰ç…§ç±»å‹è¿›è¡Œè‡ªåŠ¨è£…é…çš„ï¼ˆå»IOCå®¹å™¨ä¸­æ‰¾æŸä¸ªç±»å‹çš„å¯¹è±¡ï¼Œç„¶åå®Œæˆæ³¨å…¥æ“ä½œï¼‰\nå…¥é—¨ç¨‹åºä¸¾ä¾‹ï¼šåœ¨EmpControllerè¿è¡Œçš„æ—¶å€™ï¼Œå°±è¦åˆ°IOCå®¹å™¨å½“ä¸­å»æŸ¥æ‰¾EmpServiceè¿™ä¸ªç±»å‹çš„å¯¹è±¡ï¼Œè€Œæˆ‘ä»¬çš„IOCå®¹å™¨ä¸­åˆšå¥½æœ‰ä¸€ä¸ªEmpServiceè¿™ä¸ªç±»å‹çš„å¯¹è±¡ï¼Œæ‰€ä»¥å°±æ‰¾åˆ°äº†è¿™ä¸ªç±»å‹çš„å¯¹è±¡å®Œæˆæ³¨å…¥æ“ä½œã€‚\né‚£å¦‚æœåœ¨IOCå®¹å™¨ä¸­ï¼Œå­˜åœ¨å¤šä¸ªç›¸åŒç±»å‹çš„beanå¯¹è±¡ï¼Œä¼šå‡ºç°ä»€ä¹ˆæƒ…å†µå‘¢ï¼Ÿ\nç¨‹åºè¿è¡Œä¼šæŠ¥é”™ å¦‚ä½•è§£å†³ä¸Šè¿°é—®é¢˜å‘¢ï¼ŸSpringæä¾›äº†ä»¥ä¸‹å‡ ç§è§£å†³æ–¹æ¡ˆï¼š\n@Primary\n@Qualifier\n@Resource\nä½¿ç”¨@Primaryæ³¨è§£ï¼šå½“å­˜åœ¨å¤šä¸ªç›¸åŒç±»å‹çš„Beanæ³¨å…¥æ—¶ï¼ŒåŠ ä¸Š@Primaryæ³¨è§£ï¼Œæ¥ç¡®å®šé»˜è®¤çš„å®ç°ã€‚\nä½¿ç”¨@Qualifieræ³¨è§£ï¼šæŒ‡å®šå½“å‰è¦æ³¨å…¥çš„beanå¯¹è±¡ã€‚ åœ¨@Qualifierçš„valueå±æ€§ä¸­ï¼ŒæŒ‡å®šæ³¨å…¥çš„beançš„åç§°ã€‚\n@Qualifieræ³¨è§£ä¸èƒ½å•ç‹¬ä½¿ç”¨ï¼Œå¿…é¡»é…åˆ@Autowiredä½¿ç”¨ ä½¿ç”¨@Resourceæ³¨è§£ï¼šæ˜¯æŒ‰ç…§beançš„åç§°è¿›è¡Œæ³¨å…¥ã€‚é€šè¿‡nameå±æ€§æŒ‡å®šè¦æ³¨å…¥çš„beançš„åç§°ã€‚\né¢è¯•é¢˜ ï¼š @Autowird ä¸ @Resourceçš„åŒºåˆ«\n@Autowired æ˜¯springæ¡†æ¶æä¾›çš„æ³¨è§£ï¼Œè€Œ@Resourceæ˜¯JDKæä¾›çš„æ³¨è§£ @Autowired é»˜è®¤æ˜¯æŒ‰ç…§ç±»å‹æ³¨å…¥ï¼Œè€Œ@Resourceæ˜¯æŒ‰ç…§åç§°æ³¨å…¥ ","date":"0001-01-01T00:00:00Z","permalink":"http://localhost:1313/p/","title":""},{"content":"SpingBootåŸç† åœ¨å‰é¢åå¤šå¤©çš„è¯¾ç¨‹å½“ä¸­ï¼Œæˆ‘ä»¬å­¦ä¹ çš„éƒ½æ˜¯webå¼€å‘çš„æŠ€æœ¯ä½¿ç”¨ï¼Œéƒ½æ˜¯é¢å‘åº”ç”¨å±‚é¢çš„ï¼Œæˆ‘ä»¬å­¦ä¼šäº†æ€ä¹ˆæ ·å»ç”¨ã€‚è€Œæˆ‘ä»¬ä»Šå¤©æ‰€è¦å­¦ä¹ çš„æ˜¯webåç«¯å¼€å‘çš„æœ€åä¸€ä¸ªç¯‡ç« springbootåŸç†ç¯‡ï¼Œä¸»è¦åå‘äºåº•å±‚åŸç†ã€‚\næˆ‘ä»¬ä»Šå¤©çš„è¯¾ç¨‹å®‰æ’åŒ…æ‹¬è¿™ä¹ˆä¸‰ä¸ªéƒ¨åˆ†ï¼š\né…ç½®ä¼˜å…ˆçº§ï¼šSpringbooté¡¹ç›®å½“ä¸­å±æ€§é…ç½®çš„å¸¸è§æ–¹å¼ä»¥åŠé…ç½®çš„ä¼˜å…ˆçº§ Beançš„ç®¡ç† å‰–æSpringbootçš„åº•å±‚åŸç† 1. é…ç½®ä¼˜å…ˆçº§ åœ¨æˆ‘ä»¬å‰é¢çš„è¯¾ç¨‹å½“ä¸­ï¼Œæˆ‘ä»¬å·²ç»è®²è§£äº†SpringBooté¡¹ç›®å½“ä¸­æ”¯æŒçš„ä¸‰ç±»é…ç½®æ–‡ä»¶ï¼š\napplication.properties application.yml application.yaml åœ¨SpringBooté¡¹ç›®å½“ä¸­ï¼Œæˆ‘ä»¬è¦æƒ³é…ç½®ä¸€ä¸ªå±æ€§ï¼Œå¯ä»¥é€šè¿‡è¿™ä¸‰ç§æ–¹å¼å½“ä¸­çš„ä»»æ„ä¸€ç§æ¥é…ç½®éƒ½å¯ä»¥ï¼Œé‚£ä¹ˆå¦‚æœé¡¹ç›®ä¸­åŒæ—¶å­˜åœ¨è¿™ä¸‰ç§é…ç½®æ–‡ä»¶ï¼Œä¸”éƒ½é…ç½®äº†åŒä¸€ä¸ªå±æ€§ï¼Œå¦‚ï¼šTomcatç«¯å£å·ï¼Œåˆ°åº•å“ªä¸€ä»½é…ç½®æ–‡ä»¶ç”Ÿæ•ˆå‘¢ï¼Ÿ\napplication.properties 1 server.port=8081 application.yml 1 2 server: port: 8082 application.yaml 1 2 server: port: 8082 æˆ‘ä»¬å¯åŠ¨SpringBootç¨‹åºï¼Œæµ‹è¯•ä¸‹ä¸‰ä¸ªé…ç½®æ–‡ä»¶ä¸­å“ªä¸ªTomcatç«¯å£å·ç”Ÿæ•ˆï¼š\npropertiesã€yamlã€ymlä¸‰ç§é…ç½®æ–‡ä»¶åŒæ—¶å­˜åœ¨ propertiesã€yamlã€ymlä¸‰ç§é…ç½®æ–‡ä»¶ï¼Œä¼˜å…ˆçº§æœ€é«˜çš„æ˜¯properties\nyamlã€ymlä¸¤ç§é…ç½®æ–‡ä»¶åŒæ—¶å­˜åœ¨ é…ç½®æ–‡ä»¶ä¼˜å…ˆçº§æ’åï¼ˆä»é«˜åˆ°ä½ï¼‰ï¼š\npropertiesé…ç½®æ–‡ä»¶ ymlé…ç½®æ–‡ä»¶ yamlé…ç½®æ–‡ä»¶ æ³¨æ„äº‹é¡¹ï¼šè™½ç„¶springbootæ”¯æŒå¤šç§æ ¼å¼é…ç½®æ–‡ä»¶ï¼Œä½†æ˜¯åœ¨é¡¹ç›®å¼€å‘æ—¶ï¼Œæ¨èç»Ÿä¸€ä½¿ç”¨ä¸€ç§æ ¼å¼çš„é…ç½®ã€‚ï¼ˆymlæ˜¯ä¸»æµï¼‰\nåœ¨SpringBooté¡¹ç›®å½“ä¸­é™¤äº†ä»¥ä¸Š3ç§é…ç½®æ–‡ä»¶å¤–ï¼ŒSpringBootä¸ºäº†å¢å¼ºç¨‹åºçš„æ‰©å±•æ€§ï¼Œé™¤äº†æ”¯æŒé…ç½®æ–‡ä»¶çš„é…ç½®æ–¹å¼ä»¥å¤–ï¼Œè¿˜æ”¯æŒå¦å¤–ä¸¤ç§å¸¸è§çš„é…ç½®æ–¹å¼ï¼š\nJavaç³»ç»Ÿå±æ€§é…ç½® ï¼ˆæ ¼å¼ï¼š -Dkey=valueï¼‰\n1 -Dserver.port=9000 å‘½ä»¤è¡Œå‚æ•° ï¼ˆæ ¼å¼ï¼š\u0026ndash;key=valueï¼‰\n1 --server.port=10010 é‚£åœ¨ideaå½“ä¸­è¿è¡Œç¨‹åºæ—¶ï¼Œå¦‚ä½•æ¥æŒ‡å®šJavaç³»ç»Ÿå±æ€§å’Œå‘½ä»¤è¡Œå‚æ•°å‘¢ï¼Ÿ\nç¼–è¾‘å¯åŠ¨ç¨‹åºçš„é…ç½®ä¿¡æ¯ é‡å¯æœåŠ¡ï¼ŒåŒæ—¶é…ç½®Tomcatç«¯å£(ä¸‰ç§é…ç½®æ–‡ä»¶ã€ç³»ç»Ÿå±æ€§ã€å‘½ä»¤è¡Œå‚æ•°)ï¼Œæµ‹è¯•å“ªä¸ªTomcatç«¯å£å·ç”Ÿæ•ˆï¼š\nåˆ é™¤å‘½ä»¤è¡Œå‚æ•°é…ç½®ï¼Œé‡å¯SpringBootæœåŠ¡ï¼š\nä¼˜å…ˆçº§ï¼š å‘½ä»¤è¡Œå‚æ•° \u0026gt; ç³»ç»Ÿå±æ€§å‚æ•° \u0026gt; propertieså‚æ•° \u0026gt; ymlå‚æ•° \u0026gt; yamlå‚æ•°\næ€è€ƒï¼šå¦‚æœé¡¹ç›®å·²ç»æ‰“åŒ…ä¸Šçº¿äº†ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬åˆå¦‚ä½•æ¥è®¾ç½®Javaç³»ç»Ÿå±æ€§å’Œå‘½ä»¤è¡Œå‚æ•°å‘¢ï¼Ÿ\n1 java -Dserver.port=9000 -jar XXXXX.jar --server.port=10010 ä¸‹é¢æˆ‘ä»¬æ¥æ¼”ç¤ºä¸‹æ‰“åŒ…ç¨‹åºè¿è¡Œæ—¶æŒ‡å®šJavaç³»ç»Ÿå±æ€§å’Œå‘½ä»¤è¡Œå‚æ•°ï¼š\næ‰§è¡Œmavenæ‰“åŒ…æŒ‡ä»¤packageï¼ŒæŠŠé¡¹ç›®æ‰“æˆjaræ–‡ä»¶ ä½¿ç”¨å‘½ä»¤ï¼šjava -jar æ–¹å¼è¿è¡Œjaræ–‡ä»¶ç¨‹åº é¡¹ç›®æ‰“åŒ…ï¼š\nè¿è¡Œjarç¨‹åºï¼š\nåŒæ—¶è®¾ç½®Javaç³»ç»Ÿå±æ€§å’Œå‘½ä»¤è¡Œå‚æ•° ä»…è®¾ç½®Javaç³»ç»Ÿå±æ€§ æ³¨æ„äº‹é¡¹ï¼š\nSpringbooté¡¹ç›®è¿›è¡Œæ‰“åŒ…æ—¶ï¼Œéœ€è¦å¼•å…¥æ’ä»¶ spring-boot-maven-plugin (åŸºäºå®˜ç½‘éª¨æ¶åˆ›å»ºé¡¹ç›®ï¼Œä¼šè‡ªåŠ¨æ·»åŠ è¯¥æ’ä»¶) åœ¨SpringBooté¡¹ç›®å½“ä¸­ï¼Œå¸¸è§çš„å±æ€§é…ç½®æ–¹å¼æœ‰5ç§ï¼Œ 3ç§é…ç½®æ–‡ä»¶ï¼ŒåŠ ä¸Š2ç§å¤–éƒ¨å±æ€§çš„é…ç½®(Javaç³»ç»Ÿå±æ€§ã€å‘½ä»¤è¡Œå‚æ•°)ã€‚é€šè¿‡ä»¥ä¸Šçš„æµ‹è¯•ï¼Œæˆ‘ä»¬ä¹Ÿå¾—å‡ºäº†ä¼˜å…ˆçº§(ä»ä½åˆ°é«˜)ï¼š\napplication.yamlï¼ˆå¿½ç•¥ï¼‰ application.yml application.properties javaç³»ç»Ÿå±æ€§ï¼ˆ-Dxxx=xxxï¼‰ å‘½ä»¤è¡Œå‚æ•°ï¼ˆ\u0026ndash;xxx=xxxï¼‰ 2. Beanç®¡ç† åœ¨å‰é¢çš„è¯¾ç¨‹å½“ä¸­ï¼Œæˆ‘ä»¬å·²ç»è®²è¿‡äº†æˆ‘ä»¬å¯ä»¥é€šè¿‡Springå½“ä¸­æä¾›çš„æ³¨è§£@Componentä»¥åŠå®ƒçš„ä¸‰ä¸ªè¡ç”Ÿæ³¨è§£ï¼ˆ@Controllerã€@Serviceã€@Repositoryï¼‰æ¥å£°æ˜IOCå®¹å™¨ä¸­çš„beanå¯¹è±¡ï¼ŒåŒæ—¶æˆ‘ä»¬ä¹Ÿå­¦ä¹ äº†å¦‚ä½•ä¸ºåº”ç”¨ç¨‹åºæ³¨å…¥è¿è¡Œæ—¶æ‰€éœ€è¦ä¾èµ–çš„beanå¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯ä¾èµ–æ³¨å…¥DIã€‚\næˆ‘ä»¬ä»Šå¤©ä¸»è¦å­¦ä¹ IOCå®¹å™¨ä¸­Beançš„å…¶ä»–ä½¿ç”¨ç»†èŠ‚ï¼Œä¸»è¦å­¦ä¹ ä»¥ä¸‹ä¸‰æ–¹é¢ï¼š\nå¦‚ä½•ä»IOCå®¹å™¨ä¸­æ‰‹åŠ¨çš„è·å–åˆ°beanå¯¹è±¡ beançš„ä½œç”¨åŸŸé…ç½® ç®¡ç†ç¬¬ä¸‰æ–¹çš„beanå¯¹è±¡ æ¥ä¸‹æ¥æˆ‘ä»¬å…ˆæ¥å­¦ä¹ ç¬¬ä¸€æ–¹é¢ï¼Œä»IOCå®¹å™¨ä¸­è·å–beanå¯¹è±¡ã€‚\n2.1 è·å–Bean é»˜è®¤æƒ…å†µä¸‹ï¼ŒSpringBooté¡¹ç›®åœ¨å¯åŠ¨çš„æ—¶å€™ä¼šè‡ªåŠ¨çš„åˆ›å»ºIOCå®¹å™¨(ä¹Ÿç§°ä¸ºSpringå®¹å™¨)ï¼Œå¹¶ä¸”åœ¨å¯åŠ¨çš„è¿‡ç¨‹å½“ä¸­ä¼šè‡ªåŠ¨çš„å°†beanå¯¹è±¡éƒ½åˆ›å»ºå¥½ï¼Œå­˜æ”¾åœ¨IOCå®¹å™¨å½“ä¸­ã€‚åº”ç”¨ç¨‹åºåœ¨è¿è¡Œæ—¶éœ€è¦ä¾èµ–ä»€ä¹ˆbeanå¯¹è±¡ï¼Œå°±ç›´æ¥è¿›è¡Œä¾èµ–æ³¨å…¥å°±å¯ä»¥äº†ã€‚\nè€Œåœ¨Springå®¹å™¨ä¸­æä¾›äº†ä¸€äº›æ–¹æ³•ï¼Œå¯ä»¥ä¸»åŠ¨ä»IOCå®¹å™¨ä¸­è·å–åˆ°beanå¯¹è±¡ï¼Œä¸‹é¢ä»‹ç»3ç§å¸¸ç”¨æ–¹å¼ï¼š\næ ¹æ®nameè·å–bean\n1 Object getBean(String name) æ ¹æ®ç±»å‹è·å–bean\n1 \u0026lt;T\u0026gt; T getBean(Class\u0026lt;T\u0026gt; requiredType) æ ¹æ®nameè·å–beanï¼ˆå¸¦ç±»å‹è½¬æ¢ï¼‰\n1 \u0026lt;T\u0026gt; T getBean(String name, Class\u0026lt;T\u0026gt; requiredType) æ€è€ƒï¼šè¦ä»IOCå®¹å™¨å½“ä¸­æ¥è·å–åˆ°beanå¯¹è±¡ï¼Œéœ€è¦å…ˆæ‹¿åˆ°IOCå®¹å™¨å¯¹è±¡ï¼Œæ€ä¹ˆæ ·æ‰èƒ½æ‹¿åˆ°IOCå®¹å™¨å‘¢ï¼Ÿ\næƒ³è·å–åˆ°IOCå®¹å™¨ï¼Œç›´æ¥å°†IOCå®¹å™¨å¯¹è±¡æ³¨å…¥è¿›æ¥å°±å¯ä»¥äº† æ§åˆ¶å™¨ï¼šDeptController\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 @RestController @RequestMapping(\u0026#34;/depts\u0026#34;) public class DeptController { @Autowired private DeptService deptService; public DeptController(){ System.out.println(\u0026#34;DeptController constructor ....\u0026#34;); } @GetMapping public Result list(){ List\u0026lt;Dept\u0026gt; deptList = deptService.list(); return Result.success(deptList); } @DeleteMapping(\u0026#34;/{id}\u0026#34;) public Result delete(@PathVariable Integer id) { deptService.delete(id); return Result.success(); } @PostMapping public Result save(@RequestBody Dept dept){ deptService.save(dept); return Result.success(); } } ä¸šåŠ¡å®ç°ç±»ï¼šDeptServiceImpl\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 @Slf4j @Service public class DeptServiceImpl implements DeptService { @Autowired private DeptMapper deptMapper; @Override public List\u0026lt;Dept\u0026gt; list() { List\u0026lt;Dept\u0026gt; deptList = deptMapper.list(); return deptList; } @Override public void delete(Integer id) { deptMapper.delete(id); } @Override public void save(Dept dept) { dept.setCreateTime(LocalDateTime.now()); dept.setUpdateTime(LocalDateTime.now()); deptMapper.save(dept); } } Mapperæ¥å£ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 @Mapper public interface DeptMapper { //æŸ¥è¯¢å…¨éƒ¨éƒ¨é—¨æ•°æ® @Select(\u0026#34;select * from dept\u0026#34;) List\u0026lt;Dept\u0026gt; list(); //åˆ é™¤éƒ¨é—¨ @Delete(\u0026#34;delete from dept where id = #{id}\u0026#34;) void delete(Integer id); //æ–°å¢éƒ¨é—¨ @Insert(\u0026#34;insert into dept(name, create_time, update_time) values (#{name},#{createTime},#{updateTime})\u0026#34;) void save(Dept dept); } æµ‹è¯•ç±»ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 @SpringBootTest class SpringbootWebConfig2ApplicationTests { @Autowired private ApplicationContext applicationContext; //IOCå®¹å™¨å¯¹è±¡ //è·å–beanå¯¹è±¡ @Test public void testGetBean(){ //æ ¹æ®beançš„åç§°è·å– DeptController bean1 = (DeptController) applicationContext.getBean(\u0026#34;deptController\u0026#34;); System.out.println(bean1); //æ ¹æ®beançš„ç±»å‹è·å– DeptController bean2 = applicationContext.getBean(DeptController.class); System.out.println(bean2); //æ ¹æ®beançš„åç§° åŠ ç±»å‹è·å– DeptController bean3 = applicationContext.getBean(\u0026#34;deptController\u0026#34;, DeptController.class); System.out.println(bean3); } } ç¨‹åºè¿è¡Œåæ§åˆ¶å°æ—¥å¿—ï¼š\né—®é¢˜ï¼šè¾“å‡ºçš„beanå¯¹è±¡åœ°å€å€¼æ˜¯ä¸€æ ·çš„ï¼Œè¯´æ˜IOCå®¹å™¨å½“ä¸­çš„beanå¯¹è±¡æœ‰å‡ ä¸ªï¼Ÿ\nç­”æ¡ˆï¼šåªæœ‰ä¸€ä¸ªã€‚ ï¼ˆé»˜è®¤æƒ…å†µä¸‹ï¼ŒIOCä¸­çš„beanå¯¹è±¡æ˜¯å•ä¾‹ï¼‰\né‚£ä¹ˆèƒ½ä¸èƒ½å°†beanå¯¹è±¡è®¾ç½®ä¸ºéå•ä¾‹çš„(æ¯æ¬¡è·å–çš„beanéƒ½æ˜¯ä¸€ä¸ªæ–°å¯¹è±¡)ï¼Ÿ\nå¯ä»¥ï¼Œåœ¨ä¸‹ä¸€ä¸ªçŸ¥è¯†ç‚¹(beanä½œç”¨åŸŸ)ä¸­è®²è§£ã€‚\næ³¨æ„äº‹é¡¹ï¼š\nä¸Šè¿°æ‰€è¯´çš„ ã€Springé¡¹ç›®å¯åŠ¨æ—¶ï¼Œä¼šæŠŠå…¶ä¸­çš„beanéƒ½åˆ›å»ºå¥½ã€‘è¿˜ä¼šå—åˆ°ä½œç”¨åŸŸåŠå»¶è¿Ÿåˆå§‹åŒ–å½±å“ï¼Œè¿™é‡Œä¸»è¦é’ˆå¯¹äºé»˜è®¤çš„å•ä¾‹éå»¶è¿ŸåŠ è½½çš„beanè€Œè¨€ã€‚ 2.2 Beanä½œç”¨åŸŸ åœ¨å‰é¢æˆ‘ä»¬æåˆ°çš„IOCå®¹å™¨å½“ä¸­ï¼Œé»˜è®¤beanå¯¹è±¡æ˜¯å•ä¾‹æ¨¡å¼(åªæœ‰ä¸€ä¸ªå®ä¾‹å¯¹è±¡)ã€‚é‚£ä¹ˆå¦‚ä½•è®¾ç½®beanå¯¹è±¡ä¸ºéå•ä¾‹å‘¢ï¼Ÿéœ€è¦è®¾ç½®beançš„ä½œç”¨åŸŸã€‚\nåœ¨Springä¸­æ”¯æŒäº”ç§ä½œç”¨åŸŸï¼Œåä¸‰ç§åœ¨webç¯å¢ƒæ‰ç”Ÿæ•ˆï¼š\nä½œç”¨åŸŸ è¯´æ˜ singleton å®¹å™¨å†…åŒåç§°çš„beanåªæœ‰ä¸€ä¸ªå®ä¾‹ï¼ˆå•ä¾‹ï¼‰ï¼ˆé»˜è®¤ï¼‰ prototype æ¯æ¬¡ä½¿ç”¨è¯¥beanæ—¶ä¼šåˆ›å»ºæ–°çš„å®ä¾‹ï¼ˆéå•ä¾‹ï¼‰ request æ¯ä¸ªè¯·æ±‚èŒƒå›´å†…ä¼šåˆ›å»ºæ–°çš„å®ä¾‹ï¼ˆwebç¯å¢ƒä¸­ï¼Œäº†è§£ï¼‰ session æ¯ä¸ªä¼šè¯èŒƒå›´å†…ä¼šåˆ›å»ºæ–°çš„å®ä¾‹ï¼ˆwebç¯å¢ƒä¸­ï¼Œäº†è§£ï¼‰ application æ¯ä¸ªåº”ç”¨èŒƒå›´å†…ä¼šåˆ›å»ºæ–°çš„å®ä¾‹ï¼ˆwebç¯å¢ƒä¸­ï¼Œäº†è§£ï¼‰ çŸ¥é“äº†beançš„5ç§ä½œç”¨åŸŸäº†ï¼Œæˆ‘ä»¬è¦æ€ä¹ˆå»è®¾ç½®ä¸€ä¸ªbeançš„ä½œç”¨åŸŸå‘¢ï¼Ÿ\nå¯ä»¥å€ŸåŠ©Springä¸­çš„@Scopeæ³¨è§£æ¥è¿›è¡Œé…ç½®ä½œç”¨åŸŸ 1). æµ‹è¯•ä¸€\næ§åˆ¶å™¨ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 //é»˜è®¤beançš„ä½œç”¨åŸŸä¸ºï¼šsingleton (å•ä¾‹) @Lazy //å»¶è¿ŸåŠ è½½ï¼ˆç¬¬ä¸€æ¬¡ä½¿ç”¨beanå¯¹è±¡æ—¶ï¼Œæ‰ä¼šåˆ›å»ºbeanå¯¹è±¡å¹¶äº¤ç»™iocå®¹å™¨ç®¡ç†ï¼‰ @RestController @RequestMapping(\u0026#34;/depts\u0026#34;) public class DeptController { @Autowired private DeptService deptService; public DeptController(){ System.out.println(\u0026#34;DeptController constructor ....\u0026#34;); } //çœç•¥å…¶ä»–ä»£ç ... } æµ‹è¯•ç±» 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 @SpringBootTest class SpringbootWebConfig2ApplicationTests { @Autowired private ApplicationContext applicationContext; //IOCå®¹å™¨å¯¹è±¡ //beançš„ä½œç”¨åŸŸ @Test public void testScope(){ for (int i = 0; i \u0026lt; 10; i++) { DeptController deptController = applicationContext.getBean(DeptController.class); System.out.println(deptController); } } } é‡å¯SpringBootæœåŠ¡ï¼Œè¿è¡Œæµ‹è¯•æ–¹æ³•ï¼ŒæŸ¥çœ‹æ§åˆ¶å°æ‰“å°çš„æ—¥å¿—ï¼š\næ³¨æ„äº‹é¡¹ï¼š\nIOCå®¹å™¨ä¸­çš„beané»˜è®¤ä½¿ç”¨çš„ä½œç”¨åŸŸï¼šsingleton (å•ä¾‹)\né»˜è®¤singletonçš„beanï¼Œåœ¨å®¹å™¨å¯åŠ¨æ—¶è¢«åˆ›å»ºï¼Œå¯ä»¥ä½¿ç”¨@Lazyæ³¨è§£æ¥å»¶è¿Ÿåˆå§‹åŒ–(å»¶è¿Ÿåˆ°ç¬¬ä¸€æ¬¡ä½¿ç”¨æ—¶)\n2). æµ‹è¯•äºŒ\nä¿®æ”¹æ§åˆ¶å™¨DeptControllerä»£ç ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 @Scope(\u0026#34;prototype\u0026#34;) //beanä½œç”¨åŸŸä¸ºéå•ä¾‹ @Lazy //å»¶è¿ŸåŠ è½½ @RestController @RequestMapping(\u0026#34;/depts\u0026#34;) public class DeptController { @Autowired private DeptService deptService; public DeptController(){ System.out.println(\u0026#34;DeptController constructor ....\u0026#34;); } //çœç•¥å…¶ä»–ä»£ç ... } é‡å¯SpringBootæœåŠ¡ï¼Œå†æ¬¡æ‰§è¡Œæµ‹è¯•æ–¹æ³•ï¼ŒæŸ¥çœ‹æ§åˆ¶å§æ‰“å°çš„æ—¥å¿—ï¼š\næ³¨æ„äº‹é¡¹ï¼š\nprototypeçš„beanï¼Œæ¯ä¸€æ¬¡ä½¿ç”¨è¯¥beançš„æ—¶å€™éƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„å®ä¾‹ å®é™…å¼€å‘å½“ä¸­ï¼Œç»å¤§éƒ¨åˆ†çš„Beanæ˜¯å•ä¾‹çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ç»å¤§éƒ¨åˆ†Beanä¸éœ€è¦é…ç½®scopeå±æ€§ 2.3 ç¬¬ä¸‰æ–¹Bean å­¦ä¹ å®Œbeançš„è·å–ã€beançš„ä½œç”¨åŸŸä¹‹åï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å†æ¥å­¦ä¹ ç¬¬ä¸‰æ–¹beançš„é…ç½®ã€‚\nä¹‹å‰æˆ‘ä»¬æ‰€é…ç½®çš„beanï¼Œåƒcontrollerã€serviceï¼Œdaoä¸‰å±‚ä½“ç³»ä¸‹ç¼–å†™çš„ç±»ï¼Œè¿™äº›ç±»éƒ½æ˜¯æˆ‘ä»¬åœ¨é¡¹ç›®å½“ä¸­è‡ªå·±å®šä¹‰çš„ç±»(è‡ªå®šä¹‰ç±»)ã€‚å½“æˆ‘ä»¬è¦å£°æ˜è¿™äº›beanï¼Œä¹Ÿéå¸¸ç®€å•ï¼Œæˆ‘ä»¬åªéœ€è¦åœ¨ç±»ä¸ŠåŠ ä¸Š@Componentä»¥åŠå®ƒçš„è¿™ä¸‰ä¸ªè¡ç”Ÿæ³¨è§£ï¼ˆ@Controllerã€@Serviceã€@Repositoryï¼‰ï¼Œå°±å¯ä»¥æ¥å£°æ˜è¿™ä¸ªbeanå¯¹è±¡äº†ã€‚ ä½†æ˜¯åœ¨æˆ‘ä»¬é¡¹ç›®å¼€å‘å½“ä¸­ï¼Œè¿˜æœ‰ä¸€ç§æƒ…å†µå°±æ˜¯è¿™ä¸ªç±»å®ƒä¸æ˜¯æˆ‘ä»¬è‡ªå·±ç¼–å†™çš„ï¼Œè€Œæ˜¯æˆ‘ä»¬å¼•å…¥çš„ç¬¬ä¸‰æ–¹ä¾èµ–å½“ä¸­æä¾›çš„ã€‚\nåœ¨pom.xmlæ–‡ä»¶ä¸­ï¼Œå¼•å…¥dom4jï¼š\n1 2 3 4 5 6 \u0026lt;!--Dom4j--\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.dom4j\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;dom4j\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;2.1.3\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; dom4jå°±æ˜¯ç¬¬ä¸‰æ–¹ç»„ç»‡æä¾›çš„ã€‚ dom4jä¸­çš„SAXReaderç±»å°±æ˜¯ç¬¬ä¸‰æ–¹ç¼–å†™çš„ã€‚\nå½“æˆ‘ä»¬éœ€è¦ä½¿ç”¨åˆ°SAXReaderå¯¹è±¡æ—¶ï¼Œç›´æ¥è¿›è¡Œä¾èµ–æ³¨å…¥æ˜¯ä¸æ˜¯å°±å¯ä»¥äº†å‘¢ï¼Ÿ\næŒ‰ç…§æˆ‘ä»¬ä¹‹å‰çš„åšæ³•ï¼Œéœ€è¦åœ¨SAXReaderç±»ä¸Šæ·»åŠ ä¸€ä¸ªæ³¨è§£@Componentï¼ˆå°†å½“å‰ç±»äº¤ç»™IOCå®¹å™¨ç®¡ç†ï¼‰ ç»“è®ºï¼šç¬¬ä¸‰æ–¹æä¾›çš„ç±»æ˜¯åªè¯»çš„ã€‚æ— æ³•åœ¨ç¬¬ä¸‰æ–¹ç±»ä¸Šæ·»åŠ @Componentæ³¨è§£æˆ–è¡ç”Ÿæ³¨è§£ã€‚\né‚£ä¹ˆæˆ‘ä»¬åº”è¯¥æ€æ ·ä½¿ç”¨å¹¶å®šä¹‰ç¬¬ä¸‰æ–¹çš„beanå‘¢ï¼Ÿ\nå¦‚æœè¦ç®¡ç†çš„beanå¯¹è±¡æ¥è‡ªäºç¬¬ä¸‰æ–¹ï¼ˆä¸æ˜¯è‡ªå®šä¹‰çš„ï¼‰ï¼Œæ˜¯æ— æ³•ç”¨@Component åŠè¡ç”Ÿæ³¨è§£å£°æ˜beançš„ï¼Œå°±éœ€è¦ç”¨åˆ°**@Bean**æ³¨è§£ã€‚ è§£å†³æ–¹æ¡ˆ1ï¼šåœ¨å¯åŠ¨ç±»ä¸Šæ·»åŠ @Beanæ ‡è¯†çš„æ–¹æ³•\n1 2 3 4 5 6 7 8 9 10 11 12 13 @SpringBootApplication public class SpringbootWebConfig2Application { public static void main(String[] args) { SpringApplication.run(SpringbootWebConfig2Application.class, args); } //å£°æ˜ç¬¬ä¸‰æ–¹bean @Bean //å°†å½“å‰æ–¹æ³•çš„è¿”å›å€¼å¯¹è±¡äº¤ç»™IOCå®¹å™¨ç®¡ç†, æˆä¸ºIOCå®¹å™¨bean public SAXReader saxReader(){ return new SAXReader(); } } xmlæ–‡ä»¶ï¼š\n1 2 3 4 5 \u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34;?\u0026gt; \u0026lt;emp\u0026gt; \u0026lt;name\u0026gt;Tom\u0026lt;/name\u0026gt; \u0026lt;age\u0026gt;18\u0026lt;/age\u0026gt; \u0026lt;/emp\u0026gt; æµ‹è¯•ç±»ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 @SpringBootTest class SpringbootWebConfig2ApplicationTests { @Autowired private SAXReader saxReader; //ç¬¬ä¸‰æ–¹beançš„ç®¡ç† @Test public void testThirdBean() throws Exception { Document document = saxReader.read(this.getClass().getClassLoader().getResource(\u0026#34;1.xml\u0026#34;)); Element rootElement = document.getRootElement(); String name = rootElement.element(\u0026#34;name\u0026#34;).getText(); String age = rootElement.element(\u0026#34;age\u0026#34;).getText(); System.out.println(name + \u0026#34; : \u0026#34; + age); } //çœç•¥å…¶ä»–ä»£ç ... } é‡å¯SpringBootæœåŠ¡ï¼Œæ‰§è¡Œæµ‹è¯•æ–¹æ³•åï¼Œæ§åˆ¶å°è¾“å‡ºæ—¥å¿—ï¼š\n1 Tom : 18 è¯´æ˜ï¼šä»¥ä¸Šåœ¨å¯åŠ¨ç±»ä¸­å£°æ˜ç¬¬ä¸‰æ–¹Beançš„ä½œæ³•ï¼Œä¸å»ºè®®ä½¿ç”¨ï¼ˆé¡¹ç›®ä¸­è¦ä¿è¯å¯åŠ¨ç±»çš„çº¯ç²¹æ€§ï¼‰\nè§£å†³æ–¹æ¡ˆ2ï¼šåœ¨é…ç½®ç±»ä¸­å®šä¹‰@Beanæ ‡è¯†çš„æ–¹æ³•\nå¦‚æœéœ€è¦å®šä¹‰ç¬¬ä¸‰æ–¹Beanæ—¶ï¼Œ é€šå¸¸ä¼šå•ç‹¬å®šä¹‰ä¸€ä¸ªé…ç½®ç±» 1 2 3 4 5 6 7 8 9 10 11 12 @Configuration //é…ç½®ç±» (åœ¨é…ç½®ç±»å½“ä¸­å¯¹ç¬¬ä¸‰æ–¹beanè¿›è¡Œé›†ä¸­çš„é…ç½®ç®¡ç†) public class CommonConfig { //å£°æ˜ç¬¬ä¸‰æ–¹bean @Bean //å°†å½“å‰æ–¹æ³•çš„è¿”å›å€¼å¯¹è±¡äº¤ç»™IOCå®¹å™¨ç®¡ç†, æˆä¸ºIOCå®¹å™¨bean //é€šè¿‡@Beanæ³¨è§£çš„name/valueå±æ€§æŒ‡å®šbeanåç§°, å¦‚æœæœªæŒ‡å®š, é»˜è®¤æ˜¯æ–¹æ³•å public SAXReader reader(DeptService deptService){ System.out.println(deptService); return new SAXReader(); } } æ³¨é‡Šæ‰SpringBootå¯åŠ¨ç±»ä¸­åˆ›å»ºç¬¬ä¸‰æ–¹beanå¯¹è±¡çš„ä»£ç ï¼Œé‡å¯æœåŠ¡ï¼Œæ‰§è¡Œæµ‹è¯•æ–¹æ³•ï¼ŒæŸ¥çœ‹æ§åˆ¶å°æ—¥å¿—ï¼š\n1 Tom : 18 åœ¨æ–¹æ³•ä¸ŠåŠ ä¸Šä¸€ä¸ª@Beanæ³¨è§£ï¼ŒSpring å®¹å™¨åœ¨å¯åŠ¨çš„æ—¶å€™ï¼Œå®ƒä¼šè‡ªåŠ¨çš„è°ƒç”¨è¿™ä¸ªæ–¹æ³•ï¼Œå¹¶å°†æ–¹æ³•çš„è¿”å›å€¼å£°æ˜ä¸ºSpringå®¹å™¨å½“ä¸­çš„Beanå¯¹è±¡ã€‚\næ³¨æ„äº‹é¡¹ ï¼š\né€šè¿‡@Beanæ³¨è§£çš„nameæˆ–valueå±æ€§å¯ä»¥å£°æ˜beançš„åç§°ï¼Œå¦‚æœä¸æŒ‡å®šï¼Œé»˜è®¤beançš„åç§°å°±æ˜¯æ–¹æ³•åã€‚\nå¦‚æœç¬¬ä¸‰æ–¹beanéœ€è¦ä¾èµ–å…¶å®ƒbeanå¯¹è±¡ï¼Œç›´æ¥åœ¨beanå®šä¹‰æ–¹æ³•ä¸­è®¾ç½®å½¢å‚å³å¯ï¼Œå®¹å™¨ä¼šæ ¹æ®ç±»å‹è‡ªåŠ¨è£…é…ã€‚\nå…³äºBeanå¤§å®¶åªéœ€è¦ä¿æŒä¸€ä¸ªåŸåˆ™ï¼š\nå¦‚æœæ˜¯åœ¨é¡¹ç›®å½“ä¸­æˆ‘ä»¬è‡ªå·±å®šä¹‰çš„ç±»ï¼Œæƒ³å°†è¿™äº›ç±»äº¤ç»™IOCå®¹å™¨ç®¡ç†ï¼Œæˆ‘ä»¬ç›´æ¥ä½¿ç”¨@Componentä»¥åŠå®ƒçš„è¡ç”Ÿæ³¨è§£æ¥å£°æ˜å°±å¯ä»¥ã€‚ å¦‚æœè¿™ä¸ªç±»å®ƒä¸æ˜¯æˆ‘ä»¬è‡ªå·±å®šä¹‰çš„ï¼Œè€Œæ˜¯å¼•å…¥çš„ç¬¬ä¸‰æ–¹ä¾èµ–å½“ä¸­æä¾›çš„ç±»ï¼Œè€Œä¸”æˆ‘ä»¬è¿˜æƒ³å°†è¿™ä¸ªç±»äº¤ç»™IOCå®¹å™¨ç®¡ç†ã€‚æ­¤æ—¶æˆ‘ä»¬å°±éœ€è¦åœ¨é…ç½®ç±»ä¸­å®šä¹‰ä¸€ä¸ªæ–¹æ³•ï¼Œåœ¨æ–¹æ³•ä¸ŠåŠ ä¸Šä¸€ä¸ª@Beanæ³¨è§£ï¼Œé€šè¿‡è¿™ç§æ–¹å¼æ¥å£°æ˜ç¬¬ä¸‰æ–¹çš„beanå¯¹è±¡ã€‚ 3. SpringBootåŸç† ç»è¿‡å‰é¢10å¤šå¤©è¯¾ç¨‹çš„å­¦ä¹ ï¼Œå¤§å®¶ä¹Ÿä¼šå‘ç°åŸºäºSpringBootè¿›è¡Œwebç¨‹åºçš„å¼€å‘æ˜¯éå¸¸ç®€å•ã€éå¸¸é«˜æ•ˆçš„ã€‚\nSpringBootä½¿æˆ‘ä»¬èƒ½å¤Ÿé›†ä¸­ç²¾åŠ›åœ°å»å…³æ³¨ä¸šåŠ¡åŠŸèƒ½çš„å¼€å‘ï¼Œè€Œä¸ç”¨è¿‡å¤šåœ°å…³æ³¨æ¡†æ¶æœ¬èº«çš„é…ç½®ä½¿ç”¨ã€‚è€Œæˆ‘ä»¬å‰é¢æ‰€è®²è§£çš„éƒ½æ˜¯é¢å‘åº”ç”¨å±‚é¢çš„æŠ€æœ¯ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å¼€å§‹å­¦ä¹ SpringBootçš„åŸç†ï¼Œè¿™éƒ¨åˆ†å†…å®¹åå‘äºåº•å±‚çš„åŸç†åˆ†æã€‚\nåœ¨å‰–æSpringBootçš„åŸç†ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥å¿«é€Ÿå›é¡¾ä¸€ä¸‹æˆ‘ä»¬å‰é¢æ‰€è®²è§£çš„Springå®¶æ—çš„æ¡†æ¶ã€‚\nSpringæ˜¯ç›®å‰ä¸–ç•Œä¸Šæœ€æµè¡Œçš„Javaæ¡†æ¶ï¼Œå®ƒå¯ä»¥å¸®åŠ©æˆ‘ä»¬æ›´åŠ å¿«é€Ÿã€æ›´åŠ å®¹æ˜“çš„æ¥æ„å»ºJavaé¡¹ç›®ã€‚è€Œåœ¨Springå®¶æ—å½“ä¸­æä¾›äº†å¾ˆå¤šä¼˜ç§€çš„æ¡†æ¶ï¼Œè€Œæ‰€æœ‰çš„æ¡†æ¶éƒ½æ˜¯åŸºäºä¸€ä¸ªåŸºç¡€æ¡†æ¶çš„SpringFramework(ä¹Ÿå°±æ˜¯Springæ¡†æ¶)ã€‚è€Œå‰é¢æˆ‘ä»¬ä¹Ÿæåˆ°ï¼Œå¦‚æœæˆ‘ä»¬ç›´æ¥åŸºäºSpringæ¡†æ¶è¿›è¡Œé¡¹ç›®çš„å¼€å‘ï¼Œä¼šæ¯”è¾ƒç¹çã€‚\nè¿™ä¸ªç¹çä¸»è¦ä½“ç°åœ¨ä¸¤ä¸ªåœ°æ–¹ï¼š\nåœ¨pom.xmlä¸­ä¾èµ–é…ç½®æ¯”è¾ƒç¹çï¼Œåœ¨é¡¹ç›®å¼€å‘æ—¶ï¼Œéœ€è¦è‡ªå·±å»æ‰¾åˆ°å¯¹åº”çš„ä¾èµ–ï¼Œè¿˜éœ€è¦æ‰¾åˆ°ä¾èµ–å®ƒæ‰€é…å¥—çš„ä¾èµ–ä»¥åŠå¯¹åº”ç‰ˆæœ¬ï¼Œå¦åˆ™å°±ä¼šå‡ºç°ç‰ˆæœ¬å†²çªé—®é¢˜ã€‚ åœ¨ä½¿ç”¨Springæ¡†æ¶è¿›è¡Œé¡¹ç›®å¼€å‘æ—¶ï¼Œéœ€è¦åœ¨Springçš„é…ç½®æ–‡ä»¶ä¸­åšå¤§é‡çš„é…ç½®ï¼Œè¿™å°±é€ æˆSpringæ¡†æ¶å…¥é—¨éš¾åº¦è¾ƒå¤§ï¼Œå­¦ä¹ æˆæœ¬è¾ƒé«˜ã€‚ åŸºäºSpringå­˜åœ¨çš„é—®é¢˜ï¼Œå®˜æ–¹åœ¨Springæ¡†æ¶4.0ç‰ˆæœ¬ä¹‹åï¼Œåˆæ¨å‡ºäº†ä¸€ä¸ªå…¨æ–°çš„æ¡†æ¶ï¼šSpringBootã€‚\né€šè¿‡ SpringBootæ¥ç®€åŒ–Springæ¡†æ¶çš„å¼€å‘(æ˜¯ç®€åŒ–ä¸æ˜¯æ›¿ä»£)ã€‚æˆ‘ä»¬ç›´æ¥åŸºäºSpringBootæ¥æ„å»ºJavaé¡¹ç›®ï¼Œä¼šè®©æˆ‘ä»¬çš„é¡¹ç›®å¼€å‘æ›´åŠ ç®€å•ï¼Œæ›´åŠ å¿«æ·ã€‚\nSpringBootæ¡†æ¶ä¹‹æ‰€ä»¥ä½¿ç”¨èµ·æ¥æ›´ç®€å•æ›´å¿«æ·ï¼Œæ˜¯å› ä¸ºSpringBootæ¡†æ¶åº•å±‚æä¾›äº†ä¸¤ä¸ªéå¸¸é‡è¦çš„åŠŸèƒ½ï¼šä¸€ä¸ªæ˜¯èµ·æ­¥ä¾èµ–ï¼Œä¸€ä¸ªæ˜¯è‡ªåŠ¨é…ç½®ã€‚\né€šè¿‡SpringBootæ‰€æä¾›çš„èµ·æ­¥ä¾èµ–ï¼Œå°±å¯ä»¥å¤§å¤§çš„ç®€åŒ–pomæ–‡ä»¶å½“ä¸­ä¾èµ–çš„é…ç½®ï¼Œä»è€Œè§£å†³äº†Springæ¡†æ¶å½“ä¸­ä¾èµ–é…ç½®ç¹ççš„é—®é¢˜ã€‚\né€šè¿‡è‡ªåŠ¨é…ç½®çš„åŠŸèƒ½å°±å¯ä»¥å¤§å¤§çš„ç®€åŒ–æ¡†æ¶åœ¨ä½¿ç”¨æ—¶beançš„å£°æ˜ä»¥åŠbeançš„é…ç½®ã€‚æˆ‘ä»¬åªéœ€è¦å¼•å…¥ç¨‹åºå¼€å‘æ—¶æ‰€éœ€è¦çš„èµ·æ­¥ä¾èµ–ï¼Œé¡¹ç›®å¼€å‘æ—¶æ‰€ç”¨åˆ°å¸¸è§çš„é…ç½®éƒ½å·²ç»æœ‰äº†ï¼Œæˆ‘ä»¬ç›´æ¥ä½¿ç”¨å°±å¯ä»¥äº†ã€‚\nç®€å•å›é¡¾ä¹‹åï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬æ¥å­¦ä¹ ä¸‹SpringBootçš„åŸç†ã€‚å…¶å®å­¦ä¹ SpringBootçš„åŸç†å°±æ˜¯æ¥è§£æSpringBootå½“ä¸­çš„èµ·æ­¥ä¾èµ–ä¸è‡ªåŠ¨é…ç½®çš„åŸç†ã€‚æˆ‘ä»¬é¦–å…ˆæ¥å­¦ä¹ SpringBootå½“ä¸­èµ·æ­¥ä¾èµ–çš„åŸç†ã€‚\n3.1 èµ·æ­¥ä¾èµ– å‡å¦‚æˆ‘ä»¬æ²¡æœ‰ä½¿ç”¨SpringBootï¼Œç”¨çš„æ˜¯Springæ¡†æ¶è¿›è¡Œwebç¨‹åºçš„å¼€å‘ï¼Œæ­¤æ—¶æˆ‘ä»¬å°±éœ€è¦å¼•å…¥webç¨‹åºå¼€å‘æ‰€éœ€è¦çš„ä¸€äº›ä¾èµ–ã€‚\nspring-webmvcä¾èµ–ï¼šè¿™æ˜¯Springæ¡†æ¶è¿›è¡Œwebç¨‹åºå¼€å‘æ‰€éœ€è¦çš„ä¾èµ–\nservlet-apiä¾èµ–ï¼šServletåŸºç¡€ä¾èµ–\njackson-databindä¾èµ–ï¼šJSONå¤„ç†å·¥å…·åŒ…\nå¦‚æœè¦ä½¿ç”¨AOPï¼Œè¿˜éœ€è¦å¼•å…¥aopä¾èµ–ã€aspectä¾èµ–\né¡¹ç›®ä¸­æ‰€å¼•å…¥çš„è¿™äº›ä¾èµ–ï¼Œè¿˜éœ€è¦ä¿è¯ç‰ˆæœ¬åŒ¹é…ï¼Œå¦åˆ™å°±å¯èƒ½ä¼šå‡ºç°ç‰ˆæœ¬å†²çªé—®é¢˜ã€‚\nå¦‚æœæˆ‘ä»¬ä½¿ç”¨äº†SpringBootï¼Œå°±ä¸éœ€è¦åƒä¸Šé¢è¿™ä¹ˆç¹ççš„å¼•å…¥ä¾èµ–äº†ã€‚æˆ‘ä»¬åªéœ€è¦å¼•å…¥ä¸€ä¸ªä¾èµ–å°±å¯ä»¥äº†ï¼Œé‚£å°±æ˜¯webå¼€å‘çš„èµ·æ­¥ä¾èµ–ï¼šspringboot-starter-webã€‚\nä¸ºä»€ä¹ˆæˆ‘ä»¬åªéœ€è¦å¼•å…¥ä¸€ä¸ªwebå¼€å‘çš„èµ·æ­¥ä¾èµ–ï¼Œwebå¼€å‘æ‰€éœ€è¦çš„æ‰€æœ‰çš„ä¾èµ–éƒ½æœ‰äº†å‘¢ï¼Ÿ\nå› ä¸ºMavençš„ä¾èµ–ä¼ é€’ã€‚ åœ¨SpringBootç»™æˆ‘ä»¬æä¾›çš„è¿™äº›èµ·æ­¥ä¾èµ–å½“ä¸­ï¼Œå·²æä¾›äº†å½“å‰ç¨‹åºå¼€å‘æ‰€éœ€è¦çš„æ‰€æœ‰çš„å¸¸è§ä¾èµ–(å®˜ç½‘åœ°å€ï¼šhttps://docs.spring.io/spring-boot/docs/2.7.7/reference/htmlsingle/#using.build-systems.starters)ã€‚\næ¯”å¦‚ï¼šspringboot-starter-webï¼Œè¿™æ˜¯webå¼€å‘çš„èµ·æ­¥ä¾èµ–ï¼Œåœ¨webå¼€å‘çš„èµ·æ­¥ä¾èµ–å½“ä¸­ï¼Œå°±é›†æˆäº†webå¼€å‘ä¸­å¸¸è§çš„ä¾èµ–ï¼šjsonã€webã€webmvcã€tomcatç­‰ã€‚æˆ‘ä»¬åªéœ€è¦å¼•å…¥è¿™ä¸€ä¸ªèµ·æ­¥ä¾èµ–ï¼Œå…¶ä»–çš„ä¾èµ–éƒ½ä¼šè‡ªåŠ¨çš„é€šè¿‡Mavençš„ä¾èµ–ä¼ é€’è¿›æ¥ã€‚\nç»“è®ºï¼šèµ·æ­¥ä¾èµ–çš„åŸç†å°±æ˜¯Mavençš„ä¾èµ–ä¼ é€’ã€‚\n3.2 è‡ªåŠ¨é…ç½® æˆ‘ä»¬è®²è§£äº†SpringBootå½“ä¸­èµ·æ­¥ä¾èµ–çš„åŸç†ï¼Œå°±æ˜¯Mavençš„ä¾èµ–ä¼ é€’ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬è§£æä¸‹è‡ªåŠ¨é…ç½®çš„åŸç†ï¼Œæˆ‘ä»¬è¦åˆ†æè‡ªåŠ¨é…ç½®çš„åŸç†ï¼Œé¦–å…ˆè¦çŸ¥é“ä»€ä¹ˆæ˜¯è‡ªåŠ¨é…ç½®ã€‚\n3.2.1 æ¦‚è¿° SpringBootçš„è‡ªåŠ¨é…ç½®å°±æ˜¯å½“Springå®¹å™¨å¯åŠ¨åï¼Œä¸€äº›é…ç½®ç±»ã€beanå¯¹è±¡å°±è‡ªåŠ¨å­˜å…¥åˆ°äº†IOCå®¹å™¨ä¸­ï¼Œä¸éœ€è¦æˆ‘ä»¬æ‰‹åŠ¨å»å£°æ˜ï¼Œä»è€Œç®€åŒ–äº†å¼€å‘ï¼Œçœå»äº†ç¹ççš„é…ç½®æ“ä½œã€‚\næ¯”å¦‚ï¼šæˆ‘ä»¬è¦è¿›è¡Œäº‹åŠ¡ç®¡ç†ã€è¦è¿›è¡ŒAOPç¨‹åºçš„å¼€å‘ï¼Œæ­¤æ—¶å°±ä¸éœ€è¦æˆ‘ä»¬å†å»æ‰‹åŠ¨çš„å£°æ˜è¿™äº›beanå¯¹è±¡äº†ï¼Œæˆ‘ä»¬ç›´æ¥ä½¿ç”¨å°±å¯ä»¥ä»è€Œå¤§å¤§çš„ç®€åŒ–ç¨‹åºçš„å¼€å‘ï¼Œçœå»äº†ç¹ççš„é…ç½®æ“ä½œã€‚\nä¸‹é¢æˆ‘ä»¬æ‰“å¼€ideaï¼Œä¸€èµ·æ¥çœ‹ä¸‹è‡ªåŠ¨é…ç½®çš„æ•ˆæœï¼š\nè¿è¡ŒSpringBootå¯åŠ¨ç±» å¤§å®¶ä¼šçœ‹åˆ°æœ‰ä¸¤ä¸ªCommonConfigï¼Œåœ¨ç¬¬ä¸€ä¸ªCommonConfigç±»ä¸­å®šä¹‰äº†ä¸€ä¸ªbeanå¯¹è±¡ï¼Œbeanå¯¹è±¡çš„åå­—å«readerã€‚\nåœ¨ç¬¬äºŒä¸ªCommonConfigä¸­å®ƒçš„beanåå­—å«commonConfigï¼Œä¸ºä»€ä¹ˆè¿˜ä¼šæœ‰è¿™æ ·ä¸€ä¸ªbeanå¯¹è±¡å‘¢ï¼ŸåŸå› æ˜¯åœ¨CommonConfigé…ç½®ç±»ä¸Šæ·»åŠ äº†ä¸€ä¸ªæ³¨è§£@Configurationï¼Œè€Œ@Configurationåº•å±‚å°±æ˜¯@Component\næ‰€ä»¥é…ç½®ç±»æœ€ç»ˆä¹Ÿæ˜¯SpringIOCå®¹å™¨å½“ä¸­çš„ä¸€ä¸ªbeanå¯¹è±¡\nåœ¨IOCå®¹å™¨ä¸­é™¤äº†æˆ‘ä»¬è‡ªå·±å®šä¹‰çš„beanä»¥å¤–ï¼Œè¿˜æœ‰å¾ˆå¤šé…ç½®ç±»ï¼Œè¿™äº›é…ç½®ç±»éƒ½æ˜¯SpringBootåœ¨å¯åŠ¨çš„æ—¶å€™åŠ è½½è¿›æ¥çš„é…ç½®ç±»ã€‚è¿™äº›é…ç½®ç±»åŠ è½½è¿›æ¥ä¹‹åï¼Œå®ƒä¹Ÿä¼šç”Ÿæˆå¾ˆå¤šçš„beanå¯¹è±¡ã€‚\næ¯”å¦‚ï¼šé…ç½®ç±»GsonAutoConfigurationé‡Œé¢æœ‰ä¸€ä¸ªbeanï¼Œbeançš„åå­—å«gsonï¼Œå®ƒçš„ç±»å‹æ˜¯Gsonã€‚\ncom.google.gson.Gsonæ˜¯è°·æ­ŒåŒ…ä¸­æä¾›çš„ç”¨æ¥å¤„ç†JSONæ ¼å¼æ•°æ®çš„ã€‚\nå½“æˆ‘ä»¬æƒ³è¦ä½¿ç”¨è¿™äº›é…ç½®ç±»ä¸­ç”Ÿæˆçš„beanå¯¹è±¡æ—¶ï¼Œå¯ä»¥ä½¿ç”¨@Autowiredå°±è‡ªåŠ¨æ³¨å…¥äº†ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 import com.google.gson.Gson; import com.itheima.pojo.Result; import org.junit.jupiter.api.Test; import org.springframework.beans.factory.annotation.Autowired; import org.springframework.boot.test.context.SpringBootTest; @SpringBootTest public class AutoConfigurationTests { @Autowired private Gson gson; @Test public void testJson(){ String json = gson.toJson(Result.success()); System.out.println(json); } } æ·»åŠ æ–­ç‚¹ï¼Œä½¿ç”¨debugæ¨¡å¼è¿è¡Œæµ‹è¯•ç±»ç¨‹åºï¼š\né—®é¢˜ï¼šåœ¨å½“å‰é¡¹ç›®ä¸­æˆ‘ä»¬å¹¶æ²¡æœ‰å£°æ˜è°·æ­Œæä¾›çš„Gsonè¿™ä¹ˆä¸€ä¸ªbeanå¯¹è±¡ï¼Œç„¶åæˆ‘ä»¬å´å¯ä»¥é€šè¿‡@Autowiredä»Springå®¹å™¨ä¸­æ³¨å…¥beanå¯¹è±¡ï¼Œé‚£ä¹ˆè¿™ä¸ªbeanå¯¹è±¡æ€ä¹ˆæ¥çš„ï¼Ÿ\nç­”æ¡ˆï¼šSpringBooté¡¹ç›®åœ¨å¯åŠ¨æ—¶é€šè¿‡è‡ªåŠ¨é…ç½®å®Œæˆäº†beanå¯¹è±¡çš„åˆ›å»ºã€‚\nä½“éªŒäº†SpringBootçš„è‡ªåŠ¨é…ç½®äº†ï¼Œä¸‹é¢æˆ‘ä»¬å°±æ¥åˆ†æè‡ªåŠ¨é…ç½®çš„åŸç†ã€‚å…¶å®åˆ†æè‡ªåŠ¨é…ç½®åŸç†å°±æ˜¯æ¥è§£æåœ¨SpringBooté¡¹ç›®ä¸­ï¼Œåœ¨å¼•å…¥ä¾èµ–ä¹‹åæ˜¯å¦‚ä½•å°†ä¾èµ–jaråŒ…å½“ä¸­æ‰€å®šä¹‰çš„é…ç½®ç±»ä»¥åŠbeanåŠ è½½åˆ°SpringIOCå®¹å™¨ä¸­çš„ã€‚\n3.2.2 å¸¸è§æ–¹æ¡ˆ 3.2.2.1 æ¦‚è¿° æˆ‘ä»¬çŸ¥é“äº†ä»€ä¹ˆæ˜¯è‡ªåŠ¨é…ç½®ä¹‹åï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°±è¦æ¥å‰–æè‡ªåŠ¨é…ç½®çš„åŸç†ã€‚è§£æè‡ªåŠ¨é…ç½®çš„åŸç†å°±æ˜¯åˆ†æåœ¨ SpringBooté¡¹ç›®å½“ä¸­ï¼Œæˆ‘ä»¬å¼•å…¥å¯¹åº”çš„ä¾èµ–ä¹‹åï¼Œæ˜¯å¦‚ä½•å°†ä¾èµ–jaråŒ…å½“ä¸­æ‰€æä¾›çš„beanä»¥åŠé…ç½®ç±»ç›´æ¥åŠ è½½åˆ°å½“å‰é¡¹ç›®çš„SpringIOCå®¹å™¨å½“ä¸­çš„ã€‚\næ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±ç›´æ¥é€šè¿‡ä»£ç æ¥åˆ†æè‡ªåŠ¨é…ç½®åŸç†ã€‚\nå‡†å¤‡å·¥ä½œï¼šåœ¨Ideaä¸­å¯¼å…¥\u0026quot;èµ„æ–™\\03. è‡ªåŠ¨é…ç½®åŸç†\u0026quot;ä¸‹çš„itheima-utilså·¥ç¨‹\n1ã€åœ¨SpringBooté¡¹ç›® spring-boot-web-config2 å·¥ç¨‹ä¸­ï¼Œé€šè¿‡åæ ‡å¼•å…¥itheima-utilsä¾èµ–\n1 2 3 4 5 6 @Component public class TokenParser { public void parse(){ System.out.println(\u0026#34;TokenParser ... parse ...\u0026#34;); } } 2ã€åœ¨æµ‹è¯•ç±»ä¸­ï¼Œæ·»åŠ æµ‹è¯•æ–¹æ³•\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 @SpringBootTest public class AutoConfigurationTests { @Autowired private ApplicationContext applicationContext; @Test public void testTokenParse(){ System.out.println(applicationContext.getBean(TokenParser.class)); } //çœç•¥å…¶ä»–ä»£ç ... } 3ã€æ‰§è¡Œæµ‹è¯•æ–¹æ³•\nå¼‚å¸¸ä¿¡æ¯æè¿°ï¼š æ²¡æœ‰com.example.TokenParseç±»å‹çš„bean\nè¯´æ˜ï¼šåœ¨Springå®¹å™¨ä¸­æ²¡æœ‰æ‰¾åˆ°com.example.TokenParseç±»å‹çš„beanå¯¹è±¡\næ€è€ƒï¼šå¼•å…¥è¿›æ¥çš„ç¬¬ä¸‰æ–¹ä¾èµ–å½“ä¸­çš„beanä»¥åŠé…ç½®ç±»ä¸ºä»€ä¹ˆæ²¡æœ‰ç”Ÿæ•ˆï¼Ÿ\nåŸå› åœ¨æˆ‘ä»¬ä¹‹å‰è®²è§£IOCçš„æ—¶å€™æœ‰æåˆ°è¿‡ï¼Œåœ¨ç±»ä¸Šæ·»åŠ @Componentæ³¨è§£æ¥å£°æ˜beanå¯¹è±¡æ—¶ï¼Œè¿˜éœ€è¦ä¿è¯@Componentæ³¨è§£èƒ½è¢«Springçš„ç»„ä»¶æ‰«æåˆ°ã€‚ SpringBooté¡¹ç›®ä¸­çš„@SpringBootApplicationæ³¨è§£ï¼Œå…·æœ‰åŒ…æ‰«æçš„ä½œç”¨ï¼Œä½†æ˜¯å®ƒåªä¼šæ‰«æå¯åŠ¨ç±»æ‰€åœ¨çš„å½“å‰åŒ…ä»¥åŠå­åŒ…ã€‚ å½“å‰åŒ…ï¼šcom.itheimaï¼Œ ç¬¬ä¸‰æ–¹ä¾èµ–ä¸­æä¾›çš„åŒ…ï¼šcom.exampleï¼ˆæ‰«æä¸åˆ°ï¼‰ é‚£ä¹ˆå¦‚ä½•è§£å†³ä»¥ä¸Šé—®é¢˜çš„å‘¢ï¼Ÿ\næ–¹æ¡ˆ1ï¼š@ComponentScan ç»„ä»¶æ‰«æ æ–¹æ¡ˆ2ï¼š@Import å¯¼å…¥ï¼ˆä½¿ç”¨@Importå¯¼å…¥çš„ç±»ä¼šè¢«SpringåŠ è½½åˆ°IOCå®¹å™¨ä¸­ï¼‰ 3.2.2.2 æ–¹æ¡ˆä¸€ @ComponentScanç»„ä»¶æ‰«æ\n1 2 3 4 5 6 7 @SpringBootApplication @ComponentScan({\u0026#34;com.itheima\u0026#34;,\u0026#34;com.example\u0026#34;}) //æŒ‡å®šè¦æ‰«æçš„åŒ… public class SpringbootWebConfig2Application { public static void main(String[] args) { SpringApplication.run(SpringbootWebConfig2Application.class, args); } } é‡æ–°æ‰§è¡Œæµ‹è¯•æ–¹æ³•ï¼Œæ§åˆ¶å°æ—¥å¿—è¾“å‡ºï¼š\nå¤§å®¶å¯ä»¥æƒ³è±¡ä¸€ä¸‹ï¼Œå¦‚æœé‡‡ç”¨ä»¥ä¸Šè¿™ç§æ–¹å¼æ¥å®Œæˆè‡ªåŠ¨é…ç½®ï¼Œé‚£æˆ‘ä»¬è¿›è¡Œé¡¹ç›®å¼€å‘æ—¶ï¼Œå½“éœ€è¦å¼•å…¥å¤§é‡çš„ç¬¬ä¸‰æ–¹çš„ä¾èµ–ï¼Œå°±éœ€è¦åœ¨å¯åŠ¨ç±»ä¸Šé…ç½®Nå¤šè¦æ‰«æçš„åŒ…ï¼Œè¿™ç§æ–¹å¼ä¼šå¾ˆç¹çã€‚è€Œä¸”è¿™ç§å¤§é¢ç§¯çš„æ‰«ææ€§èƒ½ä¹Ÿæ¯”è¾ƒä½ã€‚\nç¼ºç‚¹ï¼š\nä½¿ç”¨ç¹ç æ€§èƒ½ä½ ç»“è®ºï¼šSpringBootä¸­å¹¶æ²¡æœ‰é‡‡ç”¨ä»¥ä¸Šè¿™ç§æ–¹æ¡ˆã€‚\n3.2.2.3 æ–¹æ¡ˆäºŒ @Importå¯¼å…¥\nå¯¼å…¥å½¢å¼ä¸»è¦æœ‰ä»¥ä¸‹å‡ ç§ï¼š å¯¼å…¥æ™®é€šç±» å¯¼å…¥é…ç½®ç±» å¯¼å…¥ImportSelectoræ¥å£å®ç°ç±» 1). ä½¿ç”¨@Importå¯¼å…¥æ™®é€šç±»ï¼š\n1 2 3 4 5 6 7 @Import(TokenParser.class) //å¯¼å…¥çš„ç±»ä¼šè¢«SpringåŠ è½½åˆ°IOCå®¹å™¨ä¸­ @SpringBootApplication public class SpringbootWebConfig2Application { public static void main(String[] args) { SpringApplication.run(SpringbootWebConfig2Application.class, args); } } é‡æ–°æ‰§è¡Œæµ‹è¯•æ–¹æ³•ï¼Œæ§åˆ¶å°æ—¥å¿—è¾“å‡ºï¼š\n2). ä½¿ç”¨@Importå¯¼å…¥é…ç½®ç±»ï¼š\né…ç½®ç±» 1 2 3 4 5 6 7 8 9 10 11 12 @Configuration public class HeaderConfig { @Bean public HeaderParser headerParser(){ return new HeaderParser(); } @Bean public HeaderGenerator headerGenerator(){ return new HeaderGenerator(); } } å¯åŠ¨ç±» 1 2 3 4 5 6 7 @Import(HeaderConfig.class) //å¯¼å…¥é…ç½®ç±» @SpringBootApplication public class SpringbootWebConfig2Application { public static void main(String[] args) { SpringApplication.run(SpringbootWebConfig2Application.class, args); } } æµ‹è¯•ç±» 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 @SpringBootTest public class AutoConfigurationTests { @Autowired private ApplicationContext applicationContext; @Test public void testHeaderParser(){ System.out.println(applicationContext.getBean(HeaderParser.class)); } @Test public void testHeaderGenerator(){ System.out.println(applicationContext.getBean(HeaderGenerator.class)); } //çœç•¥å…¶ä»–ä»£ç ... } æ‰§è¡Œæµ‹è¯•æ–¹æ³•ï¼š\n3). ä½¿ç”¨@Importå¯¼å…¥ImportSelectoræ¥å£å®ç°ç±»ï¼š\nImportSelectoræ¥å£å®ç°ç±» 1 2 3 4 5 6 public class MyImportSelector implements ImportSelector { public String[] selectImports(AnnotationMetadata importingClassMetadata) { //è¿”å›å€¼å­—ç¬¦ä¸²æ•°ç»„ï¼ˆæ•°ç»„ä¸­å°è£…äº†å…¨é™å®šåç§°çš„ç±»ï¼‰ return new String[]{\u0026#34;com.example.HeaderConfig\u0026#34;}; } } å¯åŠ¨ç±» 1 2 3 4 5 6 7 8 @Import(MyImportSelector.class) //å¯¼å…¥ImportSelectoræ¥å£å®ç°ç±» @SpringBootApplication public class SpringbootWebConfig2Application { public static void main(String[] args) { SpringApplication.run(SpringbootWebConfig2Application.class, args); } } æ‰§è¡Œæµ‹è¯•æ–¹æ³•ï¼š\næˆ‘ä»¬ä½¿ç”¨@Importæ³¨è§£é€šè¿‡è¿™ä¸‰ç§æ–¹å¼éƒ½å¯ä»¥å¯¼å…¥ç¬¬ä¸‰æ–¹ä¾èµ–ä¸­æ‰€æä¾›çš„beanæˆ–è€…æ˜¯é…ç½®ç±»ã€‚\næ€è€ƒï¼šå¦‚æœåŸºäºä»¥ä¸Šæ–¹å¼å®Œæˆè‡ªåŠ¨é…ç½®ï¼Œå½“è¦å¼•å…¥ä¸€ä¸ªç¬¬ä¸‰æ–¹ä¾èµ–æ—¶ï¼Œæ˜¯ä¸æ˜¯è¿˜è¦çŸ¥é“ç¬¬ä¸‰æ–¹ä¾èµ–ä¸­æœ‰å“ªäº›é…ç½®ç±»å’Œå“ªäº›Beanå¯¹è±¡ï¼Ÿ\nç­”æ¡ˆï¼šæ˜¯çš„ã€‚ ï¼ˆå¯¹ç¨‹åºå‘˜æ¥è®²ï¼Œå¾ˆä¸å‹å¥½ï¼Œè€Œä¸”æ¯”è¾ƒç¹çï¼‰ æ€è€ƒï¼šå½“æˆ‘ä»¬è¦ä½¿ç”¨ç¬¬ä¸‰æ–¹ä¾èµ–ï¼Œä¾èµ–ä¸­åˆ°åº•æœ‰å“ªäº›beanå’Œé…ç½®ç±»ï¼Œè°æœ€æ¸…æ¥šï¼Ÿ\nç­”æ¡ˆï¼šç¬¬ä¸‰æ–¹ä¾èµ–è‡ªèº«æœ€æ¸…æ¥šã€‚ ç»“è®ºï¼šæˆ‘ä»¬ä¸ç”¨è‡ªå·±æŒ‡å®šè¦å¯¼å…¥å“ªäº›beanå¯¹è±¡å’Œé…ç½®ç±»äº†ï¼Œè®©ç¬¬ä¸‰æ–¹ä¾èµ–å®ƒè‡ªå·±æ¥æŒ‡å®šã€‚\næ€ä¹ˆè®©ç¬¬ä¸‰æ–¹ä¾èµ–è‡ªå·±æŒ‡å®šbeanå¯¹è±¡å’Œé…ç½®ç±»ï¼Ÿ\næ¯”è¾ƒå¸¸è§çš„æ–¹æ¡ˆå°±æ˜¯ç¬¬ä¸‰æ–¹ä¾èµ–ç»™æˆ‘ä»¬æä¾›ä¸€ä¸ªæ³¨è§£ï¼Œè¿™ä¸ªæ³¨è§£ä¸€èˆ¬éƒ½ä»¥@EnableXxxxå¼€å¤´çš„æ³¨è§£ï¼Œæ³¨è§£ä¸­å°è£…çš„å°±æ˜¯@Importæ³¨è§£ 4). ä½¿ç”¨ç¬¬ä¸‰æ–¹ä¾èµ–æä¾›çš„ @EnableXxxxxæ³¨è§£\nç¬¬ä¸‰æ–¹ä¾èµ–ä¸­æä¾›çš„æ³¨è§£ 1 2 3 4 5 @Retention(RetentionPolicy.RUNTIME) @Target(ElementType.TYPE) @Import(MyImportSelector.class)//æŒ‡å®šè¦å¯¼å…¥å“ªäº›beanå¯¹è±¡æˆ–é…ç½®ç±» public @interface EnableHeaderConfig { } åœ¨ä½¿ç”¨æ—¶åªéœ€åœ¨å¯åŠ¨ç±»ä¸ŠåŠ ä¸Š@EnableXxxxxæ³¨è§£å³å¯ 1 2 3 4 5 6 7 @EnableHeaderConfig //ä½¿ç”¨ç¬¬ä¸‰æ–¹ä¾èµ–æä¾›çš„Enableå¼€å¤´çš„æ³¨è§£ @SpringBootApplication public class SpringbootWebConfig2Application { public static void main(String[] args) { SpringApplication.run(SpringbootWebConfig2Application.class, args); } } æ‰§è¡Œæµ‹è¯•æ–¹æ³•ï¼š\nä»¥ä¸Šå››ç§æ–¹å¼éƒ½å¯ä»¥å®Œæˆå¯¼å…¥æ“ä½œï¼Œä½†æ˜¯ç¬¬4ç§æ–¹å¼ä¼šæ›´æ–¹ä¾¿æ›´ä¼˜é›…ï¼Œè€Œè¿™ç§æ–¹å¼ä¹Ÿæ˜¯SpringBootå½“ä¸­æ‰€é‡‡ç”¨çš„æ–¹å¼ã€‚\n3.2.3 åŸç†åˆ†æ 3.2.3.1 æºç è·Ÿè¸ª å‰é¢æˆ‘ä»¬è®²è§£äº†åœ¨é¡¹ç›®å½“ä¸­å¼•å…¥ç¬¬ä¸‰æ–¹ä¾èµ–ä¹‹åï¼Œå¦‚ä½•åŠ è½½ç¬¬ä¸‰æ–¹ä¾èµ–ä¸­å®šä¹‰å¥½çš„beanå¯¹è±¡ä»¥åŠé…ç½®ç±»ï¼Œä»è€Œå®Œæˆè‡ªåŠ¨é…ç½®æ“ä½œã€‚é‚£ä¸‹é¢æˆ‘ä»¬é€šè¿‡æºç è·Ÿè¸ªçš„å½¢å¼æ¥å‰–æä¸‹SpringBootåº•å±‚åˆ°åº•æ˜¯å¦‚ä½•å®Œæˆè‡ªåŠ¨é…ç½®çš„ã€‚\næºç è·Ÿè¸ªæŠ€å·§ï¼š\nåœ¨è·Ÿè¸ªæ¡†æ¶æºç çš„æ—¶å€™ï¼Œä¸€å®šè¦æŠ“ä½å…³é”®ç‚¹ï¼Œæ‰¾åˆ°æ ¸å¿ƒæµç¨‹ã€‚ä¸€å®šä¸è¦ä»å¤´åˆ°å°¾ä¸€è¡Œä»£ç å»çœ‹ï¼Œä¸€ä¸ªæ–¹æ³•çš„å»ç ”ç©¶ï¼Œä¸€å®šè¦æ‰¾åˆ°å…³é”®æµç¨‹ï¼ŒæŠ“ä½å…³é”®ç‚¹ï¼Œå…ˆåœ¨å®è§‚ä¸Šå¯¹æ•´ä¸ªæµç¨‹æˆ–è€…æ•´ä¸ªåŸç†æœ‰ä¸€ä¸ªè®¤è¯†ï¼Œæœ‰ç²¾åŠ›å†å»ç ”ç©¶å…¶ä¸­çš„ç»†èŠ‚ã€‚\nè¦ææ¸…æ¥šSpringBootçš„è‡ªåŠ¨é…ç½®åŸç†ï¼Œè¦ä»SpringBootå¯åŠ¨ç±»ä¸Šä½¿ç”¨çš„æ ¸å¿ƒæ³¨è§£@SpringBootApplicationå¼€å§‹åˆ†æï¼š\nåœ¨@SpringBootApplicationæ³¨è§£ä¸­åŒ…å«äº†ï¼š\nå…ƒæ³¨è§£ï¼ˆä¸å†è§£é‡Šï¼‰ @SpringBootConfiguration @EnableAutoConfiguration @ComponentScan æˆ‘ä»¬å…ˆæ¥çœ‹ç¬¬ä¸€ä¸ªæ³¨è§£ï¼š@SpringBootConfiguration\n@SpringBootConfigurationæ³¨è§£ä¸Šä½¿ç”¨äº†@Configurationï¼Œè¡¨æ˜SpringBootå¯åŠ¨ç±»å°±æ˜¯ä¸€ä¸ªé…ç½®ç±»ã€‚\n@Indexedæ³¨è§£ï¼Œæ˜¯ç”¨æ¥åŠ é€Ÿåº”ç”¨å¯åŠ¨çš„ï¼ˆä¸ç”¨å…³å¿ƒï¼‰ã€‚\næ¥ä¸‹æ¥å†å…ˆçœ‹@ComponentScanæ³¨è§£ï¼š\n@ComponentScanæ³¨è§£æ˜¯ç”¨æ¥è¿›è¡Œç»„ä»¶æ‰«æçš„ï¼Œæ‰«æå¯åŠ¨ç±»æ‰€åœ¨çš„åŒ…åŠå…¶å­åŒ…ä¸‹æ‰€æœ‰è¢«@ComponentåŠå…¶è¡ç”Ÿæ³¨è§£å£°æ˜çš„ç±»ã€‚\nSpringBootå¯åŠ¨ç±»ï¼Œä¹‹æ‰€ä»¥å…·å¤‡æ‰«æåŒ…åŠŸèƒ½ï¼Œå°±æ˜¯å› ä¸ºåŒ…å«äº†@ComponentScanæ³¨è§£ã€‚\næœ€åæˆ‘ä»¬æ¥çœ‹çœ‹@EnableAutoConfigurationæ³¨è§£ï¼ˆè‡ªåŠ¨é…ç½®æ ¸å¿ƒæ³¨è§£ï¼‰ï¼š\nä½¿ç”¨@Importæ³¨è§£ï¼Œå¯¼å…¥äº†å®ç°ImportSelectoræ¥å£çš„å®ç°ç±»ã€‚\nAutoConfigurationImportSelectorç±»æ˜¯ImportSelectoræ¥å£çš„å®ç°ç±»ã€‚\nAutoConfigurationImportSelectorç±»ä¸­é‡å†™äº†ImportSelectoræ¥å£çš„selectImports()æ–¹æ³•ï¼š\nselectImports()æ–¹æ³•åº•å±‚è°ƒç”¨getAutoConfigurationEntry()æ–¹æ³•ï¼Œè·å–å¯è‡ªåŠ¨é…ç½®çš„é…ç½®ç±»ä¿¡æ¯é›†åˆ\ngetAutoConfigurationEntry()æ–¹æ³•é€šè¿‡è°ƒç”¨getCandidateConfigurations(annotationMetadata, attributes)æ–¹æ³•è·å–åœ¨é…ç½®æ–‡ä»¶ä¸­é…ç½®çš„æ‰€æœ‰è‡ªåŠ¨é…ç½®ç±»çš„é›†åˆ\ngetCandidateConfigurationsæ–¹æ³•çš„åŠŸèƒ½ï¼š\nè·å–æ‰€æœ‰åŸºäºMETA-INF/spring/org.springframework.boot.autoconfigure.AutoConfiguration.importsæ–‡ä»¶ã€META-INF/spring.factoriesæ–‡ä»¶ä¸­é…ç½®ç±»çš„é›†åˆ\nMETA-INF/spring/org.springframework.boot.autoconfigure.AutoConfiguration.importsæ–‡ä»¶å’ŒMETA-INF/spring.factoriesæ–‡ä»¶è¿™ä¸¤ä¸ªæ–‡ä»¶åœ¨å“ªé‡Œå‘¢ï¼Ÿ\né€šå¸¸åœ¨å¼•å…¥çš„èµ·æ­¥ä¾èµ–ä¸­ï¼Œéƒ½æœ‰åŒ…å«ä»¥ä¸Šä¸¤ä¸ªæ–‡ä»¶ åœ¨å‰é¢åœ¨ç»™å¤§å®¶æ¼”ç¤ºè‡ªåŠ¨é…ç½®çš„æ—¶å€™ï¼Œæˆ‘ä»¬ç›´æ¥åœ¨æµ‹è¯•ç±»å½“ä¸­æ³¨å…¥äº†ä¸€ä¸ªå«gsonçš„beanå¯¹è±¡ï¼Œè¿›è¡ŒJSONæ ¼å¼è½¬æ¢ã€‚è™½ç„¶æˆ‘ä»¬æ²¡æœ‰é…ç½®beanå¯¹è±¡ï¼Œä½†æ˜¯æˆ‘ä»¬æ˜¯å¯ä»¥ç›´æ¥æ³¨å…¥ä½¿ç”¨çš„ã€‚åŸå› å°±æ˜¯å› ä¸ºåœ¨è‡ªåŠ¨é…ç½®ç±»å½“ä¸­åšäº†è‡ªåŠ¨é…ç½®ã€‚åˆ°åº•æ˜¯åœ¨å“ªä¸ªè‡ªåŠ¨é…ç½®ç±»å½“ä¸­åšçš„è‡ªåŠ¨é…ç½®å‘¢ï¼Ÿæˆ‘ä»¬é€šè¿‡æœç´¢æ¥æŸ¥è¯¢ä¸€ä¸‹ã€‚\nåœ¨META-INF/spring/org.springframework.boot.autoconfigure.AutoConfiguration.importsé…ç½®æ–‡ä»¶ä¸­æŒ‡å®šäº†ç¬¬ä¸‰æ–¹ä¾èµ–Gsonçš„é…ç½®ç±»ï¼šGsonAutoConfiguration\nç¬¬ä¸‰æ–¹ä¾èµ–ä¸­æä¾›çš„GsonAutoConfigurationç±»ï¼š\nåœ¨GsonAutoConfigurationç±»ä¸Šï¼Œæ·»åŠ äº†æ³¨è§£@AutoConfigurationï¼Œé€šè¿‡æŸ¥çœ‹æºç ï¼Œå¯ä»¥æ˜ç¡®ï¼šGsonAutoConfigurationç±»æ˜¯ä¸€ä¸ªé…ç½®ã€‚\nçœ‹åˆ°è¿™é‡Œï¼Œå¤§å®¶å°±åº”è¯¥æ˜ç™½ä¸ºä»€ä¹ˆå¯ä»¥å®Œæˆè‡ªåŠ¨é…ç½®äº†ï¼ŒåŸç†å°±æ˜¯åœ¨é…ç½®ç±»ä¸­å®šä¹‰ä¸€ä¸ª@Beanæ ‡è¯†çš„æ–¹æ³•ï¼Œè€ŒSpringä¼šè‡ªåŠ¨è°ƒç”¨é…ç½®ç±»ä¸­ä½¿ç”¨@Beanæ ‡è¯†çš„æ–¹æ³•ï¼Œå¹¶æŠŠæ–¹æ³•çš„è¿”å›å€¼æ³¨å†Œåˆ°IOCå®¹å™¨ä¸­ã€‚\nè‡ªåŠ¨é…ç½®æºç å°ç»“\nè‡ªåŠ¨é…ç½®åŸç†æºç å…¥å£å°±æ˜¯@SpringBootApplicationæ³¨è§£ï¼Œåœ¨è¿™ä¸ªæ³¨è§£ä¸­å°è£…äº†3ä¸ªæ³¨è§£ï¼Œåˆ†åˆ«æ˜¯ï¼š\n@SpringBootConfiguration å£°æ˜å½“å‰ç±»æ˜¯ä¸€ä¸ªé…ç½®ç±» @ComponentScan è¿›è¡Œç»„ä»¶æ‰«æï¼ˆSpringBootä¸­é»˜è®¤æ‰«æçš„æ˜¯å¯åŠ¨ç±»æ‰€åœ¨çš„å½“å‰åŒ…åŠå…¶å­åŒ…ï¼‰ @EnableAutoConfiguration å°è£…äº†@Importæ³¨è§£ï¼ˆImportæ³¨è§£ä¸­æŒ‡å®šäº†ä¸€ä¸ªImportSelectoræ¥å£çš„å®ç°ç±»ï¼‰ åœ¨å®ç°ç±»é‡å†™çš„selectImports()æ–¹æ³•ï¼Œè¯»å–å½“å‰é¡¹ç›®ä¸‹æ‰€æœ‰ä¾èµ–jaråŒ…ä¸­META-INF/spring.factoriesã€META-INF/spring/org.springframework.boot.autoconfigure.AutoConfiguration.importsä¸¤ä¸ªæ–‡ä»¶é‡Œé¢å®šä¹‰çš„é…ç½®ç±»ï¼ˆé…ç½®ç±»ä¸­å®šä¹‰äº†@Beanæ³¨è§£æ ‡è¯†çš„æ–¹æ³•ï¼‰ã€‚ å½“SpringBootç¨‹åºå¯åŠ¨æ—¶ï¼Œå°±ä¼šåŠ è½½é…ç½®æ–‡ä»¶å½“ä¸­æ‰€å®šä¹‰çš„é…ç½®ç±»ï¼Œå¹¶å°†è¿™äº›é…ç½®ç±»ä¿¡æ¯(ç±»çš„å…¨é™å®šå)å°è£…åˆ°Stringç±»å‹çš„æ•°ç»„ä¸­ï¼Œæœ€ç»ˆé€šè¿‡@Importæ³¨è§£å°†è¿™äº›é…ç½®ç±»å…¨éƒ¨åŠ è½½åˆ°Springçš„IOCå®¹å™¨ä¸­ï¼Œäº¤ç»™IOCå®¹å™¨ç®¡ç†ã€‚\næœ€åå‘¢ç»™å¤§å®¶æŠ›å‡ºä¸€ä¸ªé—®é¢˜ï¼šåœ¨META-INF/spring/org.springframework.boot.autoconfigure.AutoConfiguration.importsæ–‡ä»¶ä¸­å®šä¹‰çš„é…ç½®ç±»éå¸¸å¤šï¼Œè€Œä¸”æ¯ä¸ªé…ç½®ç±»ä¸­åˆå¯ä»¥å®šä¹‰å¾ˆå¤šçš„beanï¼Œé‚£è¿™äº›beanéƒ½ä¼šæ³¨å†Œåˆ°Springçš„IOCå®¹å™¨ä¸­å—ï¼Ÿ\nç­”æ¡ˆï¼šå¹¶ä¸æ˜¯ã€‚ åœ¨å£°æ˜beanå¯¹è±¡æ—¶ï¼Œä¸Šé¢æœ‰åŠ ä¸€ä¸ªä»¥@Conditionalå¼€å¤´çš„æ³¨è§£ï¼Œè¿™ç§æ³¨è§£çš„ä½œç”¨å°±æ˜¯æŒ‰ç…§æ¡ä»¶è¿›è¡Œè£…é…ï¼Œåªæœ‰æ»¡è¶³æ¡ä»¶ä¹‹åï¼Œæ‰ä¼šå°†beanæ³¨å†Œåˆ°Springçš„IOCå®¹å™¨ä¸­ï¼ˆä¸‹é¢ä¼šè¯¦ç»†æ¥è®²è§£ï¼‰\n3.2.3.2 @Conditional æˆ‘ä»¬åœ¨è·Ÿè¸ªSpringBootè‡ªåŠ¨é…ç½®çš„æºç çš„æ—¶å€™ï¼Œåœ¨è‡ªåŠ¨é…ç½®ç±»å£°æ˜beançš„æ—¶å€™ï¼Œé™¤äº†åœ¨æ–¹æ³•ä¸ŠåŠ äº†ä¸€ä¸ª@Beanæ³¨è§£ä»¥å¤–ï¼Œè¿˜ä¼šç»å¸¸ç”¨åˆ°ä¸€ä¸ªæ³¨è§£ï¼Œå°±æ˜¯ä»¥Conditionalå¼€å¤´çš„è¿™ä¸€ç±»çš„æ³¨è§£ã€‚ä»¥Conditionalå¼€å¤´çš„è¿™äº›æ³¨è§£éƒ½æ˜¯æ¡ä»¶è£…é…çš„æ³¨è§£ã€‚ä¸‹é¢æˆ‘ä»¬å°±æ¥ä»‹ç»ä¸‹æ¡ä»¶è£…é…æ³¨è§£ã€‚\n@Conditionalæ³¨è§£ï¼š\nä½œç”¨ï¼šæŒ‰ç…§ä¸€å®šçš„æ¡ä»¶è¿›è¡Œåˆ¤æ–­ï¼Œåœ¨æ»¡è¶³ç»™å®šæ¡ä»¶åæ‰ä¼šæ³¨å†Œå¯¹åº”çš„beanå¯¹è±¡åˆ°Springçš„IOCå®¹å™¨ä¸­ã€‚ ä½ç½®ï¼šæ–¹æ³•ã€ç±» @Conditionalæœ¬èº«æ˜¯ä¸€ä¸ªçˆ¶æ³¨è§£ï¼Œæ´¾ç”Ÿå‡ºå¤§é‡çš„å­æ³¨è§£ï¼š @ConditionalOnClassï¼šåˆ¤æ–­ç¯å¢ƒä¸­æœ‰å¯¹åº”å­—èŠ‚ç æ–‡ä»¶ï¼Œæ‰æ³¨å†Œbeanåˆ°IOCå®¹å™¨ã€‚ @ConditionalOnMissingBeanï¼šåˆ¤æ–­ç¯å¢ƒä¸­æ²¡æœ‰å¯¹åº”çš„bean(ç±»å‹æˆ–åç§°)ï¼Œæ‰æ³¨å†Œbeanåˆ°IOCå®¹å™¨ã€‚ @ConditionalOnPropertyï¼šåˆ¤æ–­é…ç½®æ–‡ä»¶ä¸­æœ‰å¯¹åº”å±æ€§å’Œå€¼ï¼Œæ‰æ³¨å†Œbeanåˆ°IOCå®¹å™¨ã€‚ ä¸‹é¢æˆ‘ä»¬é€šè¿‡ä»£ç æ¥æ¼”ç¤ºä¸‹Conditionalæ³¨è§£çš„ä½¿ç”¨ï¼š\n@ConditionalOnClassæ³¨è§£ 1 2 3 4 5 6 7 8 9 10 11 @Configuration public class HeaderConfig { @Bean @ConditionalOnClass(name=\u0026#34;io.jsonwebtoken.Jwts\u0026#34;)//ç¯å¢ƒä¸­å­˜åœ¨æŒ‡å®šçš„è¿™ä¸ªç±»ï¼Œæ‰ä¼šå°†è¯¥beanåŠ å…¥IOCå®¹å™¨ public HeaderParser headerParser(){ return new HeaderParser(); } //çœç•¥å…¶ä»–ä»£ç ... } pom.xml 1 2 3 4 5 6 \u0026lt;!--JWTä»¤ç‰Œ--\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;io.jsonwebtoken\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;jjwt\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;0.9.1\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; æµ‹è¯•ç±» 1 2 3 4 5 6 7 8 9 10 11 12 @SpringBootTest public class AutoConfigurationTests { @Autowired private ApplicationContext applicationContext; @Test public void testHeaderParser(){ System.out.println(applicationContext.getBean(HeaderParser.class)); } //çœç•¥å…¶ä»–ä»£ç ... } æ‰§è¡ŒtestHeaderParser()æµ‹è¯•æ–¹æ³•ï¼š\nå› ä¸ºio.jsonwebtoken.Jwtså­—èŠ‚ç æ–‡ä»¶åœ¨å¯åŠ¨SpringBootç¨‹åºæ—¶å·²å­˜åœ¨ï¼Œæ‰€ä»¥åˆ›å»ºHeaderParserå¯¹è±¡å¹¶æ³¨å†Œåˆ°IOCå®¹å™¨ä¸­ã€‚\n@ConditionalOnMissingBeanæ³¨è§£ 1 2 3 4 5 6 7 8 9 10 11 @Configuration public class HeaderConfig { @Bean @ConditionalOnMissingBean //ä¸å­˜åœ¨è¯¥ç±»å‹çš„beanï¼Œæ‰ä¼šå°†è¯¥beanåŠ å…¥IOCå®¹å™¨ public HeaderParser headerParser(){ return new HeaderParser(); } //çœç•¥å…¶ä»–ä»£ç ... } æ‰§è¡ŒtestHeaderParser()æµ‹è¯•æ–¹æ³•ï¼š\nSpringBootåœ¨è°ƒç”¨@Beanæ ‡è¯†çš„headerParser()å‰ï¼ŒIOCå®¹å™¨ä¸­æ˜¯æ²¡æœ‰HeaderParserç±»å‹çš„beanï¼Œæ‰€ä»¥HeaderParserå¯¹è±¡æ­£å¸¸åˆ›å»ºï¼Œå¹¶æ³¨å†Œåˆ°IOCå®¹å™¨ä¸­ã€‚\nå†æ¬¡ä¿®æ”¹@ConditionalOnMissingBeanæ³¨è§£ï¼š\n1 2 3 4 5 6 7 8 9 10 11 @Configuration public class HeaderConfig { @Bean @ConditionalOnMissingBean(name=\u0026#34;deptController2\u0026#34;)//ä¸å­˜åœ¨æŒ‡å®šåç§°çš„beanï¼Œæ‰ä¼šå°†è¯¥beanåŠ å…¥IOCå®¹å™¨ public HeaderParser headerParser(){ return new HeaderParser(); } //çœç•¥å…¶ä»–ä»£ç ... } æ‰§è¡ŒtestHeaderParser()æµ‹è¯•æ–¹æ³•ï¼š\nå› ä¸ºåœ¨SpringBootç¯å¢ƒä¸­ä¸å­˜åœ¨åå­—å«deptController2çš„beanå¯¹è±¡ï¼Œæ‰€ä»¥åˆ›å»ºHeaderParserå¯¹è±¡å¹¶æ³¨å†Œåˆ°IOCå®¹å™¨ä¸­ã€‚\nå†æ¬¡ä¿®æ”¹@ConditionalOnMissingBeanæ³¨è§£ï¼š\n1 2 3 4 5 6 7 8 9 10 11 @Configuration public class HeaderConfig { @Bean @ConditionalOnMissingBean(HeaderConfig.class)//ä¸å­˜åœ¨æŒ‡å®šç±»å‹çš„beanï¼Œæ‰ä¼šå°†beanåŠ å…¥IOCå®¹å™¨ public HeaderParser headerParser(){ return new HeaderParser(); } //çœç•¥å…¶ä»–ä»£ç ... } 1 2 3 4 5 6 7 8 9 10 11 12 @SpringBootTest public class AutoConfigurationTests { @Autowired private ApplicationContext applicationContext; @Test public void testHeaderParser(){ System.out.println(applicationContext.getBean(HeaderParser.class)); } //çœç•¥å…¶ä»–ä»£ç ... } æ‰§è¡ŒtestHeaderParser()æµ‹è¯•æ–¹æ³•ï¼š\nå› ä¸ºHeaderConfigç±»ä¸­æ·»åŠ @Configurationæ³¨è§£ï¼Œè€Œ@Configurationæ³¨è§£ä¸­åŒ…å«äº†@Componentï¼Œæ‰€ä»¥SpringBootå¯åŠ¨æ—¶ä¼šåˆ›å»ºHeaderConfigç±»å¯¹è±¡ï¼Œå¹¶æ³¨å†Œåˆ°IOCå®¹å™¨ä¸­ã€‚\nå½“IOCå®¹å™¨ä¸­æœ‰HeaderConfigç±»å‹çš„beanå­˜åœ¨æ—¶ï¼Œä¸ä¼šæŠŠåˆ›å»ºHeaderParserå¯¹è±¡æ³¨å†Œåˆ°IOCå®¹å™¨ä¸­ã€‚è€ŒIOCå®¹å™¨ä¸­æ²¡æœ‰HeaderParserç±»å‹çš„å¯¹è±¡æ—¶ï¼Œé€šè¿‡getBean(HeaderParser.class)æ–¹æ³•è·å–beanå¯¹è±¡æ—¶ï¼Œå¼•å‘å¼‚å¸¸ï¼šNoSuchBeanDefinitionException\n@ConditionalOnPropertyæ³¨è§£ï¼ˆè¿™ä¸ªæ³¨è§£å’Œé…ç½®æ–‡ä»¶å½“ä¸­é…ç½®çš„å±æ€§æœ‰å…³ç³»ï¼‰ å…ˆåœ¨application.ymlé…ç½®æ–‡ä»¶ä¸­æ·»åŠ å¦‚ä¸‹çš„é”®å€¼å¯¹ï¼š\n1 name: itheima åœ¨å£°æ˜beançš„æ—¶å€™å°±å¯ä»¥æŒ‡å®šä¸€ä¸ªæ¡ä»¶@ConditionalOnProperty\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 @Configuration public class HeaderConfig { @Bean @ConditionalOnProperty(name =\u0026#34;name\u0026#34;,havingValue = \u0026#34;itheima\u0026#34;)//é…ç½®æ–‡ä»¶ä¸­å­˜åœ¨æŒ‡å®šå±æ€§åä¸å€¼ï¼Œæ‰ä¼šå°†beanåŠ å…¥IOCå®¹å™¨ public HeaderParser headerParser(){ return new HeaderParser(); } @Bean public HeaderGenerator headerGenerator(){ return new HeaderGenerator(); } } æ‰§è¡ŒtestHeaderParser()æµ‹è¯•æ–¹æ³•ï¼š\nä¿®æ”¹@ConditionalOnPropertyæ³¨è§£ï¼š havingValueçš„å€¼ä¿®æ”¹ä¸º\u0026quot;itheima2\u0026quot;\n1 2 3 4 5 @Bean @ConditionalOnProperty(name =\u0026#34;name\u0026#34;,havingValue = \u0026#34;itheima2\u0026#34;)//é…ç½®æ–‡ä»¶ä¸­å­˜åœ¨æŒ‡å®šå±æ€§åä¸å€¼ï¼Œæ‰ä¼šå°†beanåŠ å…¥IOCå®¹å™¨ public HeaderParser headerParser(){ return new HeaderParser(); } å†æ¬¡æ‰§è¡ŒtestHeaderParser()æµ‹è¯•æ–¹æ³•ï¼š\nå› ä¸ºapplication.ymlé…ç½®æ–‡ä»¶ä¸­ï¼Œä¸å­˜åœ¨ï¼š name: itheima2ï¼Œæ‰€ä»¥HeaderParserå¯¹è±¡åœ¨IOCå®¹å™¨ä¸­ä¸å­˜åœ¨\næˆ‘ä»¬å†å›å¤´çœ‹çœ‹ä¹‹å‰è®²è§£SpringBootæºç æ—¶æåˆ°çš„ä¸€ä¸ªé…ç½®ç±»ï¼šGsonAutoConfiguration\næœ€åå†ç»™å¤§å®¶æ¢³ç†ä¸€ä¸‹è‡ªåŠ¨é…ç½®åŸç†ï¼š\nè‡ªåŠ¨é…ç½®çš„æ ¸å¿ƒå°±åœ¨@SpringBootApplicationæ³¨è§£ä¸Šï¼ŒSpringBootApplicationè¿™ä¸ªæ³¨è§£åº•å±‚åŒ…å«äº†3ä¸ªæ³¨è§£ï¼Œåˆ†åˆ«æ˜¯ï¼š\n@SpringBootConfiguration\n@ComponentScan\n@EnableAutoConfiguration\n@EnableAutoConfigurationè¿™ä¸ªæ³¨è§£æ‰æ˜¯è‡ªåŠ¨é…ç½®çš„æ ¸å¿ƒã€‚\nå®ƒå°è£…äº†ä¸€ä¸ª@Importæ³¨è§£ï¼ŒImportæ³¨è§£é‡Œé¢æŒ‡å®šäº†ä¸€ä¸ªImportSelectoræ¥å£çš„å®ç°ç±»ã€‚ åœ¨è¿™ä¸ªå®ç°ç±»ä¸­ï¼Œé‡å†™äº†ImportSelectoræ¥å£ä¸­çš„selectImports()æ–¹æ³•ã€‚ è€ŒselectImports()æ–¹æ³•ä¸­ä¼šå»è¯»å–ä¸¤ä»½é…ç½®æ–‡ä»¶ï¼Œå¹¶å°†é…ç½®æ–‡ä»¶ä¸­å®šä¹‰çš„é…ç½®ç±»åšä¸ºselectImports()æ–¹æ³•çš„è¿”å›å€¼è¿”å›ï¼Œè¿”å›å€¼ä»£è¡¨çš„å°±æ˜¯éœ€è¦å°†å“ªäº›ç±»äº¤ç»™Springçš„IOCå®¹å™¨è¿›è¡Œç®¡ç†ã€‚ é‚£ä¹ˆæ‰€æœ‰è‡ªåŠ¨é…ç½®ç±»çš„ä¸­å£°æ˜çš„beanéƒ½ä¼šåŠ è½½åˆ°Springçš„IOCå®¹å™¨ä¸­å—? å…¶å®å¹¶ä¸ä¼šï¼Œå› ä¸ºè¿™äº›é…ç½®ç±»ä¸­åœ¨å£°æ˜beanæ—¶ï¼Œé€šå¸¸éƒ½ä¼šæ·»åŠ @Conditionalå¼€å¤´çš„æ³¨è§£ï¼Œè¿™ä¸ªæ³¨è§£å°±æ˜¯è¿›è¡Œæ¡ä»¶è£…é…ã€‚è€ŒSpringä¼šæ ¹æ®Conditionalæ³¨è§£æœ‰é€‰æ‹©æ€§çš„è¿›è¡Œbeançš„åˆ›å»ºã€‚ @Enable å¼€å¤´çš„æ³¨è§£åº•å±‚ï¼Œå®ƒå°±å°è£…äº†ä¸€ä¸ªæ³¨è§£ import æ³¨è§£ï¼Œå®ƒé‡Œé¢æŒ‡å®šäº†ä¸€ä¸ªç±»ï¼Œæ˜¯ ImportSelector æ¥å£çš„å®ç°ç±»ã€‚åœ¨å®ç°ç±»å½“ä¸­ï¼Œæˆ‘ä»¬éœ€è¦å»å®ç° ImportSelector æ¥å£å½“ä¸­çš„ä¸€ä¸ªæ–¹æ³• selectImports è¿™ä¸ªæ–¹æ³•ã€‚è¿™ä¸ªæ–¹æ³•çš„è¿”å›å€¼ä»£è¡¨çš„å°±æ˜¯æˆ‘éœ€è¦å°†å“ªäº›ç±»äº¤ç»™ spring çš„ IOCå®¹å™¨è¿›è¡Œç®¡ç†ã€‚ æ­¤æ—¶å®ƒä¼šå»è¯»å–ä¸¤ä»½é…ç½®æ–‡ä»¶ï¼Œä¸€ä»½å„¿æ˜¯ spring.factoriesï¼Œå¦å¤–ä¸€ä»½å„¿æ˜¯ autoConfiguration.importsã€‚è€Œåœ¨ autoConfiguration.imports è¿™ä»½å„¿æ–‡ä»¶å½“ä¸­ï¼Œå®ƒå°±ä¼šå»é…ç½®å¤§é‡çš„è‡ªåŠ¨é…ç½®çš„ç±»ã€‚ è€Œå‰é¢æˆ‘ä»¬ä¹Ÿæåˆ°è¿‡è¿™äº›æ‰€æœ‰çš„è‡ªåŠ¨é…ç½®ç±»å½“ä¸­ï¼Œæ‰€æœ‰çš„ beanéƒ½ä¼šåŠ è½½åˆ° spring çš„ IOC å®¹å™¨å½“ä¸­å—ï¼Ÿå…¶å®å¹¶ä¸ä¼šï¼Œå› ä¸ºè¿™äº›é…ç½®ç±»å½“ä¸­ï¼Œåœ¨å£°æ˜ bean çš„æ—¶å€™ï¼Œé€šå¸¸ä¼šåŠ ä¸Šè¿™ä¹ˆä¸€ç±»@Conditional å¼€å¤´çš„æ³¨è§£ã€‚è¿™ä¸ªæ³¨è§£å°±æ˜¯è¿›è¡Œæ¡ä»¶è£…é…ã€‚æ‰€ä»¥SpringBootéå¸¸çš„æ™ºèƒ½ï¼Œå®ƒä¼šæ ¹æ® @Conditional æ³¨è§£æ¥è¿›è¡Œæ¡ä»¶è£…é…ã€‚åªæœ‰æ¡ä»¶æˆç«‹ï¼Œå®ƒæ‰ä¼šå£°æ˜è¿™ä¸ªbeanï¼Œæ‰ä¼šå°†è¿™ä¸ª bean äº¤ç»™ IOC å®¹å™¨ç®¡ç†ã€‚ 3.2.4 æ¡ˆä¾‹ 3.2.4.1 è‡ªå®šä¹‰starteråˆ†æ å‰é¢æˆ‘ä»¬è§£æäº†SpringBootä¸­è‡ªåŠ¨é…ç½®çš„åŸç†ï¼Œä¸‹é¢æˆ‘ä»¬å°±é€šè¿‡ä¸€ä¸ªè‡ªå®šä¹‰starteræ¡ˆä¾‹æ¥åŠ æ·±å¤§å®¶å¯¹äºè‡ªåŠ¨é…ç½®åŸç†çš„ç†è§£ã€‚é¦–å…ˆä»‹ç»ä¸€ä¸‹è‡ªå®šä¹‰starterçš„ä¸šåŠ¡åœºæ™¯ï¼Œå†æ¥åˆ†æä¸€ä¸‹å…·ä½“çš„æ“ä½œæ­¥éª¤ã€‚\næ‰€è°“starteræŒ‡çš„å°±æ˜¯SpringBootå½“ä¸­çš„èµ·æ­¥ä¾èµ–ã€‚åœ¨SpringBootå½“ä¸­å·²ç»ç»™æˆ‘ä»¬æä¾›äº†å¾ˆå¤šçš„èµ·æ­¥ä¾èµ–äº†ï¼Œæˆ‘ä»¬ä¸ºä»€ä¹ˆè¿˜éœ€è¦è‡ªå®šä¹‰ starter èµ·æ­¥ä¾èµ–ï¼Ÿè¿™æ˜¯å› ä¸ºåœ¨å®é™…çš„é¡¹ç›®å¼€å‘å½“ä¸­ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šç”¨åˆ°å¾ˆå¤šç¬¬ä¸‰æ–¹çš„æŠ€æœ¯ï¼Œå¹¶ä¸æ˜¯æ‰€æœ‰çš„ç¬¬ä¸‰æ–¹çš„æŠ€æœ¯å®˜æ–¹éƒ½ç»™æˆ‘ä»¬æä¾›äº†ä¸SpringBootæ•´åˆçš„starterèµ·æ­¥ä¾èµ–ï¼Œä½†æ˜¯è¿™äº›æŠ€æœ¯åˆéå¸¸çš„é€šç”¨ï¼Œåœ¨å¾ˆå¤šé¡¹ç›®ç»„å½“ä¸­éƒ½åœ¨ä½¿ç”¨ã€‚\nä¸šåŠ¡åœºæ™¯ï¼š\næˆ‘ä»¬å‰é¢æ¡ˆä¾‹å½“ä¸­æ‰€ä½¿ç”¨çš„é˜¿é‡Œäº‘OSSå¯¹è±¡å­˜å‚¨æœåŠ¡ï¼Œç°åœ¨é˜¿é‡Œäº‘çš„å®˜æ–¹æ˜¯æ²¡æœ‰ç»™æˆ‘ä»¬æä¾›å¯¹åº”çš„èµ·æ­¥ä¾èµ–çš„ï¼Œè¿™ä¸ªæ—¶å€™ä½¿ç”¨èµ·æ¥å°±ä¼šæ¯”è¾ƒç¹çï¼Œæˆ‘ä»¬éœ€è¦å¼•å…¥å¯¹åº”çš„ä¾èµ–ã€‚æˆ‘ä»¬è¿˜éœ€è¦åœ¨é…ç½®æ–‡ä»¶å½“ä¸­è¿›è¡Œé…ç½®ï¼Œè¿˜éœ€è¦åŸºäºå®˜æ–¹SDKç¤ºä¾‹æ¥æ”¹é€ å¯¹åº”çš„å·¥å…·ç±»ï¼Œæˆ‘ä»¬åœ¨é¡¹ç›®å½“ä¸­æ‰å¯ä»¥è¿›è¡Œä½¿ç”¨ã€‚ å¤§å®¶æƒ³åœ¨æˆ‘ä»¬å½“å‰é¡¹ç›®å½“ä¸­ä½¿ç”¨äº†é˜¿é‡Œäº‘OSSï¼Œæˆ‘ä»¬éœ€è¦è¿›è¡Œè¿™ä¹ˆå¤šæ­¥çš„æ“ä½œã€‚åœ¨åˆ«çš„é¡¹ç›®ç»„å½“ä¸­è¦æƒ³ä½¿ç”¨é˜¿é‡Œäº‘OSSï¼Œæ˜¯ä¸æ˜¯ä¹Ÿéœ€è¦è¿›è¡Œè¿™ä¹ˆå¤šæ­¥çš„æ“ä½œï¼Œæ‰€ä»¥è¿™ä¸ªæ—¶å€™æˆ‘ä»¬å°±å¯ä»¥è‡ªå®šä¹‰ä¸€äº›å…¬å…±ç»„ä»¶ï¼Œåœ¨è¿™äº›å…¬å…±ç»„ä»¶å½“ä¸­ï¼Œæˆ‘å°±å¯ä»¥æå‰æŠŠéœ€è¦é…ç½®çš„beanéƒ½æå‰é…ç½®å¥½ã€‚å°†æ¥åœ¨é¡¹ç›®å½“ä¸­ï¼Œæˆ‘è¦æƒ³ä½¿ç”¨è¿™ä¸ªæŠ€æœ¯ï¼Œæˆ‘ç›´æ¥å°†ç»„ä»¶å¯¹åº”çš„åæ ‡ç›´æ¥å¼•å…¥è¿›æ¥ï¼Œå°±å·²ç»è‡ªåŠ¨é…ç½®å¥½äº†ï¼Œå°±å¯ä»¥ç›´æ¥ä½¿ç”¨äº†ã€‚æˆ‘ä»¬ä¹Ÿå¯ä»¥æŠŠå…¬å…±ç»„ä»¶æä¾›ç»™åˆ«çš„é¡¹ç›®ç»„è¿›è¡Œä½¿ç”¨ï¼Œè¿™æ ·å°±å¯ä»¥å¤§å¤§çš„ç®€åŒ–æˆ‘ä»¬çš„å¼€å‘ã€‚ åœ¨SpringBooté¡¹ç›®ä¸­ï¼Œä¸€èˆ¬éƒ½ä¼šå°†è¿™äº›å…¬å…±ç»„ä»¶å°è£…ä¸ºSpringBootå½“ä¸­çš„starterï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬æ‰€è¯´çš„èµ·æ­¥ä¾èµ–ã€‚\nSpringBootå®˜æ–¹starterå‘½åï¼š spring-boot-starter-xxxx\nç¬¬ä¸‰ç»„ç»‡æä¾›çš„starterå‘½åï¼š xxxx-spring-boot-starter\nMybatisæä¾›äº†é…ç½®ç±»ï¼Œå¹¶ä¸”ä¹Ÿæä¾›äº†springbootä¼šè‡ªåŠ¨è¯»å–çš„é…ç½®æ–‡ä»¶ã€‚å½“SpringBooté¡¹ç›®å¯åŠ¨æ—¶ï¼Œä¼šè¯»å–åˆ°spring.factoriesé…ç½®æ–‡ä»¶ä¸­çš„é…ç½®ç±»å¹¶åŠ è½½é…ç½®ç±»ï¼Œç”Ÿæˆç›¸å…³beanå¯¹è±¡æ³¨å†Œåˆ°IOCå®¹å™¨ä¸­ã€‚\nç»“æœï¼šæˆ‘ä»¬å¯ä»¥ç›´æ¥åœ¨SpringBootç¨‹åºä¸­ä½¿ç”¨Mybatisè‡ªåŠ¨é…ç½®çš„beanå¯¹è±¡ã€‚\nåœ¨è‡ªå®šä¹‰ä¸€ä¸ªèµ·æ­¥ä¾èµ–starterçš„æ—¶å€™ï¼ŒæŒ‰ç…§è§„èŒƒéœ€è¦å®šä¹‰ä¸¤ä¸ªæ¨¡å—ï¼š\nstarteræ¨¡å—ï¼ˆè¿›è¡Œä¾èµ–ç®¡ç†[æŠŠç¨‹åºå¼€å‘æ‰€éœ€è¦çš„ä¾èµ–éƒ½å®šä¹‰åœ¨starterèµ·æ­¥ä¾èµ–ä¸­]ï¼‰ autoconfigureæ¨¡å—ï¼ˆè‡ªåŠ¨é…ç½®ï¼‰ å°†æ¥åœ¨é¡¹ç›®å½“ä¸­è¿›è¡Œç›¸å…³åŠŸèƒ½å¼€å‘æ—¶ï¼Œåªéœ€è¦å¼•å…¥ä¸€ä¸ªèµ·æ­¥ä¾èµ–å°±å¯ä»¥äº†ï¼Œå› ä¸ºå®ƒä¼šå°†autoconfigureè‡ªåŠ¨é…ç½®çš„ä¾èµ–ç»™ä¼ é€’ä¸‹æ¥ã€‚\nä¸Šé¢æˆ‘ä»¬ç®€å•ä»‹ç»äº†è‡ªå®šä¹‰starterçš„åœºæ™¯ï¼Œä»¥åŠè‡ªå®šä¹‰starteræ—¶æ¶‰åŠåˆ°çš„æ¨¡å—ä¹‹åï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°±æ¥å®Œæˆä¸€ä¸ªè‡ªå®šä¹‰starterçš„æ¡ˆä¾‹ã€‚\néœ€æ±‚ï¼šè‡ªå®šä¹‰aliyun-oss-spring-boot-starterï¼Œå®Œæˆé˜¿é‡Œäº‘OSSæ“ä½œå·¥å…·ç±»AliyunOSSUtilsçš„è‡ªåŠ¨é…ç½®ã€‚\nç›®æ ‡ï¼šå¼•å…¥èµ·æ­¥ä¾èµ–å¼•å…¥ä¹‹åï¼Œè¦æƒ³ä½¿ç”¨é˜¿é‡Œäº‘OSSï¼Œæ³¨å…¥AliyunOSSUtilsç›´æ¥ä½¿ç”¨å³å¯ã€‚\nä¹‹å‰é˜¿é‡Œäº‘OSSçš„ä½¿ç”¨ï¼š\né…ç½®æ–‡ä»¶ 1 2 3 4 5 6 7 #é…ç½®é˜¿é‡Œäº‘OSSå‚æ•° aliyun: oss: endpoint: https://oss-cn-shanghai.aliyuncs.com accessKeyId: LTAI5t9MZK8iq5T2Av5GLDxX accessKeySecret: C0IrHzKZGKqU8S7YQcevcotD3Zd5Tc bucketName: web-framework01 AliOSSPropertiesç±» 1 2 3 4 5 6 7 8 9 10 11 12 13 @Data @Component @ConfigurationProperties(prefix = \u0026#34;aliyun.oss\u0026#34;) public class AliOSSProperties { //åŒºåŸŸ private String endpoint; //èº«ä»½ID private String accessKeyId ; //èº«ä»½å¯†é’¥ private String accessKeySecret ; //å­˜å‚¨ç©ºé—´ private String bucketName; } AliOSSUtilså·¥å…·ç±» 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 @Component //å½“å‰ç±»å¯¹è±¡ç”±Springåˆ›å»ºå’Œç®¡ç† public class AliOSSUtils { @Autowired private AliOSSProperties aliOSSProperties; /** * å®ç°ä¸Šä¼ å›¾ç‰‡åˆ°OSS */ public String upload(MultipartFile multipartFile) throws IOException { // è·å–ä¸Šä¼ çš„æ–‡ä»¶çš„è¾“å…¥æµ InputStream inputStream = multipartFile.getInputStream(); // é¿å…æ–‡ä»¶è¦†ç›– String originalFilename = multipartFile.getOriginalFilename(); String fileName = UUID.randomUUID().toString() + originalFilename.substring(originalFilename.lastIndexOf(\u0026#34;.\u0026#34;)); //ä¸Šä¼ æ–‡ä»¶åˆ° OSS OSS ossClient = new OSSClientBuilder().build(aliOSSProperties.getEndpoint(), aliOSSProperties.getAccessKeyId(), aliOSSProperties.getAccessKeySecret()); ossClient.putObject(aliOSSProperties.getBucketName(), fileName, inputStream); //æ–‡ä»¶è®¿é—®è·¯å¾„ String url =aliOSSProperties.getEndpoint().split(\u0026#34;//\u0026#34;)[0] + \u0026#34;//\u0026#34; + aliOSSProperties.getBucketName() + \u0026#34;.\u0026#34; + aliOSSProperties.getEndpoint().split(\u0026#34;//\u0026#34;)[1] + \u0026#34;/\u0026#34; + fileName; // å…³é—­ossClient ossClient.shutdown(); return url;// æŠŠä¸Šä¼ åˆ°ossçš„è·¯å¾„è¿”å› } } å½“æˆ‘ä»¬åœ¨é¡¹ç›®å½“ä¸­è¦ä½¿ç”¨é˜¿é‡Œäº‘OSSï¼Œå°±å¯ä»¥æ³¨å…¥AliOSSUtilså·¥å…·ç±»æ¥è¿›è¡Œæ–‡ä»¶ä¸Šä¼ ã€‚ä½†è¿™ç§æ–¹å¼å…¶å®æ˜¯æ¯”è¾ƒç¹ççš„ã€‚\nå¤§å®¶å†æ€è€ƒï¼Œç°åœ¨æˆ‘ä»¬ä½¿ç”¨é˜¿é‡Œäº‘OSSï¼Œéœ€è¦åšè¿™ä¹ˆå‡ æ­¥ï¼Œå°†æ¥å¤§å®¶åœ¨å¼€å‘å…¶ä»–çš„é¡¹ç›®çš„æ—¶å€™ï¼Œä½ ä½¿ç”¨é˜¿é‡Œäº‘OSSï¼Œè¿™å‡ æ­¥ä½ è¦ä¸è¦åšï¼Ÿå½“å›¢é˜Ÿä¸­å…¶ä»–å°ä¼™ä¼´ä¹Ÿåœ¨ä½¿ç”¨é˜¿é‡Œäº‘OSSçš„æ—¶å€™ï¼Œæ­¥éª¤ ä¸ä¹Ÿæ˜¯ä¸€æ ·çš„ã€‚\næ‰€ä»¥è¿™ä¸ªæ—¶å€™æˆ‘ä»¬å°±å¯ä»¥åˆ¶ä½œä¸€ä¸ªå…¬å…±ç»„ä»¶(è‡ªå®šä¹‰starter)ã€‚starterå®šä¹‰å¥½ä¹‹åï¼Œå°†æ¥è¦ä½¿ç”¨é˜¿é‡Œäº‘OSSè¿›è¡Œæ–‡ä»¶ä¸Šä¼ ï¼Œåªéœ€è¦å°†èµ·æ­¥ä¾èµ–å¼•å…¥è¿›æ¥ä¹‹åï¼Œå°±å¯ä»¥ç›´æ¥æ³¨å…¥AliOSSUtilsä½¿ç”¨äº†ã€‚\néœ€æ±‚æ˜ç¡®äº†ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å†æ¥åˆ†æä¸€ä¸‹å…·ä½“çš„å®ç°æ­¥éª¤ï¼š\nç¬¬1æ­¥ï¼šåˆ›å»ºè‡ªå®šä¹‰starteræ¨¡å—ï¼ˆè¿›è¡Œä¾èµ–ç®¡ç†ï¼‰ æŠŠé˜¿é‡Œäº‘OSSæ‰€æœ‰çš„ä¾èµ–ç»Ÿä¸€ç®¡ç†èµ·æ¥ ç¬¬2æ­¥ï¼šåˆ›å»ºautoconfigureæ¨¡å— åœ¨starterä¸­å¼•å…¥autoconfigure ï¼ˆæˆ‘ä»¬ä½¿ç”¨æ—¶åªéœ€è¦å¼•å…¥starterèµ·æ­¥ä¾èµ–å³å¯ï¼‰ ç¬¬3æ­¥ï¼šåœ¨autoconfigureä¸­å®Œæˆè‡ªåŠ¨é…ç½® å®šä¹‰ä¸€ä¸ªè‡ªåŠ¨é…ç½®ç±»ï¼Œåœ¨è‡ªåŠ¨é…ç½®ç±»ä¸­å°†æ‰€è¦é…ç½®çš„beanéƒ½æå‰é…ç½®å¥½ å®šä¹‰é…ç½®æ–‡ä»¶ï¼ŒæŠŠè‡ªåŠ¨é…ç½®ç±»çš„å…¨ç±»åå®šä¹‰åœ¨é…ç½®æ–‡ä»¶ä¸­ æˆ‘ä»¬åˆ†æå®Œè‡ªå®šä¹‰é˜¿é‡Œäº‘OSSè‡ªåŠ¨é…ç½®çš„æ“ä½œæ­¥éª¤äº†ï¼Œä¸‹é¢æˆ‘ä»¬å°±æŒ‰ç…§åˆ†æçš„æ­¥éª¤æ¥å®ç°è‡ªå®šä¹‰starterã€‚\n3.2.4.2 è‡ªå®šä¹‰starterå®ç° è‡ªå®šä¹‰starterçš„æ­¥éª¤æˆ‘ä»¬åˆšæ‰å·²ç»åˆ†æäº†ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°±æŒ‰ç…§åˆ†æçš„æ­¥éª¤æ¥å®Œæˆè‡ªå®šä¹‰starterçš„å¼€å‘ã€‚\né¦–å…ˆæˆ‘ä»¬å…ˆæ¥åˆ›å»ºä¸¤ä¸ªMavenæ¨¡å—ï¼š\n1). aliyun-oss-spring-boot-starteræ¨¡å—\nåˆ›å»ºå®Œstarteræ¨¡å—åï¼Œåˆ é™¤å¤šä½™çš„æ–‡ä»¶ï¼Œæœ€ç»ˆä¿ç•™å†…å®¹å¦‚ä¸‹ï¼š\nåˆ é™¤pom.xmlæ–‡ä»¶ä¸­å¤šä½™çš„å†…å®¹åï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 \u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34;?\u0026gt; \u0026lt;project xmlns=\u0026#34;http://maven.apache.org/POM/4.0.0\u0026#34; xmlns:xsi=\u0026#34;http://www.w3.org/2001/XMLSchema-instance\u0026#34; xsi:schemaLocation=\u0026#34;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd\u0026#34;\u0026gt; \u0026lt;modelVersion\u0026gt;4.0.0\u0026lt;/modelVersion\u0026gt; \u0026lt;parent\u0026gt; \u0026lt;groupId\u0026gt;org.springframework.boot\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;spring-boot-starter-parent\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;2.7.5\u0026lt;/version\u0026gt; \u0026lt;relativePath/\u0026gt; \u0026lt;!-- lookup parent from repository --\u0026gt; \u0026lt;/parent\u0026gt; \u0026lt;groupId\u0026gt;com.aliyun.oss\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;aliyun-oss-spring-boot-starter\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;0.0.1-SNAPSHOT\u0026lt;/version\u0026gt; \u0026lt;properties\u0026gt; \u0026lt;java.version\u0026gt;11\u0026lt;/java.version\u0026gt; \u0026lt;/properties\u0026gt; \u0026lt;dependencies\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.springframework.boot\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;spring-boot-starter\u0026lt;/artifactId\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;/dependencies\u0026gt; \u0026lt;/project\u0026gt; 2). aliyun-oss-spring-boot-autoconfigureæ¨¡å—\nåˆ›å»ºå®Œstarteræ¨¡å—åï¼Œåˆ é™¤å¤šä½™çš„æ–‡ä»¶ï¼Œæœ€ç»ˆä¿ç•™å†…å®¹å¦‚ä¸‹ï¼š\nåˆ é™¤pom.xmlæ–‡ä»¶ä¸­å¤šä½™çš„å†…å®¹åï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 \u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34;?\u0026gt; \u0026lt;project xmlns=\u0026#34;http://maven.apache.org/POM/4.0.0\u0026#34; xmlns:xsi=\u0026#34;http://www.w3.org/2001/XMLSchema-instance\u0026#34; xsi:schemaLocation=\u0026#34;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd\u0026#34;\u0026gt; \u0026lt;modelVersion\u0026gt;4.0.0\u0026lt;/modelVersion\u0026gt; \u0026lt;parent\u0026gt; \u0026lt;groupId\u0026gt;org.springframework.boot\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;spring-boot-starter-parent\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;2.7.5\u0026lt;/version\u0026gt; \u0026lt;relativePath/\u0026gt; \u0026lt;!-- lookup parent from repository --\u0026gt; \u0026lt;/parent\u0026gt; \u0026lt;groupId\u0026gt;com.aliyun.oss\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;aliyun-oss-spring-boot-autoconfigure\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;0.0.1-SNAPSHOT\u0026lt;/version\u0026gt; \u0026lt;properties\u0026gt; \u0026lt;java.version\u0026gt;11\u0026lt;/java.version\u0026gt; \u0026lt;/properties\u0026gt; \u0026lt;dependencies\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.springframework.boot\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;spring-boot-starter\u0026lt;/artifactId\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;/dependencies\u0026gt; \u0026lt;/project\u0026gt; æŒ‰ç…§æˆ‘ä»¬ä¹‹å‰çš„åˆ†æï¼Œæ˜¯éœ€è¦åœ¨starteræ¨¡å—ä¸­æ¥å¼•å…¥autoconfigureè¿™ä¸ªæ¨¡å—çš„ã€‚æ‰“å¼€starteræ¨¡å—ä¸­çš„pomæ–‡ä»¶ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 \u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34;?\u0026gt; \u0026lt;project xmlns=\u0026#34;http://maven.apache.org/POM/4.0.0\u0026#34; xmlns:xsi=\u0026#34;http://www.w3.org/2001/XMLSchema-instance\u0026#34; xsi:schemaLocation=\u0026#34;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd\u0026#34;\u0026gt; \u0026lt;modelVersion\u0026gt;4.0.0\u0026lt;/modelVersion\u0026gt; \u0026lt;parent\u0026gt; \u0026lt;groupId\u0026gt;org.springframework.boot\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;spring-boot-starter-parent\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;2.7.5\u0026lt;/version\u0026gt; \u0026lt;relativePath/\u0026gt; \u0026lt;!-- lookup parent from repository --\u0026gt; \u0026lt;/parent\u0026gt; \u0026lt;groupId\u0026gt;com.aliyun.oss\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;aliyun-oss-spring-boot-starter\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;0.0.1-SNAPSHOT\u0026lt;/version\u0026gt; \u0026lt;properties\u0026gt; \u0026lt;java.version\u0026gt;11\u0026lt;/java.version\u0026gt; \u0026lt;/properties\u0026gt; \u0026lt;dependencies\u0026gt; \u0026lt;!--å¼•å…¥autoconfigureæ¨¡å—--\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;com.aliyun.oss\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;aliyun-oss-spring-boot-autoconfigure\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;0.0.1-SNAPSHOT\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.springframework.boot\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;spring-boot-starter\u0026lt;/artifactId\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;/dependencies\u0026gt; \u0026lt;/project\u0026gt; å‰ä¸¤æ­¥å·²ç»å®Œæˆäº†ï¼Œæ¥ä¸‹æ¥æ˜¯æœ€å…³é”®çš„å°±æ˜¯ç¬¬ä¸‰æ­¥ï¼š\nåœ¨autoconfigureæ¨¡å—å½“ä¸­æ¥å®Œæˆè‡ªåŠ¨é…ç½®æ“ä½œã€‚\næˆ‘ä»¬å°†ä¹‹å‰æ¡ˆä¾‹ä¸­æ‰€ä½¿ç”¨çš„é˜¿é‡Œäº‘OSSéƒ¨åˆ†çš„ä»£ç ç›´æ¥æ‹·è´åˆ°autoconfigureæ¨¡å—ä¸‹ï¼Œç„¶åè¿›è¡Œæ”¹é€ å°±è¡Œäº†ã€‚\næ‹·è´è¿‡æ¥åï¼Œè¿˜ç¼ºå¤±ä¸€äº›ç›¸å…³çš„ä¾èµ–ï¼Œéœ€è¦æŠŠç›¸å…³ä¾èµ–ä¹Ÿæ‹·è´è¿‡æ¥ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 \u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34;?\u0026gt; \u0026lt;project xmlns=\u0026#34;http://maven.apache.org/POM/4.0.0\u0026#34; xmlns:xsi=\u0026#34;http://www.w3.org/2001/XMLSchema-instance\u0026#34; xsi:schemaLocation=\u0026#34;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd\u0026#34;\u0026gt; \u0026lt;modelVersion\u0026gt;4.0.0\u0026lt;/modelVersion\u0026gt; \u0026lt;parent\u0026gt; \u0026lt;groupId\u0026gt;org.springframework.boot\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;spring-boot-starter-parent\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;2.7.5\u0026lt;/version\u0026gt; \u0026lt;relativePath/\u0026gt; \u0026lt;!-- lookup parent from repository --\u0026gt; \u0026lt;/parent\u0026gt; \u0026lt;groupId\u0026gt;com.aliyun.oss\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;aliyun-oss-spring-boot-autoconfigure\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;0.0.1-SNAPSHOT\u0026lt;/version\u0026gt; \u0026lt;properties\u0026gt; \u0026lt;java.version\u0026gt;11\u0026lt;/java.version\u0026gt; \u0026lt;/properties\u0026gt; \u0026lt;dependencies\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.springframework.boot\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;spring-boot-starter\u0026lt;/artifactId\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;!--å¼•å…¥webèµ·æ­¥ä¾èµ–--\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.springframework.boot\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;spring-boot-starter-web\u0026lt;/artifactId\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;!--Lombok--\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.projectlombok\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;lombok\u0026lt;/artifactId\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;!--é˜¿é‡Œäº‘OSS--\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;com.aliyun.oss\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;aliyun-sdk-oss\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;3.15.1\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;javax.xml.bind\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;jaxb-api\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;2.3.1\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;javax.activation\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;activation\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;1.1.1\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;!-- no more than 2.3.3--\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.glassfish.jaxb\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;jaxb-runtime\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;2.3.3\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;/dependencies\u0026gt; \u0026lt;/project\u0026gt; ç°åœ¨å¤§å®¶æ€è€ƒä¸‹ï¼Œåœ¨ç±»ä¸Šæ·»åŠ çš„@Componentæ³¨è§£è¿˜æœ‰ç”¨å—ï¼Ÿ\nç­”æ¡ˆï¼šæ²¡ç”¨äº†ã€‚ åœ¨SpringBooté¡¹ç›®ä¸­ï¼Œå¹¶ä¸ä¼šå»æ‰«æcom.aliyun.ossè¿™ä¸ªåŒ…ï¼Œä¸æ‰«æè¿™ä¸ªåŒ…é‚£ç±»ä¸Šçš„æ³¨è§£ä¹Ÿå°±å¤±å»äº†ä½œç”¨ã€‚\n@Componentæ³¨è§£ä¸éœ€è¦ä½¿ç”¨äº†ï¼Œå¯ä»¥ä»ç±»ä¸Šåˆ é™¤äº†ã€‚\nåˆ é™¤åæŠ¥çº¢è‰²é”™è¯¯ï¼Œæš‚æ—¶ä¸ç†ä¼šï¼Œåé¢å†æ¥å¤„ç†ã€‚\nåˆ é™¤AliOSSUtilsç±»ä¸­çš„@Componentæ³¨è§£ã€@Autowiredæ³¨è§£\nä¸‹é¢æˆ‘ä»¬å°±è¦å®šä¹‰ä¸€ä¸ªè‡ªåŠ¨é…ç½®ç±»äº†ï¼Œåœ¨è‡ªåŠ¨é…ç½®ç±»å½“ä¸­æ¥å£°æ˜AliOSSUtilsçš„beanå¯¹è±¡ã€‚\nAliOSSAutoConfigurationç±»ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 @Configuration//å½“å‰ç±»ä¸ºSpringé…ç½®ç±» @EnableConfigurationProperties(AliOSSProperties.class)//å¯¼å…¥AliOSSPropertiesç±»ï¼Œå¹¶äº¤ç»™SpringIOCç®¡ç† public class AliOSSAutoConfiguration { //åˆ›å»ºAliOSSUtilså¯¹è±¡ï¼Œå¹¶äº¤ç»™SpringIOCå®¹å™¨ @Bean public AliOSSUtils aliOSSUtils(AliOSSProperties aliOSSProperties){ AliOSSUtils aliOSSUtils = new AliOSSUtils(); aliOSSUtils.setAliOSSProperties(aliOSSProperties); return aliOSSUtils; } } AliOSSPropertiesç±»ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 /*é˜¿é‡Œäº‘OSSç›¸å…³é…ç½®*/ @Data @ConfigurationProperties(prefix = \u0026#34;aliyun.oss\u0026#34;) public class AliOSSProperties { //åŒºåŸŸ private String endpoint; //èº«ä»½ID private String accessKeyId ; //èº«ä»½å¯†é’¥ private String accessKeySecret ; //å­˜å‚¨ç©ºé—´ private String bucketName; } AliOSSUtilsç±»ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 @Data public class AliOSSUtils { private AliOSSProperties aliOSSProperties; /** * å®ç°ä¸Šä¼ å›¾ç‰‡åˆ°OSS */ public String upload(MultipartFile multipartFile) throws IOException { // è·å–ä¸Šä¼ çš„æ–‡ä»¶çš„è¾“å…¥æµ InputStream inputStream = multipartFile.getInputStream(); // é¿å…æ–‡ä»¶è¦†ç›– String originalFilename = multipartFile.getOriginalFilename(); String fileName = UUID.randomUUID().toString() + originalFilename.substring(originalFilename.lastIndexOf(\u0026#34;.\u0026#34;)); //ä¸Šä¼ æ–‡ä»¶åˆ° OSS OSS ossClient = new OSSClientBuilder().build(aliOSSProperties.getEndpoint(), aliOSSProperties.getAccessKeyId(), aliOSSProperties.getAccessKeySecret()); ossClient.putObject(aliOSSProperties.getBucketName(), fileName, inputStream); //æ–‡ä»¶è®¿é—®è·¯å¾„ String url =aliOSSProperties.getEndpoint().split(\u0026#34;//\u0026#34;)[0] + \u0026#34;//\u0026#34; + aliOSSProperties.getBucketName() + \u0026#34;.\u0026#34; + aliOSSProperties.getEndpoint().split(\u0026#34;//\u0026#34;)[1] + \u0026#34;/\u0026#34; + fileName; // å…³é—­ossClient ossClient.shutdown(); return url;// æŠŠä¸Šä¼ åˆ°ossçš„è·¯å¾„è¿”å› } } åœ¨aliyun-oss-spring-boot-autoconfigureæ¨¡å—ä¸­çš„resourcesä¸‹ï¼Œæ–°å»ºè‡ªåŠ¨é…ç½®æ–‡ä»¶ï¼š\nMETA-INF/spring/org.springframework.boot.autoconfigure.AutoConfiguration.imports\n1 com.aliyun.oss.AliOSSAutoConfiguration 3.2.4.3 è‡ªå®šä¹‰starteræµ‹è¯• é˜¿é‡Œäº‘OSSçš„starteræˆ‘ä»¬åˆšæ‰å·²ç»å®šä¹‰å¥½äº†ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°±æ¥åšä¸€ä¸ªæµ‹è¯•ã€‚\nä»Šå¤©çš„è¯¾ç¨‹èµ„æ–™å½“ä¸­ï¼Œæä¾›äº†ä¸€ä¸ªè‡ªå®šä¹‰starterçš„æµ‹è¯•å·¥ç¨‹ã€‚æˆ‘ä»¬ç›´æ¥æ‰“å¼€æ–‡ä»¶å¤¹ï¼Œé‡Œé¢æœ‰ä¸€ä¸ªæµ‹è¯•å·¥ç¨‹ã€‚æµ‹è¯•å·¥ç¨‹å°±æ˜¯springboot-autoconfiguration-testï¼Œæˆ‘ä»¬åªéœ€è¦å°†æµ‹è¯•å·¥ç¨‹ç›´æ¥å¯¼å…¥åˆ°Ideaå½“ä¸­å³å¯ã€‚\næµ‹è¯•å‰å‡†å¤‡ï¼š\nåœ¨testå·¥ç¨‹ä¸­å¼•å…¥é˜¿é‡Œäº‘starterä¾èµ–\né€šè¿‡ä¾èµ–ä¼ é€’ï¼Œä¼šæŠŠautoconfigureä¾èµ–ä¹Ÿå¼•å…¥äº† 1 2 3 4 5 6 \u0026lt;!--å¼•å…¥é˜¿é‡Œäº‘OSSèµ·æ­¥ä¾èµ–--\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;com.aliyun.oss\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;aliyun-oss-spring-boot-starter\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;0.0.1-SNAPSHOT\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; åœ¨testå·¥ç¨‹ä¸­çš„application.ymlæ–‡ä»¶ä¸­ï¼Œé…ç½®é˜¿é‡Œäº‘OSSé…ç½®å‚æ•°ä¿¡æ¯ï¼ˆä»ä»¥å‰çš„å·¥ç¨‹ä¸­æ‹·è´å³å¯ï¼‰\n1 2 3 4 5 6 7 #é…ç½®é˜¿é‡Œäº‘OSSå‚æ•° aliyun: oss: endpoint: https://oss-cn-shanghai.aliyuncs.com accessKeyId: LTAI5t9MZK8iq5T2Av5GLDxX accessKeySecret: C0IrHzKZGKqU8S7YQcevcotD3Zd5Tc bucketName: web-framework01 åœ¨testå·¥ç¨‹ä¸­çš„UploadControllerç±»ç¼–å†™ä»£ç \n1 2 3 4 5 6 7 8 9 10 11 12 13 14 @RestController public class UploadController { @Autowired private AliOSSUtils aliOSSUtils; @PostMapping(\u0026#34;/upload\u0026#34;) public String upload(MultipartFile image) throws Exception { //ä¸Šä¼ æ–‡ä»¶åˆ°é˜¿é‡Œäº‘ OSS String url = aliOSSUtils.upload(image); return url; } } ç¼–å†™å®Œä»£ç åï¼Œæˆ‘ä»¬å¯åŠ¨å½“å‰çš„SpringBootæµ‹è¯•å·¥ç¨‹ï¼š\néšç€SpringBooté¡¹ç›®å¯åŠ¨ï¼Œè‡ªåŠ¨é…ç½®ä¼šæŠŠAliOSSUtilsçš„beanå¯¹è±¡è£…é…åˆ°IOCå®¹å™¨ä¸­ ç”¨postmanå·¥å…·è¿›è¡Œæ–‡ä»¶ä¸Šä¼ ï¼š\né€šè¿‡æ–­ç‚¹å¯ä»¥çœ‹åˆ°è‡ªåŠ¨æ³¨å…¥AliOSSUtilsçš„beanå¯¹è±¡ï¼š\n4. Webåç«¯å¼€å‘æ€»ç»“ åˆ°æ­¤åŸºäºSpringBootè¿›è¡Œwebåç«¯å¼€å‘çš„ç›¸å…³çŸ¥è¯†æˆ‘ä»¬å·²ç»å­¦ä¹ å®Œæ¯•äº†ã€‚ä¸‹é¢æˆ‘ä»¬ä¸€èµ·é’ˆå¯¹è¿™æ®µwebè¯¾ç¨‹åšä¸€ä¸ªæ€»ç»“ã€‚\næˆ‘ä»¬æ¥å›é¡¾ä¸€ä¸‹å…³äºwebåç«¯å¼€å‘ï¼Œæˆ‘ä»¬éƒ½å­¦ä¹ äº†å“ªäº›å†…å®¹ï¼Œä»¥åŠæ¯ä¸€å—çŸ¥è¯†ï¼Œå…·ä½“æ˜¯å±äºå“ªä¸ªæ¡†æ¶çš„ã€‚\nwebåç«¯å¼€å‘ç°åœ¨åŸºæœ¬ä¸Šéƒ½æ˜¯åŸºäºæ ‡å‡†çš„ä¸‰å±‚æ¶æ„è¿›è¡Œå¼€å‘çš„ï¼Œåœ¨ä¸‰å±‚æ¶æ„å½“ä¸­ï¼ŒControlleræ§åˆ¶å™¨å±‚è´Ÿè´£æ¥æ”¶è¯·æ±‚å“åº”æ•°æ®ï¼ŒServiceä¸šåŠ¡å±‚è´Ÿè´£å…·ä½“çš„ä¸šåŠ¡é€»è¾‘å¤„ç†ï¼Œè€ŒDaoæ•°æ®è®¿é—®å±‚ä¹Ÿå«æŒä¹…å±‚ï¼Œå°±æ˜¯ç”¨æ¥å¤„ç†æ•°æ®è®¿é—®æ“ä½œçš„ï¼Œæ¥å®Œæˆæ•°æ®åº“å½“ä¸­æ•°æ®çš„å¢åˆ æ”¹æŸ¥æ“ä½œã€‚\nåœ¨ä¸‰å±‚æ¶æ„å½“ä¸­ï¼Œå‰ç«¯å‘èµ·è¯·æ±‚é¦–å…ˆä¼šåˆ°è¾¾Controller(ä¸è¿›è¡Œé€»è¾‘å¤„ç†)ï¼Œç„¶åControllerä¼šç›´æ¥è°ƒç”¨Service è¿›è¡Œé€»è¾‘å¤„ç†ï¼Œ Serviceå†è°ƒç”¨Daoå®Œæˆæ•°æ®è®¿é—®æ“ä½œã€‚\nå¦‚æœæˆ‘ä»¬åœ¨æ‰§è¡Œå…·ä½“çš„ä¸šåŠ¡å¤„ç†ä¹‹å‰ï¼Œéœ€è¦å»åšä¸€äº›é€šç”¨çš„ä¸šåŠ¡å¤„ç†ï¼Œæ¯”å¦‚ï¼šæˆ‘ä»¬è¦è¿›è¡Œç»Ÿä¸€çš„ç™»å½•æ ¡éªŒï¼Œæˆ‘ä»¬è¦è¿›è¡Œç»Ÿä¸€çš„å­—ç¬¦ç¼–ç ç­‰è¿™äº›æ“ä½œæ—¶ï¼Œæˆ‘ä»¬å°±å¯ä»¥å€ŸåŠ©äºJavawebå½“ä¸­ä¸‰å¤§ç»„ä»¶ä¹‹ä¸€çš„è¿‡æ»¤å™¨Filteræˆ–è€…æ˜¯Springå½“ä¸­æä¾›çš„æ‹¦æˆªå™¨Interceptoræ¥å®ç°ã€‚\nè€Œä¸ºäº†å®ç°ä¸‰å±‚æ¶æ„å±‚ä¸å±‚ä¹‹é—´çš„è§£è€¦ï¼Œæˆ‘ä»¬å­¦ä¹ äº†Springæ¡†æ¶å½“ä¸­çš„ç¬¬ä¸€å¤§æ ¸å¿ƒï¼šIOCæ§åˆ¶åè½¬ä¸DIä¾èµ–æ³¨å…¥ã€‚\næ‰€è°“æ§åˆ¶åè½¬ï¼ŒæŒ‡çš„æ˜¯å°†å¯¹è±¡åˆ›å»ºçš„æ§åˆ¶æƒç”±åº”ç”¨ç¨‹åºè‡ªèº«äº¤ç»™å¤–éƒ¨å®¹å™¨ï¼Œè¿™ä¸ªå®¹å™¨å°±æ˜¯æˆ‘ä»¬å¸¸è¯´çš„IOCå®¹å™¨æˆ–Springå®¹å™¨ã€‚\nè€ŒDIä¾èµ–æ³¨å…¥æŒ‡çš„æ˜¯å®¹å™¨ä¸ºç¨‹åºæä¾›è¿è¡Œæ—¶æ‰€éœ€è¦çš„èµ„æºã€‚\né™¤äº†IOCä¸DIæˆ‘ä»¬è¿˜è®²åˆ°äº†AOPé¢å‘åˆ‡é¢ç¼–ç¨‹ï¼Œè¿˜æœ‰Springä¸­çš„äº‹åŠ¡ç®¡ç†ã€å…¨å±€å¼‚å¸¸å¤„ç†å™¨ï¼Œä»¥åŠä¼ é€’ä¼šè¯æŠ€æœ¯Cookieã€Sessionä»¥åŠæ–°çš„ä¼šè¯è·Ÿè¸ªè§£å†³æ–¹æ¡ˆJWTä»¤ç‰Œï¼Œé˜¿é‡Œäº‘OSSå¯¹è±¡å­˜å‚¨æœåŠ¡ï¼Œä»¥åŠé€šè¿‡MybatisæŒä¹…å±‚æ¶æ„æ“ä½œæ•°æ®åº“ç­‰æŠ€æœ¯ã€‚\næˆ‘ä»¬åœ¨å­¦ä¹ è¿™äº›webåç«¯å¼€å‘æŠ€æœ¯çš„æ—¶å€™ï¼Œæˆ‘ä»¬éƒ½æ˜¯åŸºäºä¸»æµçš„SpringBootè¿›è¡Œæ•´åˆä½¿ç”¨çš„ã€‚è€ŒSpringBootåˆæ˜¯ç”¨æ¥ç®€åŒ–å¼€å‘ï¼Œæé«˜å¼€å‘æ•ˆç‡çš„ã€‚åƒè¿‡æ»¤å™¨ã€æ‹¦æˆªå™¨ã€IOCã€DIã€AOPã€äº‹åŠ¡ç®¡ç†ç­‰è¿™äº›æŠ€æœ¯åˆ°åº•æ˜¯å“ªä¸ªæ¡†æ¶æä¾›çš„æ ¸å¿ƒåŠŸèƒ½ï¼Ÿ\nFilterè¿‡æ»¤å™¨ã€Cookieã€ Sessionè¿™äº›éƒ½æ˜¯ä¼ ç»Ÿçš„JavaWebæä¾›çš„æŠ€æœ¯ã€‚\nJWTä»¤ç‰Œã€é˜¿é‡Œäº‘OSSå¯¹è±¡å­˜å‚¨æœåŠ¡ï¼Œæ˜¯ç°åœ¨ä¼ä¸šé¡¹ç›®ä¸­å¸¸è§çš„ä¸€äº›è§£å†³æ–¹æ¡ˆã€‚\nIOCæ§åˆ¶åè½¬ã€DIä¾èµ–æ³¨å…¥ã€AOPé¢å‘åˆ‡é¢ç¼–ç¨‹ã€äº‹åŠ¡ç®¡ç†ã€å…¨å±€å¼‚å¸¸å¤„ç†ã€æ‹¦æˆªå™¨ç­‰ï¼Œè¿™äº›æŠ€æœ¯éƒ½æ˜¯ Spring Frameworkæ¡†æ¶å½“ä¸­æä¾›çš„æ ¸å¿ƒåŠŸèƒ½ã€‚\nMybatiså°±æ˜¯ä¸€ä¸ªæŒä¹…å±‚çš„æ¡†æ¶ï¼Œæ˜¯ç”¨æ¥æ“ä½œæ•°æ®åº“çš„ã€‚\nåœ¨Springæ¡†æ¶çš„ç”Ÿæ€ä¸­ï¼Œå¯¹webç¨‹åºå¼€å‘æä¾›äº†å¾ˆå¥½çš„æ”¯æŒï¼Œå¦‚ï¼šå…¨å±€å¼‚å¸¸å¤„ç†å™¨ã€æ‹¦æˆªå™¨è¿™äº›éƒ½æ˜¯Springæ¡†æ¶ä¸­webå¼€å‘æ¨¡å—æ‰€æä¾›çš„åŠŸèƒ½ï¼Œè€ŒSpringæ¡†æ¶çš„webå¼€å‘æ¨¡å—ï¼Œæˆ‘ä»¬ä¹Ÿç§°ä¸ºï¼šSpringMVC\nSpringMVCä¸æ˜¯ä¸€ä¸ªå•ç‹¬çš„æ¡†æ¶ï¼Œå®ƒæ˜¯Springæ¡†æ¶çš„ä¸€éƒ¨åˆ†ï¼Œæ˜¯Springæ¡†æ¶ä¸­çš„webå¼€å‘æ¨¡å—ï¼Œæ˜¯ç”¨æ¥ç®€åŒ–åŸå§‹çš„Servletç¨‹åºå¼€å‘çš„ã€‚\nå¤–ç•Œä¿—ç§°çš„SSMï¼Œå°±æ˜¯ç”±ï¼šSpringMVCã€Spring Frameworkã€Mybatisä¸‰å—ç»„æˆã€‚\nåŸºäºä¼ ç»Ÿçš„SSMæ¡†æ¶è¿›è¡Œæ•´åˆå¼€å‘é¡¹ç›®ä¼šæ¯”è¾ƒç¹çï¼Œè€Œä¸”æ•ˆç‡ä¹Ÿæ¯”è¾ƒä½ï¼Œæ‰€ä»¥åœ¨ç°åœ¨çš„ä¼ä¸šé¡¹ç›®å¼€å‘å½“ä¸­ï¼ŒåŸºæœ¬ä¸Šéƒ½æ˜¯ç›´æ¥åŸºäºSpringBootæ•´åˆSSMè¿›è¡Œé¡¹ç›®å¼€å‘çš„ã€‚\nåˆ°æ­¤æˆ‘ä»¬webåç«¯å¼€å‘çš„å†…å®¹å°±å·²ç»å…¨éƒ¨è®²è§£ç»“æŸäº†ã€‚\n","date":"0001-01-01T00:00:00Z","permalink":"http://localhost:1313/p/","title":""},{"content":"æ•°æ®åº“å¼€å‘-MySQL å‰è¨€ åœ¨æˆ‘ä»¬è®²è§£SpringBootWebåŸºç¡€çŸ¥è¯†(è¯·æ±‚å“åº”æ¡ˆä¾‹)çš„æ—¶å€™ï¼Œæˆ‘ä»¬è®²åˆ°åœ¨webå¼€å‘ä¸­ï¼Œä¸ºäº†åº”ç”¨ç¨‹åºèŒè´£å•ä¸€ï¼Œæ–¹ä¾¿ç»´æŠ¤ï¼Œæˆ‘ä»¬ä¸€èˆ¬å°†webåº”ç”¨ç¨‹åºåˆ†ä¸ºä¸‰å±‚ï¼Œå³ï¼šControllerã€Serviceã€Dao ã€‚\nä¹‹å‰æˆ‘ä»¬çš„æ¡ˆä¾‹ä¸­ï¼Œæ˜¯è¿™æ ·å­çš„è¯·æ±‚æµç¨‹ï¼šæµè§ˆå™¨å‘èµ·è¯·æ±‚ï¼Œå…ˆè¯·æ±‚Controllerï¼›Controlleræ¥æ”¶åˆ°è¯·æ±‚ä¹‹åï¼Œè°ƒç”¨Serviceè¿›è¡Œä¸šåŠ¡é€»è¾‘å¤„ç†ï¼›Serviceå†è°ƒç”¨Daoï¼ŒDaoå†è§£æuser.xmlä¸­æ‰€å­˜å‚¨çš„æ•°æ®ã€‚\nxmlæ–‡ä»¶ä¸­å¯ä»¥å­˜å‚¨æ•°æ®ï¼Œä½†æ˜¯åœ¨ä¼ä¸šé¡¹ç›®å¼€å‘ä¸­ä¸ä¼šä½¿ç”¨xmlæ–‡ä»¶å­˜å‚¨æ•°æ®ï¼Œå› ä¸ºä¸ä¾¿ç®¡ç†ç»´æŠ¤ï¼Œæ“ä½œéš¾åº¦å¤§ã€‚ åœ¨çœŸå®çš„ä¼ä¸šå¼€å‘ä¸­å‘¢ï¼Œéƒ½ä¼šé‡‡ç”¨æ•°æ®åº“æ¥å­˜å‚¨å’Œç®¡ç†æ•°æ®ï¼Œé‚£æ­¤æ—¶ï¼Œwebå¼€å‘è°ƒç”¨æµç¨‹å›¾å¦‚ä¸‹æ‰€ç¤ºï¼š\né¦–å…ˆæ¥äº†è§£ä¸€ä¸‹ä»€ä¹ˆæ˜¯æ•°æ®åº“ã€‚\næ•°æ®åº“ï¼šè‹±æ–‡ä¸º DataBaseï¼Œç®€ç§°DBï¼Œå®ƒæ˜¯å­˜å‚¨å’Œç®¡ç†æ•°æ®çš„ä»“åº“ã€‚ åƒæˆ‘ä»¬æ—¥å¸¸è®¿é—®çš„ç”µå•†ç½‘ç«™äº¬ä¸œï¼Œä¼ä¸šå†…éƒ¨çš„ç®¡ç†ç³»ç»ŸOAã€ERPã€CRMè¿™ç±»çš„ç³»ç»Ÿï¼Œä»¥åŠå¤§å®¶æ¯å¤©éƒ½ä¼šåˆ·çš„å¤´æ¡ã€æŠ–éŸ³ç±»çš„appï¼Œé‚£è¿™äº›å¤§å®¶æ‰€çœ‹åˆ°çš„æ•°æ®ï¼Œå…¶å®éƒ½æ˜¯å­˜å‚¨åœ¨æ•°æ®åº“ä¸­çš„ã€‚æœ€ç»ˆè¿™äº›æ•°æ®ï¼Œåªæ˜¯åœ¨æµè§ˆå™¨æˆ–appä¸­å±•ç¤ºå‡ºæ¥è€Œå·²ï¼Œæœ€ç»ˆæ•°æ®çš„å­˜å‚¨å’Œç®¡ç†éƒ½æ˜¯æ•°æ®åº“è´Ÿè´£çš„ã€‚\næ•°æ®æ˜¯å­˜å‚¨åœ¨æ•°æ®åº“ä¸­çš„ï¼Œé‚£æˆ‘ä»¬è¦å¦‚ä½•æ¥æ“ä½œæ•°æ®åº“ä»¥åŠæ•°æ®åº“ä¸­æ‰€å­˜æ”¾çš„æ•°æ®å‘¢ï¼Ÿ\né‚£è¿™é‡Œå‘¢ï¼Œä¼šæ¶‰åŠåˆ°ä¸€ä¸ªè½¯ä»¶ï¼šæ•°æ®åº“ç®¡ç†ç³»ç»Ÿï¼ˆDataBase Management Systemï¼Œç®€ç§°DBMSï¼‰\nDBMSæ˜¯æ“ä½œå’Œç®¡ç†æ•°æ®åº“çš„å¤§å‹è½¯ä»¶ã€‚å°†æ¥æˆ‘ä»¬åªéœ€è¦æ“ä½œè¿™ä¸ªè½¯ä»¶ï¼Œå°±å¯ä»¥é€šè¿‡è¿™ä¸ªè½¯ä»¶æ¥æ“çºµå’Œç®¡ç†æ•°æ®åº“äº†ã€‚ æ­¤æ—¶åˆå‡ºç°ä¸€ä¸ªé—®é¢˜ï¼šDBMSè¿™ä¸ªè½¯ä»¶æ€ä¹ˆçŸ¥é“è¦æ“ä½œçš„æ˜¯å“ªä¸ªæ•°æ®åº“ã€å“ªä¸ªæ•°æ®å‘¢ï¼Ÿæ˜¯å¯¹æ•°æ®åšä¿®æ”¹è¿˜æ˜¯æŸ¥è¯¢å‘¢ï¼Ÿ\néœ€è¦ç»™DBMSè½¯ä»¶å‘é€ä¸€æ¡æŒ‡ä»¤ï¼Œå‘Šè¯‰è¿™ä¸ªè½¯ä»¶æˆ‘ä»¬è¦æ‰§è¡Œçš„æ˜¯ä»€ä¹ˆæ ·çš„æ“ä½œï¼Œè¦å¯¹å“ªä¸ªæ•°æ®è¿›è¡Œæ“ä½œã€‚è€Œè¿™ä¸ªæŒ‡ä»¤å°±æ˜¯SQLè¯­å¥ SQLï¼ˆStructured Query Languageï¼Œç®€ç§°SQLï¼‰ï¼šç»“æ„åŒ–æŸ¥è¯¢è¯­è¨€ï¼Œå®ƒæ˜¯æ“ä½œå…³ç³»å‹æ•°æ®åº“çš„ç¼–ç¨‹è¯­è¨€ï¼Œå®šä¹‰äº†ä¸€å¥—æ“ä½œå…³ç³»å‹æ•°æ®åº“çš„ç»Ÿä¸€æ ‡å‡†ã€‚æˆ‘ä»¬å­¦ä¹ æ•°æ®åº“å¼€å‘ï¼Œæœ€ä¸ºé‡è¦çš„å°±æ˜¯å­¦ä¹ SQLè¯­å¥ ã€‚\nå…³ç³»å‹æ•°æ®åº“ï¼šæˆ‘ä»¬åé¢ä¼šè¯¦ç»†è®²è§£ï¼Œç°åœ¨å¤§å®¶åªéœ€è¦çŸ¥é“æˆ‘ä»¬å­¦ä¹ çš„æ•°æ®åº“å±äºå…³ç³»å‹æ•°æ®åº“å³å¯ã€‚\nç»“è®ºï¼šç¨‹åºå‘˜ç»™æ•°æ®åº“ç®¡ç†ç³»ç»Ÿ(DBMS)å‘é€SQLè¯­å¥ï¼Œå†ç”±æ•°æ®åº“ç®¡ç†ç³»ç»Ÿæ“ä½œæ•°æ®åº“å½“ä¸­çš„æ•°æ®ã€‚\näº†è§£äº†æ•°æ®åº“çš„ä¸€äº›ç®€å•æ¦‚å¿µä¹‹åï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å†æ¥ä»‹ç»ä¸‹ç›®å‰ä¸»æµçš„æ•°æ®åº“ï¼Œè¿™é‡Œæˆªå–äº†æ’åå‰åçš„æ•°æ®åº“ï¼š\nOracleï¼šå¤§å‹çš„æ”¶è´¹æ•°æ®åº“ï¼ŒOracleå…¬å¸äº§å“ï¼Œä»·æ ¼æ˜‚è´µã€‚ï¼ˆé€šå¸¸æ˜¯ä¸å·®é’±çš„å…¬å¸ä¼šé€‰æ‹©ä½¿ç”¨è¿™ä¸ªæ•°æ®åº“ï¼‰ MySQLï¼šå¼€æºå…è´¹çš„ä¸­å°å‹æ•°æ®åº“ï¼Œåæ¥Sunå…¬å¸æ”¶è´­äº†MySQLï¼Œè€ŒOracleåˆæ”¶è´­äº†Sunå…¬å¸ã€‚ç›®å‰Oracleæ¨å‡ºä¸¤ä¸ªç‰ˆæœ¬çš„Mysqlï¼šç¤¾åŒºç‰ˆ(å¼€æºå…è´¹)ã€å•†ä¸šç‰ˆ(æ”¶è´¹)ã€‚ SQL Serverï¼šMicrosoft å…¬å¸æ¨å‡ºçš„æ”¶è´¹çš„ä¸­å‹æ•°æ®åº“ï¼ŒC#ã€.netç­‰è¯­è¨€å¸¸ç”¨ã€‚ PostgreSQLï¼šå¼€æºå…è´¹çš„ä¸­å°å‹æ•°æ®åº“ã€‚ DB2ï¼šIBMå…¬å¸çš„å¤§å‹æ”¶è´¹æ•°æ®åº“äº§å“ã€‚ SQLLiteï¼šåµŒå…¥å¼çš„å¾®å‹æ•°æ®åº“ã€‚Androidå†…ç½®çš„æ•°æ®åº“é‡‡ç”¨çš„å°±æ˜¯è¯¥æ•°æ®åº“ã€‚ MariaDBï¼šå¼€æºå…è´¹çš„ä¸­å°å‹æ•°æ®åº“ã€‚æ˜¯MySQLæ•°æ®åº“çš„å¦å¤–ä¸€ä¸ªåˆ†æ”¯ã€å¦å¤–ä¸€ä¸ªè¡ç”Ÿäº§å“ï¼Œä¸MySQLæ•°æ®åº“æœ‰å¾ˆå¥½çš„å…¼å®¹æ€§ã€‚ é‚£è¿™ä¹ˆå¤šæ•°æ®åº“ï¼Œæˆ‘ä»¬å…¨éƒ¨éƒ½éœ€è¦å­¦ä¹ å—ï¼Œå…¶å®å¹¶ä¸ç”¨ï¼Œæˆ‘ä»¬åªéœ€è¦å­¦ä¹ å…¶ä¸­çš„ä¸€ä¸ªå°±å¯ä»¥äº†ï¼Œæˆ‘ä»¬æ­¤æ¬¡è¯¾ç¨‹ä¸­å­¦ä¹ çš„æ•°æ®åº“æ˜¯ç°åœ¨äº’è”ç½‘å…¬å¸å¼€å‘ä½¿ç”¨æœ€ä¸ºæµè¡Œçš„MySQLæ•°æ®åº“ã€‚\næ­¤æ—¶å¤§å®¶å¯èƒ½ä¼šæœ‰ä¸€ä¸ªç–‘é—®ï¼Œæˆ‘ä»¬ç°åœ¨å­¦ä¹ çš„æ˜¯Mysqlæ•°æ®åº“ï¼Œæˆ‘ä»¬ä»¥åå»å…¬å¸åšå¼€å‘ï¼Œå¦‚æœç”¨åˆ°çš„æ˜¯Oracleæ•°æ®åº“æˆ–SQL Serveræ•°æ®åº“è¯¥æ€ä¹ˆåŠï¼Ÿå…¶å®å¤§å®¶å®Œå…¨ä¸ç”¨æ‹…å¿ƒè¿™ä¸ªé—®é¢˜ï¼Œå› ä¸ºè¿™äº›æ•°æ®åº“éƒ½æ˜¯å±äºå…³ç³»å‹æ•°æ®åº“ï¼Œè¦æ“ä½œå…³ç³»å‹æ•°æ®åº“éƒ½æ˜¯é€šè¿‡ SQLè¯­å¥æ¥å®ç°çš„ï¼Œè€ŒSQLè¯­å¥åˆæ˜¯æ“ä½œå…³ç³»å‹æ•°æ®åº“çš„ç»Ÿä¸€æ ‡å‡†ã€‚\nç»“è®ºï¼šåªè¦æˆ‘ä»¬å­¦ä¼šäº†SQLè¯­å¥ï¼Œå°±å¯ä»¥é€šè¿‡SQLè¯­å¥æ¥æ“ä½œMysqlï¼Œä¹Ÿå¯ä»¥é€šè¿‡SQLè¯­å¥æ¥æ“ä½œOracleæˆ–SQL Server\nè¯¾ç¨‹å†…å®¹å®‰æ’ï¼š\nä»¥ä¸Šè¯¾ç¨‹å†…å®¹æ‹†è§£ä¸º3éƒ¨åˆ†çŸ¥è¯†ç‚¹ï¼š\næ¥ä¸‹æ¥æˆ‘ä»¬å°±å…ˆè¿›å…¥åˆ°ç¬¬ä¸€å¤©çš„Mysqlæ¦‚è¿°å­¦ä¹ ã€‚\n1. MySQLæ¦‚è¿° å®˜ç½‘ï¼šhttps://dev.mysql.com/\n1.1 å®‰è£… 1.1.1 ç‰ˆæœ¬ MySQLå®˜æ–¹æä¾›äº†ä¸¤ä¸ªç‰ˆæœ¬ï¼š\nå•†ä¸šç‰ˆæœ¬ï¼ˆMySQL Enterprise Editionï¼‰\nè¯¥ç‰ˆæœ¬æ˜¯æ”¶è´¹çš„ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨30å¤©ã€‚ å®˜æ–¹ä¼šæä¾›å¯¹åº”çš„æŠ€æœ¯æ”¯æŒã€‚ ç¤¾åŒºç‰ˆæœ¬ï¼ˆMySQL Community Serverï¼‰\nè¯¥ç‰ˆæœ¬æ˜¯å…è´¹çš„ï¼Œä½†æ˜¯MySQLä¸ä¼šæä¾›ä»»ä½•çš„æŠ€æœ¯æ”¯æŒã€‚ æœ¬è¯¾ç¨‹ï¼Œé‡‡ç”¨çš„æ˜¯MySQLçš„ç¤¾åŒºç‰ˆæœ¬ï¼ˆ8.0.31ï¼‰\n1.1.2 å®‰è£… å®˜ç½‘ä¸‹è½½åœ°å€ï¼šhttps://downloads.mysql.com/archives/community/\nè¿™ä¸ªå®‰è£…åŒ…å‘¢ï¼Œå¤§å®¶å¯ä»¥ä¸ç”¨ä¸‹è½½ï¼Œå› ä¸ºèµ„æ–™ä¸­å·²æä¾›ç°æˆçš„å®‰è£…åŒ…ã€‚ å®‰è£…MySQLå…·ä½“çš„æ­¥éª¤ï¼Œå‚è€ƒèµ„æ–™ä¸­æä¾›çš„ ã€ŠMySQLå®‰è£…æ–‡æ¡£ã€‹ ï¼Œè¿›è¡Œè½¯ä»¶çš„å®‰è£…å³å¯ã€‚\n1.1.3 è¿æ¥ MySQLæœåŠ¡å™¨å¯åŠ¨å®Œæ¯•åï¼Œç„¶åå†ä½¿ç”¨å¦‚ä¸‹æŒ‡ä»¤ï¼Œæ¥è¿æ¥MySQLæœåŠ¡å™¨ï¼š\n1 mysql -uç”¨æˆ·å -på¯†ç  [-hæ•°æ®åº“æœåŠ¡å™¨çš„IPåœ°å€ -Pç«¯å£å·] -h å‚æ•°ä¸åŠ ï¼Œé»˜è®¤è¿æ¥çš„æ˜¯æœ¬åœ° 127.0.0.1 çš„MySQLæœåŠ¡å™¨\n-P å‚æ•°ä¸åŠ ï¼Œé»˜è®¤è¿æ¥çš„ç«¯å£å·æ˜¯ 3306\nä¸Šè¿°æŒ‡ä»¤ï¼Œå¯ä»¥æœ‰ä¸¤ç§å½¢å¼ï¼š\nå¯†ç ç›´æ¥åœ¨-på‚æ•°ä¹‹åç›´æ¥æŒ‡å®š ï¼ˆè¿™ç§æ–¹å¼ä¸å®‰å…¨ï¼Œå¯†ç ç›´æ¥ä»¥æ˜æ–‡å½¢å¼å‡ºç°åœ¨å‘½ä»¤è¡Œï¼‰ å¯†ç åœ¨-på›è½¦ä¹‹åï¼Œåœ¨å‘½ä»¤è¡Œä¸­è¾“å…¥å¯†ç ï¼Œç„¶åå›è½¦ 1.1.4 ä¼ä¸šä½¿ç”¨æ–¹å¼(äº†è§£) ä¸Šè¿°çš„MySQLæœåŠ¡å™¨æˆ‘ä»¬æ˜¯å®‰è£…åœ¨æœ¬åœ°çš„ï¼Œè¿™ä¸ªä»…ä»…æ˜¯åœ¨æˆ‘ä»¬å­¦ä¹ é˜¶æ®µï¼Œåœ¨çœŸå®çš„ä¼ä¸šå¼€å‘ä¸­ï¼ŒMySQLæ•°æ®åº“æœåŠ¡å™¨æ˜¯ä¸ä¼šåœ¨æˆ‘ä»¬æœ¬åœ°å®‰è£…çš„ï¼Œæ˜¯åœ¨å…¬å¸çš„æœåŠ¡å™¨ä¸Šå®‰è£…çš„ï¼Œè€ŒæœåŠ¡å™¨è¿˜éœ€è¦æ”¾ç½®åœ¨ä¸“é—¨çš„IDCæœºæˆ¿ä¸­çš„ï¼ŒIDCæœºæˆ¿å‘¢ï¼Œå°±éœ€è¦ä¿è¯æ’æ¸©ã€æ’æ¹¿ã€æ’å‹ï¼Œè€Œä¸”è¿˜è¦ä¿è¯ç½‘ç»œã€ç”µæºçš„å¯é æ€§(å¤‡ç”¨ç”µæºåŠç½‘ç»œ)ã€‚\né‚£æˆ‘ä»¬è¦æƒ³ä½¿ç”¨æœåŠ¡å™¨ä¸Šçš„è¿™å°MySQLæœåŠ¡å™¨ï¼Œå°±éœ€è¦åœ¨æˆ‘ä»¬çš„ç”µè„‘ä¸Šå»è¿œç¨‹è¿æ¥è¿™å°MySQLã€‚ è€ŒæœåŠ¡å™¨ä¸Šå®‰è£…çš„MySQLæ•°æ®åº“å‘¢ï¼Œå¹¶ä¸æ˜¯ä½ ä¸€ä¸ªäººåœ¨è®¿é—®ï¼Œæˆ‘ä»¬é¡¹ç›®ç»„çš„å…¶ä»–å¼€å‘äººå‘˜ä¹Ÿæ˜¯éœ€è¦è®¿é—®è¿™å°MySQLçš„ã€‚\næˆ‘ä»¬åœ¨å­¦ä¹ é˜¶æ®µï¼Œå¦‚æœæƒ³æå‰ä½“éªŒä¸€ä¸‹ä¼ä¸šä¸­æ•°æ®åº“çš„ä½¿ç”¨æ–¹å¼ï¼Œå¯ä»¥å€ŸåŠ©äºVMwareè™šæ‹Ÿæœºæ¥å®ç°ã€‚æˆ‘ä»¬å¯ä»¥åœ¨æˆ‘ä»¬çš„ç”µè„‘ä¸Šå®‰è£…ä¸€ä¸ªVMwareï¼Œç„¶ååœ¨Vmwareè™šæ‹Ÿæœºä¸Šåœ¨å®‰è£…ä¸€ä¸ªæœåŠ¡å™¨æ“ä½œç³»ç»ŸLinuxï¼Œç„¶åå†åœ¨LinuxæœåŠ¡å™¨ä¸Šå®‰è£…å„ç§ä¼ä¸šçº§è½¯ä»¶ã€‚\næ¥ä¸‹æ¥ï¼Œå°±æ¥æ¼”ç¤ºä¸€ä¸‹ï¼Œé€šè¿‡MySQLçš„å®¢æˆ·ç«¯å‘½ä»¤è¡Œï¼Œå¦‚ä½•æ¥è¿æ¥æœåŠ¡å™¨ä¸Šéƒ¨ç½²çš„MySQL ï¼š\n1 mysql -uç”¨æˆ·å -på¯†ç  [-hæ•°æ®åº“æœåŠ¡å™¨çš„IPåœ°å€ -Pç«¯å£å·] 1.2 æ•°æ®æ¨¡å‹ ä»‹ç»å®Œäº†Mysqlæ•°æ®åº“çš„å®‰è£…é…ç½®ä¹‹åï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å†æ¥èŠä¸€èŠMysqlå½“ä¸­çš„æ•°æ®æ¨¡å‹ã€‚å­¦å®Œäº†è¿™ä¸€å°èŠ‚ä¹‹åï¼Œæˆ‘ä»¬å°±èƒ½å¤ŸçŸ¥é“åœ¨Mysqlæ•°æ®åº“å½“ä¸­åˆ°åº•æ˜¯å¦‚ä½•æ¥å­˜å‚¨å’Œç®¡ç†æ•°æ®çš„ã€‚\nåœ¨ä»‹ç» Mysqlçš„æ•°æ®æ¨¡å‹ä¹‹å‰ï¼Œéœ€è¦å…ˆäº†è§£ä¸€ä¸ªæ¦‚å¿µï¼šå…³ç³»å‹æ•°æ®åº“ã€‚\nå…³ç³»å‹æ•°æ®åº“ï¼ˆRDBMSï¼‰\næ¦‚å¿µï¼šå»ºç«‹åœ¨å…³ç³»æ¨¡å‹åŸºç¡€ä¸Šï¼Œç”±å¤šå¼ ç›¸äº’è¿æ¥çš„äºŒç»´è¡¨ç»„æˆçš„æ•°æ®åº“ã€‚\nè€Œæ‰€è°“äºŒç»´è¡¨ï¼ŒæŒ‡çš„æ˜¯ç”±è¡Œå’Œåˆ—ç»„æˆçš„è¡¨ï¼Œå¦‚ä¸‹å›¾ï¼š\näºŒç»´è¡¨çš„ä¼˜ç‚¹ï¼š\nä½¿ç”¨è¡¨å­˜å‚¨æ•°æ®ï¼Œæ ¼å¼ç»Ÿä¸€ï¼Œä¾¿äºç»´æŠ¤\nä½¿ç”¨SQLè¯­è¨€æ“ä½œï¼Œæ ‡å‡†ç»Ÿä¸€ï¼Œä½¿ç”¨æ–¹ä¾¿ï¼Œå¯ç”¨äºå¤æ‚æŸ¥è¯¢\næˆ‘ä»¬ä¹‹å‰æåˆ°çš„MySQLã€Oracleã€DB2ã€SQLServerè¿™äº›éƒ½æ˜¯å±äºå…³ç³»å‹æ•°æ®åº“ï¼Œé‡Œé¢éƒ½æ˜¯åŸºäºäºŒç»´è¡¨å­˜å‚¨æ•°æ®çš„ã€‚\nç»“è®ºï¼šåŸºäºäºŒç»´è¡¨å­˜å‚¨æ•°æ®çš„æ•°æ®åº“å°±æˆä¸ºå…³ç³»å‹æ•°æ®åº“ï¼Œä¸æ˜¯åŸºäºäºŒç»´è¡¨å­˜å‚¨æ•°æ®çš„æ•°æ®åº“ï¼Œå°±æ˜¯éå…³ç³»å‹æ•°æ®åº“ï¼ˆæ¯”å¦‚å¤§å®¶åé¢è¦å­¦ä¹ çš„Redisï¼Œå°±å±äºéå…³ç³»å‹æ•°æ®åº“ï¼‰ã€‚\n2). æ•°æ®æ¨¡å‹\nä»‹ç»å®Œäº†å…³ç³»å‹æ•°æ®åº“ä¹‹åï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å†æ¥çœ‹ä¸€çœ‹åœ¨Mysqlæ•°æ®åº“å½“ä¸­åˆ°åº•æ˜¯å¦‚ä½•æ¥å­˜å‚¨æ•°æ®çš„ï¼Œä¹Ÿå°±æ˜¯Mysql çš„æ•°æ®æ¨¡å‹ã€‚\nMySQLæ˜¯å…³ç³»å‹æ•°æ®åº“ï¼Œæ˜¯åŸºäºäºŒç»´è¡¨è¿›è¡Œæ•°æ®å­˜å‚¨çš„ï¼Œå…·ä½“çš„ç»“æ„å›¾ä¸‹:\né€šè¿‡MySQLå®¢æˆ·ç«¯è¿æ¥æ•°æ®åº“ç®¡ç†ç³»ç»ŸDBMSï¼Œç„¶åé€šè¿‡DBMSæ“ä½œæ•°æ®åº“ ä½¿ç”¨MySQLå®¢æˆ·ç«¯ï¼Œå‘æ•°æ®åº“ç®¡ç†ç³»ç»Ÿå‘é€ä¸€æ¡SQLè¯­å¥ï¼Œç”±æ•°æ®åº“ç®¡ç†ç³»ç»Ÿæ ¹æ®SQLè¯­å¥æŒ‡ä»¤å»æ“ä½œæ•°æ®åº“ä¸­çš„è¡¨ç»“æ„åŠæ•°æ® ä¸€ä¸ªæ•°æ®åº“æœåŠ¡å™¨ä¸­å¯ä»¥åˆ›å»ºå¤šä¸ªæ•°æ®åº“ï¼Œä¸€ä¸ªæ•°æ®åº“ä¸­ä¹Ÿå¯ä»¥åŒ…å«å¤šå¼ è¡¨ï¼Œè€Œä¸€å¼ è¡¨ä¸­åˆå¯ä»¥åŒ…å«å¤šè¡Œè®°å½•ã€‚ åœ¨Mysqlæ•°æ®åº“æœåŠ¡å™¨å½“ä¸­å­˜å‚¨æ•°æ®ï¼Œä½ éœ€è¦ï¼š\nå…ˆå»åˆ›å»ºæ•°æ®åº“ï¼ˆå¯ä»¥åˆ›å»ºå¤šä¸ªæ•°æ®åº“ï¼Œä¹‹é—´æ˜¯ç›¸äº’ç‹¬ç«‹çš„ï¼‰ åœ¨æ•°æ®åº“ä¸‹å†å»åˆ›å»ºæ•°æ®è¡¨ï¼ˆä¸€ä¸ªæ•°æ®åº“ä¸‹å¯ä»¥åˆ›å»ºå¤šå¼ è¡¨ï¼‰ å†å°†æ•°æ®å­˜æ”¾åœ¨æ•°æ®è¡¨ä¸­ï¼ˆä¸€å¼ è¡¨å¯ä»¥å­˜å‚¨å¤šè¡Œæ•°æ®ï¼‰ 1.3 SQLç®€ä»‹ SQLï¼šç»“æ„åŒ–æŸ¥è¯¢è¯­è¨€ã€‚ä¸€é—¨æ“ä½œå…³ç³»å‹æ•°æ®åº“çš„ç¼–ç¨‹è¯­è¨€ï¼Œå®šä¹‰æ“ä½œæ‰€æœ‰å…³ç³»å‹æ•°æ®åº“çš„ç»Ÿä¸€æ ‡å‡†ã€‚\nåœ¨å­¦ä¹ å…·ä½“çš„SQLè¯­å¥ä¹‹å‰ï¼Œå…ˆæ¥äº†è§£ä¸€ä¸‹SQLè¯­è¨€çš„è¯­æ³•ã€‚\n1.3.1 SQLé€šç”¨è¯­æ³• 1ã€SQLè¯­å¥å¯ä»¥å•è¡Œæˆ–å¤šè¡Œä¹¦å†™ï¼Œä»¥åˆ†å·ç»“å°¾ã€‚\n2ã€SQLè¯­å¥å¯ä»¥ä½¿ç”¨ç©ºæ ¼/ç¼©è¿›æ¥å¢å¼ºè¯­å¥çš„å¯è¯»æ€§ã€‚\n3ã€MySQLæ•°æ®åº“çš„SQLè¯­å¥ä¸åŒºåˆ†å¤§å°å†™ã€‚\n4ã€æ³¨é‡Šï¼š\nå•è¡Œæ³¨é‡Šï¼š\u0026ndash; æ³¨é‡Šå†…å®¹ æˆ– # æ³¨é‡Šå†…å®¹(MySQLç‰¹æœ‰) å¤šè¡Œæ³¨é‡Šï¼š /* æ³¨é‡Šå†…å®¹ */ ä»¥ä¸Šå°±æ˜¯SQLè¯­å¥çš„é€šç”¨è¯­æ³•ï¼Œè¿™äº›é€šç”¨è¯­æ³•å¤§å®¶ç›®å‰å…ˆæœ‰ä¸€ä¸ªç›´è§‚çš„è®¤è¯†ï¼Œæˆ‘ä»¬åé¢åœ¨è®²è§£æ¯ä¸€ç±»SQLè¯­å¥çš„æ—¶å€™ï¼Œè¿˜ä¼šå†æ¥å¼ºè°ƒé€šç”¨è¯­æ³•ã€‚\n1.3.2 åˆ†ç±» SQLè¯­å¥æ ¹æ®å…¶åŠŸèƒ½è¢«åˆ†ä¸ºå››å¤§ç±»ï¼šDDLã€DMLã€DQLã€DCL\nåˆ†ç±» å…¨ç§° è¯´æ˜ DDL Data Definition Language æ•°æ®å®šä¹‰è¯­è¨€ï¼Œç”¨æ¥å®šä¹‰æ•°æ®åº“å¯¹è±¡(æ•°æ®åº“ï¼Œè¡¨ï¼Œå­—æ®µ) DML Data Manipulation Language æ•°æ®æ“ä½œè¯­è¨€ï¼Œç”¨æ¥å¯¹æ•°æ®åº“è¡¨ä¸­çš„æ•°æ®è¿›è¡Œå¢åˆ æ”¹ DQL Data Query Language æ•°æ®æŸ¥è¯¢è¯­è¨€ï¼Œç”¨æ¥æŸ¥è¯¢æ•°æ®åº“ä¸­è¡¨çš„è®°å½• DCL Data Control Language æ•°æ®æ§åˆ¶è¯­è¨€ï¼Œç”¨æ¥åˆ›å»ºæ•°æ®åº“ç”¨æˆ·ã€æ§åˆ¶æ•°æ®åº“çš„è®¿é—®æƒé™ 2. æ•°æ®åº“è®¾è®¡-DDL ä¸‹é¢æˆ‘ä»¬å°±æ­£å¼çš„è¿›å…¥åˆ°SQLè¯­å¥çš„å­¦ä¹ ï¼Œåœ¨å­¦ä¹ ä¹‹å‰å…ˆç»™å¤§å®¶ä»‹ç»ä¸€ä¸‹æˆ‘ä»¬è¦å¼€å‘ä¸€ä¸ªé¡¹ç›®ï¼Œæ•´ä¸ªå¼€å‘æµç¨‹æ˜¯ä»€ä¹ˆæ ·çš„ï¼Œä»¥åŠåœ¨æµç¨‹å½“ä¸­å“ªäº›ç¯èŠ‚ä¼šæ¶‰åŠåˆ°æ•°æ®åº“ã€‚\n2.1 é¡¹ç›®å¼€å‘æµç¨‹ éœ€æ±‚æ–‡æ¡£ï¼š\nåœ¨æˆ‘ä»¬å¼€å‘ä¸€ä¸ªé¡¹ç›®æˆ–è€…é¡¹ç›®å½“ä¸­çš„æŸä¸ªæ¨¡å—ä¹‹å‰ï¼Œä¼šå…ˆä¼šæ‹¿åˆ°äº§å“ç»ç†ç»™æˆ‘ä»¬æä¾›çš„é¡µé¢åŸå‹åŠéœ€æ±‚æ–‡æ¡£ã€‚ è®¾è®¡ï¼š\næ‹¿åˆ°äº§å“åŸå‹å’Œéœ€æ±‚æ–‡æ¡£ä¹‹åï¼Œæˆ‘ä»¬é¦–å…ˆè¦åšçš„ä¸æ˜¯ç¼–ç ï¼Œè€Œæ˜¯è¦å…ˆè¿›è¡Œé¡¹ç›®çš„è®¾è®¡ï¼Œå…¶ä¸­å°±åŒ…æ‹¬æ¦‚è¦è®¾è®¡ã€è¯¦ç»†è®¾è®¡ã€æ¥å£è®¾è®¡ã€æ•°æ®åº“è®¾è®¡ç­‰ç­‰ã€‚ æ•°æ®åº“è®¾è®¡æ ¹æ®äº§å“åŸå‹ä»¥åŠéœ€æ±‚æ–‡æ¡£ï¼Œè¦åˆ†æå„ä¸ªæ¨¡å—æ¶‰åŠåˆ°çš„è¡¨ç»“æ„ä»¥åŠè¡¨ç»“æ„ä¹‹é—´çš„å…³ç³»ï¼Œä»¥åŠè¡¨ç»“æ„çš„è¯¦ç»†ä¿¡æ¯ã€‚æœ€ç»ˆæˆ‘ä»¬éœ€è¦å°†æ•°æ®åº“ä»¥åŠæ•°æ®åº“å½“ä¸­çš„è¡¨ç»“æ„è®¾è®¡åˆ›å»ºå‡ºæ¥ã€‚ å¼€å‘/æµ‹è¯•ï¼š\nå‚ç…§é¡µé¢åŸå‹å’Œéœ€æ±‚è¿›è¡Œç¼–ç ï¼Œå®ç°ä¸šåŠ¡åŠŸèƒ½ã€‚åœ¨è¿™ä¸ªè¿‡ç¨‹å½“ä¸­ï¼Œæˆ‘ä»¬å°±éœ€è¦æ¥æ“ä½œè®¾è®¡å‡ºæ¥çš„æ•°æ®åº“è¡¨ç»“æ„ï¼Œæ¥å®Œæˆä¸šåŠ¡çš„å¢åˆ æ”¹æŸ¥æ“ä½œç­‰ã€‚ éƒ¨ç½²ä¸Šçº¿ï¼š\nåœ¨é¡¹ç›®çš„åŠŸèƒ½å¼€å‘æµ‹è¯•å®Œæˆä¹‹åï¼Œé¡¹ç›®å°±å¯ä»¥ä¸Šçº¿è¿è¡Œäº†ï¼ŒåæœŸå¦‚æœé¡¹ç›®é‡åˆ°æ€§èƒ½ç“¶é¢ˆï¼Œè¿˜éœ€è¦å¯¹é¡¹ç›®è¿›è¡Œä¼˜åŒ–ã€‚ä¼˜åŒ–å¾ˆé‡è¦çš„ä¸€ä¸ªéƒ¨åˆ†å°±æ˜¯æ•°æ®åº“çš„ä¼˜åŒ–ï¼ŒåŒ…æ‹¬æ•°æ®åº“å½“ä¸­ç´¢å¼•çš„å»ºç«‹ã€SQL çš„ä¼˜åŒ–ã€åˆ†åº“åˆ†è¡¨ç­‰æ“ä½œã€‚ åœ¨ä¸Šè¿°çš„æµç¨‹å½“ä¸­ï¼Œé’ˆå¯¹äºæ•°æ®åº“æ¥è¯´ï¼Œä¸»è¦åŒ…æ‹¬ä¸‰ä¸ªé˜¶æ®µï¼š\næ•°æ®åº“è®¾è®¡é˜¶æ®µ å‚ç…§é¡µé¢åŸå‹ä»¥åŠéœ€æ±‚æ–‡æ¡£è®¾è®¡æ•°æ®åº“è¡¨ç»“æ„ æ•°æ®åº“æ“ä½œé˜¶æ®µ æ ¹æ®ä¸šåŠ¡åŠŸèƒ½çš„å®ç°ï¼Œç¼–å†™SQLè¯­å¥å¯¹æ•°æ®è¡¨ä¸­çš„æ•°æ®è¿›è¡Œå¢åˆ æ”¹æŸ¥æ“ä½œ æ•°æ®åº“ä¼˜åŒ–é˜¶æ®µ é€šè¿‡æ•°æ®åº“çš„ä¼˜åŒ–æ¥æé«˜æ•°æ®åº“çš„è®¿é—®æ€§èƒ½ã€‚ä¼˜åŒ–æ‰‹æ®µï¼šç´¢å¼•ã€SQLä¼˜åŒ–ã€åˆ†åº“åˆ†è¡¨ç­‰ æ¥ä¸‹æ¥æˆ‘ä»¬å°±å…ˆæ¥å­¦ä¹ ç¬¬ä¸€éƒ¨åˆ†æ•°æ®åº“çš„è®¾è®¡ï¼Œè€Œæ•°æ®åº“çš„è®¾è®¡å°±æ˜¯æ¥å®šä¹‰æ•°æ®åº“ï¼Œå®šä¹‰è¡¨ç»“æ„ä»¥åŠè¡¨ä¸­çš„å­—æ®µã€‚\n2.2 æ•°æ®åº“æ“ä½œ æˆ‘ä»¬åœ¨è¿›è¡Œæ•°æ®åº“è®¾è®¡ï¼Œéœ€è¦ä½¿ç”¨åˆ°åˆšæ‰æ‰€ä»‹ç»SQLåˆ†ç±»ä¸­çš„DDLè¯­å¥ã€‚\nDDLè‹±æ–‡å…¨ç§°æ˜¯Data Definition Language(æ•°æ®å®šä¹‰è¯­è¨€)ï¼Œç”¨æ¥å®šä¹‰æ•°æ®åº“å¯¹è±¡(æ•°æ®åº“ã€è¡¨)ã€‚\nDDLä¸­æ•°æ®åº“çš„å¸¸è§æ“ä½œï¼šæŸ¥è¯¢ã€åˆ›å»ºã€ä½¿ç”¨ã€åˆ é™¤ã€‚\n2.2.1 æŸ¥è¯¢æ•°æ®åº“ æŸ¥è¯¢æ‰€æœ‰æ•°æ®åº“ï¼š\n1 show databases; å‘½ä»¤è¡Œä¸­æ‰§è¡Œæ•ˆæœå¦‚ä¸‹ï¼š\næŸ¥è¯¢å½“å‰æ•°æ®åº“ï¼š\n1 select database(); å‘½ä»¤è¡Œä¸­æ‰§è¡Œæ•ˆæœå¦‚æœï¼š\næˆ‘ä»¬è¦æ“ä½œæŸä¸€ä¸ªæ•°æ®åº“ï¼Œå¿…é¡»è¦åˆ‡æ¢åˆ°å¯¹åº”çš„æ•°æ®åº“ä¸­ã€‚\né€šè¿‡æŒ‡ä»¤ï¼šselect database() ï¼Œå°±å¯ä»¥æŸ¥è¯¢åˆ°å½“å‰æ‰€å¤„çš„æ•°æ®åº“\n2.2.2 åˆ›å»ºæ•°æ®åº“ è¯­æ³•ï¼š\n1 create database [ if not exists ] æ•°æ®åº“å; æ¡ˆä¾‹ï¼š åˆ›å»ºä¸€ä¸ªitcastæ•°æ®åº“ã€‚\n1 create database itcast; å‘½ä»¤è¡Œæ‰§è¡Œæ•ˆæœå¦‚ä¸‹ï¼š\n==æ³¨æ„ï¼šåœ¨åŒä¸€ä¸ªæ•°æ®åº“æœåŠ¡å™¨ä¸­ï¼Œä¸èƒ½åˆ›å»ºä¸¤ä¸ªåç§°ç›¸åŒçš„æ•°æ®åº“ï¼Œå¦åˆ™å°†ä¼šæŠ¥é”™ã€‚==\nå¯ä»¥ä½¿ç”¨if not existsæ¥é¿å…è¿™ä¸ªé—®é¢˜ 1 2 -- æ•°æ®åº“ä¸å­˜åœ¨,åˆ™åˆ›å»ºè¯¥æ•°æ®åº“ï¼›å¦‚æœå­˜åœ¨åˆ™ä¸åˆ›å»º create database if not extists itcast; å‘½ä»¤è¡Œæ‰§è¡Œæ•ˆæœå¦‚ä¸‹ï¼š 2.2.3 ä½¿ç”¨æ•°æ®åº“ è¯­æ³•ï¼š\n1 use æ•°æ®åº“å ; æˆ‘ä»¬è¦æ“ä½œæŸä¸€ä¸ªæ•°æ®åº“ä¸‹çš„è¡¨æ—¶ï¼Œå°±éœ€è¦é€šè¿‡è¯¥æŒ‡ä»¤ï¼Œåˆ‡æ¢åˆ°å¯¹åº”çš„æ•°æ®åº“ä¸‹ï¼Œå¦åˆ™ä¸èƒ½æ“ä½œã€‚\næ¡ˆä¾‹ï¼šåˆ‡æ¢åˆ°itcastæ•°æ®\n1 use itcast; å‘½ä»¤æ‰§è¡Œæ•ˆæœå¦‚ä¸‹ï¼š\n2.2.4 åˆ é™¤æ•°æ®åº“ è¯­æ³•ï¼š\n1 drop database [ if exists ] æ•°æ®åº“å ; å¦‚æœåˆ é™¤ä¸€ä¸ªä¸å­˜åœ¨çš„æ•°æ®åº“ï¼Œå°†ä¼šæŠ¥é”™ã€‚\nå¯ä»¥åŠ ä¸Šå‚æ•° if exists ï¼Œå¦‚æœæ•°æ®åº“å­˜åœ¨ï¼Œå†æ‰§è¡Œåˆ é™¤ï¼Œå¦åˆ™ä¸æ‰§è¡Œåˆ é™¤ã€‚\næ¡ˆä¾‹ï¼šåˆ é™¤itcastæ•°æ®åº“\n1 drop database if exists itcast; -- itcastæ•°æ®åº“å­˜åœ¨æ—¶åˆ é™¤ å‘½ä»¤æ‰§è¡Œæ•ˆæœå¦‚ä¸‹ï¼š\nè¯´æ˜ï¼šä¸Šè¿°è¯­æ³•ä¸­çš„databaseï¼Œä¹Ÿå¯ä»¥æ›¿æ¢æˆ schema\nå¦‚ï¼šcreate schema db01; å¦‚ï¼šshow schemas; 2.3 å›¾å½¢åŒ–å·¥å…· 2.3.1 ä»‹ç» å‰é¢æˆ‘ä»¬è®²è§£äº†DDLä¸­å…³äºæ•°æ®åº“æ“ä½œçš„SQLè¯­å¥ï¼Œåœ¨æˆ‘ä»¬ç¼–å†™è¿™äº›SQLæ—¶ï¼Œéƒ½æ˜¯åœ¨å‘½ä»¤è¡Œå½“ä¸­å®Œæˆçš„ã€‚å¤§å®¶åœ¨ç»ƒä¹ çš„æ—¶å€™åº”è¯¥ä¹Ÿæ„Ÿå—åˆ°äº†ï¼Œåœ¨å‘½ä»¤è¡Œå½“ä¸­æ¥æ•²è¿™äº›SQLè¯­å¥å¾ˆä¸æ–¹ä¾¿ï¼Œä¸»è¦çš„åŸå› æœ‰ä»¥ä¸‹ 3 ç‚¹ï¼š\næ²¡æœ‰ä»»ä½•ä»£ç æç¤ºã€‚ï¼ˆå…¨é è®°å¿†ï¼Œå®¹æ˜“æ•²é”™å­—æ¯é€ æˆæ‰§è¡ŒæŠ¥é”™ï¼‰ æ“ä½œç¹çï¼Œå½±å“å¼€å‘æ•ˆç‡ã€‚ï¼ˆæ‰€æœ‰çš„åŠŸèƒ½æ“ä½œéƒ½æ˜¯é€šè¿‡SQLè¯­å¥æ¥å®Œæˆçš„ï¼‰ ç¼–å†™è¿‡çš„SQLä»£ç æ— æ³•ä¿å­˜ã€‚ åœ¨é¡¹ç›®å¼€å‘å½“ä¸­ï¼Œé€šå¸¸ä¸ºäº†æé«˜å¼€å‘æ•ˆç‡ï¼Œéƒ½ä¼šå€ŸåŠ©äºç°æˆçš„å›¾å½¢åŒ–ç®¡ç†å·¥å…·æ¥æ“ä½œæ•°æ®åº“ã€‚\nç›®å‰MySQLä¸»æµçš„å›¾å½¢åŒ–ç•Œé¢å·¥å…·æœ‰ä»¥ä¸‹å‡ ç§ï¼š\nDataGripæ˜¯JetBrainsæ——ä¸‹çš„ä¸€æ¬¾æ•°æ®åº“ç®¡ç†å·¥å…·ï¼Œæ˜¯ç®¡ç†å’Œå¼€å‘MySQLã€Oracleã€PostgreSQLçš„ç†æƒ³è§£å†³æ–¹æ¡ˆã€‚\nå®˜ç½‘ï¼š https://www.jetbrains.com/zh-cn/datagrip/\n2.3.2 å®‰è£… å®‰è£…ï¼š å‚è€ƒèµ„æ–™ä¸­æä¾›çš„ã€ŠDataGripå®‰è£…æ‰‹å†Œã€‹\nè¯´æ˜ï¼šDataGripè¿™æ¬¾å·¥å…·å¯ä»¥ä¸ç”¨å®‰è£…ï¼Œå› ä¸ºJetbrainså…¬å¸å·²ç»å°†DataGripè¿™æ¬¾å·¥å…·çš„åŠŸèƒ½å·²ç»é›†æˆåˆ°äº† IDEAå½“ä¸­ï¼Œæ‰€ä»¥æˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨IDEAæ¥ä½œä¸ºä¸€æ¬¾å›¾å½¢åŒ–ç•Œé¢å·¥å…·æ¥æ“ä½œMysqlæ•°æ®åº“ã€‚\n2.3.3 ä½¿ç”¨ 2.2.3.1 è¿æ¥æ•°æ®åº“ 1ã€æ‰“å¼€IDEAè‡ªå¸¦çš„Database\n2ã€é…ç½®MySQL\n3ã€è¾“å…¥ç›¸å…³ä¿¡æ¯\n4ã€ä¸‹è½½MySQLè¿æ¥é©±åŠ¨\n5ã€æµ‹è¯•æ•°æ®åº“è¿æ¥\n6ã€ä¿å­˜é…ç½®\né»˜è®¤æƒ…å†µä¸‹ï¼Œè¿æ¥ä¸Šäº†MySQLæ•°æ®åº“ä¹‹åï¼Œ æ•°æ®åº“å¹¶æ²¡æœ‰å…¨éƒ¨å±•ç¤ºå‡ºæ¥ã€‚ éœ€è¦é€‰æ‹©è¦å±•ç¤ºå“ªäº›æ•°æ®åº“ã€‚å…·ä½“æ“ä½œå¦‚ä¸‹ï¼š\n2.2.3.2 æ“ä½œæ•°æ®åº“ åˆ›å»ºæ•°æ®åº“ï¼š\næœ‰äº†å›¾å½¢åŒ–ç•Œé¢å·¥å…·åï¼Œå°±å¯ä»¥æ–¹ä¾¿çš„ä½¿ç”¨å›¾å½¢åŒ–å·¥å…·ï¼šåˆ›å»ºæ•°æ®åº“ï¼Œåˆ›å»ºè¡¨ã€ä¿®æ”¹è¡¨ç­‰DDLæ“ä½œã€‚\nå…¶å®å·¥å…·åº•å±‚ä¹Ÿæ˜¯é€šè¿‡DDLè¯­å¥æ“ä½œçš„æ•°æ®åº“ï¼Œåªä¸è¿‡è¿™äº›SQLè¯­å¥æ˜¯å›¾å½¢åŒ–ç•Œé¢å·¥å…·å¸®æˆ‘ä»¬è‡ªåŠ¨å®Œæˆçš„ã€‚\næŸ¥çœ‹æ‰€æœ‰æ•°æ®åº“ï¼š\n2.3 è¡¨æ“ä½œ å­¦ä¹ å®Œäº†DDLè¯­å¥å½“ä¸­å…³äºæ•°æ®åº“çš„æ“ä½œä¹‹åï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬ç»§ç»­å­¦ä¹ DDLè¯­å¥å½“ä¸­å…³äºè¡¨ç»“æ„çš„æ“ä½œã€‚\nå…³äºè¡¨ç»“æ„çš„æ“ä½œä¹Ÿæ˜¯åŒ…å«å››ä¸ªéƒ¨åˆ†ï¼šåˆ›å»ºè¡¨ã€æŸ¥è¯¢è¡¨ã€ä¿®æ”¹è¡¨ã€åˆ é™¤è¡¨ã€‚\n2.3.1 åˆ›å»º 2.3.1.1 è¯­æ³• 1 2 3 4 5 6 create table è¡¨å( å­—æ®µ1 å­—æ®µ1ç±»å‹ [çº¦æŸ] [comment å­—æ®µ1æ³¨é‡Š ], å­—æ®µ2 å­—æ®µ2ç±»å‹ [çº¦æŸ] [comment å­—æ®µ2æ³¨é‡Š ], ...... å­—æ®µn å­—æ®µnç±»å‹ [çº¦æŸ] [comment å­—æ®µnæ³¨é‡Š ] ) [ comment è¡¨æ³¨é‡Š ] ; æ³¨æ„ï¼š [ ] ä¸­çš„å†…å®¹ä¸ºå¯é€‰å‚æ•°ï¼› æœ€åä¸€ä¸ªå­—æ®µåé¢æ²¡æœ‰é€—å·\næ¡ˆä¾‹ï¼šåˆ›å»ºtb_userè¡¨\nå¯¹åº”çš„ç»“æ„å¦‚ä¸‹ï¼š å»ºè¡¨è¯­å¥ï¼š 1 2 3 4 5 6 7 create table tb_user ( id int comment \u0026#39;ID,å”¯ä¸€æ ‡è¯†\u0026#39;, # idæ˜¯ä¸€è¡Œæ•°æ®çš„å”¯ä¸€æ ‡è¯†ï¼ˆä¸èƒ½é‡å¤ï¼‰ username varchar(20) comment \u0026#39;ç”¨æˆ·å\u0026#39;, name varchar(10) comment \u0026#39;å§“å\u0026#39;, age int comment \u0026#39;å¹´é¾„\u0026#39;, gender char(1) comment \u0026#39;æ€§åˆ«\u0026#39; ) comment \u0026#39;ç”¨æˆ·è¡¨\u0026#39;; æ•°æ®è¡¨åˆ›å»ºå®Œæˆï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬è¿˜éœ€è¦æµ‹è¯•ä¸€ä¸‹æ˜¯å¦å¯ä»¥å¾€è¿™å¼ è¡¨ç»“æ„å½“ä¸­æ¥å­˜å‚¨æ•°æ®ã€‚\nåŒå‡»æ‰“å¼€tb_userè¡¨ç»“æ„ï¼Œå¤§å®¶ä¼šå‘ç°é‡Œé¢æ²¡æœ‰æ•°æ®ï¼š\næ·»åŠ æ•°æ®ï¼š\næ­¤æ—¶æˆ‘ä»¬å†æ’å…¥ä¸€æ¡æ•°æ®ï¼š\næˆ‘ä»¬ä¹‹å‰æåˆ°è¿‡ï¼šidå­—æ®µæ˜¯ä¸€è¡Œæ•°æ®çš„å”¯ä¸€æ ‡è¯†ï¼Œä¸èƒ½æœ‰é‡å¤å€¼ã€‚ä½†æ˜¯ç°åœ¨æ•°æ®è¡¨ä¸­æœ‰ä¸¤ä¸ªç›¸åŒçš„idå€¼ï¼Œè¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ\nå…¶å®æˆ‘ä»¬ç°åœ¨åˆ›å»ºè¡¨ç»“æ„çš„æ—¶å€™ï¼Œ idè¿™ä¸ªå­—æ®µæˆ‘ä»¬åªåŠ äº†ä¸€ä¸ªå¤‡æ³¨ä¿¡æ¯è¯´æ˜å®ƒæ˜¯ä¸€ä¸ªå”¯ä¸€æ ‡è¯†ï¼Œä½†æ˜¯åœ¨æ•°æ®åº“å±‚é¢å‘¢ï¼Œå¹¶æ²¡æœ‰å»é™åˆ¶å­—æ®µå­˜å‚¨çš„æ•°æ®ã€‚æ‰€ä»¥idè¿™ä¸ªå­—æ®µæ²¡æœ‰èµ·åˆ°å”¯ä¸€æ ‡è¯†çš„ä½œç”¨ã€‚ æƒ³è¦é™åˆ¶å­—æ®µæ‰€å­˜å‚¨çš„æ•°æ®ï¼Œå°±éœ€è¦ç”¨åˆ°æ•°æ®åº“ä¸­çš„çº¦æŸã€‚\n2.3.1.2 çº¦æŸ æ¦‚å¿µï¼šæ‰€è°“çº¦æŸå°±æ˜¯ä½œç”¨åœ¨è¡¨ä¸­å­—æ®µä¸Šçš„è§„åˆ™ï¼Œç”¨äºé™åˆ¶å­˜å‚¨åœ¨è¡¨ä¸­çš„æ•°æ®ã€‚\nä½œç”¨ï¼šå°±æ˜¯æ¥ä¿è¯æ•°æ®åº“å½“ä¸­æ•°æ®çš„æ­£ç¡®æ€§ã€æœ‰æ•ˆæ€§å’Œå®Œæ•´æ€§ã€‚ï¼ˆåé¢çš„å­¦ä¹ ä¼šéªŒè¯è¿™äº›ï¼‰\nåœ¨MySQLæ•°æ®åº“å½“ä¸­ï¼Œæä¾›äº†ä»¥ä¸‹5ç§çº¦æŸï¼š\nçº¦æŸ æè¿° å…³é”®å­— éç©ºçº¦æŸ é™åˆ¶è¯¥å­—æ®µå€¼ä¸èƒ½ä¸ºnull not null å”¯ä¸€çº¦æŸ ä¿è¯å­—æ®µçš„æ‰€æœ‰æ•°æ®éƒ½æ˜¯å”¯ä¸€ã€ä¸é‡å¤çš„ unique ä¸»é”®çº¦æŸ ä¸»é”®æ˜¯ä¸€è¡Œæ•°æ®çš„å”¯ä¸€æ ‡è¯†ï¼Œè¦æ±‚éç©ºä¸”å”¯ä¸€ primary key é»˜è®¤çº¦æŸ ä¿å­˜æ•°æ®æ—¶ï¼Œå¦‚æœæœªæŒ‡å®šè¯¥å­—æ®µå€¼ï¼Œåˆ™é‡‡ç”¨é»˜è®¤å€¼ default å¤–é”®çº¦æŸ è®©ä¸¤å¼ è¡¨çš„æ•°æ®å»ºç«‹è¿æ¥ï¼Œä¿è¯æ•°æ®çš„ä¸€è‡´æ€§å’Œå®Œæ•´æ€§ foreign key æ³¨æ„ï¼šçº¦æŸæ˜¯ä½œç”¨äºè¡¨ä¸­å­—æ®µä¸Šçš„ï¼Œå¯ä»¥åœ¨åˆ›å»ºè¡¨/ä¿®æ”¹è¡¨çš„æ—¶å€™æ·»åŠ çº¦æŸã€‚\næ¡ˆä¾‹ï¼šåˆ›å»ºtb_userè¡¨\nå¯¹åº”çš„ç»“æ„å¦‚ä¸‹ï¼š åœ¨ä¸Šè¿°çš„è¡¨ç»“æ„ä¸­:\nid æ˜¯ä¸€è¡Œæ•°æ®çš„å”¯ä¸€æ ‡è¯†\nusername ç”¨æˆ·åå­—æ®µæ˜¯éç©ºä¸”å”¯ä¸€çš„\nname å§“åå­—æ®µæ˜¯ä¸å…è®¸å­˜å‚¨ç©ºå€¼çš„\ngender æ€§åˆ«å­—æ®µæ˜¯æœ‰é»˜è®¤å€¼ï¼Œé»˜è®¤ä¸ºç”·\nå»ºè¡¨è¯­å¥ï¼š 1 2 3 4 5 6 7 create table tb_user ( id int primary key comment \u0026#39;ID,å”¯ä¸€æ ‡è¯†\u0026#39;, username varchar(20) not null unique comment \u0026#39;ç”¨æˆ·å\u0026#39;, name varchar(10) not null comment \u0026#39;å§“å\u0026#39;, age int comment \u0026#39;å¹´é¾„\u0026#39;, gender char(1) default \u0026#39;ç”·\u0026#39; comment \u0026#39;æ€§åˆ«\u0026#39; ) comment \u0026#39;ç”¨æˆ·è¡¨\u0026#39;; æ•°æ®è¡¨åˆ›å»ºå®Œæˆï¼Œæ¥ä¸‹æ¥æµ‹è¯•ä¸€ä¸‹è¡¨ä¸­å­—æ®µä¸Šçš„çº¦æŸæ˜¯å¦ç”Ÿæ•ˆ\nå¤§å®¶æœ‰æ²¡æœ‰å‘ç°ä¸€ä¸ªé—®é¢˜ï¼šidå­—æ®µä¸‹å­˜å‚¨çš„å€¼ï¼Œå¦‚æœç”±æˆ‘ä»¬è‡ªå·±æ¥ç»´æŠ¤ä¼šæ¯”è¾ƒéº»çƒ¦(å¿…é¡»ä¿è¯å€¼çš„å”¯ä¸€æ€§)ã€‚MySQLæ•°æ®åº“ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œç»™æˆ‘ä»¬æä¾›äº†ä¸€ä¸ªå…³é”®å­—ï¼šauto_incrementï¼ˆè‡ªåŠ¨å¢é•¿ï¼‰\nä¸»é”®è‡ªå¢ï¼šauto_increment\næ¯æ¬¡æ’å…¥æ–°çš„è¡Œè®°å½•æ—¶ï¼Œæ•°æ®åº“è‡ªåŠ¨ç”Ÿæˆidå­—æ®µ(ä¸»é”®)ä¸‹çš„å€¼ å…·æœ‰auto_incrementçš„æ•°æ®åˆ—æ˜¯ä¸€ä¸ªæ­£æ•°åºåˆ—å¼€å§‹å¢é•¿(ä»1å¼€å§‹è‡ªå¢) 1 2 3 4 5 6 7 create table tb_user ( id int primary key auto_increment comment \u0026#39;ID,å”¯ä¸€æ ‡è¯†\u0026#39;, #ä¸»é”®è‡ªåŠ¨å¢é•¿ username varchar(20) not null unique comment \u0026#39;ç”¨æˆ·å\u0026#39;, name varchar(10) not null comment \u0026#39;å§“å\u0026#39;, age int comment \u0026#39;å¹´é¾„\u0026#39;, gender char(1) default \u0026#39;ç”·\u0026#39; comment \u0026#39;æ€§åˆ«\u0026#39; ) comment \u0026#39;ç”¨æˆ·è¡¨\u0026#39;; æµ‹è¯•ï¼šä¸»é”®è‡ªå¢\n2.3.1.3 æ•°æ®ç±»å‹ åœ¨ä¸Šé¢å»ºè¡¨è¯­å¥ä¸­ï¼Œæˆ‘ä»¬åœ¨æŒ‡å®šå­—æ®µçš„æ•°æ®ç±»å‹æ—¶ï¼Œç”¨åˆ°äº†int ã€varcharã€charï¼Œé‚£ä¹ˆåœ¨MySQLä¸­é™¤äº†ä»¥ä¸Šçš„æ•°æ®ç±»å‹ï¼Œè¿˜æœ‰å“ªäº›å¸¸è§çš„æ•°æ®ç±»å‹å‘¢ï¼Ÿ æ¥ä¸‹æ¥,æˆ‘ä»¬å°±æ¥è¯¦ç»†ä»‹ç»ä¸€ä¸‹MySQLçš„æ•°æ®ç±»å‹ã€‚\nMySQLä¸­çš„æ•°æ®ç±»å‹æœ‰å¾ˆå¤šï¼Œä¸»è¦åˆ†ä¸ºä¸‰ç±»ï¼šæ•°å€¼ç±»å‹ã€å­—ç¬¦ä¸²ç±»å‹ã€æ—¥æœŸæ—¶é—´ç±»å‹ã€‚\næ•°å€¼ç±»å‹\nç±»å‹ å¤§å° æœ‰ç¬¦å·(SIGNED)èŒƒå›´ æ— ç¬¦å·(UNSIGNED)èŒƒå›´ æè¿° TINYINT 1byte (-128ï¼Œ127) (0ï¼Œ255) å°æ•´æ•°å€¼ SMALLINT 2bytes (-32768ï¼Œ32767) (0ï¼Œ65535) å¤§æ•´æ•°å€¼ MEDIUMINT 3bytes (-8388608ï¼Œ8388607) (0ï¼Œ16777215) å¤§æ•´æ•°å€¼ INT/INTEGER 4bytes (-2147483648ï¼Œ2147483647) (0ï¼Œ4294967295) å¤§æ•´æ•°å€¼ BIGINT 8bytes (-2^63ï¼Œ2^63-1) (0ï¼Œ2^64-1) æå¤§æ•´æ•°å€¼ FLOAT 4bytes (-3.402823466 E+38ï¼Œ3.402823466351 E+38) 0 å’Œ (1.175494351 E-38ï¼Œ3.402823466 E+38) å•ç²¾åº¦æµ®ç‚¹æ•°å€¼ DOUBLE 8bytes (-1.7976931348623157 E+308ï¼Œ1.7976931348623157 E+308) 0 å’Œ (2.2250738585072014 E-308ï¼Œ1.7976931348623157 E+308) åŒç²¾åº¦æµ®ç‚¹æ•°å€¼ DECIMAL ä¾èµ–äºM(ç²¾åº¦)å’ŒD(æ ‡åº¦)çš„å€¼ ä¾èµ–äºM(ç²¾åº¦)å’ŒD(æ ‡åº¦)çš„å€¼ å°æ•°å€¼(ç²¾ç¡®å®šç‚¹æ•°) 1 2 3 4 5 6 ç¤ºä¾‹: å¹´é¾„å­—æ®µ ---ä¸ä¼šå‡ºç°è´Ÿæ•°, è€Œä¸”äººçš„å¹´é¾„ä¸ä¼šå¤ªå¤§ age tinyint unsigned åˆ†æ•° ---æ€»åˆ†100åˆ†, æœ€å¤šå‡ºç°ä¸€ä½å°æ•° score double(4,1) å­—ç¬¦ä¸²ç±»å‹\nç±»å‹ å¤§å° æè¿° CHAR 0-255 bytes å®šé•¿å­—ç¬¦ä¸²(éœ€è¦æŒ‡å®šé•¿åº¦) VARCHAR 0-65535 bytes å˜é•¿å­—ç¬¦ä¸²(éœ€è¦æŒ‡å®šé•¿åº¦) TINYBLOB 0-255 bytes ä¸è¶…è¿‡255ä¸ªå­—ç¬¦çš„äºŒè¿›åˆ¶æ•°æ® TINYTEXT 0-255 bytes çŸ­æ–‡æœ¬å­—ç¬¦ä¸² BLOB 0-65 535 bytes äºŒè¿›åˆ¶å½¢å¼çš„é•¿æ–‡æœ¬æ•°æ® TEXT 0-65 535 bytes é•¿æ–‡æœ¬æ•°æ® MEDIUMBLOB 0-16 777 215 bytes äºŒè¿›åˆ¶å½¢å¼çš„ä¸­ç­‰é•¿åº¦æ–‡æœ¬æ•°æ® MEDIUMTEXT 0-16 777 215 bytes ä¸­ç­‰é•¿åº¦æ–‡æœ¬æ•°æ® LONGBLOB 0-4 294 967 295 bytes äºŒè¿›åˆ¶å½¢å¼çš„æå¤§æ–‡æœ¬æ•°æ® LONGTEXT 0-4 294 967 295 bytes æå¤§æ–‡æœ¬æ•°æ® char ä¸ varchar éƒ½å¯ä»¥æè¿°å­—ç¬¦ä¸²ï¼Œcharæ˜¯å®šé•¿å­—ç¬¦ä¸²ï¼ŒæŒ‡å®šé•¿åº¦å¤šé•¿ï¼Œå°±å ç”¨å¤šå°‘ä¸ªå­—ç¬¦ï¼Œå’Œå­—æ®µå€¼çš„é•¿åº¦æ— å…³ ã€‚è€Œvarcharæ˜¯å˜é•¿å­—ç¬¦ä¸²ï¼ŒæŒ‡å®šçš„é•¿åº¦ä¸ºæœ€å¤§å ç”¨é•¿åº¦ ã€‚ç›¸å¯¹æ¥è¯´ï¼Œcharçš„æ€§èƒ½ä¼šæ›´é«˜äº›ã€‚\n1 2 3 4 5 6 ç¤ºä¾‹ï¼š ç”¨æˆ·å username ---é•¿åº¦ä¸å®š, æœ€é•¿ä¸ä¼šè¶…è¿‡50 username varchar(50) æ‰‹æœºå· phone ---å›ºå®šé•¿åº¦ä¸º11 phone char(11) æ—¥æœŸæ—¶é—´ç±»å‹\nç±»å‹ å¤§å° èŒƒå›´ æ ¼å¼ æè¿° DATE 3 1000-01-01 è‡³ 9999-12-31 YYYY-MM-DD æ—¥æœŸå€¼ TIME 3 -838:59:59 è‡³ 838:59:59 HH:MM:SS æ—¶é—´å€¼æˆ–æŒç»­æ—¶é—´ YEAR 1 1901 è‡³ 2155 YYYY å¹´ä»½å€¼ DATETIME 8 1000-01-01 00:00:00 è‡³ 9999-12-31 23:59:59 YYYY-MM-DD HH:MM:SS æ··åˆæ—¥æœŸå’Œæ—¶é—´å€¼ TIMESTAMP 4 1970-01-01 00:00:01 è‡³ 2038-01-19 03:14:07 YYYY-MM-DD HH:MM:SS æ··åˆæ—¥æœŸå’Œæ—¶é—´å€¼ï¼Œæ—¶é—´æˆ³ 1 2 3 4 5 6 ç¤ºä¾‹: ç”Ÿæ—¥å­—æ®µ birthday ---ç”Ÿæ—¥åªéœ€è¦å¹´æœˆæ—¥ birthday date åˆ›å»ºæ—¶é—´ createtime --- éœ€è¦ç²¾ç¡®åˆ°æ—¶åˆ†ç§’ createtime datetime 2.3.1.4 æ¡ˆä¾‹ éœ€æ±‚ï¼šæ ¹æ®äº§å“åŸå‹/éœ€æ±‚åˆ›å»ºè¡¨((è®¾è®¡åˆç†çš„æ•°æ®ç±»å‹ã€é•¿åº¦ã€çº¦æŸ)\nå‚è€ƒèµ„æ–™ä¸­æä¾›çš„ã€Šé»‘é©¬-tliasæ™ºèƒ½å­¦ä¹ è¾…åŠ©ç³»ç»Ÿã€‹é¡µé¢åŸå‹ï¼Œè®¾è®¡å‘˜å·¥ç®¡ç†æ¨¡å—çš„è¡¨ç»“æ„\næš‚ä¸è€ƒè™‘æ‰€å±éƒ¨é—¨å­—æ®µ\näº§å“åŸå‹åŠéœ€æ±‚å¦‚ä¸‹ï¼š\næ­¥éª¤ï¼š\né˜…è¯»äº§å“åŸå‹åŠéœ€æ±‚æ–‡æ¡£ï¼Œçœ‹çœ‹é‡Œé¢æ¶‰åŠåˆ°å“ªäº›å­—æ®µã€‚\næŸ¥çœ‹éœ€æ±‚æ–‡æ¡£è¯´æ˜ï¼Œç¡®è®¤å„ä¸ªå­—æ®µçš„ç±»å‹ä»¥åŠå­—æ®µå­˜å‚¨æ•°æ®çš„é•¿åº¦é™åˆ¶ã€‚\nåœ¨é¡µé¢åŸå‹ä¸­æè¿°çš„åŸºç¡€å­—æ®µçš„åŸºç¡€ä¸Šï¼Œå†å¢åŠ é¢å¤–çš„åŸºç¡€å­—æ®µã€‚\nä½¿ç”¨SQLåˆ›å»ºè¡¨ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 create table emp ( id int unsigned primary key auto_increment comment \u0026#39;ID\u0026#39;, username varchar(20) not null unique comment \u0026#39;ç”¨æˆ·å\u0026#39;, password varchar(32) default \u0026#39;123456\u0026#39; comment \u0026#39;å¯†ç \u0026#39;, name varchar(10) not null comment \u0026#39;å§“å\u0026#39;, gender tinyint unsigned not null comment \u0026#39;æ€§åˆ«, è¯´æ˜: 1 ç”·, 2 å¥³\u0026#39;, image varchar(300) comment \u0026#39;å›¾åƒ\u0026#39;, job tinyint unsigned comment \u0026#39;èŒä½, è¯´æ˜: 1 ç­ä¸»ä»»,2 è®²å¸ˆ, 3 å­¦å·¥ä¸»ç®¡, 4 æ•™ç ”ä¸»ç®¡\u0026#39;, entrydate date comment \u0026#39;å…¥èŒæ—¶é—´\u0026#39;, create_time datetime not null comment \u0026#39;åˆ›å»ºæ—¶é—´\u0026#39;, update_time datetime not null comment \u0026#39;ä¿®æ”¹æ—¶é—´\u0026#39; ) comment \u0026#39;å‘˜å·¥è¡¨\u0026#39;; é™¤äº†ä½¿ç”¨SQLè¯­å¥åˆ›å»ºè¡¨å¤–ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥å€ŸåŠ©äºå›¾å½¢åŒ–ç•Œé¢æ¥åˆ›å»ºè¡¨ç»“æ„ï¼Œè¿™ç§åˆ›å»ºæ–¹å¼ä¼šæ›´åŠ ç›´è§‚ã€æ›´åŠ æ–¹ä¾¿ã€‚\næ“ä½œæ­¥éª¤å¦‚ä¸‹ï¼š\nåœ¨æŒ‡å®šæ“ä½œçš„æ•°æ®åº“ä¸Šï¼Œå³é”®New ==\u0026gt; Table ç¼–è¾‘è¡¨ç»“æ„çš„ç›¸å…³ä¿¡æ¯ 2.3.1.5 è®¾è®¡è¡¨æµç¨‹ é€šè¿‡ä¸Šé¢çš„æ¡ˆä¾‹ï¼Œæˆ‘ä»¬æ˜ç™½äº†ï¼Œè®¾è®¡ä¸€å¼ è¡¨ï¼ŒåŸºæœ¬çš„æµç¨‹å¦‚ä¸‹ï¼š\né˜…è¯»é¡µé¢åŸå‹åŠéœ€æ±‚æ–‡æ¡£\nåŸºäºé¡µé¢åŸåˆ™å’Œéœ€æ±‚æ–‡æ¡£ï¼Œç¡®å®šåŸå‹å­—æ®µ(ç±»å‹ã€é•¿åº¦é™åˆ¶ã€çº¦æŸ)\nå†å¢åŠ è¡¨è®¾è®¡æ‰€éœ€è¦çš„ä¸šåŠ¡åŸºç¡€å­—æ®µ(idä¸»é”®ã€æ’å…¥æ—¶é—´ã€ä¿®æ”¹æ—¶é—´)\nè¯´æ˜ï¼š\ncreate_timeï¼šè®°å½•çš„æ˜¯å½“å‰è¿™æ¡æ•°æ®æ’å…¥çš„æ—¶é—´ã€‚\nupdate_timeï¼šè®°å½•å½“å‰è¿™æ¡æ•°æ®æœ€åæ›´æ–°çš„æ—¶é—´ã€‚\n2.3.2 æŸ¥è¯¢ å…³äºè¡¨ç»“æ„çš„æŸ¥è¯¢æ“ä½œï¼Œå·¥ä½œä¸­ä¸€èˆ¬éƒ½æ˜¯ç›´æ¥åŸºäºå›¾å½¢åŒ–ç•Œé¢æ“ä½œã€‚\næŸ¥è¯¢å½“å‰æ•°æ®åº“æ‰€æœ‰è¡¨\n1 show tables; æŸ¥çœ‹æŒ‡å®šè¡¨ç»“æ„\n1 desc è¡¨å ;#å¯ä»¥æŸ¥çœ‹æŒ‡å®šè¡¨çš„å­—æ®µã€å­—æ®µçš„ç±»å‹ã€æ˜¯å¦å¯ä»¥ä¸ºNULLã€æ˜¯å¦å­˜åœ¨é»˜è®¤å€¼ç­‰ä¿¡æ¯ æŸ¥è¯¢æŒ‡å®šè¡¨çš„å»ºè¡¨è¯­å¥\n1 show create table è¡¨å ; 2.3.3 ä¿®æ”¹ å…³äºè¡¨ç»“æ„çš„ä¿®æ”¹æ“ä½œï¼Œå·¥ä½œä¸­ä¸€èˆ¬éƒ½æ˜¯ç›´æ¥åŸºäºå›¾å½¢åŒ–ç•Œé¢æ“ä½œã€‚\næ·»åŠ å­—æ®µ\n1 alter table è¡¨å add å­—æ®µå ç±»å‹(é•¿åº¦) [comment æ³¨é‡Š] [çº¦æŸ]; æ¡ˆä¾‹ï¼š ä¸ºtb_empè¡¨æ·»åŠ å­—æ®µqqï¼Œå­—æ®µç±»å‹ä¸º varchar(11)\n1 alter table tb_emp add qq varchar(11) comment \u0026#39;QQå·ç \u0026#39;; å›¾å½¢åŒ–æ“ä½œï¼šæ·»åŠ å­—æ®µ\nä¿®æ”¹æ•°æ®ç±»å‹\n1 alter table è¡¨å modify å­—æ®µå æ–°æ•°æ®ç±»å‹(é•¿åº¦); 1 alter table è¡¨å change æ—§å­—æ®µå æ–°å­—æ®µå ç±»å‹(é•¿åº¦) [comment æ³¨é‡Š] [çº¦æŸ]; æ¡ˆä¾‹ï¼šä¿®æ”¹qqå­—æ®µçš„å­—æ®µç±»å‹ï¼Œå°†å…¶é•¿åº¦ç”±11ä¿®æ”¹ä¸º13\n1 alter table tb_emp modify qq varchar(13) comment \u0026#39;QQå·ç \u0026#39;; æ¡ˆä¾‹ï¼šä¿®æ”¹qqå­—æ®µåä¸º qq_numï¼Œå­—æ®µç±»å‹varchar(13)\n1 alter table tb_emp change qq qq_num varchar(13) comment \u0026#39;QQå·ç \u0026#39;; å›¾å½¢åŒ–æ“ä½œï¼šä¿®æ”¹æ•°æ®ç±»å‹å’Œå­—æ®µå\nåˆ é™¤å­—æ®µ\n1 alter table è¡¨å drop å­—æ®µå; æ¡ˆä¾‹ï¼šåˆ é™¤tb_empè¡¨ä¸­çš„qq_numå­—æ®µ\n1 alter table tb_emp drop qq_num; å›¾å½¢åŒ–æ“ä½œï¼šåˆ é™¤å­—æ®µ\nä¿®æ”¹è¡¨å\n1 rename table è¡¨å to æ–°è¡¨å; æ¡ˆä¾‹ï¼šå°†å½“å‰çš„tb_empè¡¨çš„è¡¨åä¿®æ”¹ä¸ºemp\n1 rename table tb_emp to emp; å›¾å½¢åŒ–æ“ä½œï¼šä¿®æ”¹è¡¨å\n2.3.4 åˆ é™¤ å…³äºè¡¨ç»“æ„çš„åˆ é™¤æ“ä½œï¼Œå·¥ä½œä¸­ä¸€èˆ¬éƒ½æ˜¯ç›´æ¥åŸºäºå›¾å½¢åŒ–ç•Œé¢æ“ä½œã€‚\nåˆ é™¤è¡¨è¯­æ³•ï¼š\n1 drop table [ if exists ] è¡¨å; if exists ï¼šåªæœ‰è¡¨åå­˜åœ¨æ—¶æ‰ä¼šåˆ é™¤è¯¥è¡¨ï¼Œè¡¨åä¸å­˜åœ¨ï¼Œåˆ™ä¸æ‰§è¡Œåˆ é™¤æ“ä½œ(å¦‚æœä¸åŠ è¯¥å‚æ•°é¡¹ï¼Œåˆ é™¤ä¸€å¼ ä¸å­˜åœ¨çš„è¡¨ï¼Œæ‰§è¡Œå°†ä¼šæŠ¥é”™)ã€‚\næ¡ˆä¾‹ï¼šå¦‚æœtb_empè¡¨å­˜åœ¨ï¼Œåˆ™åˆ é™¤tb_empè¡¨\n1 drop table if exists tb_emp; -- åœ¨åˆ é™¤è¡¨æ—¶ï¼Œè¡¨ä¸­çš„å…¨éƒ¨æ•°æ®ä¹Ÿä¼šè¢«åˆ é™¤ã€‚ å›¾å½¢åŒ–æ“ä½œï¼šåˆ é™¤è¡¨\n3. æ•°æ®åº“æ“ä½œ-DML DMLè‹±æ–‡å…¨ç§°æ˜¯Data Manipulation Language(æ•°æ®æ“ä½œè¯­è¨€)ï¼Œç”¨æ¥å¯¹æ•°æ®åº“ä¸­è¡¨çš„æ•°æ®è®°å½•è¿›è¡Œå¢ã€åˆ ã€æ”¹æ“ä½œã€‚\næ·»åŠ æ•°æ®ï¼ˆINSERTï¼‰ ä¿®æ”¹æ•°æ®ï¼ˆUPDATEï¼‰ åˆ é™¤æ•°æ®ï¼ˆDELETEï¼‰ 3.1 å¢åŠ (insert) insertè¯­æ³•ï¼š\nå‘æŒ‡å®šå­—æ®µæ·»åŠ æ•°æ®\n1 insert into è¡¨å (å­—æ®µå1, å­—æ®µå2) values (å€¼1, å€¼2); å…¨éƒ¨å­—æ®µæ·»åŠ æ•°æ®\n1 insert into è¡¨å values (å€¼1, å€¼2, ...); æ‰¹é‡æ·»åŠ æ•°æ®ï¼ˆæŒ‡å®šå­—æ®µï¼‰\n1 insert into è¡¨å (å­—æ®µå1, å­—æ®µå2) values (å€¼1, å€¼2), (å€¼1, å€¼2); æ‰¹é‡æ·»åŠ æ•°æ®ï¼ˆå…¨éƒ¨å­—æ®µï¼‰\n1 insert into è¡¨å values (å€¼1, å€¼2, ...), (å€¼1, å€¼2, ...); æ¡ˆä¾‹1ï¼šå‘tb_empè¡¨çš„usernameã€nameã€genderå­—æ®µæ’å…¥æ•°æ®\n1 2 3 -- å› ä¸ºè®¾è®¡è¡¨æ—¶create_time, update_timeä¸¤ä¸ªå­—æ®µä¸èƒ½ä¸ºNULLï¼Œæ‰€ä»¥ä¹Ÿåšä¸ºè¦æ’å…¥çš„å­—æ®µ insert into tb_emp(username, name, gender, create_time, update_time) values (\u0026#39;wuji\u0026#39;, \u0026#39;å¼ æ— å¿Œ\u0026#39;, 1, now(), now()); æ¡ˆä¾‹2ï¼šå‘tb_empè¡¨çš„æ‰€æœ‰å­—æ®µæ’å…¥æ•°æ®\n1 2 insert into tb_emp(id, username, password, name, gender, image, job, entrydate, create_time, update_time) values (null, \u0026#39;zhirou\u0026#39;, \u0026#39;123\u0026#39;, \u0026#39;å‘¨èŠ·è‹¥\u0026#39;, 2, \u0026#39;1.jpg\u0026#39;, 1, \u0026#39;2010-01-01\u0026#39;, now(), now()); æ¡ˆä¾‹3ï¼šæ‰¹é‡å‘tb_empè¡¨çš„usernameã€nameã€genderå­—æ®µæ’å…¥æ•°æ®\n1 2 3 insert into tb_emp(username, name, gender, create_time, update_time) values (\u0026#39;weifuwang\u0026#39;, \u0026#39;éŸ¦ä¸€ç¬‘\u0026#39;, 1, now(), now()), (\u0026#39;fengzi\u0026#39;, \u0026#39;å¼ ä¸‰ç–¯\u0026#39;, 1, now(), now()); å›¾å½¢åŒ–æ“ä½œï¼šåŒå‡»tb_empè¡¨æŸ¥çœ‹æ•°æ®\nInsertæ“ä½œçš„æ³¨æ„äº‹é¡¹ï¼š\næ’å…¥æ•°æ®æ—¶ï¼ŒæŒ‡å®šçš„å­—æ®µé¡ºåºéœ€è¦ä¸å€¼çš„é¡ºåºæ˜¯ä¸€ä¸€å¯¹åº”çš„ã€‚\nå­—ç¬¦ä¸²å’Œæ—¥æœŸå‹æ•°æ®åº”è¯¥åŒ…å«åœ¨å¼•å·ä¸­ã€‚\næ’å…¥çš„æ•°æ®å¤§å°ï¼Œåº”è¯¥åœ¨å­—æ®µçš„è§„å®šèŒƒå›´å†…ã€‚\n3.2 ä¿®æ”¹(update) updateè¯­æ³•ï¼š\n1 update è¡¨å set å­—æ®µå1 = å€¼1 , å­—æ®µå2 = å€¼2 , .... [where æ¡ä»¶] ; æ¡ˆä¾‹1ï¼šå°†tb_empè¡¨ä¸­idä¸º1çš„å‘˜å·¥ï¼Œå§“ånameå­—æ®µæ›´æ–°ä¸º\u0026rsquo;å¼ ä¸‰'\n1 update tb_emp set name=\u0026#39;å¼ ä¸‰\u0026#39;,update_time=now() where id=1; æ¡ˆä¾‹2ï¼šå°†tb_empè¡¨çš„æ‰€æœ‰å‘˜å·¥å…¥èŒæ—¥æœŸæ›´æ–°ä¸º'2010-01-01'\n1 update tb_emp set entrydate=\u0026#39;2010-01-01\u0026#39;,update_time=now(); æ³¨æ„äº‹é¡¹:\nä¿®æ”¹è¯­å¥çš„æ¡ä»¶å¯ä»¥æœ‰ï¼Œä¹Ÿå¯ä»¥æ²¡æœ‰ï¼Œå¦‚æœæ²¡æœ‰æ¡ä»¶ï¼Œåˆ™ä¼šä¿®æ”¹æ•´å¼ è¡¨çš„æ‰€æœ‰æ•°æ®ã€‚\nåœ¨ä¿®æ”¹æ•°æ®æ—¶ï¼Œä¸€èˆ¬éœ€è¦åŒæ—¶ä¿®æ”¹å…¬å…±å­—æ®µupdate_timeï¼Œå°†å…¶ä¿®æ”¹ä¸ºå½“å‰æ“ä½œæ—¶é—´ã€‚\n3.3 åˆ é™¤(delete) deleteè¯­æ³•ï¼š\n1 delete from è¡¨å [where æ¡ä»¶] ; æ¡ˆä¾‹1ï¼šåˆ é™¤tb_empè¡¨ä¸­idä¸º1çš„å‘˜å·¥\n1 delete from tb_emp where id = 1; æ¡ˆä¾‹2ï¼šåˆ é™¤tb_empè¡¨ä¸­æ‰€æœ‰å‘˜å·¥\n1 delete from tb_emp; æ³¨æ„äº‹é¡¹:\nâ€‹\tâ€¢ DELETE è¯­å¥çš„æ¡ä»¶å¯ä»¥æœ‰ï¼Œä¹Ÿå¯ä»¥æ²¡æœ‰ï¼Œå¦‚æœæ²¡æœ‰æ¡ä»¶ï¼Œåˆ™ä¼šåˆ é™¤æ•´å¼ è¡¨çš„æ‰€æœ‰æ•°æ®ã€‚\nâ€‹\tâ€¢ DELETE è¯­å¥ä¸èƒ½åˆ é™¤æŸä¸€ä¸ªå­—æ®µçš„å€¼(å¯ä»¥ä½¿ç”¨UPDATEï¼Œå°†è¯¥å­—æ®µå€¼ç½®ä¸ºNULLå³å¯)ã€‚\nâ€‹\tâ€¢ å½“è¿›è¡Œåˆ é™¤å…¨éƒ¨æ•°æ®æ“ä½œæ—¶ï¼Œä¼šæç¤ºè¯¢é—®æ˜¯å¦ç¡®è®¤åˆ é™¤æ‰€æœ‰æ•°æ®ï¼Œç›´æ¥ç‚¹å‡»Executeå³å¯ã€‚\n","date":"0001-01-01T00:00:00Z","permalink":"http://localhost:1313/p/","title":""},{"content":"æ•°æ®åº“å¼€å‘-MySQL åœ¨ä¸Šæ¬¡å­¦ä¹ çš„å†…å®¹ä¸­ï¼Œæˆ‘ä»¬è®²è§£äº†ï¼š\nä½¿ç”¨DDLè¯­å¥æ¥æ“ä½œæ•°æ®åº“ä»¥åŠè¡¨ç»“æ„ï¼ˆæ•°æ®åº“è®¾è®¡ï¼‰ ä½¿ç”¨DMLè¯­å¥æ¥å®Œæˆæ•°æ®åº“ä¸­æ•°æ®çš„å¢ã€åˆ ã€æ”¹æ“ä½œï¼ˆæ•°æ®åº“æ“ä½œï¼‰ æˆ‘ä»¬ä»Šå¤©è¿˜æ˜¯ç»§ç»­å­¦ä¹ æ•°æ®åº“æ“ä½œæ–¹é¢çš„å†…å®¹ï¼šæŸ¥è¯¢ï¼ˆDQLè¯­å¥ï¼‰ã€‚\næŸ¥è¯¢æ“ä½œæˆ‘ä»¬åˆ†ä¸ºä¸¤éƒ¨åˆ†å­¦ä¹ ï¼š\nDQLè¯­å¥-å•è¡¨æ“ä½œ DQLè¯­å¥-å¤šè¡¨æ“ä½œ 1. æ•°æ®åº“æ“ä½œ-DQL 1.1 ä»‹ç» DQLè‹±æ–‡å…¨ç§°æ˜¯Data Query Language(æ•°æ®æŸ¥è¯¢è¯­è¨€)ï¼Œç”¨æ¥æŸ¥è¯¢æ•°æ®åº“è¡¨ä¸­çš„è®°å½•ã€‚\næŸ¥è¯¢å…³é”®å­—ï¼šSELECT\næŸ¥è¯¢æ“ä½œæ˜¯æ‰€æœ‰SQLè¯­å¥å½“ä¸­æœ€ä¸ºå¸¸è§ï¼Œä¹Ÿæ˜¯æœ€ä¸ºé‡è¦çš„æ“ä½œã€‚åœ¨ä¸€ä¸ªæ­£å¸¸çš„ä¸šåŠ¡ç³»ç»Ÿä¸­ï¼ŒæŸ¥è¯¢æ“ä½œçš„ä½¿ç”¨é¢‘æ¬¡æ˜¯è¦è¿œé«˜äºå¢åˆ æ”¹æ“ä½œçš„ã€‚å½“æˆ‘ä»¬æ‰“å¼€æŸä¸ªç½‘ç«™æˆ–APPæ‰€çœ‹åˆ°çš„å±•ç¤ºä¿¡æ¯ï¼Œéƒ½æ˜¯é€šè¿‡ä»æ•°æ®åº“ä¸­æŸ¥è¯¢å¾—åˆ°çš„ï¼Œè€Œåœ¨è¿™ä¸ªæŸ¥è¯¢è¿‡ç¨‹ä¸­ï¼Œè¿˜ä¼šæ¶‰åŠåˆ°æ¡ä»¶ã€æ’åºã€åˆ†é¡µç­‰æ“ä½œã€‚\n1.2 è¯­æ³• DQLæŸ¥è¯¢è¯­å¥ï¼Œè¯­æ³•ç»“æ„å¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 SELECT å­—æ®µåˆ—è¡¨ FROM è¡¨ååˆ—è¡¨ WHERE æ¡ä»¶åˆ—è¡¨ GROUP BY åˆ†ç»„å­—æ®µåˆ—è¡¨ HAVING åˆ†ç»„åæ¡ä»¶åˆ—è¡¨ ORDER BY æ’åºå­—æ®µåˆ—è¡¨ LIMIT åˆ†é¡µå‚æ•° æˆ‘ä»¬ä»Šå¤©ä¼šå°†ä¸Šé¢çš„å®Œæ•´è¯­æ³•æ‹†åˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªéƒ¨åˆ†å­¦ä¹ ï¼š\nåŸºæœ¬æŸ¥è¯¢ï¼ˆä¸å¸¦ä»»ä½•æ¡ä»¶ï¼‰ æ¡ä»¶æŸ¥è¯¢ï¼ˆwhereï¼‰ åˆ†ç»„æŸ¥è¯¢ï¼ˆgroup byï¼‰ æ’åºæŸ¥è¯¢ï¼ˆorder byï¼‰ åˆ†é¡µæŸ¥è¯¢ï¼ˆlimitï¼‰ å‡†å¤‡ä¸€äº›æµ‹è¯•æ•°æ®ç”¨äºæŸ¥è¯¢æ“ä½œï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 create database db02; -- åˆ›å»ºæ•°æ®åº“ use db02; -- åˆ‡æ¢æ•°æ®åº“ -- å‘˜å·¥ç®¡ç†(å¸¦çº¦æŸ) create table tb_emp ( id int unsigned primary key auto_increment comment \u0026#39;ID\u0026#39;, username varchar(20) not null unique comment \u0026#39;ç”¨æˆ·å\u0026#39;, password varchar(32) default \u0026#39;123456\u0026#39; comment \u0026#39;å¯†ç \u0026#39;, name varchar(10) not null comment \u0026#39;å§“å\u0026#39;, gender tinyint unsigned not null comment \u0026#39;æ€§åˆ«, è¯´æ˜: 1 ç”·, 2 å¥³\u0026#39;, image varchar(300) comment \u0026#39;å›¾åƒ\u0026#39;, job tinyint unsigned comment \u0026#39;èŒä½, è¯´æ˜: 1 ç­ä¸»ä»»,2 è®²å¸ˆ, 3 å­¦å·¥ä¸»ç®¡, 4 æ•™ç ”ä¸»ç®¡\u0026#39;, entrydate date comment \u0026#39;å…¥èŒæ—¶é—´\u0026#39;, create_time datetime not null comment \u0026#39;åˆ›å»ºæ—¶é—´\u0026#39;, update_time datetime not null comment \u0026#39;ä¿®æ”¹æ—¶é—´\u0026#39; ) comment \u0026#39;å‘˜å·¥è¡¨\u0026#39;; -- å‡†å¤‡æµ‹è¯•æ•°æ® INSERT INTO tb_emp (id, username, password, name, gender, image, job, entrydate, create_time, update_time) VALUES (1, \u0026#39;jinyong\u0026#39;, \u0026#39;123456\u0026#39;, \u0026#39;é‡‘åº¸\u0026#39;, 1, \u0026#39;1.jpg\u0026#39;, 4, \u0026#39;2000-01-01\u0026#39;, \u0026#39;2022-10-27 16:35:33\u0026#39;, \u0026#39;2022-10-27 16:35:35\u0026#39;), (2, \u0026#39;zhangwuji\u0026#39;, \u0026#39;123456\u0026#39;, \u0026#39;å¼ æ— å¿Œ\u0026#39;, 1, \u0026#39;2.jpg\u0026#39;, 2, \u0026#39;2015-01-01\u0026#39;, \u0026#39;2022-10-27 16:35:33\u0026#39;, \u0026#39;2022-10-27 16:35:37\u0026#39;), (3, \u0026#39;yangxiao\u0026#39;, \u0026#39;123456\u0026#39;, \u0026#39;æ¨é€\u0026#39;, 1, \u0026#39;3.jpg\u0026#39;, 2, \u0026#39;2008-05-01\u0026#39;, \u0026#39;2022-10-27 16:35:33\u0026#39;, \u0026#39;2022-10-27 16:35:39\u0026#39;), (4, \u0026#39;weiyixiao\u0026#39;, \u0026#39;123456\u0026#39;, \u0026#39;éŸ¦ä¸€ç¬‘\u0026#39;, 1, \u0026#39;4.jpg\u0026#39;, 2, \u0026#39;2007-01-01\u0026#39;, \u0026#39;2022-10-27 16:35:33\u0026#39;, \u0026#39;2022-10-27 16:35:41\u0026#39;), (5, \u0026#39;changyuchun\u0026#39;, \u0026#39;123456\u0026#39;, \u0026#39;å¸¸é‡æ˜¥\u0026#39;, 1, \u0026#39;5.jpg\u0026#39;, 2, \u0026#39;2012-12-05\u0026#39;, \u0026#39;2022-10-27 16:35:33\u0026#39;, \u0026#39;2022-10-27 16:35:43\u0026#39;), (6, \u0026#39;xiaozhao\u0026#39;, \u0026#39;123456\u0026#39;, \u0026#39;å°æ˜­\u0026#39;, 2, \u0026#39;6.jpg\u0026#39;, 3, \u0026#39;2013-09-05\u0026#39;, \u0026#39;2022-10-27 16:35:33\u0026#39;, \u0026#39;2022-10-27 16:35:45\u0026#39;), (7, \u0026#39;jixiaofu\u0026#39;, \u0026#39;123456\u0026#39;, \u0026#39;çºªæ™“èŠ™\u0026#39;, 2, \u0026#39;7.jpg\u0026#39;, 1, \u0026#39;2005-08-01\u0026#39;, \u0026#39;2022-10-27 16:35:33\u0026#39;, \u0026#39;2022-10-27 16:35:47\u0026#39;), (8, \u0026#39;zhouzhiruo\u0026#39;, \u0026#39;123456\u0026#39;, \u0026#39;å‘¨èŠ·è‹¥\u0026#39;, 2, \u0026#39;8.jpg\u0026#39;, 1, \u0026#39;2014-11-09\u0026#39;, \u0026#39;2022-10-27 16:35:33\u0026#39;, \u0026#39;2022-10-27 16:35:49\u0026#39;), (9, \u0026#39;dingminjun\u0026#39;, \u0026#39;123456\u0026#39;, \u0026#39;ä¸æ•å›\u0026#39;, 2, \u0026#39;9.jpg\u0026#39;, 1, \u0026#39;2011-03-11\u0026#39;, \u0026#39;2022-10-27 16:35:33\u0026#39;, \u0026#39;2022-10-27 16:35:51\u0026#39;), (10, \u0026#39;zhaomin\u0026#39;, \u0026#39;123456\u0026#39;, \u0026#39;èµµæ•\u0026#39;, 2, \u0026#39;10.jpg\u0026#39;, 1, \u0026#39;2013-09-05\u0026#39;, \u0026#39;2022-10-27 16:35:33\u0026#39;, \u0026#39;2022-10-27 16:35:53\u0026#39;), (11, \u0026#39;luzhangke\u0026#39;, \u0026#39;123456\u0026#39;, \u0026#39;é¹¿æ–å®¢\u0026#39;, 1, \u0026#39;11.jpg\u0026#39;, 2, \u0026#39;2007-02-01\u0026#39;, \u0026#39;2022-10-27 16:35:33\u0026#39;, \u0026#39;2022-10-27 16:35:55\u0026#39;), (12, \u0026#39;hebiweng\u0026#39;, \u0026#39;123456\u0026#39;, \u0026#39;é¹¤ç¬”ç¿\u0026#39;, 1, \u0026#39;12.jpg\u0026#39;, 2, \u0026#39;2008-08-18\u0026#39;, \u0026#39;2022-10-27 16:35:33\u0026#39;, \u0026#39;2022-10-27 16:35:57\u0026#39;), (13, \u0026#39;fangdongbai\u0026#39;, \u0026#39;123456\u0026#39;, \u0026#39;æ–¹ä¸œç™½\u0026#39;, 1, \u0026#39;13.jpg\u0026#39;, 1, \u0026#39;2012-11-01\u0026#39;, \u0026#39;2022-10-27 16:35:33\u0026#39;, \u0026#39;2022-10-27 16:35:59\u0026#39;), (14, \u0026#39;zhangsanfeng\u0026#39;, \u0026#39;123456\u0026#39;, \u0026#39;å¼ ä¸‰ä¸°\u0026#39;, 1, \u0026#39;14.jpg\u0026#39;, 2, \u0026#39;2002-08-01\u0026#39;, \u0026#39;2022-10-27 16:35:33\u0026#39;, \u0026#39;2022-10-27 16:36:01\u0026#39;), (15, \u0026#39;yulianzhou\u0026#39;, \u0026#39;123456\u0026#39;, \u0026#39;ä¿è²èˆŸ\u0026#39;, 1, \u0026#39;15.jpg\u0026#39;, 2, \u0026#39;2011-05-01\u0026#39;, \u0026#39;2022-10-27 16:35:33\u0026#39;, \u0026#39;2022-10-27 16:36:03\u0026#39;), (16, \u0026#39;songyuanqiao\u0026#39;, \u0026#39;123456\u0026#39;, \u0026#39;å®‹è¿œæ¡¥\u0026#39;, 1, \u0026#39;16.jpg\u0026#39;, 2, \u0026#39;2010-01-01\u0026#39;, \u0026#39;2022-10-27 16:35:33\u0026#39;, \u0026#39;2022-10-27 16:36:05\u0026#39;), (17, \u0026#39;chenyouliang\u0026#39;, \u0026#39;12345678\u0026#39;, \u0026#39;é™ˆå‹è°…\u0026#39;, 1, \u0026#39;17.jpg\u0026#39;, null, \u0026#39;2015-03-21\u0026#39;, \u0026#39;2022-10-27 16:35:33\u0026#39;, \u0026#39;2022-10-27 16:36:07\u0026#39;), (18, \u0026#39;zhang1\u0026#39;, \u0026#39;123456\u0026#39;, \u0026#39;å¼ ä¸€\u0026#39;, 1, \u0026#39;2.jpg\u0026#39;, 2, \u0026#39;2015-01-01\u0026#39;, \u0026#39;2022-10-27 16:35:33\u0026#39;, \u0026#39;2022-10-27 16:36:09\u0026#39;), (19, \u0026#39;zhang2\u0026#39;, \u0026#39;123456\u0026#39;, \u0026#39;å¼ äºŒ\u0026#39;, 1, \u0026#39;2.jpg\u0026#39;, 2, \u0026#39;2012-01-01\u0026#39;, \u0026#39;2022-10-27 16:35:33\u0026#39;, \u0026#39;2022-10-27 16:36:11\u0026#39;), (20, \u0026#39;zhang3\u0026#39;, \u0026#39;123456\u0026#39;, \u0026#39;å¼ ä¸‰\u0026#39;, 1, \u0026#39;2.jpg\u0026#39;, 2, \u0026#39;2018-01-01\u0026#39;, \u0026#39;2022-10-27 16:35:33\u0026#39;, \u0026#39;2022-10-27 16:36:13\u0026#39;), (21, \u0026#39;zhang4\u0026#39;, \u0026#39;123456\u0026#39;, \u0026#39;å¼ å››\u0026#39;, 1, \u0026#39;2.jpg\u0026#39;, 2, \u0026#39;2015-01-01\u0026#39;, \u0026#39;2022-10-27 16:35:33\u0026#39;, \u0026#39;2022-10-27 16:36:15\u0026#39;), (22, \u0026#39;zhang5\u0026#39;, \u0026#39;123456\u0026#39;, \u0026#39;å¼ äº”\u0026#39;, 1, \u0026#39;2.jpg\u0026#39;, 2, \u0026#39;2016-01-01\u0026#39;, \u0026#39;2022-10-27 16:35:33\u0026#39;, \u0026#39;2022-10-27 16:36:17\u0026#39;), (23, \u0026#39;zhang6\u0026#39;, \u0026#39;123456\u0026#39;, \u0026#39;å¼ å…­\u0026#39;, 1, \u0026#39;2.jpg\u0026#39;, 2, \u0026#39;2012-01-01\u0026#39;, \u0026#39;2022-10-27 16:35:33\u0026#39;, \u0026#39;2022-10-27 16:36:19\u0026#39;), (24, \u0026#39;zhang7\u0026#39;, \u0026#39;123456\u0026#39;, \u0026#39;å¼ ä¸ƒ\u0026#39;, 1, \u0026#39;2.jpg\u0026#39;, 2, \u0026#39;2006-01-01\u0026#39;, \u0026#39;2022-10-27 16:35:33\u0026#39;, \u0026#39;2022-10-27 16:36:21\u0026#39;), (25, \u0026#39;zhang8\u0026#39;, \u0026#39;123456\u0026#39;, \u0026#39;å¼ å…«\u0026#39;, 1, \u0026#39;2.jpg\u0026#39;, 2, \u0026#39;2002-01-01\u0026#39;, \u0026#39;2022-10-27 16:35:33\u0026#39;, \u0026#39;2022-10-27 16:36:23\u0026#39;), (26, \u0026#39;zhang9\u0026#39;, \u0026#39;123456\u0026#39;, \u0026#39;å¼ ä¹\u0026#39;, 1, \u0026#39;2.jpg\u0026#39;, 2, \u0026#39;2011-01-01\u0026#39;, \u0026#39;2022-10-27 16:35:33\u0026#39;, \u0026#39;2022-10-27 16:36:25\u0026#39;), (27, \u0026#39;zhang10\u0026#39;, \u0026#39;123456\u0026#39;, \u0026#39;å¼ å\u0026#39;, 1, \u0026#39;2.jpg\u0026#39;, 2, \u0026#39;2004-01-01\u0026#39;, \u0026#39;2022-10-27 16:35:33\u0026#39;, \u0026#39;2022-10-27 16:36:27\u0026#39;), (28, \u0026#39;zhang11\u0026#39;, \u0026#39;123456\u0026#39;, \u0026#39;å¼ åä¸€\u0026#39;, 1, \u0026#39;2.jpg\u0026#39;, 2, \u0026#39;2007-01-01\u0026#39;, \u0026#39;2022-10-27 16:35:33\u0026#39;, \u0026#39;2022-10-27 16:36:29\u0026#39;), (29, \u0026#39;zhang12\u0026#39;, \u0026#39;123456\u0026#39;, \u0026#39;å¼ åäºŒ\u0026#39;, 1, \u0026#39;2.jpg\u0026#39;, 2, \u0026#39;2020-01-01\u0026#39;, \u0026#39;2022-10-27 16:35:33\u0026#39;, \u0026#39;2022-10-27 16:36:31\u0026#39;); 1.3 åŸºæœ¬æŸ¥è¯¢ åœ¨åŸºæœ¬æŸ¥è¯¢çš„DQLè¯­å¥ä¸­ï¼Œä¸å¸¦ä»»ä½•çš„æŸ¥è¯¢æ¡ä»¶ï¼Œè¯­æ³•å¦‚ä¸‹ï¼š\næŸ¥è¯¢å¤šä¸ªå­—æ®µ\n1 select å­—æ®µ1, å­—æ®µ2, å­—æ®µ3 from è¡¨å; æŸ¥è¯¢æ‰€æœ‰å­—æ®µï¼ˆé€šé…ç¬¦ï¼‰\n1 select * from è¡¨å; è®¾ç½®åˆ«å\n1 select å­—æ®µ1 [ as åˆ«å1 ] , å­—æ®µ2 [ as åˆ«å2 ] from è¡¨å; å»é™¤é‡å¤è®°å½•\n1 select distinct å­—æ®µåˆ—è¡¨ from è¡¨å; æ¡ˆä¾‹1ï¼šæŸ¥è¯¢æŒ‡å®šå­—æ®µ nameï¼Œentrydateå¹¶è¿”å›\n1 select name,entrydate from tb_emp; æ¡ˆä¾‹2ï¼šæŸ¥è¯¢è¿”å›æ‰€æœ‰å­—æ®µ\n1 select * from tb_emp; *å·ä»£è¡¨æŸ¥è¯¢æ‰€æœ‰å­—æ®µï¼Œåœ¨å®é™…å¼€å‘ä¸­å°½é‡å°‘ç”¨ï¼ˆä¸ç›´è§‚ã€å½±å“æ•ˆç‡ï¼‰\næ¡ˆä¾‹3ï¼šæŸ¥è¯¢æ‰€æœ‰å‘˜å·¥çš„ name,entrydateï¼Œå¹¶èµ·åˆ«å(å§“åã€å…¥èŒæ—¥æœŸ)\n1 2 3 4 5 6 -- æ–¹å¼1ï¼š select name AS å§“å, entrydate AS å…¥èŒæ—¥æœŸ from tb_emp; -- æ–¹å¼2ï¼š åˆ«åä¸­æœ‰ç‰¹æ®Šå­—ç¬¦æ—¶ï¼Œä½¿ç”¨\u0026#39;\u0026#39;æˆ–\u0026#34;\u0026#34;åŒ…å« select name AS \u0026#39;å§“ å\u0026#39;, entrydate AS \u0026#39;å…¥èŒæ—¥æœŸ\u0026#39; from tb_emp; -- æ–¹å¼3ï¼š select name AS \u0026#34;å§“å\u0026#34;, entrydate AS \u0026#34;å…¥èŒæ—¥æœŸ\u0026#34; from tb_emp; æ¡ˆä¾‹4ï¼šæŸ¥è¯¢å·²æœ‰çš„å‘˜å·¥å…³è”äº†å“ªå‡ ç§èŒä½(ä¸è¦é‡å¤)\n1 select distinct job from tb_emp; 1.4 æ¡ä»¶æŸ¥è¯¢ è¯­æ³•ï¼š\n1 select å­—æ®µåˆ—è¡¨ from è¡¨å where æ¡ä»¶åˆ—è¡¨ ; -- æ¡ä»¶åˆ—è¡¨ï¼šæ„å‘³ç€å¯ä»¥æœ‰å¤šä¸ªæ¡ä»¶ å­¦ä¹ æ¡ä»¶æŸ¥è¯¢å°±æ˜¯å­¦ä¹ æ¡ä»¶çš„æ„å»ºæ–¹å¼ï¼Œè€Œåœ¨SQLè¯­å¥å½“ä¸­æ„é€ æ¡ä»¶çš„è¿ç®—ç¬¦åˆ†ä¸ºä¸¤ç±»ï¼š\næ¯”è¾ƒè¿ç®—ç¬¦ é€»è¾‘è¿ç®—ç¬¦ å¸¸ç”¨çš„æ¯”è¾ƒè¿ç®—ç¬¦å¦‚ä¸‹:\næ¯”è¾ƒè¿ç®—ç¬¦ åŠŸèƒ½ \u0026gt; å¤§äº \u0026gt;= å¤§äºç­‰äº \u0026lt; å°äº \u0026lt;= å°äºç­‰äº = ç­‰äº \u0026lt;\u0026gt; æˆ– != ä¸ç­‰äº between \u0026hellip; and \u0026hellip; åœ¨æŸä¸ªèŒƒå›´ä¹‹å†…(å«æœ€å°ã€æœ€å¤§å€¼) in(\u0026hellip;) åœ¨inä¹‹åçš„åˆ—è¡¨ä¸­çš„å€¼ï¼Œå¤šé€‰ä¸€ï¼ˆæ»¡è¶³å…¶ä¸€å³å¯ï¼‰ like å ä½ç¬¦ æ¨¡ç³ŠåŒ¹é…(_åŒ¹é…å•ä¸ªå­—ç¬¦, %åŒ¹é…ä»»æ„ä¸ªå­—ç¬¦ï¼ˆ0-å¤šï¼‰) is null æ˜¯nullï¼ˆåˆ¤æ–­æ˜¯å¦sï¼‰ å¸¸ç”¨çš„é€»è¾‘è¿ç®—ç¬¦å¦‚ä¸‹:\né€»è¾‘è¿ç®—ç¬¦ åŠŸèƒ½ and æˆ– \u0026amp;\u0026amp; å¹¶ä¸” (å¤šä¸ªæ¡ä»¶åŒæ—¶æˆç«‹) or æˆ– || æˆ–è€… (å¤šä¸ªæ¡ä»¶ä»»æ„ä¸€ä¸ªæˆç«‹) not æˆ– ! é , ä¸æ˜¯ æ¡ˆä¾‹1ï¼šæŸ¥è¯¢ å§“å ä¸º æ¨é€ çš„å‘˜å·¥\n1 2 3 select id, username, password, name, gender, image, job, entrydate, create_time, update_time from tb_emp where name = \u0026#39;æ¨é€\u0026#39;; -- å­—ç¬¦ä¸²ä½¿ç”¨\u0026#39;\u0026#39;æˆ–\u0026#34;\u0026#34;åŒ…å« æ¡ˆä¾‹2ï¼šæŸ¥è¯¢ idå°äºç­‰äº5 çš„å‘˜å·¥ä¿¡æ¯\n1 2 3 select id, username, password, name, gender, image, job, entrydate, create_time, update_time from tb_emp where id \u0026lt;=5; æ¡ˆä¾‹3ï¼šæŸ¥è¯¢ æ²¡æœ‰åˆ†é…èŒä½ çš„å‘˜å·¥ä¿¡æ¯\n1 2 3 select id, username, password, name, gender, image, job, entrydate, create_time, update_time from tb_emp where job is null ; æ³¨æ„ï¼šæŸ¥è¯¢ä¸ºNULLçš„æ•°æ®æ—¶ï¼Œä¸èƒ½ä½¿ç”¨ = null\næ¡ˆä¾‹4ï¼šæŸ¥è¯¢ æœ‰èŒä½ çš„å‘˜å·¥ä¿¡æ¯\n1 2 3 select id, username, password, name, gender, image, job, entrydate, create_time, update_time from tb_emp where job is not null ; æ¡ˆä¾‹5ï¼šæŸ¥è¯¢ å¯†ç ä¸ç­‰äº \u0026lsquo;123456\u0026rsquo; çš„å‘˜å·¥ä¿¡æ¯\n1 2 3 4 5 6 7 8 -- æ–¹å¼1ï¼š select id, username, password, name, gender, image, job, entrydate, create_time, update_time from tb_emp where password \u0026lt;\u0026gt; \u0026#39;123456\u0026#39;; -- æ–¹å¼2ï¼š select id, username, password, name, gender, image, job, entrydate, create_time, update_time from tb_emp where password != \u0026#39;123456\u0026#39;; æ¡ˆä¾‹6ï¼šæŸ¥è¯¢ å…¥èŒæ—¥æœŸ åœ¨ \u0026lsquo;2000-01-01\u0026rsquo; (åŒ…å«) åˆ° \u0026lsquo;2010-01-01\u0026rsquo;(åŒ…å«) ä¹‹é—´çš„å‘˜å·¥ä¿¡æ¯\n1 2 3 4 5 6 7 8 -- æ–¹å¼1ï¼š select id, username, password, name, gender, image, job, entrydate, create_time, update_time from tb_emp where entrydate\u0026gt;=\u0026#39;2000-01-01\u0026#39; and entrydate\u0026lt;=\u0026#39;2010-01-01\u0026#39;; -- æ–¹å¼2ï¼š between...and select id, username, password, name, gender, image, job, entrydate, create_time, update_time from tb_emp where entrydate between \u0026#39;2000-01-01\u0026#39; and \u0026#39;2010-01-01\u0026#39;; æ¡ˆä¾‹7ï¼šæŸ¥è¯¢ å…¥èŒæ—¶é—´ åœ¨ \u0026lsquo;2000-01-01\u0026rsquo; (åŒ…å«) åˆ° \u0026lsquo;2010-01-01\u0026rsquo;(åŒ…å«) ä¹‹é—´ ä¸” æ€§åˆ«ä¸ºå¥³ çš„å‘˜å·¥ä¿¡æ¯\n1 2 3 4 select id, username, password, name, gender, image, job, entrydate, create_time, update_time from tb_emp where entrydate between \u0026#39;2000-01-01\u0026#39; and \u0026#39;2010-01-01\u0026#39; and gender = 2; æ¡ˆä¾‹8ï¼šæŸ¥è¯¢ èŒä½æ˜¯ 2 (è®²å¸ˆ), 3 (å­¦å·¥ä¸»ç®¡), 4 (æ•™ç ”ä¸»ç®¡) çš„å‘˜å·¥ä¿¡æ¯\n1 2 3 4 5 6 7 8 -- æ–¹å¼1ï¼šä½¿ç”¨orè¿æ¥å¤šä¸ªæ¡ä»¶ select id, username, password, name, gender, image, job, entrydate, create_time, update_time from tb_emp where job=2 or job=3 or job=4; -- æ–¹å¼2ï¼šinå…³é”®å­— select id, username, password, name, gender, image, job, entrydate, create_time, update_time from tb_emp where job in (2,3,4); æ¡ˆä¾‹9ï¼šæŸ¥è¯¢ å§“å ä¸ºä¸¤ä¸ªå­—çš„å‘˜å·¥ä¿¡æ¯\n1 2 3 select id, username, password, name, gender, image, job, entrydate, create_time, update_time from tb_emp where name like \u0026#39;__\u0026#39;; # é€šé…ç¬¦ \u0026#34;_\u0026#34; ä»£è¡¨ä»»æ„1ä¸ªå­—ç¬¦ æ¡ˆä¾‹10ï¼šæŸ¥è¯¢ å§“ \u0026lsquo;å¼ \u0026rsquo; çš„å‘˜å·¥ä¿¡æ¯\n1 2 3 select id, username, password, name, gender, image, job, entrydate, create_time, update_time from tb_emp where name like \u0026#39;å¼ %\u0026#39;; # é€šé…ç¬¦ \u0026#34;%\u0026#34; ä»£è¡¨ä»»æ„ä¸ªå­—ç¬¦ï¼ˆ0ä¸ª ~ å¤šä¸ªï¼‰ 1.5 èšåˆå‡½æ•° ä¹‹å‰æˆ‘ä»¬åšçš„æŸ¥è¯¢éƒ½æ˜¯æ¨ªå‘æŸ¥è¯¢ï¼Œå°±æ˜¯æ ¹æ®æ¡ä»¶ä¸€è¡Œä¸€è¡Œçš„è¿›è¡Œåˆ¤æ–­ï¼Œè€Œä½¿ç”¨èšåˆå‡½æ•°æŸ¥è¯¢å°±æ˜¯çºµå‘æŸ¥è¯¢ï¼Œå®ƒæ˜¯å¯¹ä¸€åˆ—çš„å€¼è¿›è¡Œè®¡ç®—ï¼Œç„¶åè¿”å›ä¸€ä¸ªç»“æœå€¼ã€‚ï¼ˆå°†ä¸€åˆ—æ•°æ®ä½œä¸ºä¸€ä¸ªæ•´ä½“ï¼Œè¿›è¡Œçºµå‘è®¡ç®—ï¼‰\nè¯­æ³•ï¼š\n1 select èšåˆå‡½æ•°(å­—æ®µåˆ—è¡¨) from è¡¨å ; æ³¨æ„ : èšåˆå‡½æ•°ä¼šå¿½ç•¥ç©ºå€¼ï¼Œå¯¹NULLå€¼ä¸ä½œä¸ºç»Ÿè®¡ã€‚\nå¸¸ç”¨èšåˆå‡½æ•°ï¼š\nå‡½æ•° åŠŸèƒ½ count ç»Ÿè®¡æ•°é‡ max æœ€å¤§å€¼ min æœ€å°å€¼ avg å¹³å‡å€¼ sum æ±‚å’Œ count ï¼šæŒ‰ç…§åˆ—å»ç»Ÿè®¡æœ‰å¤šå°‘è¡Œæ•°æ®ã€‚\nåœ¨æ ¹æ®æŒ‡å®šçš„åˆ—ç»Ÿè®¡çš„æ—¶å€™ï¼Œå¦‚æœè¿™ä¸€åˆ—ä¸­æœ‰nullçš„è¡Œï¼Œè¯¥è¡Œä¸ä¼šè¢«ç»Ÿè®¡åœ¨å…¶ä¸­ã€‚ sum ï¼šè®¡ç®—æŒ‡å®šåˆ—çš„æ•°å€¼å’Œï¼Œå¦‚æœä¸æ˜¯æ•°å€¼ç±»å‹ï¼Œé‚£ä¹ˆè®¡ç®—ç»“æœä¸º0\nmax ï¼šè®¡ç®—æŒ‡å®šåˆ—çš„æœ€å¤§å€¼\nmin ï¼šè®¡ç®—æŒ‡å®šåˆ—çš„æœ€å°å€¼\navg ï¼šè®¡ç®—æŒ‡å®šåˆ—çš„å¹³å‡å€¼\næ¡ˆä¾‹1ï¼šç»Ÿè®¡è¯¥ä¼ä¸šå‘˜å·¥æ•°é‡\n1 2 3 4 5 6 7 8 9 10 # count(å­—æ®µ) select count(id) from tb_emp;-- ç»“æœï¼š29 select count(job) from tb_emp;-- ç»“æœï¼š28 ï¼ˆèšåˆå‡½æ•°å¯¹NULLå€¼ä¸åšè®¡ç®—ï¼‰ # count(å¸¸é‡) select count(0) from tb_emp; select count(\u0026#39;A\u0026#39;) from tb_emp; # count(*) æ¨èæ­¤å†™æ³•ï¼ˆMySQLåº•å±‚è¿›è¡Œäº†ä¼˜åŒ–ï¼‰ select count(*) from tb_emp; æ¡ˆä¾‹2ï¼šç»Ÿè®¡è¯¥ä¼ä¸šæœ€æ—©å…¥èŒçš„å‘˜å·¥\n1 select min(entrydate) from tb_emp; æ¡ˆä¾‹3ï¼šç»Ÿè®¡è¯¥ä¼ä¸šæœ€è¿Ÿå…¥èŒçš„å‘˜å·¥\n1 select max(entrydate) from tb_emp; æ¡ˆä¾‹4ï¼šç»Ÿè®¡è¯¥ä¼ä¸šå‘˜å·¥ ID çš„å¹³å‡å€¼\n1 select avg(id) from tb_emp; æ¡ˆä¾‹5ï¼šç»Ÿè®¡è¯¥ä¼ä¸šå‘˜å·¥çš„ ID ä¹‹å’Œ\n1 select sum(id) from tb_emp; 1.6 åˆ†ç»„æŸ¥è¯¢ åˆ†ç»„ï¼š æŒ‰ç…§æŸä¸€åˆ—æˆ–è€…æŸå‡ åˆ—ï¼ŒæŠŠç›¸åŒçš„æ•°æ®è¿›è¡Œåˆå¹¶è¾“å‡ºã€‚\nåˆ†ç»„å…¶å®å°±æ˜¯æŒ‰åˆ—è¿›è¡Œåˆ†ç±»(æŒ‡å®šåˆ—ä¸‹ç›¸åŒçš„æ•°æ®å½’ä¸ºä¸€ç±»)ï¼Œç„¶åå¯ä»¥å¯¹åˆ†ç±»å®Œçš„æ•°æ®è¿›è¡Œåˆå¹¶è®¡ç®—ã€‚\nåˆ†ç»„æŸ¥è¯¢é€šå¸¸ä¼šä½¿ç”¨èšåˆå‡½æ•°è¿›è¡Œè®¡ç®—ã€‚\nè¯­æ³•ï¼š\n1 select å­—æ®µåˆ—è¡¨ from è¡¨å [where æ¡ä»¶] group by åˆ†ç»„å­—æ®µå [having åˆ†ç»„åè¿‡æ»¤æ¡ä»¶]; æ¡ˆä¾‹1ï¼šæ ¹æ®æ€§åˆ«åˆ†ç»„ , ç»Ÿè®¡ç”·æ€§å’Œå¥³æ€§å‘˜å·¥çš„æ•°é‡\n1 2 3 select gender, count(*) from tb_emp group by gender; -- æŒ‰ç…§genderå­—æ®µè¿›è¡Œåˆ†ç»„ï¼ˆgenderå­—æ®µä¸‹ç›¸åŒçš„æ•°æ®å½’ä¸ºä¸€ç»„ï¼‰ æ¡ˆä¾‹2ï¼šæŸ¥è¯¢å…¥èŒæ—¶é—´åœ¨ \u0026lsquo;2015-01-01\u0026rsquo; (åŒ…å«) ä»¥å‰çš„å‘˜å·¥ , å¹¶å¯¹ç»“æœæ ¹æ®èŒä½åˆ†ç»„ , è·å–å‘˜å·¥æ•°é‡å¤§äºç­‰äº2çš„èŒä½\n1 2 3 4 5 select job, count(*) from tb_emp where entrydate \u0026lt;= \u0026#39;2015-01-01\u0026#39; -- åˆ†ç»„å‰æ¡ä»¶ group by job -- æŒ‰ç…§jobå­—æ®µåˆ†ç»„ having count(*) \u0026gt;= 2; -- åˆ†ç»„åæ¡ä»¶ æ³¨æ„äº‹é¡¹:\nâ€‹\tâ€¢ åˆ†ç»„ä¹‹åï¼ŒæŸ¥è¯¢çš„å­—æ®µä¸€èˆ¬ä¸ºèšåˆå‡½æ•°å’Œåˆ†ç»„å­—æ®µï¼ŒæŸ¥è¯¢å…¶ä»–å­—æ®µæ— ä»»ä½•æ„ä¹‰\nâ€‹\tâ€¢ æ‰§è¡Œé¡ºåºï¼šwhere \u0026gt; èšåˆå‡½æ•° \u0026gt; having\nwhereä¸havingåŒºåˆ«ï¼ˆé¢è¯•é¢˜ï¼‰\næ‰§è¡Œæ—¶æœºä¸åŒï¼šwhereæ˜¯åˆ†ç»„ä¹‹å‰è¿›è¡Œè¿‡æ»¤ï¼Œä¸æ»¡è¶³whereæ¡ä»¶ï¼Œä¸å‚ä¸åˆ†ç»„ï¼›è€Œhavingæ˜¯åˆ†ç»„ä¹‹åå¯¹ç»“æœè¿›è¡Œè¿‡æ»¤ã€‚ åˆ¤æ–­æ¡ä»¶ä¸åŒï¼šwhereä¸èƒ½å¯¹èšåˆå‡½æ•°è¿›è¡Œåˆ¤æ–­ï¼Œè€Œhavingå¯ä»¥ã€‚ 1.7 æ’åºæŸ¥è¯¢ æ’åºåœ¨æ—¥å¸¸å¼€å‘ä¸­æ˜¯éå¸¸å¸¸è§çš„ä¸€ä¸ªæ“ä½œï¼Œæœ‰å‡åºæ’åºï¼Œä¹Ÿæœ‰é™åºæ’åºã€‚\nè¯­æ³•ï¼š\n1 2 3 4 5 select å­—æ®µåˆ—è¡¨ from è¡¨å [where æ¡ä»¶åˆ—è¡¨] [group by åˆ†ç»„å­—æ®µ ] order by å­—æ®µ1 æ’åºæ–¹å¼1 , å­—æ®µ2 æ’åºæ–¹å¼2 â€¦ ; æ’åºæ–¹å¼ï¼š\nASC ï¼šå‡åºï¼ˆé»˜è®¤å€¼ï¼‰\nDESCï¼šé™åº\næ¡ˆä¾‹1ï¼šæ ¹æ®å…¥èŒæ—¶é—´, å¯¹å‘˜å·¥è¿›è¡Œå‡åºæ’åº\n1 2 3 4 5 6 7 select id, username, password, name, gender, image, job, entrydate, create_time, update_time from tb_emp order by entrydate ASC; -- æŒ‰ç…§entrydateå­—æ®µä¸‹çš„æ•°æ®è¿›è¡Œå‡åºæ’åº select id, username, password, name, gender, image, job, entrydate, create_time, update_time from tb_emp order by entrydate; -- é»˜è®¤å°±æ˜¯ASCï¼ˆå‡åºï¼‰ æ³¨æ„äº‹é¡¹ï¼šå¦‚æœæ˜¯å‡åº, å¯ä»¥ä¸æŒ‡å®šæ’åºæ–¹å¼ASC\næ¡ˆä¾‹2ï¼šæ ¹æ®å…¥èŒæ—¶é—´ï¼Œå¯¹å‘˜å·¥è¿›è¡Œé™åºæ’åº\n1 2 3 select id, username, password, name, gender, image, job, entrydate, create_time, update_time from tb_emp order by entrydate DESC; -- æŒ‰ç…§entrydateå­—æ®µä¸‹çš„æ•°æ®è¿›è¡Œé™åºæ’åº æ¡ˆä¾‹3ï¼šæ ¹æ®å…¥èŒæ—¶é—´å¯¹å…¬å¸çš„å‘˜å·¥è¿›è¡Œå‡åºæ’åºï¼Œå…¥èŒæ—¶é—´ç›¸åŒï¼Œå†æŒ‰ç…§æ›´æ–°æ—¶é—´è¿›è¡Œé™åºæ’åº\n1 2 3 select id, username, password, name, gender, image, job, entrydate, create_time, update_time from tb_emp order by entrydate ASC , update_time DESC; æ³¨æ„äº‹é¡¹ï¼šå¦‚æœæ˜¯å¤šå­—æ®µæ’åºï¼Œå½“ç¬¬ä¸€ä¸ªå­—æ®µå€¼ç›¸åŒæ—¶ï¼Œæ‰ä¼šæ ¹æ®ç¬¬äºŒä¸ªå­—æ®µè¿›è¡Œæ’åº\n1.8 åˆ†é¡µæŸ¥è¯¢ åˆ†é¡µæ“ä½œåœ¨ä¸šåŠ¡ç³»ç»Ÿå¼€å‘æ—¶ï¼Œä¹Ÿæ˜¯éå¸¸å¸¸è§çš„ä¸€ä¸ªåŠŸèƒ½ï¼Œæ—¥å¸¸æˆ‘ä»¬åœ¨ç½‘ç«™ä¸­çœ‹åˆ°çš„å„ç§å„æ ·çš„åˆ†é¡µæ¡ï¼Œåå°ä¹Ÿéƒ½éœ€è¦å€ŸåŠ©äºæ•°æ®åº“çš„åˆ†é¡µæ“ä½œã€‚\nåˆ†é¡µæŸ¥è¯¢è¯­æ³•ï¼š\n1 select å­—æ®µåˆ—è¡¨ from è¡¨å limit èµ·å§‹ç´¢å¼•, æŸ¥è¯¢è®°å½•æ•° ; æ¡ˆä¾‹1ï¼šä»èµ·å§‹ç´¢å¼•0å¼€å§‹æŸ¥è¯¢å‘˜å·¥æ•°æ®, æ¯é¡µå±•ç¤º5æ¡è®°å½•\n1 2 3 select id, username, password, name, gender, image, job, entrydate, create_time, update_time from tb_emp limit 0 , 5; -- ä»ç´¢å¼•0å¼€å§‹ï¼Œå‘åå–5æ¡è®°å½• æ¡ˆä¾‹2ï¼šæŸ¥è¯¢ ç¬¬1é¡µ å‘˜å·¥æ•°æ®, æ¯é¡µå±•ç¤º5æ¡è®°å½•\n1 2 3 select id, username, password, name, gender, image, job, entrydate, create_time, update_time from tb_emp limit 5; -- å¦‚æœæŸ¥è¯¢çš„æ˜¯ç¬¬1é¡µæ•°æ®ï¼Œèµ·å§‹ç´¢å¼•å¯ä»¥çœç•¥ï¼Œç›´æ¥ç®€å†™ä¸ºï¼šlimit æ¡æ•° æ¡ˆä¾‹3ï¼šæŸ¥è¯¢ ç¬¬2é¡µ å‘˜å·¥æ•°æ®, æ¯é¡µå±•ç¤º5æ¡è®°å½•\n1 2 3 select id, username, password, name, gender, image, job, entrydate, create_time, update_time from tb_emp limit 5 , 5; -- ä»ç´¢å¼•5å¼€å§‹ï¼Œå‘åå–5æ¡è®°å½• æ¡ˆä¾‹4ï¼šæŸ¥è¯¢ ç¬¬3é¡µ å‘˜å·¥æ•°æ®, æ¯é¡µå±•ç¤º5æ¡è®°å½•\n1 2 3 select id, username, password, name, gender, image, job, entrydate, create_time, update_time from tb_emp limit 10 , 5; -- ä»ç´¢å¼•10å¼€å§‹ï¼Œå‘åå–5æ¡è®°å½• æ³¨æ„äº‹é¡¹:\nèµ·å§‹ç´¢å¼•ä»0å¼€å§‹ã€‚ è®¡ç®—å…¬å¼ ï¼š èµ·å§‹ç´¢å¼• = ï¼ˆæŸ¥è¯¢é¡µç  - 1ï¼‰* æ¯é¡µæ˜¾ç¤ºè®°å½•æ•°\nåˆ†é¡µæŸ¥è¯¢æ˜¯æ•°æ®åº“çš„æ–¹è¨€ï¼Œä¸åŒçš„æ•°æ®åº“æœ‰ä¸åŒçš„å®ç°ï¼ŒMySQLä¸­æ˜¯LIMIT\nå¦‚æœæŸ¥è¯¢çš„æ˜¯ç¬¬ä¸€é¡µæ•°æ®ï¼Œèµ·å§‹ç´¢å¼•å¯ä»¥çœç•¥ï¼Œç›´æ¥ç®€å†™ä¸º limit æ¡æ•°\n1.9 æ¡ˆä¾‹ DQLçš„åŸºæœ¬è¯­æ³•æˆ‘ä»¬å­¦ä¹ ç»“æŸäº†ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°±è¿ç”¨æ‰€æŒæ¡çš„DQLè¯­å¥çš„è¯­æ³•æ¥å®Œæˆä¸¤ä¸ªæ¡ˆä¾‹ã€‚\n1.9.1 æ¡ˆä¾‹ä¸€ æ¡ˆä¾‹ï¼šæ ¹æ®éœ€æ±‚å®Œæˆå‘˜å·¥ç®¡ç†çš„æ¡ä»¶åˆ†é¡µæŸ¥è¯¢\nåˆ†æï¼šæ ¹æ®è¾“å…¥çš„æ¡ä»¶ï¼ŒæŸ¥è¯¢ç¬¬1é¡µæ•°æ®\nåœ¨å‘˜å·¥ç®¡ç†çš„åˆ—è¡¨ä¸Šæ–¹æœ‰ä¸€äº›æŸ¥è¯¢æ¡ä»¶ï¼šå‘˜å·¥å§“åã€å‘˜å·¥æ€§åˆ«ï¼Œå‘˜å·¥å…¥èŒæ—¶é—´(å¼€å§‹æ—¶é—´~ç»“æŸæ—¶é—´)\nå§“åï¼šå¼  æ€§åˆ«ï¼šç”· å…¥èŒæ—¶é—´ï¼š2000-01-01 ~ 2015-12-31 é™¤äº†æŸ¥è¯¢æ¡ä»¶å¤–ï¼Œåœ¨åˆ—è¡¨çš„ä¸‹é¢è¿˜æœ‰ä¸€ä¸ªåˆ†é¡µæ¡ï¼Œè¿™å°±æ¶‰åŠåˆ°äº†åˆ†é¡µæŸ¥è¯¢\næŸ¥è¯¢ç¬¬1é¡µæ•°æ®ï¼ˆæ¯é¡µæ˜¾ç¤º10æ¡æ•°æ®ï¼‰ åŸºäºæŸ¥è¯¢çš„ç»“æœï¼ŒæŒ‰ç…§ä¿®æ”¹æ—¶é—´è¿›è¡Œé™åºæ’åº\nç»“è®ºï¼šæ¡ä»¶æŸ¥è¯¢ + åˆ†é¡µæŸ¥è¯¢ + æ’åºæŸ¥è¯¢\nSQLè¯­å¥ä»£ç ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 -- æ ¹æ®è¾“å…¥æ¡ä»¶æŸ¥è¯¢ç¬¬1é¡µæ•°æ®ï¼ˆæ¯é¡µå±•ç¤º10æ¡è®°å½•ï¼‰ -- è¾“å…¥æ¡ä»¶ï¼š -- å§“åï¼šå¼  ï¼ˆæ¨¡ç³ŠæŸ¥è¯¢ï¼‰ -- æ€§åˆ«ï¼šç”· -- å…¥èŒæ—¶é—´ï¼š2000-01-01 ~ 2015-12-31 -- åˆ†é¡µï¼š 0 , 10 -- æ’åºï¼š ä¿®æ”¹æ—¶é—´ DESC select id, username, password, name, gender, image, job, entrydate, create_time, update_time from tb_emp where name like \u0026#39;å¼ %\u0026#39; and gender = 1 and entrydate between \u0026#39;2000-01-01\u0026#39; and \u0026#39;2015-12-31\u0026#39; order by update_time desc limit 0 , 10; 1.9.2 æ¡ˆä¾‹äºŒ æ¡ˆä¾‹ï¼šæ ¹æ®éœ€æ±‚å®Œæˆå‘˜å·¥ä¿¡æ¯çš„ç»Ÿè®¡\nåˆ†æï¼šä»¥ä¸Šä¿¡æ¯ç»Ÿè®¡åœ¨å¼€å‘ä¸­ä¹Ÿå«å›¾å½¢æŠ¥è¡¨(å°†ç»Ÿè®¡å¥½çš„æ•°æ®ä»¥å¯è§†åŒ–çš„å½¢å¼å±•ç¤ºå‡ºæ¥)\nå‘˜å·¥æ€§åˆ«ç»Ÿè®¡ï¼šä»¥é¥¼çŠ¶å›¾çš„å½¢å¼å±•ç¤ºå‡ºä¼ä¸šç”·æ€§å‘˜äººæ•°å’Œå¥³æ€§å‘˜å·¥äººæ•° åªè¦æŸ¥è¯¢å‡ºç”·æ€§å‘˜å·¥å’Œå¥³æ€§å‘˜å·¥å„è‡ªæœ‰å¤šå°‘äººå°±å¯ä»¥äº† å‘˜å·¥èŒä½ç»Ÿè®¡ï¼šä»¥æŸ±çŠ¶å›¾çš„å½¢å¼å±•ç¤ºå„èŒä½çš„åœ¨å²—äººæ•° åªè¦æŸ¥è¯¢å‡ºå„ä¸ªèŒä½æœ‰å¤šå°‘äººå°±å¯ä»¥äº† å‘˜å·¥æ€§åˆ«ç»Ÿè®¡ï¼š\n1 2 3 4 -- if(æ¡ä»¶è¡¨è¾¾å¼, trueå–å€¼ , falseå–å€¼) select if(gender=1,\u0026#39;ç”·æ€§å‘˜å·¥\u0026#39;,\u0026#39;å¥³æ€§å‘˜å·¥\u0026#39;) AS æ€§åˆ«, count(*) AS äººæ•° from tb_emp group by gender; if(è¡¨è¾¾å¼, tvalue, fvalue) ï¼šå½“è¡¨è¾¾å¼ä¸ºtrueæ—¶ï¼Œå–å€¼tvalueï¼›å½“è¡¨è¾¾å¼ä¸ºfalseæ—¶ï¼Œå–å€¼fvalue\nå‘˜å·¥èŒä½ç»Ÿè®¡ï¼š\n1 2 3 4 5 6 7 8 9 10 11 -- case è¡¨è¾¾å¼ when å€¼1 then ç»“æœ1 when å€¼2 then ç»“æœ2 ... else result end select (case job when 1 then \u0026#39;ç­ä¸»ä»»\u0026#39; when 2 then \u0026#39;è®²å¸ˆ\u0026#39; when 3 then \u0026#39;å­¦å·¥ä¸»ç®¡\u0026#39; when 4 then \u0026#39;æ•™ç ”ä¸»ç®¡\u0026#39; else \u0026#39;æœªåˆ†é…èŒä½\u0026#39; end) AS èŒä½ , count(*) AS äººæ•° from tb_emp group by job; case è¡¨è¾¾å¼ when å€¼1 then ç»“æœ1 [when å€¼2 then ç»“æœ2 \u0026hellip;] [else result] end\n2. å¤šè¡¨è®¾è®¡ å…³äºå•è¡¨çš„æ“ä½œ(å•è¡¨çš„è®¾è®¡ã€å•è¡¨çš„å¢åˆ æ”¹æŸ¥)æˆ‘ä»¬å°±å·²ç»å­¦ä¹ å®Œäº†ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬å°±è¦æ¥å­¦ä¹ å¤šè¡¨çš„æ“ä½œï¼Œé¦–å…ˆæ¥å­¦ä¹ å¤šè¡¨çš„è®¾è®¡ã€‚\né¡¹ç›®å¼€å‘ä¸­ï¼Œåœ¨è¿›è¡Œæ•°æ®åº“è¡¨ç»“æ„è®¾è®¡æ—¶ï¼Œä¼šæ ¹æ®ä¸šåŠ¡éœ€æ±‚åŠä¸šåŠ¡æ¨¡å—ä¹‹é—´çš„å…³ç³»ï¼Œåˆ†æå¹¶è®¾è®¡è¡¨ç»“æ„ï¼Œç”±äºä¸šåŠ¡ä¹‹é—´ç›¸äº’å…³è”ï¼Œæ‰€ä»¥å„ä¸ªè¡¨ç»“æ„ä¹‹é—´ä¹Ÿå­˜åœ¨ç€å„ç§è”ç³»ï¼ŒåŸºæœ¬ä¸Šåˆ†ä¸ºä¸‰ç§ï¼š\nä¸€å¯¹å¤š(å¤šå¯¹ä¸€)\nå¤šå¯¹å¤š\nä¸€å¯¹ä¸€\n2.1 ä¸€å¯¹å¤š 2.1.1 è¡¨è®¾è®¡ éœ€æ±‚ï¼šæ ¹æ®é¡µé¢åŸå‹åŠéœ€æ±‚æ–‡æ¡£ ï¼Œå®Œæˆéƒ¨é—¨åŠå‘˜å·¥çš„è¡¨ç»“æ„è®¾è®¡\nå‘˜å·¥ç®¡ç†é¡µé¢åŸå‹ï¼šï¼ˆå‰é¢å·²å®Œæˆtb_empè¡¨ç»“æ„è®¾è®¡ï¼‰ éƒ¨é—¨ç®¡ç†é¡µé¢åŸå‹ï¼š ç»è¿‡ä¸Šè¿°åˆ†æï¼Œç°å·²æ˜ç¡®çš„éƒ¨é—¨è¡¨ç»“æ„ï¼š\nä¸šåŠ¡å­—æ®µ ï¼š éƒ¨é—¨åç§° åŸºç¡€å­—æ®µ ï¼š id(ä¸»é”®)ã€åˆ›å»ºæ—¶é—´ã€ä¿®æ”¹æ—¶é—´ éƒ¨é—¨è¡¨ - SQLè¯­å¥ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 # å»ºè®®ï¼šåˆ›å»ºæ–°çš„æ•°æ®åº“ï¼ˆå¤šè¡¨è®¾è®¡å­˜æ”¾åœ¨æ–°æ•°æ®åº“ä¸‹ï¼‰ create database db03; use db03; -- éƒ¨é—¨è¡¨ create table tb_dept ( id int unsigned primary key auto_increment comment \u0026#39;ä¸»é”®ID\u0026#39;, name varchar(10) not null unique comment \u0026#39;éƒ¨é—¨åç§°\u0026#39;, create_time datetime not null comment \u0026#39;åˆ›å»ºæ—¶é—´\u0026#39;, update_time datetime not null comment \u0026#39;ä¿®æ”¹æ—¶é—´\u0026#39; ) comment \u0026#39;éƒ¨é—¨è¡¨\u0026#39;; éƒ¨é—¨è¡¨åˆ›å»ºå¥½ä¹‹åï¼Œæˆ‘ä»¬è¿˜éœ€è¦å†ä¿®æ”¹ä¸‹å‘˜å·¥è¡¨ã€‚ä¸ºä»€ä¹ˆè¦ä¿®æ”¹å‘˜å·¥è¡¨å‘¢ï¼Ÿæ˜¯å› ä¸ºæˆ‘ä»¬ä¹‹å‰è®¾è®¡å‘˜å·¥è¡¨(å•è¡¨)çš„æ—¶å€™ï¼Œå¹¶æ²¡æœ‰è€ƒè™‘å‘˜å·¥çš„å½’å±éƒ¨é—¨ã€‚\nå‘˜å·¥è¡¨ï¼šæ·»åŠ å½’å±éƒ¨é—¨å­—æ®µ\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 -- å‘˜å·¥è¡¨ create table tb_emp ( id int unsigned primary key auto_increment comment \u0026#39;ID\u0026#39;, username varchar(20) not null unique comment \u0026#39;ç”¨æˆ·å\u0026#39;, password varchar(32) default \u0026#39;123456\u0026#39; comment \u0026#39;å¯†ç \u0026#39;, name varchar(10) not null comment \u0026#39;å§“å\u0026#39;, gender tinyint unsigned not null comment \u0026#39;æ€§åˆ«, è¯´æ˜: 1 ç”·, 2 å¥³\u0026#39;, image varchar(300) comment \u0026#39;å›¾åƒ\u0026#39;, job tinyint unsigned comment \u0026#39;èŒä½, è¯´æ˜: 1 ç­ä¸»ä»»,2 è®²å¸ˆ, 3 å­¦å·¥ä¸»ç®¡, 4 æ•™ç ”ä¸»ç®¡\u0026#39;, entrydate date comment \u0026#39;å…¥èŒæ—¶é—´\u0026#39;, dept_id int unsigned comment \u0026#39;éƒ¨é—¨ID\u0026#39;, -- å‘˜å·¥çš„å½’å±éƒ¨é—¨ create_time datetime not null comment \u0026#39;åˆ›å»ºæ—¶é—´\u0026#39;, update_time datetime not null comment \u0026#39;ä¿®æ”¹æ—¶é—´\u0026#39; ) comment \u0026#39;å‘˜å·¥è¡¨\u0026#39;; æµ‹è¯•æ•°æ®ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 -- éƒ¨é—¨è¡¨æµ‹è¯•æ•°æ® insert into tb_dept (id, name, create_time, update_time) values (1,\u0026#39;å­¦å·¥éƒ¨\u0026#39;,now(),now()), (2,\u0026#39;æ•™ç ”éƒ¨\u0026#39;,now(),now()), (3,\u0026#39;å’¨è¯¢éƒ¨\u0026#39;,now(),now()), (4,\u0026#39;å°±ä¸šéƒ¨\u0026#39;,now(),now()), (5,\u0026#39;äººäº‹éƒ¨\u0026#39;,now(),now()); -- å‘˜å·¥è¡¨æµ‹è¯•æ•°æ® INSERT INTO tb_emp (id, username, password, name, gender, image, job, entrydate,dept_id, create_time, update_time) VALUES (1,\u0026#39;jinyong\u0026#39;,\u0026#39;123456\u0026#39;,\u0026#39;é‡‘åº¸\u0026#39;,1,\u0026#39;1.jpg\u0026#39;,4,\u0026#39;2000-01-01\u0026#39;,2,now(),now()), (2,\u0026#39;zhangwuji\u0026#39;,\u0026#39;123456\u0026#39;,\u0026#39;å¼ æ— å¿Œ\u0026#39;,1,\u0026#39;2.jpg\u0026#39;,2,\u0026#39;2015-01-01\u0026#39;,2,now(),now()), (3,\u0026#39;yangxiao\u0026#39;,\u0026#39;123456\u0026#39;,\u0026#39;æ¨é€\u0026#39;,1,\u0026#39;3.jpg\u0026#39;,2,\u0026#39;2008-05-01\u0026#39;,2,now(),now()), (4,\u0026#39;weiyixiao\u0026#39;,\u0026#39;123456\u0026#39;,\u0026#39;éŸ¦ä¸€ç¬‘\u0026#39;,1,\u0026#39;4.jpg\u0026#39;,2,\u0026#39;2007-01-01\u0026#39;,2,now(),now()), (5,\u0026#39;changyuchun\u0026#39;,\u0026#39;123456\u0026#39;,\u0026#39;å¸¸é‡æ˜¥\u0026#39;,1,\u0026#39;5.jpg\u0026#39;,2,\u0026#39;2012-12-05\u0026#39;,2,now(),now()), (6,\u0026#39;xiaozhao\u0026#39;,\u0026#39;123456\u0026#39;,\u0026#39;å°æ˜­\u0026#39;,2,\u0026#39;6.jpg\u0026#39;,3,\u0026#39;2013-09-05\u0026#39;,1,now(),now()), (7,\u0026#39;jixiaofu\u0026#39;,\u0026#39;123456\u0026#39;,\u0026#39;çºªæ™“èŠ™\u0026#39;,2,\u0026#39;7.jpg\u0026#39;,1,\u0026#39;2005-08-01\u0026#39;,1,now(),now()), (8,\u0026#39;zhouzhiruo\u0026#39;,\u0026#39;123456\u0026#39;,\u0026#39;å‘¨èŠ·è‹¥\u0026#39;,2,\u0026#39;8.jpg\u0026#39;,1,\u0026#39;2014-11-09\u0026#39;,1,now(),now()), (9,\u0026#39;dingminjun\u0026#39;,\u0026#39;123456\u0026#39;,\u0026#39;ä¸æ•å›\u0026#39;,2,\u0026#39;9.jpg\u0026#39;,1,\u0026#39;2011-03-11\u0026#39;,1,now(),now()), (10,\u0026#39;zhaomin\u0026#39;,\u0026#39;123456\u0026#39;,\u0026#39;èµµæ•\u0026#39;,2,\u0026#39;10.jpg\u0026#39;,1,\u0026#39;2013-09-05\u0026#39;,1,now(),now()), (11,\u0026#39;luzhangke\u0026#39;,\u0026#39;123456\u0026#39;,\u0026#39;é¹¿æ–å®¢\u0026#39;,1,\u0026#39;11.jpg\u0026#39;,1,\u0026#39;2007-02-01\u0026#39;,1,now(),now()), (12,\u0026#39;hebiweng\u0026#39;,\u0026#39;123456\u0026#39;,\u0026#39;é¹¤ç¬”ç¿\u0026#39;,1,\u0026#39;12.jpg\u0026#39;,1,\u0026#39;2008-08-18\u0026#39;,1,now(),now()), (13,\u0026#39;fangdongbai\u0026#39;,\u0026#39;123456\u0026#39;,\u0026#39;æ–¹ä¸œç™½\u0026#39;,1,\u0026#39;13.jpg\u0026#39;,2,\u0026#39;2012-11-01\u0026#39;,2,now(),now()), (14,\u0026#39;zhangsanfeng\u0026#39;,\u0026#39;123456\u0026#39;,\u0026#39;å¼ ä¸‰ä¸°\u0026#39;,1,\u0026#39;14.jpg\u0026#39;,2,\u0026#39;2002-08-01\u0026#39;,2,now(),now()), (15,\u0026#39;yulianzhou\u0026#39;,\u0026#39;123456\u0026#39;,\u0026#39;ä¿è²èˆŸ\u0026#39;,1,\u0026#39;15.jpg\u0026#39;,2,\u0026#39;2011-05-01\u0026#39;,2,now(),now()), (16,\u0026#39;songyuanqiao\u0026#39;,\u0026#39;123456\u0026#39;,\u0026#39;å®‹è¿œæ¡¥\u0026#39;,1,\u0026#39;16.jpg\u0026#39;,2,\u0026#39;2010-01-01\u0026#39;,2,now(),now()), (17,\u0026#39;chenyouliang\u0026#39;,\u0026#39;123456\u0026#39;,\u0026#39;é™ˆå‹è°…\u0026#39;,1,\u0026#39;17.jpg\u0026#39;,NULL,\u0026#39;2015-03-21\u0026#39;,NULL,now(),now()); å‘˜å·¥è¡¨ - éƒ¨é—¨è¡¨ä¹‹é—´çš„å…³ç³»ï¼š\nä¸€å¯¹å¤šå…³ç³»å®ç°ï¼šåœ¨æ•°æ®åº“è¡¨ä¸­å¤šçš„ä¸€æ–¹ï¼Œæ·»åŠ å­—æ®µï¼Œæ¥å…³è”å±äºä¸€è¿™æ–¹çš„ä¸»é”®ã€‚\n2.1.2 å¤–é”®çº¦æŸ é—®é¢˜\nè¡¨ç»“æ„åˆ›å»ºå®Œæ¯•åï¼Œæˆ‘ä»¬çœ‹åˆ°ä¸¤å¼ è¡¨çš„æ•°æ®åˆ†åˆ«ä¸ºï¼š ç°åœ¨å‘˜å·¥è¡¨ä¸­æœ‰äº”ä¸ªå‘˜å·¥éƒ½å½’å±äº1å·éƒ¨é—¨(å­¦å·¥éƒ¨)ï¼Œå½“åˆ é™¤äº†1å·éƒ¨é—¨åï¼Œæ•°æ®å˜ä¸ºï¼š\n1å·éƒ¨é—¨è¢«åˆ é™¤äº†ï¼Œä½†æ˜¯ä¾ç„¶è¿˜æœ‰5ä¸ªå‘˜å·¥æ˜¯å±äº1å·éƒ¨é—¨çš„ã€‚ æ­¤æ—¶ï¼šå°±å‡ºç°æ•°æ®çš„ä¸å®Œæ•´ã€ä¸ä¸€è‡´äº†ã€‚\né—®é¢˜åˆ†æ\nç›®å‰ä¸Šè¿°çš„ä¸¤å¼ è¡¨(å‘˜å·¥è¡¨ã€éƒ¨é—¨è¡¨)ï¼Œåœ¨æ•°æ®åº“å±‚é¢ï¼Œå¹¶æœªå»ºç«‹å…³è”ï¼Œæ‰€ä»¥æ˜¯æ— æ³•ä¿è¯æ•°æ®çš„ä¸€è‡´æ€§å’Œå®Œæ•´æ€§çš„\né—®é¢˜è§£å†³\næƒ³è§£å†³ä¸Šè¿°çš„é—®é¢˜å‘¢ï¼Œæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡æ•°æ®åº“ä¸­çš„ å¤–é”®çº¦æŸ æ¥è§£å†³ã€‚\nå¤–é”®çº¦æŸï¼šè®©ä¸¤å¼ è¡¨çš„æ•°æ®å»ºç«‹è¿æ¥ï¼Œä¿è¯æ•°æ®çš„ä¸€è‡´æ€§å’Œå®Œæ•´æ€§ã€‚\nå¯¹åº”çš„å…³é”®å­—ï¼šforeign key\nå¤–é”®çº¦æŸçš„è¯­æ³•ï¼š\n1 2 3 4 5 6 7 8 9 10 -- åˆ›å»ºè¡¨æ—¶æŒ‡å®š create table è¡¨å( å­—æ®µå æ•°æ®ç±»å‹, ... [constraint] [å¤–é”®åç§°] foreign key (å¤–é”®å­—æ®µå) references ä¸»è¡¨ (ä¸»è¡¨åˆ—å)\t); -- å»ºå®Œè¡¨åï¼Œæ·»åŠ å¤–é”® alter table è¡¨å add constraint å¤–é”®åç§° foreign key(å¤–é”®å­—æ®µå) references ä¸»è¡¨(ä¸»è¡¨åˆ—å); é‚£æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±ä¸ºå‘˜å·¥è¡¨çš„dept_id å»ºç«‹å¤–é”®çº¦æŸï¼Œæ¥å…³è”éƒ¨é—¨è¡¨çš„ä¸»é”®ã€‚\næ–¹å¼1ï¼šé€šè¿‡SQLè¯­å¥æ“ä½œ\n1 2 3 -- ä¿®æ”¹è¡¨ï¼š æ·»åŠ å¤–é”®çº¦æŸ alter table tb_emp add constraint fk_dept_id foreign key (dept_id) references tb_dept(id); æ–¹å¼2ï¼šå›¾å½¢åŒ–ç•Œé¢æ“ä½œ\nå½“æˆ‘ä»¬æ·»åŠ å¤–é”®çº¦æŸæ—¶ï¼Œæˆ‘ä»¬å¾—ä¿è¯å½“å‰æ•°æ®åº“è¡¨ä¸­çš„æ•°æ®æ˜¯å®Œæ•´çš„ã€‚ æ‰€ä»¥ï¼Œæˆ‘ä»¬éœ€è¦å°†ä¹‹å‰åˆ é™¤æ‰çš„æ•°æ®å†æ·»åŠ å›æ¥ã€‚\nå½“æˆ‘ä»¬æ·»åŠ äº†å¤–é”®ä¹‹åï¼Œå†åˆ é™¤IDä¸º1çš„éƒ¨é—¨ï¼Œå°±ä¼šå‘ç°ï¼Œæ­¤æ—¶æ•°æ®åº“æŠ¥é”™äº†ï¼Œä¸å…è®¸åˆ é™¤ã€‚\nå¤–é”®çº¦æŸï¼ˆforeign keyï¼‰ï¼šä¿è¯äº†æ•°æ®çš„å®Œæ•´æ€§å’Œä¸€è‡´æ€§ã€‚\nç‰©ç†å¤–é”®å’Œé€»è¾‘å¤–é”®\nç‰©ç†å¤–é”®\næ¦‚å¿µï¼šä½¿ç”¨foreign keyå®šä¹‰å¤–é”®å…³è”å¦å¤–ä¸€å¼ è¡¨ã€‚ ç¼ºç‚¹ï¼š å½±å“å¢ã€åˆ ã€æ”¹çš„æ•ˆç‡ï¼ˆéœ€è¦æ£€æŸ¥å¤–é”®å…³ç³»ï¼‰ã€‚ ä»…ç”¨äºå•èŠ‚ç‚¹æ•°æ®åº“ï¼Œä¸é€‚ç”¨ä¸åˆ†å¸ƒå¼ã€é›†ç¾¤åœºæ™¯ã€‚ å®¹æ˜“å¼•å‘æ•°æ®åº“çš„æ­»é”é—®é¢˜ï¼Œæ¶ˆè€—æ€§èƒ½ã€‚ é€»è¾‘å¤–é”®\næ¦‚å¿µï¼šåœ¨ä¸šåŠ¡å±‚é€»è¾‘ä¸­ï¼Œè§£å†³å¤–é”®å…³è”ã€‚ é€šè¿‡é€»è¾‘å¤–é”®ï¼Œå°±å¯ä»¥å¾ˆæ–¹ä¾¿çš„è§£å†³ä¸Šè¿°é—®é¢˜ã€‚ **åœ¨ç°åœ¨çš„ä¼ä¸šå¼€å‘ä¸­ï¼Œå¾ˆå°‘ä¼šä½¿ç”¨ç‰©ç†å¤–é”®ï¼Œéƒ½æ˜¯ä½¿ç”¨é€»è¾‘å¤–é”®ã€‚ ç”šè‡³åœ¨ä¸€äº›æ•°æ®åº“å¼€å‘è§„èŒƒä¸­ï¼Œä¼šæ˜ç¡®æŒ‡å‡ºç¦æ­¢ä½¿ç”¨ç‰©ç†å¤–é”® foreign key **\n2.2 ä¸€å¯¹ä¸€ ä¸€å¯¹ä¸€å…³ç³»è¡¨åœ¨å®é™…å¼€å‘ä¸­åº”ç”¨èµ·æ¥æ¯”è¾ƒç®€å•ï¼Œé€šå¸¸æ˜¯ç”¨æ¥åšå•è¡¨çš„æ‹†åˆ†ï¼Œä¹Ÿå°±æ˜¯å°†ä¸€å¼ å¤§è¡¨æ‹†åˆ†æˆä¸¤å¼ å°è¡¨ï¼Œå°†å¤§è¡¨ä¸­çš„ä¸€äº›åŸºç¡€å­—æ®µæ”¾åœ¨ä¸€å¼ è¡¨å½“ä¸­ï¼Œå°†å…¶ä»–çš„å­—æ®µæ”¾åœ¨å¦å¤–ä¸€å¼ è¡¨å½“ä¸­ï¼Œä»¥æ­¤æ¥æé«˜æ•°æ®çš„æ“ä½œæ•ˆç‡ã€‚\nä¸€å¯¹ä¸€çš„åº”ç”¨åœºæ™¯ï¼š ç”¨æˆ·è¡¨(åŸºæœ¬ä¿¡æ¯+èº«ä»½ä¿¡æ¯)\nåŸºæœ¬ä¿¡æ¯ï¼šç”¨æˆ·çš„IDã€å§“åã€æ€§åˆ«ã€æ‰‹æœºå·ã€å­¦å† èº«ä»½ä¿¡æ¯ï¼šæ°‘æ—ã€ç”Ÿæ—¥ã€èº«ä»½è¯å·ã€èº«ä»½è¯ç­¾å‘æœºå…³ï¼Œèº«ä»½è¯çš„æœ‰æ•ˆæœŸ(å¼€å§‹æ—¶é—´ã€ç»“æŸæ—¶é—´) å¦‚æœåœ¨ä¸šåŠ¡ç³»ç»Ÿå½“ä¸­ï¼Œå¯¹ç”¨æˆ·çš„åŸºæœ¬ä¿¡æ¯æŸ¥è¯¢é¢‘ç‡ç‰¹åˆ«çš„é«˜ï¼Œä½†æ˜¯å¯¹äºç”¨æˆ·çš„èº«ä»½ä¿¡æ¯æŸ¥è¯¢é¢‘ç‡å¾ˆä½ï¼Œæ­¤æ—¶å‡ºäºæé«˜æŸ¥è¯¢æ•ˆç‡çš„è€ƒè™‘ï¼Œæˆ‘å°±å¯ä»¥å°†è¿™å¼ å¤§è¡¨æ‹†åˆ†æˆä¸¤å¼ å°è¡¨ï¼Œç¬¬ä¸€å¼ è¡¨å­˜æ”¾çš„æ˜¯ç”¨æˆ·çš„åŸºæœ¬ä¿¡æ¯ï¼Œè€Œç¬¬äºŒå¼ è¡¨å­˜æ”¾çš„å°±æ˜¯ç”¨æˆ·çš„èº«ä»½ä¿¡æ¯ã€‚ä»–ä»¬ä¸¤è€…ä¹‹é—´ä¸€å¯¹ä¸€çš„å…³ç³»ï¼Œä¸€ä¸ªç”¨æˆ·åªèƒ½å¯¹åº”ä¸€ä¸ªèº«ä»½è¯ï¼Œè€Œä¸€ä¸ªèº«ä»½è¯ä¹Ÿåªèƒ½å…³è”ä¸€ä¸ªç”¨æˆ·ã€‚\né‚£ä¹ˆåœ¨æ•°æ®åº“å±‚é¢æ€ä¹ˆå»ä½“ç°ä¸Šè¿°ä¸¤è€…ä¹‹é—´æ˜¯ä¸€å¯¹ä¸€çš„å…³ç³»å‘¢ï¼Ÿ\nå…¶å®ä¸€å¯¹ä¸€æˆ‘ä»¬å¯ä»¥çœ‹æˆä¸€ç§ç‰¹æ®Šçš„ä¸€å¯¹å¤šã€‚ä¸€å¯¹å¤šæˆ‘ä»¬æ˜¯æ€ä¹ˆè®¾è®¡è¡¨å…³ç³»çš„ï¼Ÿæ˜¯ä¸æ˜¯åœ¨å¤šçš„ä¸€æ–¹æ·»åŠ å¤–é”®ã€‚åŒæ ·æˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡å¤–é”®æ¥ä½“ç°ä¸€å¯¹ä¸€ä¹‹é—´çš„å…³ç³»ï¼Œæˆ‘ä»¬åªéœ€è¦åœ¨ä»»æ„ä¸€æ–¹æ¥æ·»åŠ ä¸€ä¸ªå¤–é”®å°±å¯ä»¥äº†ã€‚\nä¸€å¯¹ä¸€ ï¼šåœ¨ä»»æ„ä¸€æ–¹åŠ å…¥å¤–é”®ï¼Œå…³è”å¦å¤–ä¸€æ–¹çš„ä¸»é”®ï¼Œå¹¶ä¸”è®¾ç½®å¤–é”®ä¸ºå”¯ä¸€çš„(UNIQUE)\nSQLè„šæœ¬ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 -- ç”¨æˆ·åŸºæœ¬ä¿¡æ¯è¡¨ create table tb_user( id int unsigned primary key auto_increment comment \u0026#39;ID\u0026#39;, name varchar(10) not null comment \u0026#39;å§“å\u0026#39;, gender tinyint unsigned not null comment \u0026#39;æ€§åˆ«, 1 ç”· 2 å¥³\u0026#39;, phone char(11) comment \u0026#39;æ‰‹æœºå·\u0026#39;, degree varchar(10) comment \u0026#39;å­¦å†\u0026#39; ) comment \u0026#39;ç”¨æˆ·åŸºæœ¬ä¿¡æ¯è¡¨\u0026#39;; -- æµ‹è¯•æ•°æ® insert into tb_user values (1,\u0026#39;ç™½çœ‰é¹°ç‹\u0026#39;,1,\u0026#39;18812340001\u0026#39;,\u0026#39;åˆä¸­\u0026#39;), (2,\u0026#39;é’ç¿¼è ç‹\u0026#39;,1,\u0026#39;18812340002\u0026#39;,\u0026#39;å¤§ä¸“\u0026#39;), (3,\u0026#39;é‡‘æ¯›ç‹®ç‹\u0026#39;,1,\u0026#39;18812340003\u0026#39;,\u0026#39;åˆä¸­\u0026#39;), (4,\u0026#39;ç´«è¡«é¾™ç‹\u0026#39;,2,\u0026#39;18812340004\u0026#39;,\u0026#39;ç¡•å£«\u0026#39;); -- ç”¨æˆ·èº«ä»½ä¿¡æ¯è¡¨ create table tb_user_card( id int unsigned primary key auto_increment comment \u0026#39;ID\u0026#39;, nationality varchar(10) not null comment \u0026#39;æ°‘æ—\u0026#39;, birthday date not null comment \u0026#39;ç”Ÿæ—¥\u0026#39;, idcard char(18) not null comment \u0026#39;èº«ä»½è¯å·\u0026#39;, issued varchar(20) not null comment \u0026#39;ç­¾å‘æœºå…³\u0026#39;, expire_begin date not null comment \u0026#39;æœ‰æ•ˆæœŸé™-å¼€å§‹\u0026#39;, expire_end date comment \u0026#39;æœ‰æ•ˆæœŸé™-ç»“æŸ\u0026#39;, user_id int unsigned not null unique comment \u0026#39;ç”¨æˆ·ID\u0026#39;, constraint fk_user_id foreign key (user_id) references tb_user(id) ) comment \u0026#39;ç”¨æˆ·èº«ä»½ä¿¡æ¯è¡¨\u0026#39;; -- æµ‹è¯•æ•°æ® insert into tb_user_card values (1,\u0026#39;æ±‰\u0026#39;,\u0026#39;1960-11-06\u0026#39;,\u0026#39;100000100000100001\u0026#39;,\u0026#39;æœé˜³åŒºå…¬å®‰å±€\u0026#39;,\u0026#39;2000-06-10\u0026#39;,null,1), (2,\u0026#39;æ±‰\u0026#39;,\u0026#39;1971-11-06\u0026#39;,\u0026#39;100000100000100002\u0026#39;,\u0026#39;é™å®‰åŒºå…¬å®‰å±€\u0026#39;,\u0026#39;2005-06-10\u0026#39;,\u0026#39;2025-06-10\u0026#39;,2), (3,\u0026#39;æ±‰\u0026#39;,\u0026#39;1963-11-06\u0026#39;,\u0026#39;100000100000100003\u0026#39;,\u0026#39;æ˜Œå¹³åŒºå…¬å®‰å±€\u0026#39;,\u0026#39;2006-06-10\u0026#39;,null,3), (4,\u0026#39;å›\u0026#39;,\u0026#39;1980-11-06\u0026#39;,\u0026#39;100000100000100004\u0026#39;,\u0026#39;æµ·æ·€åŒºå…¬å®‰å±€\u0026#39;,\u0026#39;2008-06-10\u0026#39;,\u0026#39;2028-06-10\u0026#39;,4); 2.3 å¤šå¯¹å¤š å¤šå¯¹å¤šçš„å…³ç³»åœ¨å¼€å‘ä¸­å±äºä¹Ÿæ¯”è¾ƒå¸¸è§çš„ã€‚æ¯”å¦‚ï¼šå­¦ç”Ÿå’Œè€å¸ˆçš„å…³ç³»ï¼Œä¸€ä¸ªå­¦ç”Ÿå¯ä»¥æœ‰å¤šä¸ªæˆè¯¾è€å¸ˆï¼Œä¸€ä¸ªæˆè¯¾è€å¸ˆä¹Ÿå¯ä»¥æœ‰å¤šä¸ªå­¦ç”Ÿã€‚åœ¨æ¯”å¦‚ï¼šå­¦ç”Ÿå’Œè¯¾ç¨‹çš„å…³ç³»ï¼Œä¸€ä¸ªå­¦ç”Ÿå¯ä»¥é€‰ä¿®å¤šé—¨è¯¾ç¨‹ï¼Œä¸€ä¸ªè¯¾ç¨‹ä¹Ÿå¯ä»¥ä¾›å¤šä¸ªå­¦ç”Ÿé€‰ä¿®ã€‚\næ¡ˆä¾‹ï¼šå­¦ç”Ÿä¸è¯¾ç¨‹çš„å…³ç³»\nå…³ç³»ï¼šä¸€ä¸ªå­¦ç”Ÿå¯ä»¥é€‰ä¿®å¤šé—¨è¯¾ç¨‹ï¼Œä¸€é—¨è¯¾ç¨‹ä¹Ÿå¯ä»¥ä¾›å¤šä¸ªå­¦ç”Ÿé€‰æ‹©\nå®ç°å…³ç³»ï¼šå»ºç«‹ç¬¬ä¸‰å¼ ä¸­é—´è¡¨ï¼Œä¸­é—´è¡¨è‡³å°‘åŒ…å«ä¸¤ä¸ªå¤–é”®ï¼Œåˆ†åˆ«å…³è”ä¸¤æ–¹ä¸»é”®\nSQLè„šæœ¬ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 -- å­¦ç”Ÿè¡¨ create table tb_student( id int auto_increment primary key comment \u0026#39;ä¸»é”®ID\u0026#39;, name varchar(10) comment \u0026#39;å§“å\u0026#39;, no varchar(10) comment \u0026#39;å­¦å·\u0026#39; ) comment \u0026#39;å­¦ç”Ÿè¡¨\u0026#39;; -- å­¦ç”Ÿè¡¨æµ‹è¯•æ•°æ® insert into tb_student(name, no) values (\u0026#39;é»›ç»®ä¸\u0026#39;, \u0026#39;2000100101\u0026#39;),(\u0026#39;è°¢é€Š\u0026#39;, \u0026#39;2000100102\u0026#39;),(\u0026#39;æ®·å¤©æ­£\u0026#39;, \u0026#39;2000100103\u0026#39;),(\u0026#39;éŸ¦ä¸€ç¬‘\u0026#39;, \u0026#39;2000100104\u0026#39;); -- è¯¾ç¨‹è¡¨ create table tb_course( id int auto_increment primary key comment \u0026#39;ä¸»é”®ID\u0026#39;, name varchar(10) comment \u0026#39;è¯¾ç¨‹åç§°\u0026#39; ) comment \u0026#39;è¯¾ç¨‹è¡¨\u0026#39;; -- è¯¾ç¨‹è¡¨æµ‹è¯•æ•°æ® insert into tb_course (name) values (\u0026#39;Java\u0026#39;), (\u0026#39;PHP\u0026#39;), (\u0026#39;MySQL\u0026#39;) , (\u0026#39;Hadoop\u0026#39;); -- å­¦ç”Ÿè¯¾ç¨‹è¡¨ï¼ˆä¸­é—´è¡¨ï¼‰ create table tb_student_course( id int auto_increment comment \u0026#39;ä¸»é”®\u0026#39; primary key, student_id int not null comment \u0026#39;å­¦ç”ŸID\u0026#39;, course_id int not null comment \u0026#39;è¯¾ç¨‹ID\u0026#39;, constraint fk_courseid foreign key (course_id) references tb_course (id), constraint fk_studentid foreign key (student_id) references tb_student (id) )comment \u0026#39;å­¦ç”Ÿè¯¾ç¨‹ä¸­é—´è¡¨\u0026#39;; -- å­¦ç”Ÿè¯¾ç¨‹è¡¨æµ‹è¯•æ•°æ® insert into tb_student_course(student_id, course_id) values (1,1),(1,2),(1,3),(2,2),(2,3),(3,4); 2.4 æ¡ˆä¾‹ ä¸‹é¢é€šè¿‡ä¸€ä¸ªç»¼åˆæ¡ˆä¾‹åŠ æ·±å¯¹äºå¤šè¡¨å…³ç³»çš„ç†è§£ï¼Œå¹¶æŒæ¡å¤šè¡¨è®¾è®¡çš„æµç¨‹ã€‚\néœ€æ±‚\næ ¹æ®å‚è€ƒèµ„æ–™ä¸­æä¾›çš„ã€Šè‹ç©¹å¤–å–_ç®¡ç†åå°ã€‹é¡µé¢åŸå‹ï¼Œè®¾è®¡åˆ†ç±»ç®¡ç†ã€èœå“ç®¡ç†ã€å¥—é¤ç®¡ç†æ¨¡å—çš„è¡¨ç»“æ„ã€‚ æ­¥éª¤\né˜…è¯»é¡µé¢åŸå‹åŠéœ€æ±‚æ–‡æ¡£ï¼Œåˆ†æå„ä¸ªæ¨¡å—æ¶‰åŠåˆ°çš„è¡¨ç»“æ„ï¼ŒåŠè¡¨ç»“æ„ä¹‹é—´çš„å…³ç³»ã€‚\næ ¹æ®é¡µé¢åŸå‹åŠéœ€æ±‚æ–‡æ¡£ï¼Œåˆ†æå„ä¸ªè¡¨ç»“æ„ä¸­å…·ä½“çš„å­—æ®µåŠçº¦æŸã€‚\nåˆ†æ\né¡µé¢åŸå‹-åˆ†ç±»ç®¡ç† åˆ†ç±»çš„ä¿¡æ¯ï¼šåˆ†ç±»åç§°ã€åˆ†ç±»ç±»å‹[èœå“/å¥—é¤]ã€åˆ†ç±»æ’åºã€åˆ†ç±»çŠ¶æ€[ç¦ç”¨/å¯ç”¨]ã€åˆ†ç±»çš„æ“ä½œæ—¶é—´(ä¿®æ”¹æ—¶é—´)ã€‚\né¡µé¢åŸå‹-èœå“ç®¡ç† èœå“çš„ä¿¡æ¯ï¼šèœå“åç§°ã€èœå“å›¾ç‰‡ã€èœå“åˆ†ç±»ã€èœå“å”®ä»·ã€èœå“å”®å–çŠ¶æ€ã€èœå“çš„æ“ä½œæ—¶é—´(ä¿®æ”¹æ—¶é—´)ã€‚\næ€è€ƒï¼šåˆ†ç±»ä¸èœå“ä¹‹é—´æ˜¯ä»€ä¹ˆå…³ç³»ï¼Ÿ\næ€è€ƒé€»è¾‘ï¼šä¸€ä¸ªåˆ†ç±»ä¸‹å¯ä»¥æœ‰å¤šä¸ªèœå“å—ï¼Ÿåè¿‡æ¥å†æƒ³ä¸€æƒ³ï¼Œä¸€ä¸ªèœå“ä¼šå¯¹åº”å¤šä¸ªåˆ†ç±»å—ï¼Ÿ ç­”æ¡ˆï¼šä¸€å¯¹å¤šå…³ç³»ã€‚ä¸€ä¸ªåˆ†ç±»ä¸‹ä¼šæœ‰å¤šä¸ªèœå“ï¼Œè€Œä¸€ä¸ªèœå“åªèƒ½å½’å±ä¸€ä¸ªåˆ†ç±»ã€‚\nè®¾è®¡è¡¨åŸåˆ™ï¼šåœ¨å¤šçš„ä¸€æ–¹ï¼Œæ·»åŠ å­—æ®µï¼Œå…³è”å±äºä¸€è¿™æ–¹çš„ä¸»é”®ã€‚\né¡µé¢åŸå‹-å¥—é¤ç®¡ç† å¥—é¤çš„ä¿¡æ¯ï¼šå¥—é¤åç§°ã€å¥—é¤å›¾ç‰‡ã€å¥—é¤åˆ†ç±»ã€å¥—é¤ä»·æ ¼ã€å¥—é¤å”®å–çŠ¶æ€ã€å¥—é¤çš„æ“ä½œæ—¶é—´ã€‚\næ€è€ƒï¼šå¥—é¤ä¸èœå“ä¹‹é—´æ˜¯ä»€ä¹ˆå…³ç³»ï¼Ÿ\næ€è€ƒé€»è¾‘ï¼šä¸€ä¸ªå¥—é¤ä¸‹å¯ä»¥æœ‰å¤šä¸ªèœå“å—ï¼Ÿåè¿‡æ¥å†æƒ³ä¸€æƒ³ï¼Œä¸€ä¸ªèœå“å¯ä»¥å‡ºç°åœ¨å¤šä¸ªå¥—é¤ä¸­å—ï¼Ÿ ç­”æ¡ˆï¼šå¤šå¯¹å¤šå…³ç³»ã€‚ä¸€ä¸ªå¥—é¤ä¸‹ä¼šæœ‰å¤šä¸ªèœå“ï¼Œè€Œä¸€ä¸ªèœå“ä¹Ÿå¯ä»¥å‡ºç°åœ¨å¤šä¸ªå¥—é¤ä¸­ã€‚\nè®¾è®¡è¡¨åŸåˆ™ï¼šåˆ›å»ºç¬¬ä¸‰å¼ ä¸­é—´è¡¨ï¼Œå»ºç«‹ä¸¤ä¸ªå­—æ®µåˆ†åˆ«å…³è”èœå“è¡¨çš„ä¸»é”®å’Œå¥—é¤è¡¨çš„ä¸»é”®ã€‚\nåˆ†æé¡µé¢åŸå‹åŠéœ€æ±‚æ–‡æ¡£åï¼Œæˆ‘ä»¬è·å¾—ï¼š\nåˆ†ç±»è¡¨ ä¸šåŠ¡å­—æ®µï¼šåˆ†ç±»åç§°ã€åˆ†ç±»ç±»å‹ã€åˆ†ç±»æ’åºã€åˆ†ç±»çŠ¶æ€ åŸºç¡€å­—æ®µï¼šid(ä¸»é”®)ã€åˆ†ç±»çš„åˆ›å»ºæ—¶é—´ã€åˆ†ç±»çš„ä¿®æ”¹æ—¶é—´ èœå“è¡¨ ä¸šåŠ¡å­—æ®µï¼šèœå“åç§°ã€èœå“å›¾ç‰‡ã€èœå“åˆ†ç±»ã€èœå“å”®ä»·ã€èœå“å”®å–çŠ¶æ€ åŸºç¡€å­—æ®µï¼šid(ä¸»é”®)ã€åˆ†ç±»çš„åˆ›å»ºæ—¶é—´ã€åˆ†ç±»çš„ä¿®æ”¹æ—¶é—´ å¥—é¤è¡¨ ä¸šåŠ¡å­—æ®µï¼šå¥—é¤åç§°ã€å¥—é¤å›¾ç‰‡ã€å¥—é¤åˆ†ç±»ã€å¥—é¤ä»·æ ¼ã€å¥—é¤å”®å–çŠ¶æ€ åŸºç¡€å­—æ®µï¼šid(ä¸»é”®)ã€åˆ†ç±»çš„åˆ›å»ºæ—¶é—´ã€åˆ†ç±»çš„ä¿®æ”¹æ—¶é—´ è¡¨ç»“æ„ä¹‹é—´çš„å…³ç³»ï¼š\nåˆ†ç±»è¡¨ - èœå“è¡¨ ï¼š ä¸€å¯¹å¤š åœ¨èœå“è¡¨ä¸­æ·»åŠ å­—æ®µ(èœå“åˆ†ç±»)ï¼Œå…³è”åˆ†ç±»è¡¨ èœå“è¡¨ - å¥—é¤è¡¨ ï¼š å¤šå¯¹å¤š åˆ›å»ºç¬¬ä¸‰å¼ ä¸­é—´è¡¨(å¥—é¤èœå“å…³è”è¡¨)ï¼Œåœ¨ä¸­é—´è¡¨ä¸Šæ·»åŠ ä¸¤ä¸ªå­—æ®µ(èœå“idã€å¥—é¤id)ï¼Œåˆ†åˆ«å…³è”èœå“è¡¨å’Œåˆ†ç±»è¡¨ è¡¨ç»“æ„\nåˆ†ç±»è¡¨ï¼šcategory\nä¸šåŠ¡å­—æ®µï¼šåˆ†ç±»åç§°ã€åˆ†ç±»ç±»å‹ã€åˆ†ç±»æ’åºã€åˆ†ç±»çŠ¶æ€ åŸºç¡€å­—æ®µï¼šid(ä¸»é”®)ã€åˆ›å»ºæ—¶é—´ã€ä¿®æ”¹æ—¶é—´ 1 2 3 4 5 6 7 8 9 10 11 -- åˆ†ç±»è¡¨ create table category ( id int unsigned primary key auto_increment comment \u0026#39;ä¸»é”®ID\u0026#39;, name varchar(20) not null unique comment \u0026#39;åˆ†ç±»åç§°\u0026#39;, type tinyint unsigned not null comment \u0026#39;ç±»å‹ 1 èœå“åˆ†ç±» 2 å¥—é¤åˆ†ç±»\u0026#39;, sort tinyint unsigned not null comment \u0026#39;é¡ºåº\u0026#39;, status tinyint unsigned not null default 0 comment \u0026#39;çŠ¶æ€ 0 ç¦ç”¨ï¼Œ1 å¯ç”¨\u0026#39;, create_time datetime not null comment \u0026#39;åˆ›å»ºæ—¶é—´\u0026#39;, update_time datetime not null comment \u0026#39;æ›´æ–°æ—¶é—´\u0026#39; ) comment \u0026#39;èœå“åŠå¥—é¤åˆ†ç±»\u0026#39;; èœå“è¡¨ï¼šdish\nä¸šåŠ¡å­—æ®µï¼šèœå“åç§°ã€èœå“å›¾ç‰‡ã€èœå“åˆ†ç±»ã€èœå“å”®ä»·ã€èœå“å”®å–çŠ¶æ€ åŸºç¡€å­—æ®µï¼šid(ä¸»é”®)ã€åˆ†ç±»çš„åˆ›å»ºæ—¶é—´ã€åˆ†ç±»çš„ä¿®æ”¹æ—¶é—´ 1 2 3 4 5 6 7 8 9 10 11 12 13 -- èœå“è¡¨ create table dish ( id int unsigned primary key auto_increment comment \u0026#39;ä¸»é”®ID\u0026#39;, name varchar(20) not null unique comment \u0026#39;èœå“åç§°\u0026#39;, category_id int unsigned not null comment \u0026#39;èœå“åˆ†ç±»ID\u0026#39;, -- é€»è¾‘å¤–é”® price decimal(8, 2) not null comment \u0026#39;èœå“ä»·æ ¼\u0026#39;, image varchar(300) not null comment \u0026#39;èœå“å›¾ç‰‡\u0026#39;, description varchar(200) comment \u0026#39;æè¿°ä¿¡æ¯\u0026#39;, status tinyint unsigned not null default 0 comment \u0026#39;çŠ¶æ€, 0 åœå”® 1 èµ·å”®\u0026#39;, create_time datetime not null comment \u0026#39;åˆ›å»ºæ—¶é—´\u0026#39;, update_time datetime not null comment \u0026#39;æ›´æ–°æ—¶é—´\u0026#39; ) comment \u0026#39;èœå“\u0026#39;; å¥—é¤è¡¨ï¼šsetmeal\nä¸šåŠ¡å­—æ®µï¼šå¥—é¤åç§°ã€å¥—é¤å›¾ç‰‡ã€å¥—é¤åˆ†ç±»ã€å¥—é¤ä»·æ ¼ã€å¥—é¤å”®å–çŠ¶æ€ åŸºç¡€å­—æ®µï¼šid(ä¸»é”®)ã€åˆ†ç±»çš„åˆ›å»ºæ—¶é—´ã€åˆ†ç±»çš„ä¿®æ”¹æ—¶é—´ 1 2 3 4 5 6 7 8 9 10 11 12 13 -- å¥—é¤è¡¨ create table setmeal ( id int unsigned primary key auto_increment comment \u0026#39;ä¸»é”®ID\u0026#39;, name varchar(20) not null unique comment \u0026#39;å¥—é¤åç§°\u0026#39;, category_id int unsigned not null comment \u0026#39;åˆ†ç±»id\u0026#39;, -- é€»è¾‘å¤–é”® price decimal(8, 2) not null comment \u0026#39;å¥—é¤ä»·æ ¼\u0026#39;, image varchar(300) not null comment \u0026#39;å›¾ç‰‡\u0026#39;, description varchar(200) comment \u0026#39;æè¿°ä¿¡æ¯\u0026#39;, status tinyint unsigned not null default 0 comment \u0026#39;çŠ¶æ€ 0:åœç”¨ 1:å¯ç”¨\u0026#39;, create_time datetime not null comment \u0026#39;åˆ›å»ºæ—¶é—´\u0026#39;, update_time datetime not null comment \u0026#39;æ›´æ–°æ—¶é—´\u0026#39; ) comment \u0026#39;å¥—é¤\u0026#39;; å¥—é¤èœå“å…³è”è¡¨ï¼šsetmeal_dish\n1 2 3 4 5 6 7 8 -- å¥—é¤èœå“å…³è”è¡¨ create table setmeal_dish ( id int unsigned primary key auto_increment comment \u0026#39;ä¸»é”®ID\u0026#39;, setmeal_id int unsigned not null comment \u0026#39;å¥—é¤id \u0026#39;, -- é€»è¾‘å¤–é”® dish_id int unsigned not null comment \u0026#39;èœå“id\u0026#39;, -- é€»è¾‘å¤–é”® copies tinyint unsigned not null comment \u0026#39;ä»½æ•°\u0026#39; ) comment \u0026#39;å¥—é¤èœå“å…³è”è¡¨\u0026#39;; ","date":"0001-01-01T00:00:00Z","permalink":"http://localhost:1313/p/","title":""},{"content":"æ•°æ®åº“å¼€å‘-MySQL 1. å¤šè¡¨æŸ¥è¯¢ 1.1 æ¦‚è¿° 1.1.1 æ•°æ®å‡†å¤‡ SQLè„šæœ¬ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 #å»ºè®®ï¼šåˆ›å»ºæ–°çš„æ•°æ®åº“ create database db04; use db04; -- éƒ¨é—¨è¡¨ create table tb_dept ( id int unsigned primary key auto_increment comment \u0026#39;ä¸»é”®ID\u0026#39;, name varchar(10) not null unique comment \u0026#39;éƒ¨é—¨åç§°\u0026#39;, create_time datetime not null comment \u0026#39;åˆ›å»ºæ—¶é—´\u0026#39;, update_time datetime not null comment \u0026#39;ä¿®æ”¹æ—¶é—´\u0026#39; ) comment \u0026#39;éƒ¨é—¨è¡¨\u0026#39;; -- éƒ¨é—¨è¡¨æµ‹è¯• insert into tb_dept (id, name, create_time, update_time) values (1, \u0026#39;å­¦å·¥éƒ¨\u0026#39;, now(), now()), (2, \u0026#39;æ•™ç ”éƒ¨\u0026#39;, now(), now()), (3, \u0026#39;å’¨è¯¢éƒ¨\u0026#39;, now(), now()), (4, \u0026#39;å°±ä¸šéƒ¨\u0026#39;, now(), now()), (5, \u0026#39;äººäº‹éƒ¨\u0026#39;, now(), now()); -- å‘˜å·¥è¡¨ create table tb_emp ( id int unsigned primary key auto_increment comment \u0026#39;ID\u0026#39;, username varchar(20) not null unique comment \u0026#39;ç”¨æˆ·å\u0026#39;, password varchar(32) default \u0026#39;123456\u0026#39; comment \u0026#39;å¯†ç \u0026#39;, name varchar(10) not null comment \u0026#39;å§“å\u0026#39;, gender tinyint unsigned not null comment \u0026#39;æ€§åˆ«, è¯´æ˜: 1 ç”·, 2 å¥³\u0026#39;, image varchar(300) comment \u0026#39;å›¾åƒ\u0026#39;, job tinyint unsigned comment \u0026#39;èŒä½, è¯´æ˜: 1 ç­ä¸»ä»»,2 è®²å¸ˆ, 3 å­¦å·¥ä¸»ç®¡, 4 æ•™ç ”ä¸»ç®¡, 5 å’¨è¯¢å¸ˆ\u0026#39;, entrydate date comment \u0026#39;å…¥èŒæ—¶é—´\u0026#39;, dept_id int unsigned comment \u0026#39;éƒ¨é—¨ID\u0026#39;, create_time datetime not null comment \u0026#39;åˆ›å»ºæ—¶é—´\u0026#39;, update_time datetime not null comment \u0026#39;ä¿®æ”¹æ—¶é—´\u0026#39; ) comment \u0026#39;å‘˜å·¥è¡¨\u0026#39;; -- å‘˜å·¥è¡¨æµ‹è¯•æ•°æ® INSERT INTO tb_emp(id, username, password, name, gender, image, job, entrydate,dept_id, create_time, update_time) VALUES (1,\u0026#39;jinyong\u0026#39;,\u0026#39;123456\u0026#39;,\u0026#39;é‡‘åº¸\u0026#39;,1,\u0026#39;1.jpg\u0026#39;,4,\u0026#39;2000-01-01\u0026#39;,2,now(),now()), (2,\u0026#39;zhangwuji\u0026#39;,\u0026#39;123456\u0026#39;,\u0026#39;å¼ æ— å¿Œ\u0026#39;,1,\u0026#39;2.jpg\u0026#39;,2,\u0026#39;2015-01-01\u0026#39;,2,now(),now()), (3,\u0026#39;yangxiao\u0026#39;,\u0026#39;123456\u0026#39;,\u0026#39;æ¨é€\u0026#39;,1,\u0026#39;3.jpg\u0026#39;,2,\u0026#39;2008-05-01\u0026#39;,2,now(),now()), (4,\u0026#39;weiyixiao\u0026#39;,\u0026#39;123456\u0026#39;,\u0026#39;éŸ¦ä¸€ç¬‘\u0026#39;,1,\u0026#39;4.jpg\u0026#39;,2,\u0026#39;2007-01-01\u0026#39;,2,now(),now()), (5,\u0026#39;changyuchun\u0026#39;,\u0026#39;123456\u0026#39;,\u0026#39;å¸¸é‡æ˜¥\u0026#39;,1,\u0026#39;5.jpg\u0026#39;,2,\u0026#39;2012-12-05\u0026#39;,2,now(),now()), (6,\u0026#39;xiaozhao\u0026#39;,\u0026#39;123456\u0026#39;,\u0026#39;å°æ˜­\u0026#39;,2,\u0026#39;6.jpg\u0026#39;,3,\u0026#39;2013-09-05\u0026#39;,1,now(),now()), (7,\u0026#39;jixiaofu\u0026#39;,\u0026#39;123456\u0026#39;,\u0026#39;çºªæ™“èŠ™\u0026#39;,2,\u0026#39;7.jpg\u0026#39;,1,\u0026#39;2005-08-01\u0026#39;,1,now(),now()), (8,\u0026#39;zhouzhiruo\u0026#39;,\u0026#39;123456\u0026#39;,\u0026#39;å‘¨èŠ·è‹¥\u0026#39;,2,\u0026#39;8.jpg\u0026#39;,1,\u0026#39;2014-11-09\u0026#39;,1,now(),now()), (9,\u0026#39;dingminjun\u0026#39;,\u0026#39;123456\u0026#39;,\u0026#39;ä¸æ•å›\u0026#39;,2,\u0026#39;9.jpg\u0026#39;,1,\u0026#39;2011-03-11\u0026#39;,1,now(),now()), (10,\u0026#39;zhaomin\u0026#39;,\u0026#39;123456\u0026#39;,\u0026#39;èµµæ•\u0026#39;,2,\u0026#39;10.jpg\u0026#39;,1,\u0026#39;2013-09-05\u0026#39;,1,now(),now()), (11,\u0026#39;luzhangke\u0026#39;,\u0026#39;123456\u0026#39;,\u0026#39;é¹¿æ–å®¢\u0026#39;,1,\u0026#39;11.jpg\u0026#39;,5,\u0026#39;2007-02-01\u0026#39;,3,now(),now()), (12,\u0026#39;hebiweng\u0026#39;,\u0026#39;123456\u0026#39;,\u0026#39;é¹¤ç¬”ç¿\u0026#39;,1,\u0026#39;12.jpg\u0026#39;,5,\u0026#39;2008-08-18\u0026#39;,3,now(),now()), (13,\u0026#39;fangdongbai\u0026#39;,\u0026#39;123456\u0026#39;,\u0026#39;æ–¹ä¸œç™½\u0026#39;,1,\u0026#39;13.jpg\u0026#39;,5,\u0026#39;2012-11-01\u0026#39;,3,now(),now()), (14,\u0026#39;zhangsanfeng\u0026#39;,\u0026#39;123456\u0026#39;,\u0026#39;å¼ ä¸‰ä¸°\u0026#39;,1,\u0026#39;14.jpg\u0026#39;,2,\u0026#39;2002-08-01\u0026#39;,2,now(),now()), (15,\u0026#39;yulianzhou\u0026#39;,\u0026#39;123456\u0026#39;,\u0026#39;ä¿è²èˆŸ\u0026#39;,1,\u0026#39;15.jpg\u0026#39;,2,\u0026#39;2011-05-01\u0026#39;,2,now(),now()), (16,\u0026#39;songyuanqiao\u0026#39;,\u0026#39;123456\u0026#39;,\u0026#39;å®‹è¿œæ¡¥\u0026#39;,1,\u0026#39;16.jpg\u0026#39;,2,\u0026#39;2007-01-01\u0026#39;,2,now(),now()), (17,\u0026#39;chenyouliang\u0026#39;,\u0026#39;123456\u0026#39;,\u0026#39;é™ˆå‹è°…\u0026#39;,1,\u0026#39;17.jpg\u0026#39;,NULL,\u0026#39;2015-03-21\u0026#39;,NULL,now(),now()); 1.1.2 ä»‹ç» å¤šè¡¨æŸ¥è¯¢ï¼šæŸ¥è¯¢æ—¶ä»å¤šå¼ è¡¨ä¸­è·å–æ‰€éœ€æ•°æ®\nå•è¡¨æŸ¥è¯¢çš„SQLè¯­å¥ï¼šselect å­—æ®µåˆ—è¡¨ from è¡¨å;\né‚£ä¹ˆè¦æ‰§è¡Œå¤šè¡¨æŸ¥è¯¢ï¼Œåªéœ€è¦ä½¿ç”¨é€—å·åˆ†éš”å¤šå¼ è¡¨å³å¯ï¼Œå¦‚ï¼š select å­—æ®µåˆ—è¡¨ from è¡¨1, è¡¨2;\næŸ¥è¯¢ç”¨æˆ·è¡¨å’Œéƒ¨é—¨è¡¨ä¸­çš„æ•°æ®ï¼š\n1 select * from tb_emp , tb_dept; æ­¤æ—¶,æˆ‘ä»¬çœ‹åˆ°æŸ¥è¯¢ç»“æœä¸­åŒ…å«äº†å¤§é‡çš„ç»“æœé›†ï¼Œæ€»å…±85æ¡è®°å½•ï¼Œè€Œè¿™å…¶å®å°±æ˜¯å‘˜å·¥è¡¨æ‰€æœ‰çš„è®°å½•(17è¡Œ)ä¸éƒ¨é—¨è¡¨æ‰€æœ‰è®°å½•(5è¡Œ)çš„æ‰€æœ‰ç»„åˆæƒ…å†µï¼Œè¿™ç§ç°è±¡ç§°ä¹‹ä¸ºç¬›å¡å°”ç§¯ã€‚\nç¬›å¡å°”ç§¯ï¼šç¬›å¡å°”ä¹˜ç§¯æ˜¯æŒ‡åœ¨æ•°å­¦ä¸­ï¼Œä¸¤ä¸ªé›†åˆ(Aé›†åˆå’ŒBé›†åˆ)çš„æ‰€æœ‰ç»„åˆæƒ…å†µã€‚\nåœ¨å¤šè¡¨æŸ¥è¯¢æ—¶ï¼Œéœ€è¦æ¶ˆé™¤æ— æ•ˆçš„ç¬›å¡å°”ç§¯ï¼Œåªä¿ç•™è¡¨å…³è”éƒ¨åˆ†çš„æ•°æ®\nåœ¨SQLè¯­å¥ä¸­ï¼Œå¦‚ä½•å»é™¤æ— æ•ˆçš„ç¬›å¡å°”ç§¯å‘¢ï¼Ÿåªéœ€è¦ç»™å¤šè¡¨æŸ¥è¯¢åŠ ä¸Šè¿æ¥æŸ¥è¯¢çš„æ¡ä»¶å³å¯ã€‚\n1 select * from tb_emp , tb_dept where tb_emp.dept_id = tb_dept.id ; ç”±äºidä¸º17çš„å‘˜å·¥ï¼Œæ²¡æœ‰dept_idå­—æ®µå€¼ï¼Œæ‰€ä»¥åœ¨å¤šè¡¨æŸ¥è¯¢æ—¶ï¼Œæ ¹æ®è¿æ¥æŸ¥è¯¢çš„æ¡ä»¶å¹¶æ²¡æœ‰æŸ¥è¯¢åˆ°ã€‚\n1.1.3 åˆ†ç±» å¤šè¡¨æŸ¥è¯¢å¯ä»¥åˆ†ä¸ºï¼š\nè¿æ¥æŸ¥è¯¢\nå†…è¿æ¥ï¼šç›¸å½“äºæŸ¥è¯¢Aã€Bäº¤é›†éƒ¨åˆ†æ•°æ® å¤–è¿æ¥\nå·¦å¤–è¿æ¥ï¼šæŸ¥è¯¢å·¦è¡¨æ‰€æœ‰æ•°æ®(åŒ…æ‹¬ä¸¤å¼ è¡¨äº¤é›†éƒ¨åˆ†æ•°æ®)\nå³å¤–è¿æ¥ï¼šæŸ¥è¯¢å³è¡¨æ‰€æœ‰æ•°æ®(åŒ…æ‹¬ä¸¤å¼ è¡¨äº¤é›†éƒ¨åˆ†æ•°æ®)\nå­æŸ¥è¯¢\n1.2 å†…è¿æ¥ å†…è¿æ¥æŸ¥è¯¢ï¼šæŸ¥è¯¢ä¸¤è¡¨æˆ–å¤šè¡¨ä¸­äº¤é›†éƒ¨åˆ†æ•°æ®ã€‚\nå†…è¿æ¥ä»è¯­æ³•ä¸Šå¯ä»¥åˆ†ä¸ºï¼š\néšå¼å†…è¿æ¥\næ˜¾å¼å†…è¿æ¥\néšå¼å†…è¿æ¥è¯­æ³•ï¼š\n1 select å­—æ®µåˆ—è¡¨ from è¡¨1 , è¡¨2 where æ¡ä»¶ ... ; æ˜¾å¼å†…è¿æ¥è¯­æ³•ï¼š\n1 select å­—æ®µåˆ—è¡¨ from è¡¨1 [ inner ] join è¡¨2 on è¿æ¥æ¡ä»¶ ... ; æ¡ˆä¾‹ï¼šæŸ¥è¯¢å‘˜å·¥çš„å§“ååŠæ‰€å±çš„éƒ¨é—¨åç§°\néšå¼å†…è¿æ¥å®ç° 1 2 3 select tb_emp.name , tb_dept.name -- åˆ†åˆ«æŸ¥è¯¢ä¸¤å¼ è¡¨ä¸­çš„æ•°æ® from tb_emp , tb_dept -- å…³è”ä¸¤å¼ è¡¨ where tb_emp.dept_id = tb_dept.id; -- æ¶ˆé™¤ç¬›å¡å°”ç§¯ æ˜¾å¼å†…è¿æ¥å®ç° 1 2 3 select tb_emp.name , tb_dept.name from tb_emp inner join tb_dept on tb_emp.dept_id = tb_dept.id; å¤šè¡¨æŸ¥è¯¢æ—¶ç»™è¡¨èµ·åˆ«åï¼š\ntableA as åˆ«å1 , tableB as åˆ«å2 ;\ntableA åˆ«å1 , tableB åˆ«å2 ;\nä½¿ç”¨äº†åˆ«åçš„å¤šè¡¨æŸ¥è¯¢ï¼š\n1 2 3 select emp.name , dept.name from tb_emp emp inner join tb_dept dept on emp.dept_id = dept.id; æ³¨æ„äº‹é¡¹:\nä¸€æ—¦ä¸ºè¡¨èµ·äº†åˆ«åï¼Œå°±ä¸èƒ½å†ä½¿ç”¨è¡¨åæ¥æŒ‡å®šå¯¹åº”çš„å­—æ®µäº†ï¼Œæ­¤æ—¶åªèƒ½å¤Ÿä½¿ç”¨åˆ«åæ¥æŒ‡å®šå­—æ®µã€‚\n1.3 å¤–è¿æ¥ å¤–è¿æ¥åˆ†ä¸ºä¸¤ç§ï¼šå·¦å¤–è¿æ¥ å’Œ å³å¤–è¿æ¥ã€‚\nå·¦å¤–è¿æ¥è¯­æ³•ç»“æ„ï¼š\n1 select å­—æ®µåˆ—è¡¨ from è¡¨1 left [ outer ] join è¡¨2 on è¿æ¥æ¡ä»¶ ... ; å·¦å¤–è¿æ¥ç›¸å½“äºæŸ¥è¯¢è¡¨1(å·¦è¡¨)çš„æ‰€æœ‰æ•°æ®ï¼Œå½“ç„¶ä¹ŸåŒ…å«è¡¨1å’Œè¡¨2äº¤é›†éƒ¨åˆ†çš„æ•°æ®ã€‚\nå³å¤–è¿æ¥è¯­æ³•ç»“æ„ï¼š\n1 select å­—æ®µåˆ—è¡¨ from è¡¨1 right [ outer ] join è¡¨2 on è¿æ¥æ¡ä»¶ ... ; å³å¤–è¿æ¥ç›¸å½“äºæŸ¥è¯¢è¡¨2(å³è¡¨)çš„æ‰€æœ‰æ•°æ®ï¼Œå½“ç„¶ä¹ŸåŒ…å«è¡¨1å’Œè¡¨2äº¤é›†éƒ¨åˆ†çš„æ•°æ®ã€‚\næ¡ˆä¾‹ï¼šæŸ¥è¯¢å‘˜å·¥è¡¨ä¸­æ‰€æœ‰å‘˜å·¥çš„å§“å, å’Œå¯¹åº”çš„éƒ¨é—¨åç§°\n1 2 3 4 -- å·¦å¤–è¿æ¥ï¼šä»¥left joinå…³é”®å­—å·¦è¾¹çš„è¡¨ä¸ºä¸»è¡¨ï¼ŒæŸ¥è¯¢ä¸»è¡¨ä¸­æ‰€æœ‰æ•°æ®ï¼Œä»¥åŠå’Œä¸»è¡¨åŒ¹é…çš„å³è¾¹è¡¨ä¸­çš„æ•°æ® select emp.name , dept.name from tb_emp AS emp left join tb_dept AS dept on emp.dept_id = dept.id; æ¡ˆä¾‹ï¼šæŸ¥è¯¢éƒ¨é—¨è¡¨ä¸­æ‰€æœ‰éƒ¨é—¨çš„åç§°, å’Œå¯¹åº”çš„å‘˜å·¥åç§°\n1 2 3 4 -- å³å¤–è¿æ¥ select dept.name , emp.name from tb_emp AS emp right join tb_dept AS dept on emp.dept_id = dept.id; æ³¨æ„äº‹é¡¹ï¼š\nå·¦å¤–è¿æ¥å’Œå³å¤–è¿æ¥æ˜¯å¯ä»¥ç›¸äº’æ›¿æ¢çš„ï¼Œåªéœ€è¦è°ƒæ•´è¿æ¥æŸ¥è¯¢æ—¶SQLè¯­å¥ä¸­è¡¨çš„å…ˆåé¡ºåºå°±å¯ä»¥äº†ã€‚è€Œæˆ‘ä»¬åœ¨æ—¥å¸¸å¼€å‘ä½¿ç”¨æ—¶ï¼Œæ›´åå‘äºå·¦å¤–è¿æ¥ã€‚\n1.4 å­æŸ¥è¯¢ 1.4.1 ä»‹ç» SQLè¯­å¥ä¸­åµŒå¥—selectè¯­å¥ï¼Œç§°ä¸ºåµŒå¥—æŸ¥è¯¢ï¼Œåˆç§°å­æŸ¥è¯¢ã€‚\n1 SELECT * FROM t1 WHERE column1 = ( SELECT column1 FROM t2 ... ); å­æŸ¥è¯¢å¤–éƒ¨çš„è¯­å¥å¯ä»¥æ˜¯insert / update / delete / select çš„ä»»ä½•ä¸€ä¸ªï¼Œæœ€å¸¸è§çš„æ˜¯ selectã€‚\næ ¹æ®å­æŸ¥è¯¢ç»“æœçš„ä¸åŒåˆ†ä¸ºï¼š\næ ‡é‡å­æŸ¥è¯¢ï¼ˆå­æŸ¥è¯¢ç»“æœä¸ºå•ä¸ªå€¼[ä¸€è¡Œä¸€åˆ—]ï¼‰\nåˆ—å­æŸ¥è¯¢ï¼ˆå­æŸ¥è¯¢ç»“æœä¸ºä¸€åˆ—ï¼Œä½†å¯ä»¥æ˜¯å¤šè¡Œï¼‰\nè¡Œå­æŸ¥è¯¢ï¼ˆå­æŸ¥è¯¢ç»“æœä¸ºä¸€è¡Œï¼Œä½†å¯ä»¥æ˜¯å¤šåˆ—ï¼‰\nè¡¨å­æŸ¥è¯¢ï¼ˆå­æŸ¥è¯¢ç»“æœä¸ºå¤šè¡Œå¤šåˆ—[ç›¸å½“äºå­æŸ¥è¯¢ç»“æœæ˜¯ä¸€å¼ è¡¨]ï¼‰\nå­æŸ¥è¯¢å¯ä»¥ä¹¦å†™çš„ä½ç½®ï¼š\nwhereä¹‹å fromä¹‹å selectä¹‹å 1.4.2 æ ‡é‡å­æŸ¥è¯¢ å­æŸ¥è¯¢è¿”å›çš„ç»“æœæ˜¯å•ä¸ªå€¼(æ•°å­—ã€å­—ç¬¦ä¸²ã€æ—¥æœŸç­‰)ï¼Œæœ€ç®€å•çš„å½¢å¼ï¼Œè¿™ç§å­æŸ¥è¯¢ç§°ä¸ºæ ‡é‡å­æŸ¥è¯¢ã€‚\nå¸¸ç”¨çš„æ“ä½œç¬¦ï¼š = \u0026lt;\u0026gt; \u0026gt; \u0026gt;= \u0026lt; \u0026lt;=\næ¡ˆä¾‹1ï¼šæŸ¥è¯¢\u0026quot;æ•™ç ”éƒ¨\u0026quot;çš„æ‰€æœ‰å‘˜å·¥ä¿¡æ¯\nå¯ä»¥å°†éœ€æ±‚åˆ†è§£ä¸ºä¸¤æ­¥ï¼š\næŸ¥è¯¢ \u0026ldquo;æ•™ç ”éƒ¨\u0026rdquo; éƒ¨é—¨ID æ ¹æ® \u0026ldquo;æ•™ç ”éƒ¨\u0026rdquo; éƒ¨é—¨IDï¼ŒæŸ¥è¯¢å‘˜å·¥ä¿¡æ¯ 1 2 3 4 5 6 7 -- 1.æŸ¥è¯¢\u0026#34;æ•™ç ”éƒ¨\u0026#34;éƒ¨é—¨ID select id from tb_dept where name = \u0026#39;æ•™ç ”éƒ¨\u0026#39;; #æŸ¥è¯¢ç»“æœï¼š2 -- 2.æ ¹æ®\u0026#34;æ•™ç ”éƒ¨\u0026#34;éƒ¨é—¨ID, æŸ¥è¯¢å‘˜å·¥ä¿¡æ¯ select * from tb_emp where dept_id = 2; -- åˆå¹¶å‡ºä¸Šä¸¤æ¡SQLè¯­å¥ select * from tb_emp where dept_id = (select id from tb_dept where name = \u0026#39;æ•™ç ”éƒ¨\u0026#39;); æ¡ˆä¾‹2ï¼šæŸ¥è¯¢åœ¨ \u0026ldquo;æ–¹ä¸œç™½\u0026rdquo; å…¥èŒä¹‹åçš„å‘˜å·¥ä¿¡æ¯\nå¯ä»¥å°†éœ€æ±‚åˆ†è§£ä¸ºä¸¤æ­¥ï¼š\næŸ¥è¯¢ æ–¹ä¸œç™½ çš„å…¥èŒæ—¥æœŸ æŸ¥è¯¢ æŒ‡å®šå…¥èŒæ—¥æœŸä¹‹åå…¥èŒçš„å‘˜å·¥ä¿¡æ¯ 1 2 3 4 5 6 7 -- 1.æŸ¥è¯¢\u0026#34;æ–¹ä¸œç™½\u0026#34;çš„å…¥èŒæ—¥æœŸ select entrydate from tb_emp where name = \u0026#39;æ–¹ä¸œç™½\u0026#39;; #æŸ¥è¯¢ç»“æœï¼š2012-11-01 -- 2.æŸ¥è¯¢æŒ‡å®šå…¥èŒæ—¥æœŸä¹‹åå…¥èŒçš„å‘˜å·¥ä¿¡æ¯ select * from tb_emp where entrydate \u0026gt; \u0026#39;2012-11-01\u0026#39;; -- åˆå¹¶ä»¥ä¸Šä¸¤æ¡SQLè¯­å¥ select * from tb_emp where entrydate \u0026gt; (select entrydate from tb_emp where name = \u0026#39;æ–¹ä¸œç™½\u0026#39;); 1.4.3 åˆ—å­æŸ¥è¯¢ å­æŸ¥è¯¢è¿”å›çš„ç»“æœæ˜¯ä¸€åˆ—(å¯ä»¥æ˜¯å¤šè¡Œ)ï¼Œè¿™ç§å­æŸ¥è¯¢ç§°ä¸ºåˆ—å­æŸ¥è¯¢ã€‚\nå¸¸ç”¨çš„æ“ä½œç¬¦ï¼š\næ“ä½œç¬¦ æè¿° IN åœ¨æŒ‡å®šçš„é›†åˆèŒƒå›´ä¹‹å†…ï¼Œå¤šé€‰ä¸€ NOT IN ä¸åœ¨æŒ‡å®šçš„é›†åˆèŒƒå›´ä¹‹å†… æ¡ˆä¾‹ï¼šæŸ¥è¯¢\u0026quot;æ•™ç ”éƒ¨\u0026quot;å’Œ\u0026quot;å’¨è¯¢éƒ¨\u0026quot;çš„æ‰€æœ‰å‘˜å·¥ä¿¡æ¯\nåˆ†è§£ä¸ºä»¥ä¸‹ä¸¤æ­¥ï¼š\næŸ¥è¯¢ \u0026ldquo;é”€å”®éƒ¨\u0026rdquo; å’Œ \u0026ldquo;å¸‚åœºéƒ¨\u0026rdquo; çš„éƒ¨é—¨ID æ ¹æ®éƒ¨é—¨ID, æŸ¥è¯¢å‘˜å·¥ä¿¡æ¯ 1 2 3 4 5 6 7 -- 1.æŸ¥è¯¢\u0026#34;é”€å”®éƒ¨\u0026#34;å’Œ\u0026#34;å¸‚åœºéƒ¨\u0026#34;çš„éƒ¨é—¨ID select id from tb_dept where name = \u0026#39;æ•™ç ”éƒ¨\u0026#39; or name = \u0026#39;å’¨è¯¢éƒ¨\u0026#39;; #æŸ¥è¯¢ç»“æœï¼š3,2 -- 2.æ ¹æ®éƒ¨é—¨ID, æŸ¥è¯¢å‘˜å·¥ä¿¡æ¯ select * from tb_emp where dept_id in (3,2); -- åˆå¹¶ä»¥ä¸Šä¸¤æ¡SQLè¯­å¥ select * from tb_emp where dept_id in (select id from tb_dept where name = \u0026#39;æ•™ç ”éƒ¨\u0026#39; or name = \u0026#39;å’¨è¯¢éƒ¨\u0026#39;); 1.4.4 è¡Œå­æŸ¥è¯¢ å­æŸ¥è¯¢è¿”å›çš„ç»“æœæ˜¯ä¸€è¡Œ(å¯ä»¥æ˜¯å¤šåˆ—)ï¼Œè¿™ç§å­æŸ¥è¯¢ç§°ä¸ºè¡Œå­æŸ¥è¯¢ã€‚\nå¸¸ç”¨çš„æ“ä½œç¬¦ï¼š= ã€\u0026lt;\u0026gt; ã€IN ã€NOT IN\næ¡ˆä¾‹ï¼šæŸ¥è¯¢ä¸\u0026quot;éŸ¦ä¸€ç¬‘\u0026quot;çš„å…¥èŒæ—¥æœŸåŠèŒä½éƒ½ç›¸åŒçš„å‘˜å·¥ä¿¡æ¯\nå¯ä»¥æ‹†è§£ä¸ºä¸¤æ­¥è¿›è¡Œï¼š\næŸ¥è¯¢ \u0026ldquo;éŸ¦ä¸€ç¬‘\u0026rdquo; çš„å…¥èŒæ—¥æœŸ åŠ èŒä½ æŸ¥è¯¢ä¸\u0026quot;éŸ¦ä¸€ç¬‘\u0026quot;çš„å…¥èŒæ—¥æœŸåŠèŒä½ç›¸åŒçš„å‘˜å·¥ä¿¡æ¯ 1 2 3 4 5 6 7 -- æŸ¥è¯¢\u0026#34;éŸ¦ä¸€ç¬‘\u0026#34;çš„å…¥èŒæ—¥æœŸ åŠ èŒä½ select entrydate , job from tb_emp where name = \u0026#39;éŸ¦ä¸€ç¬‘\u0026#39;; #æŸ¥è¯¢ç»“æœï¼š 2007-01-01 , 2 -- æŸ¥è¯¢ä¸\u0026#34;éŸ¦ä¸€ç¬‘\u0026#34;çš„å…¥èŒæ—¥æœŸåŠèŒä½ç›¸åŒçš„å‘˜å·¥ä¿¡æ¯ select * from tb_emp where (entrydate,job) = (\u0026#39;2007-01-01\u0026#39;,2); -- åˆå¹¶ä»¥ä¸Šä¸¤æ¡SQLè¯­å¥ select * from tb_emp where (entrydate,job) = (select entrydate , job from tb_emp where name = \u0026#39;éŸ¦ä¸€ç¬‘\u0026#39;); 1.4.5 è¡¨å­æŸ¥è¯¢ å­æŸ¥è¯¢è¿”å›çš„ç»“æœæ˜¯å¤šè¡Œå¤šåˆ—ï¼Œå¸¸ä½œä¸ºä¸´æ—¶è¡¨ï¼Œè¿™ç§å­æŸ¥è¯¢ç§°ä¸ºè¡¨å­æŸ¥è¯¢ã€‚\næ¡ˆä¾‹ï¼šæŸ¥è¯¢å…¥èŒæ—¥æœŸæ˜¯ \u0026ldquo;2006-01-01\u0026rdquo; ä¹‹åçš„å‘˜å·¥ä¿¡æ¯ , åŠå…¶éƒ¨é—¨ä¿¡æ¯\nåˆ†è§£ä¸ºä¸¤æ­¥æ‰§è¡Œï¼š\næŸ¥è¯¢å…¥èŒæ—¥æœŸæ˜¯ \u0026ldquo;2006-01-01\u0026rdquo; ä¹‹åçš„å‘˜å·¥ä¿¡æ¯ åŸºäºæŸ¥è¯¢åˆ°çš„å‘˜å·¥ä¿¡æ¯ï¼Œåœ¨æŸ¥è¯¢å¯¹åº”çš„éƒ¨é—¨ä¿¡æ¯ 1 2 3 select * from emp where entrydate \u0026gt; \u0026#39;2006-01-01\u0026#39;; select e.*, d.* from (select * from emp where entrydate \u0026gt; \u0026#39;2006-01-01\u0026#39;) e left join dept d on e.dept_id = d.id ; 1.5 æ¡ˆä¾‹ åŸºäºä¹‹å‰è®¾è®¡çš„å¤šè¡¨æ¡ˆä¾‹çš„è¡¨ç»“æ„ï¼Œæˆ‘ä»¬æ¥å®Œæˆä»Šå¤©çš„å¤šè¡¨æŸ¥è¯¢æ¡ˆä¾‹éœ€æ±‚ã€‚\nå‡†å¤‡ç¯å¢ƒ\nå°†èµ„æ–™ä¸­å‡†å¤‡å¥½çš„å¤šè¡¨æŸ¥è¯¢çš„æ•°æ®å‡†å¤‡çš„SQLè„šæœ¬å¯¼å…¥æ•°æ®åº“ä¸­ã€‚\nåˆ†ç±»è¡¨ï¼šcategory èœå“è¡¨ï¼šdish å¥—é¤è¡¨ï¼šsetmeal å¥—é¤èœå“å…³ç³»è¡¨ï¼šsetmeal_dish éœ€æ±‚å®ç°\næŸ¥è¯¢ä»·æ ¼ä½äº 10å…ƒ çš„èœå“çš„åç§° ã€ä»·æ ¼ åŠå…¶ èœå“çš„åˆ†ç±»åç§° 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 /*æŸ¥è¯¢æŠ€å·§ï¼š æ˜ç¡®1ï¼šæŸ¥è¯¢éœ€è¦ç”¨åˆ°å“ªäº›å­—æ®µ èœå“åç§°ã€èœå“ä»·æ ¼ ã€ èœå“åˆ†ç±»å æ˜ç¡®2ï¼šæŸ¥è¯¢çš„å­—æ®µåˆ†åˆ«å½’å±äºå“ªå¼ è¡¨ èœå“è¡¨ï¼š[èœå“åç§°ã€èœå“ä»·æ ¼] åˆ†ç±»è¡¨ï¼š[åˆ†ç±»å] æ˜ç¡®3ï¼šå¦‚æŸ¥å¤šè¡¨ï¼Œå»ºç«‹è¡¨ä¸è¡¨ä¹‹é—´çš„å…³è” èœå“è¡¨.caategory_id = åˆ†ç±»è¡¨.id å…¶ä»–ï¼šï¼ˆå…¶ä»–æ¡ä»¶ã€å…¶ä»–è¦æ±‚ï¼‰ ä»·æ ¼ \u0026lt; 10 */ select d.name , d.price , c.name from dish AS d , category AS c where d.category_id = c.id and d.price \u0026lt; 10; æŸ¥è¯¢æ‰€æœ‰ä»·æ ¼åœ¨ 10å…ƒ(å«)åˆ°50å…ƒ(å«)ä¹‹é—´ ä¸” çŠ¶æ€ä¸º\u0026quot;èµ·å”®\u0026quot;çš„èœå“åç§°ã€ä»·æ ¼åŠå…¶åˆ†ç±»åç§° (å³ä½¿èœå“æ²¡æœ‰åˆ†ç±» , ä¹Ÿè¦å°†èœå“æŸ¥è¯¢å‡ºæ¥) 1 2 3 4 select d.name , d.price, c.name from dish AS d left join category AS c on d.category_id = c.id where d.price between 10 and 50 and d.status = 1; æŸ¥è¯¢æ¯ä¸ªåˆ†ç±»ä¸‹æœ€è´µçš„èœå“, å±•ç¤ºå‡ºåˆ†ç±»çš„åç§°ã€æœ€è´µçš„èœå“çš„ä»·æ ¼ 1 2 3 4 select c.name , max(d.price) from dish AS d , category AS c where d.category_id = c.id group by c.name; æŸ¥è¯¢å„ä¸ªåˆ†ç±»ä¸‹ èœå“çŠ¶æ€ä¸º \u0026ldquo;èµ·å”®\u0026rdquo; , å¹¶ä¸” è¯¥åˆ†ç±»ä¸‹èœå“æ€»æ•°é‡å¤§äºç­‰äº3 çš„ åˆ†ç±»åç§° 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 /*æŸ¥è¯¢æŠ€å·§ï¼š æ˜ç¡®1ï¼šæŸ¥è¯¢éœ€è¦ç”¨åˆ°å“ªäº›å­—æ®µ åˆ†ç±»åç§°ã€èœå“æ€»æ•°é‡ æ˜ç¡®2ï¼šæŸ¥è¯¢ç”¨åˆ°çš„å­—æ®µåˆ†åˆ«å½’å±äºå“ªå¼ è¡¨ åˆ†ç±»è¡¨ï¼š[åˆ†ç±»å] èœå“è¡¨ï¼š[èœå“çŠ¶æ€] æ˜ç¡®3ï¼šå¦‚æŸ¥å¤šè¡¨ï¼Œå»ºç«‹è¡¨ä¸è¡¨ä¹‹é—´çš„å…³è” èœå“è¡¨.caategory_id = åˆ†ç±»è¡¨.id å…¶ä»–ï¼šï¼ˆå…¶ä»–æ¡ä»¶ã€å…¶ä»–è¦æ±‚ï¼‰ æ¡ä»¶ï¼šèœå“çŠ¶æ€ = 1 (1è¡¨ç¤ºèµ·å”®) åˆ†ç»„ï¼šåˆ†ç±»å åˆ†ç»„åæ¡ä»¶ï¼š æ€»æ•°é‡ \u0026gt;= 3 */ select c.name , count(*) from dish AS d , category AS c where d.category_id = c.id and d.status = 1 -- èµ·å”®çŠ¶æ€ group by c.name -- æŒ‰ç…§åˆ†ç±»ååˆ†ç»„ having count(*)\u0026gt;=3; -- å„ç»„åç­›é€‰èœå“æ€»æ•°æ®\u0026gt;=3 æŸ¥è¯¢å‡º \u0026ldquo;å•†åŠ¡å¥—é¤A\u0026rdquo; ä¸­åŒ…å«äº†å“ªäº›èœå“ ï¼ˆå±•ç¤ºå‡ºå¥—é¤åç§°ã€ä»·æ ¼, åŒ…å«çš„èœå“åç§°ã€ä»·æ ¼ã€ä»½æ•°ï¼‰ 1 2 3 4 select s.name, s.price, d.name, d.price, sd.copies from setmeal AS s , setmeal_dish AS sd , dish AS d where s.id = sd.setmeal_id and sd.dish_id = d.id and s.name=\u0026#39;å•†åŠ¡å¥—é¤A\u0026#39;; æŸ¥è¯¢å‡ºä½äºèœå“å¹³å‡ä»·æ ¼çš„èœå“ä¿¡æ¯ (å±•ç¤ºå‡ºèœå“åç§°ã€èœå“ä»·æ ¼) 1 2 3 4 5 6 7 -- 1.è®¡ç®—èœå“å¹³å‡ä»·æ ¼ select avg(price) from dish; -- æŸ¥è¯¢ç»“æœï¼š37.736842 -- 2.æŸ¥è¯¢å‡ºä½äºèœå“å¹³å‡ä»·æ ¼çš„èœå“ä¿¡æ¯ select * from dish where price \u0026lt; 37.736842; -- åˆå¹¶ä»¥ä¸Šä¸¤æ¡SQLè¯­å¥ select * from dish where price \u0026lt; (select avg(price) from dish); 2. äº‹åŠ¡ åœºæ™¯ï¼šå­¦å·¥éƒ¨æ•´ä¸ªéƒ¨é—¨è§£æ•£äº†ï¼Œè¯¥éƒ¨é—¨åŠéƒ¨é—¨ä¸‹çš„å‘˜å·¥éƒ½éœ€è¦åˆ é™¤äº†ã€‚\næ“ä½œï¼š\n1 2 3 4 5 -- åˆ é™¤å­¦å·¥éƒ¨ delete from dept where id = 1; -- åˆ é™¤æˆåŠŸ -- åˆ é™¤å­¦å·¥éƒ¨çš„å‘˜å·¥ delete from emp where dept_id = 1; -- åˆ é™¤å¤±è´¥ï¼ˆæ“ä½œè¿‡ç¨‹ä¸­å‡ºç°é”™è¯¯ï¼šé€ æˆåˆ é™¤æ²¡æœ‰æˆåŠŸï¼‰ é—®é¢˜ï¼šå¦‚æœåˆ é™¤éƒ¨é—¨æˆåŠŸäº†ï¼Œè€Œåˆ é™¤è¯¥éƒ¨é—¨çš„å‘˜å·¥æ—¶å¤±è´¥äº†ï¼Œæ­¤æ—¶å°±é€ æˆäº†æ•°æ®çš„ä¸ä¸€è‡´ã€‚\nâ€‹\tè¦è§£å†³ä¸Šè¿°çš„é—®é¢˜ï¼Œå°±éœ€è¦é€šè¿‡æ•°æ®åº“ä¸­çš„äº‹åŠ¡æ¥è§£å†³ã€‚\n2.1 ä»‹ç» åœ¨å®é™…çš„ä¸šåŠ¡å¼€å‘ä¸­ï¼Œæœ‰äº›ä¸šåŠ¡æ“ä½œè¦å¤šæ¬¡è®¿é—®æ•°æ®åº“ã€‚ä¸€ä¸ªä¸šåŠ¡è¦å‘é€å¤šæ¡SQLè¯­å¥ç»™æ•°æ®åº“æ‰§è¡Œã€‚éœ€è¦å°†å¤šæ¬¡è®¿é—®æ•°æ®åº“çš„æ“ä½œè§†ä¸ºä¸€ä¸ªæ•´ä½“æ¥æ‰§è¡Œï¼Œè¦ä¹ˆæ‰€æœ‰çš„SQLè¯­å¥å…¨éƒ¨æ‰§è¡ŒæˆåŠŸã€‚å¦‚æœå…¶ä¸­æœ‰ä¸€æ¡SQLè¯­å¥å¤±è´¥ï¼Œå°±è¿›è¡Œäº‹åŠ¡çš„å›æ»šï¼Œæ‰€æœ‰çš„SQLè¯­å¥å…¨éƒ¨æ‰§è¡Œå¤±è´¥ã€‚\nç®€è€Œè¨€ä¹‹ï¼šäº‹åŠ¡æ˜¯ä¸€ç»„æ“ä½œçš„é›†åˆï¼Œå®ƒæ˜¯ä¸€ä¸ªä¸å¯åˆ†å‰²çš„å·¥ä½œå•ä½ã€‚äº‹åŠ¡ä¼šæŠŠæ‰€æœ‰çš„æ“ä½œä½œä¸ºä¸€ä¸ªæ•´ä½“ä¸€èµ·å‘ç³»ç»Ÿæäº¤æˆ–æ’¤é”€æ“ä½œè¯·æ±‚ï¼Œå³è¿™äº›æ“ä½œè¦ä¹ˆåŒæ—¶æˆåŠŸï¼Œè¦ä¹ˆåŒæ—¶å¤±è´¥ã€‚\näº‹åŠ¡ä½œç”¨ï¼šä¿è¯åœ¨ä¸€ä¸ªäº‹åŠ¡ä¸­å¤šæ¬¡æ“ä½œæ•°æ®åº“è¡¨ä¸­æ•°æ®æ—¶ï¼Œè¦ä¹ˆå…¨éƒ½æˆåŠŸ,è¦ä¹ˆå…¨éƒ½å¤±è´¥ã€‚\n2.2 æ“ä½œ MYSQLä¸­æœ‰ä¸¤ç§æ–¹å¼è¿›è¡Œäº‹åŠ¡çš„æ“ä½œï¼š\nè‡ªåŠ¨æäº¤äº‹åŠ¡ï¼šå³æ‰§è¡Œä¸€æ¡sqlè¯­å¥æäº¤ä¸€æ¬¡äº‹åŠ¡ã€‚ï¼ˆé»˜è®¤MySQLçš„äº‹åŠ¡æ˜¯è‡ªåŠ¨æäº¤ï¼‰ æ‰‹åŠ¨æäº¤äº‹åŠ¡ï¼šå…ˆå¼€å¯ï¼Œå†æäº¤ äº‹åŠ¡æ“ä½œæœ‰å…³çš„SQLè¯­å¥ï¼š\nSQLè¯­å¥ æè¿° start transaction; / begin ; å¼€å¯æ‰‹åŠ¨æ§åˆ¶äº‹åŠ¡ commit; æäº¤äº‹åŠ¡ rollback; å›æ»šäº‹åŠ¡ æ‰‹åŠ¨æäº¤äº‹åŠ¡ä½¿ç”¨æ­¥éª¤ï¼š\nç¬¬1ç§æƒ…å†µï¼šå¼€å¯äº‹åŠ¡ =\u0026gt; æ‰§è¡ŒSQLè¯­å¥ =\u0026gt; æˆåŠŸ =\u0026gt; æäº¤äº‹åŠ¡ ç¬¬2ç§æƒ…å†µï¼šå¼€å¯äº‹åŠ¡ =\u0026gt; æ‰§è¡ŒSQLè¯­å¥ =\u0026gt; å¤±è´¥ =\u0026gt; å›æ»šäº‹åŠ¡ ä½¿ç”¨äº‹åŠ¡æ§åˆ¶åˆ é™¤éƒ¨é—¨å’Œåˆ é™¤è¯¥éƒ¨é—¨ä¸‹çš„å‘˜å·¥çš„æ“ä½œï¼š\n1 2 3 4 5 6 7 8 -- å¼€å¯äº‹åŠ¡ start transaction ; -- åˆ é™¤å­¦å·¥éƒ¨ delete from tb_dept where id = 1; -- åˆ é™¤å­¦å·¥éƒ¨çš„å‘˜å·¥ delete from tb_emp where dept_id = 1; ä¸Šè¿°çš„è¿™ç»„SQLè¯­å¥ï¼Œå¦‚æœå¦‚æœæ‰§è¡ŒæˆåŠŸï¼Œåˆ™æäº¤äº‹åŠ¡ 1 2 -- æäº¤äº‹åŠ¡ (æˆåŠŸæ—¶æ‰§è¡Œ) commit ; ä¸Šè¿°çš„è¿™ç»„SQLè¯­å¥ï¼Œå¦‚æœå¦‚æœæ‰§è¡Œå¤±è´¥ï¼Œåˆ™å›æ»šäº‹åŠ¡ 1 2 -- å›æ»šäº‹åŠ¡ (å‡ºé”™æ—¶æ‰§è¡Œ) rollback ; 2.3 å››å¤§ç‰¹æ€§ é¢è¯•é¢˜ï¼šäº‹åŠ¡æœ‰å“ªäº›ç‰¹æ€§ï¼Ÿ\nåŸå­æ€§ï¼ˆAtomicityï¼‰ï¼šäº‹åŠ¡æ˜¯ä¸å¯åˆ†å‰²çš„æœ€å°å•å…ƒï¼Œè¦ä¹ˆå…¨éƒ¨æˆåŠŸï¼Œè¦ä¹ˆå…¨éƒ¨å¤±è´¥ã€‚ ä¸€è‡´æ€§ï¼ˆConsistencyï¼‰ï¼šäº‹åŠ¡å®Œæˆæ—¶ï¼Œå¿…é¡»ä½¿æ‰€æœ‰çš„æ•°æ®éƒ½ä¿æŒä¸€è‡´çŠ¶æ€ã€‚ éš”ç¦»æ€§ï¼ˆIsolationï¼‰ï¼šæ•°æ®åº“ç³»ç»Ÿæä¾›çš„éš”ç¦»æœºåˆ¶ï¼Œä¿è¯äº‹åŠ¡åœ¨ä¸å—å¤–éƒ¨å¹¶å‘æ“ä½œå½±å“çš„ç‹¬ç«‹ç¯å¢ƒä¸‹è¿è¡Œã€‚ æŒä¹…æ€§ï¼ˆDurabilityï¼‰ï¼šäº‹åŠ¡ä¸€æ—¦æäº¤æˆ–å›æ»šï¼Œå®ƒå¯¹æ•°æ®åº“ä¸­çš„æ•°æ®çš„æ”¹å˜å°±æ˜¯æ°¸ä¹…çš„ã€‚ äº‹åŠ¡çš„å››å¤§ç‰¹æ€§ç®€ç§°ä¸ºï¼šACID\nåŸå­æ€§ï¼ˆAtomicityï¼‰ ï¼šåŸå­æ€§æ˜¯æŒ‡äº‹åŠ¡åŒ…è£…çš„ä¸€ç»„sqlæ˜¯ä¸€ä¸ªä¸å¯åˆ†å‰²çš„å·¥ä½œå•å…ƒï¼Œäº‹åŠ¡ä¸­çš„æ“ä½œè¦ä¹ˆå…¨éƒ¨æˆåŠŸï¼Œè¦ä¹ˆå…¨éƒ¨å¤±è´¥ã€‚\nä¸€è‡´æ€§ï¼ˆConsistencyï¼‰ï¼šä¸€ä¸ªäº‹åŠ¡å®Œæˆä¹‹åæ•°æ®éƒ½å¿…é¡»å¤„äºä¸€è‡´æ€§çŠ¶æ€ã€‚\nâ€‹\tå¦‚æœäº‹åŠ¡æˆåŠŸçš„å®Œæˆï¼Œé‚£ä¹ˆæ•°æ®åº“çš„æ‰€æœ‰å˜åŒ–å°†ç”Ÿæ•ˆã€‚\nâ€‹\tå¦‚æœäº‹åŠ¡æ‰§è¡Œå‡ºç°é”™è¯¯ï¼Œé‚£ä¹ˆæ•°æ®åº“çš„æ‰€æœ‰å˜åŒ–å°†ä¼šè¢«å›æ»š(æ’¤é”€)ï¼Œè¿”å›åˆ°åŸå§‹çŠ¶æ€ã€‚\néš”ç¦»æ€§ï¼ˆIsolationï¼‰ï¼šå¤šä¸ªç”¨æˆ·å¹¶å‘çš„è®¿é—®æ•°æ®åº“æ—¶ï¼Œä¸€ä¸ªç”¨æˆ·çš„äº‹åŠ¡ä¸èƒ½è¢«å…¶ä»–ç”¨æˆ·çš„äº‹åŠ¡å¹²æ‰°ï¼Œå¤šä¸ªå¹¶å‘çš„äº‹åŠ¡ä¹‹é—´è¦ç›¸äº’éš”ç¦»ã€‚ â€‹\tä¸€ä¸ªäº‹åŠ¡çš„æˆåŠŸæˆ–è€…å¤±è´¥å¯¹äºå…¶ä»–çš„äº‹åŠ¡æ˜¯æ²¡æœ‰å½±å“ã€‚\næŒä¹…æ€§ï¼ˆDurabilityï¼‰ï¼šä¸€ä¸ªäº‹åŠ¡ä¸€æ—¦è¢«æäº¤æˆ–å›æ»šï¼Œå®ƒå¯¹æ•°æ®åº“çš„æ”¹å˜å°†æ˜¯æ°¸ä¹…æ€§çš„ï¼Œå“ªæ€•æ•°æ®åº“å‘ç”Ÿå¼‚å¸¸ï¼Œé‡å¯ä¹‹åæ•°æ®äº¦ç„¶å­˜åœ¨ã€‚ 3. ç´¢å¼• 3.1 ä»‹ç» ç´¢å¼•(index)ï¼šæ˜¯å¸®åŠ©æ•°æ®åº“é«˜æ•ˆè·å–æ•°æ®çš„æ•°æ®ç»“æ„ ã€‚\nç®€å•æ¥è®²ï¼Œå°±æ˜¯ä½¿ç”¨ç´¢å¼•å¯ä»¥æé«˜æŸ¥è¯¢çš„æ•ˆç‡ã€‚ æµ‹è¯•æ²¡æœ‰ä½¿ç”¨ç´¢å¼•çš„æŸ¥è¯¢ï¼š\næ·»åŠ ç´¢å¼•åæŸ¥è¯¢ï¼š\n1 2 3 4 5 -- æ·»åŠ ç´¢å¼• create index idx_sku_sn on tb_sku (sn); #åœ¨æ·»åŠ ç´¢å¼•æ—¶ï¼Œä¹Ÿéœ€è¦æ¶ˆè€—æ—¶é—´ -- æŸ¥è¯¢æ•°æ®ï¼ˆä½¿ç”¨äº†ç´¢å¼•ï¼‰ select * from tb_sku where sn = \u0026#39;100000003145008\u0026#39;; ä¼˜ç‚¹ï¼š\næé«˜æ•°æ®æŸ¥è¯¢çš„æ•ˆç‡ï¼Œé™ä½æ•°æ®åº“çš„IOæˆæœ¬ã€‚ é€šè¿‡ç´¢å¼•åˆ—å¯¹æ•°æ®è¿›è¡Œæ’åºï¼Œé™ä½æ•°æ®æ’åºçš„æˆæœ¬ï¼Œé™ä½CPUæ¶ˆè€—ã€‚ ç¼ºç‚¹ï¼š\nç´¢å¼•ä¼šå ç”¨å­˜å‚¨ç©ºé—´ã€‚ ç´¢å¼•å¤§å¤§æé«˜äº†æŸ¥è¯¢æ•ˆç‡ï¼ŒåŒæ—¶å´ä¹Ÿé™ä½äº†insertã€updateã€deleteçš„æ•ˆç‡ã€‚ 3.2 ç»“æ„ MySQLæ•°æ®åº“æ”¯æŒçš„ç´¢å¼•ç»“æ„æœ‰å¾ˆå¤šï¼Œå¦‚ï¼šHashç´¢å¼•ã€B+Treeç´¢å¼•ã€Full-Textç´¢å¼•ç­‰ã€‚\næˆ‘ä»¬å¹³å¸¸æ‰€è¯´çš„ç´¢å¼•ï¼Œå¦‚æœæ²¡æœ‰ç‰¹åˆ«æŒ‡æ˜ï¼Œéƒ½æ˜¯æŒ‡é»˜è®¤çš„ B+Tree ç»“æ„ç»„ç»‡çš„ç´¢å¼•ã€‚\nåœ¨æ²¡æœ‰äº†è§£B+Treeç»“æ„å‰ï¼Œæˆ‘ä»¬å…ˆå›é¡¾ä¸‹ä¹‹å‰æ‰€å­¦ä¹ çš„æ ‘ç»“æ„ï¼š\näºŒå‰æŸ¥æ‰¾æ ‘ï¼šå·¦è¾¹çš„å­èŠ‚ç‚¹æ¯”çˆ¶èŠ‚ç‚¹å°ï¼Œå³è¾¹çš„å­èŠ‚ç‚¹æ¯”çˆ¶èŠ‚ç‚¹å¤§\nå½“æˆ‘ä»¬å‘äºŒå‰æŸ¥æ‰¾æ ‘ä¿å­˜æ•°æ®æ—¶ï¼Œæ˜¯æŒ‰ç…§ä»å¤§åˆ°å°(æˆ–ä»å°åˆ°å¤§)çš„é¡ºåºä¿å­˜çš„ï¼Œæ­¤æ—¶å°±ä¼šå½¢æˆä¸€ä¸ªå•å‘é“¾è¡¨ï¼Œæœç´¢æ€§èƒ½ä¼šæ‰“æŠ˜æ‰£ã€‚\nå¯ä»¥é€‰æ‹©å¹³è¡¡äºŒå‰æ ‘æˆ–è€…æ˜¯çº¢é»‘æ ‘æ¥è§£å†³ä¸Šè¿°é—®é¢˜ã€‚ï¼ˆçº¢é»‘æ ‘ä¹Ÿæ˜¯ä¸€æ£µå¹³è¡¡çš„äºŒå‰æ ‘ï¼‰\nä½†æ˜¯åœ¨Mysqlæ•°æ®åº“ä¸­å¹¶æ²¡æœ‰ä½¿ç”¨äºŒå‰æœç´¢æ•°æˆ–äºŒå‰å¹³è¡¡æ•°æˆ–çº¢é»‘æ ‘æ¥ä½œä¸ºç´¢å¼•çš„ç»“æ„ã€‚\næ€è€ƒï¼šé‡‡ç”¨äºŒå‰æœç´¢æ ‘æˆ–è€…æ˜¯çº¢é»‘æ ‘æ¥ä½œä¸ºç´¢å¼•çš„ç»“æ„æœ‰ä»€ä¹ˆé—®é¢˜ï¼Ÿ\nç­”æ¡ˆ\ræœ€å¤§çš„é—®é¢˜å°±æ˜¯åœ¨æ•°æ®é‡å¤§çš„æƒ…å†µä¸‹ï¼Œæ ‘çš„å±‚çº§æ¯”è¾ƒæ·±ï¼Œä¼šå½±å“æ£€ç´¢é€Ÿåº¦ã€‚å› ä¸ºä¸ç®¡æ˜¯äºŒå‰æœç´¢æ•°è¿˜æ˜¯çº¢é»‘æ•°ï¼Œä¸€ä¸ªèŠ‚ç‚¹ä¸‹é¢åªèƒ½æœ‰ä¸¤ä¸ªå­èŠ‚ç‚¹ã€‚æ­¤æ—¶åœ¨æ•°æ®é‡å¤§çš„æƒ…å†µä¸‹ï¼Œå°±ä¼šé€ æˆæ•°çš„é«˜åº¦æ¯”è¾ƒé«˜ï¼Œæ ‘çš„é«˜åº¦ä¸€æ—¦é«˜äº†ï¼Œæ£€ç´¢é€Ÿåº¦å°±ä¼šé™ä½ã€‚\rè¯´æ˜ï¼šå¦‚æœæ•°æ®ç»“æ„æ˜¯çº¢é»‘æ ‘ï¼Œé‚£ä¹ˆæŸ¥è¯¢1000ä¸‡æ¡æ•°æ®ï¼Œæ ¹æ®è®¡ç®—æ ‘çš„é«˜åº¦å¤§æ¦‚æ˜¯23å·¦å³ï¼Œè¿™æ ·ç¡®å®æ¯”ä¹‹å‰çš„æ–¹å¼å¿«äº†å¾ˆå¤šï¼Œä½†æ˜¯å¦‚æœé«˜å¹¶å‘è®¿é—®ï¼Œé‚£ä¹ˆä¸€ä¸ªç”¨æˆ·æœ‰å¯èƒ½éœ€è¦23æ¬¡ç£ç›˜IOï¼Œé‚£ä¹ˆ100ä¸‡ç”¨æˆ·ï¼Œé‚£ä¹ˆä¼šé€ æˆæ•ˆç‡æå…¶ä½ä¸‹ã€‚æ‰€ä»¥ä¸ºäº†å‡å°‘çº¢é»‘æ ‘çš„é«˜åº¦ï¼Œé‚£ä¹ˆå°±å¾—å¢åŠ æ ‘çš„å®½åº¦ï¼Œå°±æ˜¯ä¸å†åƒçº¢é»‘æ ‘ä¸€æ ·æ¯ä¸ªèŠ‚ç‚¹åªèƒ½ä¿å­˜ä¸€ä¸ªæ•°æ®ï¼Œå¯ä»¥å¼•å…¥å¦å¤–ä¸€ç§æ•°æ®ç»“æ„ï¼Œä¸€ä¸ªèŠ‚ç‚¹å¯ä»¥ä¿å­˜å¤šä¸ªæ•°æ®ï¼Œè¿™æ ·å®½åº¦å°±ä¼šå¢åŠ ä»è€Œé™ä½æ ‘çš„é«˜åº¦ã€‚è¿™ç§æ•°æ®ç»“æ„ä¾‹å¦‚BTreeå°±æ»¡è¶³ã€‚\nä¸‹é¢æˆ‘ä»¬æ¥çœ‹çœ‹B+Tree(å¤šè·¯å¹³è¡¡æœç´¢æ ‘)ç»“æ„ä¸­å¦‚ä½•é¿å…è¿™ä¸ªé—®é¢˜ï¼š\nB+Treeç»“æ„ï¼š\næ¯ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå¯ä»¥å­˜å‚¨å¤šä¸ªkeyï¼ˆæœ‰nä¸ªkeyï¼Œå°±æœ‰nä¸ªæŒ‡é’ˆï¼‰ èŠ‚ç‚¹åˆ†ä¸ºï¼šå¶å­èŠ‚ç‚¹ã€éå¶å­èŠ‚ç‚¹ å¶å­èŠ‚ç‚¹ï¼Œå°±æ˜¯æœ€åä¸€å±‚å­èŠ‚ç‚¹ï¼Œæ‰€æœ‰çš„æ•°æ®éƒ½å­˜å‚¨åœ¨å¶å­èŠ‚ç‚¹ä¸Š éå¶å­èŠ‚ç‚¹ï¼Œä¸æ˜¯æ ‘ç»“æ„æœ€ä¸‹é¢çš„èŠ‚ç‚¹ï¼Œç”¨äºç´¢å¼•æ•°æ®ï¼Œå­˜å‚¨çš„çš„æ˜¯ï¼škey+æŒ‡é’ˆ ä¸ºäº†æé«˜èŒƒå›´æŸ¥è¯¢æ•ˆç‡ï¼Œå¶å­èŠ‚ç‚¹å½¢æˆäº†ä¸€ä¸ªåŒå‘é“¾è¡¨ï¼Œä¾¿äºæ•°æ®çš„æ’åºåŠåŒºé—´èŒƒå›´æŸ¥è¯¢ æ‹“å±•ï¼š\néå¶å­èŠ‚ç‚¹éƒ½æ˜¯ç”±key+æŒ‡é’ˆåŸŸç»„æˆçš„ï¼Œä¸€ä¸ªkeyå 8å­—èŠ‚ï¼Œä¸€ä¸ªæŒ‡é’ˆå 6å­—èŠ‚ï¼Œè€Œä¸€ä¸ªèŠ‚ç‚¹æ€»å…±å®¹é‡æ˜¯16KBï¼Œé‚£ä¹ˆå¯ä»¥è®¡ç®—å‡ºä¸€ä¸ªèŠ‚ç‚¹å¯ä»¥å­˜å‚¨çš„å…ƒç´ ä¸ªæ•°ï¼š16*1024å­—èŠ‚ / (8+6)=1170ä¸ªå…ƒç´ ã€‚\næŸ¥çœ‹mysqlç´¢å¼•èŠ‚ç‚¹å¤§å°ï¼šshow global status like \u0026lsquo;innodb_page_size\u0026rsquo;; \u0026ndash; èŠ‚ç‚¹å¤§å°ï¼š16384 å½“æ ¹èŠ‚ç‚¹ä¸­å¯ä»¥å­˜å‚¨1170ä¸ªå…ƒç´ ï¼Œé‚£ä¹ˆæ ¹æ®æ¯ä¸ªå…ƒç´ çš„åœ°å€å€¼åˆä¼šæ‰¾åˆ°ä¸‹é¢çš„å­èŠ‚ç‚¹ï¼Œæ¯ä¸ªå­èŠ‚ç‚¹ä¹Ÿä¼šå­˜å‚¨1170ä¸ªå…ƒç´ ï¼Œé‚£ä¹ˆç¬¬äºŒå±‚å³ç¬¬äºŒæ¬¡IOçš„æ—¶å€™å°±ä¼šæ‰¾åˆ°æ•°æ®å¤§æ¦‚æ˜¯ï¼š1170*1170=135Wã€‚ä¹Ÿå°±æ˜¯è¯´B+Treeæ•°æ®ç»“æ„ä¸­åªéœ€è¦ç»å†ä¸¤æ¬¡ç£ç›˜IOå°±å¯ä»¥æ‰¾åˆ°135Wæ¡æ•°æ®ã€‚\nå¯¹äºç¬¬äºŒå±‚æ¯ä¸ªå…ƒç´ æœ‰æŒ‡é’ˆï¼Œé‚£ä¹ˆä¼šæ‰¾åˆ°ç¬¬ä¸‰å±‚ï¼Œç¬¬ä¸‰å±‚ç”±key+æ•°æ®ç»„æˆï¼Œå‡è®¾key+æ•°æ®æ€»å¤§å°æ˜¯1KBï¼Œè€Œæ¯ä¸ªèŠ‚ç‚¹ä¸€å…±èƒ½å­˜å‚¨16KBï¼Œæ‰€ä»¥ä¸€ä¸ªç¬¬ä¸‰å±‚ä¸€ä¸ªèŠ‚ç‚¹å¤§æ¦‚å¯ä»¥å­˜å‚¨16ä¸ªå…ƒç´ (å³16æ¡è®°å½•)ã€‚é‚£ä¹ˆç»“åˆç¬¬äºŒå±‚æ¯ä¸ªå…ƒç´ é€šè¿‡æŒ‡é’ˆåŸŸæ‰¾åˆ°ç¬¬ä¸‰å±‚çš„èŠ‚ç‚¹ï¼Œç¬¬äºŒå±‚ä¸€å…±æ˜¯135Wä¸ªå…ƒç´ ï¼Œé‚£ä¹ˆç¬¬ä¸‰å±‚æ€»å…ƒç´ å¤§å°å°±æ˜¯ï¼š135W*16ç»“æœå°±æ˜¯2000W+çš„å…ƒç´ ä¸ªæ•°ã€‚\nç»“åˆä¸Šè¿°åˆ†æB+Treeæœ‰å¦‚ä¸‹ä¼˜ç‚¹ï¼š\nåƒä¸‡æ¡æ•°æ®ï¼ŒB+Treeå¯ä»¥æ§åˆ¶åœ¨å°äºç­‰äº3çš„é«˜åº¦ æ‰€æœ‰çš„æ•°æ®éƒ½å­˜å‚¨åœ¨å¶å­èŠ‚ç‚¹ä¸Šï¼Œå¹¶ä¸”åº•å±‚å·²ç»å®ç°äº†æŒ‰ç…§ç´¢å¼•è¿›è¡Œæ’åºï¼Œè¿˜å¯ä»¥æ”¯æŒèŒƒå›´æŸ¥è¯¢ï¼Œå¶å­èŠ‚ç‚¹æ˜¯ä¸€ä¸ªåŒå‘é“¾è¡¨ï¼Œæ”¯æŒä»å°åˆ°å¤§æˆ–è€…ä»å¤§åˆ°å°æŸ¥æ‰¾ 3.3 è¯­æ³• åˆ›å»ºç´¢å¼•\n1 create [ unique ] index ç´¢å¼•å on è¡¨å (å­—æ®µå,... ) ; æ¡ˆä¾‹ï¼šä¸ºtb_empè¡¨çš„nameå­—æ®µå»ºç«‹ä¸€ä¸ªç´¢å¼•\n1 create index idx_emp_name on tb_emp(name); åœ¨åˆ›å»ºè¡¨æ—¶ï¼Œå¦‚æœæ·»åŠ äº†ä¸»é”®å’Œå”¯ä¸€çº¦æŸï¼Œå°±ä¼šé»˜è®¤åˆ›å»ºï¼šä¸»é”®ç´¢å¼•ã€å”¯ä¸€çº¦æŸ\næŸ¥çœ‹ç´¢å¼•\n1 show index from è¡¨å; æ¡ˆä¾‹ï¼šæŸ¥è¯¢ tb_emp è¡¨çš„ç´¢å¼•ä¿¡æ¯\n1 show index from tb_emp; åˆ é™¤ç´¢å¼•\n1 drop index ç´¢å¼•å on è¡¨å; æ¡ˆä¾‹ï¼šåˆ é™¤ tb_emp è¡¨ä¸­nameå­—æ®µçš„ç´¢å¼•\n1 drop index idx_emp_name on tb_emp; æ³¨æ„äº‹é¡¹ï¼š\nä¸»é”®å­—æ®µï¼Œåœ¨å»ºè¡¨æ—¶ï¼Œä¼šè‡ªåŠ¨åˆ›å»ºä¸»é”®ç´¢å¼•\næ·»åŠ å”¯ä¸€çº¦æŸæ—¶ï¼Œæ•°æ®åº“å®é™…ä¸Šä¼šæ·»åŠ å”¯ä¸€ç´¢å¼•\n","date":"0001-01-01T00:00:00Z","permalink":"http://localhost:1313/p/","title":""},{"content":"bbs:\nçº¢é»‘æ ‘æ—‹è½¬è¯¦è§£\n","date":"0001-01-01T00:00:00Z","permalink":"http://localhost:1313/p/","title":""},{"content":"hugoåšå®¢æ¨é€åˆ°æœåŠ¡å™¨ 1 2 3 4 5 6 7 8 9 10 11 12 13 //å…ˆå›é¡¾ä¸€ä¸‹åšå®¢è·¯å¾„æ–‡ä»¶å¤¹çš„ç»“æ„ myblog/ â”œâ”€â”€ archetypes/ â”‚ â””â”€â”€ default.md â”œâ”€â”€ assets/ â”œâ”€â”€ public/ \u0026lt;-- æ­¥éª¤3åç”Ÿæˆçš„æ–‡ä»¶å¤¹ï¼Œé‡Œé¢å­˜æ”¾å¯¹å¤–å±•ç¤ºçš„é™æ€åšå®¢ç½‘é¡µ â”œâ”€â”€ content/ â”œâ”€â”€ data/ â”œâ”€â”€ i18n/ â”œâ”€â”€ layouts/ â”œâ”€â”€ static/ â”œâ”€â”€ themes/ \u0026lt;-- ä¸»é¢˜ â””â”€â”€ hugo.toml \u0026lt;-- ç½‘ç«™å‚æ•° 1.æ¨é€åˆ°gitæœåŠ¡å™¨ 1 2 3 4 5 6 7 8 9 10 cd public/ git init git add . git commit -m \u0026#34;å¤‡æ³¨\u0026#34; //ä½¿ç”¨ git remote add å‘½ä»¤å°†è¿œç¨‹ä»“åº“æ·»åŠ åˆ°ä»“åº“é…ç½®ä¸­ git remote add origin https://github.com/your-username/your-repo.git //--\u0026gt;ä»“åº“é“¾æ¥ //ï¼ˆéå›ºå®šæ–¹å¼ï¼Œç¡®ä¿èƒ½æäº¤è¿‡å»å°±è¡Œï¼‰ä½¿ç”¨ SSH è¿æ¥åï¼Œå¯ä»¥ä½¿ç”¨ SSH URL æ¨é€åˆ° GitHub ä»“åº“ git remote set-url origin git@github.com:your-username/your-repo.git //æ¨é€æ–‡ä»¶ git push -u origin master æ³¨æ„äº‹é¡¹ï¼š\næ¨é€çš„æ–‡ä»¶è¿‡å¤§æ—¶ï¼Œéœ€è¦è‡ªå·±å»actioné‚£é‡Œæ‰¾åˆ°pages-build-deploymenté€‰é¡¹ï¼Œé€‰æ‹©é‡æ–°æ„å»ºã€‚\n2.åç»­æäº¤å…¶ä»–å†…å®¹ 1 2 3 4 5 6 7 8 #æ£€æŸ¥æ˜¯å¦æœ‰æ”¹å˜ git status #æäº¤åˆ°ç¼“å­˜åŒº git add . #æäº¤åˆ°ç‰ˆæœ¬åº“ï¼Œå¹¶å¤‡æ³¨ä¿®æ”¹å†…å®¹ git commit -m \u0026#34;new\u0026#34; #æ¨é€åˆ°è¿œç¨‹ä»“åº“ git push ","date":"0001-01-01T00:00:00Z","permalink":"http://localhost:1313/p/","title":""},{"content":"","date":"0001-01-01T00:00:00Z","permalink":"http://localhost:1313/p/","title":""}]